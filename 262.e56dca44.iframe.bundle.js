/*! For license information please see 262.e56dca44.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_leather_io_extension=self.webpackChunk_leather_io_extension||[]).push([[262],{"./node_modules/.pnpm/@bitcoinerlab+secp256k1@1.0.2/node_modules/@bitcoinerlab/secp256k1/dist/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,necc=__webpack_require__("./node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/index.js"),hmac=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/hmac.js"),sha256=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha256.js");function _interopNamespaceDefault(e){var n=Object.create(null);return e&&Object.keys(e).forEach((function(k){if("default"!==k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}})),n.default=e,Object.freeze(n)}var necc__namespace=_interopNamespaceDefault(necc);necc__namespace.utils.hmacSha256Sync=(key,...msgs)=>hmac.hmac(sha256.sha256,key,necc__namespace.utils.concatBytes(...msgs)),necc__namespace.utils.sha256Sync=(...msgs)=>sha256.sha256(necc__namespace.utils.concatBytes(...msgs));const normalizePrivateKey=necc__namespace.utils._normalizePrivateKey,HASH_SIZE=32,TWEAK_SIZE=32,BN32_N=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),EXTRA_DATA_SIZE=32;function cmpBN32(data1,data2){for(let i=0;i<32;++i)if(data1[i]!==data2[i])return data1[i]<data2[i]?-1:1;return 0}function isTweak(tweak){return tweak instanceof Uint8Array&&tweak.length===TWEAK_SIZE&&!(cmpBN32(tweak,BN32_N)>=0)}function isSignature(signature){return signature instanceof Uint8Array&&64===signature.length&&cmpBN32(signature.subarray(0,32),BN32_N)<0&&cmpBN32(signature.subarray(32,64),BN32_N)<0}function isHash(h){return h instanceof Uint8Array&&h.length===HASH_SIZE}function isExtraData(e){return void 0===e||e instanceof Uint8Array&&e.length===EXTRA_DATA_SIZE}function hexToNumber(hex){if("string"!=typeof hex)throw new TypeError("hexToNumber: expected string, got "+typeof hex);return BigInt(`0x${hex}`)}function normalizeScalar(scalar){let num;if("bigint"==typeof scalar)num=scalar;else if("number"==typeof scalar&&Number.isSafeInteger(scalar)&&scalar>=0)num=BigInt(scalar);else if("string"==typeof scalar){if(64!==scalar.length)throw new Error("Expected 32 bytes of private scalar");num=hexToNumber(scalar)}else{if(!(scalar instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==scalar.length)throw new Error("Expected 32 bytes of private scalar");num=function bytesToNumber(bytes){return hexToNumber(necc__namespace.utils.bytesToHex(bytes))}(scalar)}if(num<0)throw new Error("Expected private scalar >= 0");return num}const _pointAddScalar=(p,tweak,isCompressed)=>{const P=necc__namespace.Point.fromHex(p),t=normalizeScalar(tweak),Q=necc__namespace.Point.BASE.multiplyAndAddUnsafe(P,t,1n);if(!Q)throw new Error("Tweaked point at infinity");return Q.toRawBytes(isCompressed)};function assumeCompression(compressed,p){return void 0===compressed?void 0===p||isPointCompressed(p):!!compressed}function throwToNull(fn){try{return fn()}catch(e){return null}}function _isPoint(p,xOnly){if(32===p.length!==xOnly)return!1;try{return!!necc__namespace.Point.fromHex(p)}catch(e){return!1}}function isPoint(p){return _isPoint(p,!1)}function isPointCompressed(p){return _isPoint(p,!1)&&33===p.length}function isPrivate(d){return necc__namespace.utils.isValidPrivateKey(d)}function isXOnlyPoint(p){return _isPoint(p,!0)}function xOnlyPointFromPoint(p){if(!isPoint(p))throw new Error("Expected Point");return p.slice(1,33)}function pointFromScalar(sk,compressed){if(!isPrivate(sk))throw new Error("Expected Private");return throwToNull((()=>necc__namespace.getPublicKey(sk,assumeCompression(compressed))))}exports.isPoint=isPoint,exports.isPointCompressed=isPointCompressed,exports.isPrivate=isPrivate,exports.isXOnlyPoint=isXOnlyPoint,exports.pointAdd=function pointAdd(a,b,compressed){if(!isPoint(a)||!isPoint(b))throw new Error("Expected Point");return throwToNull((()=>{const A=necc__namespace.Point.fromHex(a),B=necc__namespace.Point.fromHex(b);return A.equals(B.negate())?null:A.add(B).toRawBytes(assumeCompression(compressed,a))}))},exports.pointAddScalar=function pointAddScalar(p,tweak,compressed){if(!isPoint(p))throw new Error("Expected Point");if(!isTweak(tweak))throw new Error("Expected Tweak");return throwToNull((()=>_pointAddScalar(p,tweak,assumeCompression(compressed,p))))},exports.pointCompress=function pointCompress(p,compressed){if(!isPoint(p))throw new Error("Expected Point");return necc__namespace.Point.fromHex(p).toRawBytes(assumeCompression(compressed,p))},exports.pointFromScalar=pointFromScalar,exports.pointMultiply=function pointMultiply(a,tweak,compressed){if(!isPoint(a))throw new Error("Expected Point");if(!isTweak(tweak))throw new Error("Expected Tweak");return throwToNull((()=>((p,tweak,isCompressed)=>{const P=necc__namespace.Point.fromHex(p),h="string"==typeof tweak?tweak:necc__namespace.utils.bytesToHex(tweak),t=BigInt(`0x${h}`);return P.multiply(t).toRawBytes(isCompressed)})(a,tweak,assumeCompression(compressed,a))))},exports.privateAdd=function privateAdd(d,tweak){if(!1===isPrivate(d))throw new Error("Expected Private");if(!1===isTweak(tweak))throw new Error("Expected Tweak");return throwToNull((()=>((privateKey,tweak)=>{const p=normalizePrivateKey(privateKey),t=normalizeScalar(tweak),add=necc__namespace.utils._bigintTo32Bytes(necc__namespace.utils.mod(p+t,necc__namespace.CURVE.n));return necc__namespace.utils.isValidPrivateKey(add)?add:null})(d,tweak)))},exports.privateNegate=function privateNegate(d){if(!1===isPrivate(d))throw new Error("Expected Private");return(privateKey=>{const p=normalizePrivateKey(privateKey),not=necc__namespace.utils._bigintTo32Bytes(necc__namespace.CURVE.n-p);return necc__namespace.utils.isValidPrivateKey(not)?not:null})(d)},exports.privateSub=function privateSub(d,tweak){if(!1===isPrivate(d))throw new Error("Expected Private");if(!1===isTweak(tweak))throw new Error("Expected Tweak");return throwToNull((()=>((privateKey,tweak)=>{const p=normalizePrivateKey(privateKey),t=normalizeScalar(tweak),sub=necc__namespace.utils._bigintTo32Bytes(necc__namespace.utils.mod(p-t,necc__namespace.CURVE.n));return necc__namespace.utils.isValidPrivateKey(sub)?sub:null})(d,tweak)))},exports.sign=function sign(h,d,e){if(!isPrivate(d))throw new Error("Expected Private");if(!isHash(h))throw new Error("Expected Scalar");if(!isExtraData(e))throw new Error("Expected Extra Data (32 bytes)");return necc__namespace.signSync(h,d,{der:!1,extraEntropy:e})},exports.signSchnorr=function signSchnorr(h,d,e=Buffer.alloc(32,0)){if(!isPrivate(d))throw new Error("Expected Private");if(!isHash(h))throw new Error("Expected Scalar");if(!isExtraData(e))throw new Error("Expected Extra Data (32 bytes)");return necc__namespace.schnorr.signSync(h,d,e)},exports.verify=function verify(h,Q,signature,strict){if(!isPoint(Q))throw new Error("Expected Point");if(!isSignature(signature))throw new Error("Expected Signature");if(!isHash(h))throw new Error("Expected Scalar");return necc__namespace.verify(signature,h,Q,{strict})},exports.verifySchnorr=function verifySchnorr(h,Q,signature){if(!isXOnlyPoint(Q))throw new Error("Expected Point");if(!isSignature(signature))throw new Error("Expected Signature");if(!isHash(h))throw new Error("Expected Scalar");return necc__namespace.schnorr.verifySync(signature,h,Q)},exports.xOnlyPointAddTweak=function xOnlyPointAddTweak(p,tweak){if(!isXOnlyPoint(p))throw new Error("Expected Point");if(!isTweak(tweak))throw new Error("Expected Tweak");return throwToNull((()=>{const P=_pointAddScalar(p,tweak,!0);return{parity:P[0]%2==1?1:0,xOnlyPubkey:P.slice(1)}}))},exports.xOnlyPointFromPoint=xOnlyPointFromPoint,exports.xOnlyPointFromScalar=function xOnlyPointFromScalar(d){if(!isPrivate(d))throw new Error("Expected Private");return xOnlyPointFromPoint(pointFromScalar(d))}},"./node_modules/.pnpm/@leather.io+analytics@2.0.0/node_modules/@leather.io/analytics/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function configureAnalyticsClient({client,defaultProperties,defaultTraits}){return function AnalyticsClient(analyticsClient,options){return{track:async(event,...properties)=>analyticsClient.track(event,{...properties,...options.defaultProperties}),async untypedTrack(event,properties){if(event.match(/^[a-zA-Z0-9\s][a-zA-Z0-9\s]*$/))throw new Error("Event must be snake_case");return analyticsClient.track(event,{...properties,...options.defaultProperties})},screen:analyticsClient.screen,group:analyticsClient.group,identify:analyticsClient.identify,page:analyticsClient.page?analyticsClient.page:()=>Promise.resolve(),client:analyticsClient}}(client,{defaultProperties,defaultTraits})}__webpack_require__.d(__webpack_exports__,{o:()=>configureAnalyticsClient})},"./node_modules/.pnpm/@leather.io+query@2.20.0_@stacks+network@6.13.0_encoding@0.1.13__encoding@0.1.13_react@18.3.1/node_modules/@leather.io/query/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{UoM:()=>useCryptoCurrencyMarketDataMeanAverage});var abstract_utils_namespaceObject={};__webpack_require__.r(abstract_utils_namespaceObject),__webpack_require__.d(abstract_utils_namespaceObject,{aK:()=>utils_aInRange,e8:()=>abool,DO:()=>abytes,dJ:()=>bitLen,OG:()=>bitMask,My:()=>abstract_utils_bytesToHex,Ph:()=>utils_bytesToNumberBE,lX:()=>utils_bytesToNumberLE,Id:()=>abstract_utils_concatBytes,fg:()=>createHmacDrbg,qj:()=>utils_ensureBytes,aT:()=>abstract_utils_hexToBytes,r4:()=>utils_inRange,aY:()=>abstract_utils_isBytes,x:()=>memoized,lq:()=>utils_numberToBytesBE,z:()=>numberToBytesLE,zW:()=>numberToHexUnpadded,Q5:()=>validateObject});var dist=__webpack_require__("./node_modules/.pnpm/@leather.io+constants@0.13.1/node_modules/@leather.io/constants/dist/index.js"),utils_dist=__webpack_require__("./node_modules/.pnpm/@leather.io+utils@0.17.0/node_modules/@leather.io/utils/dist/index.js"),react=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),secp256k1_dist=__webpack_require__("./node_modules/.pnpm/@bitcoinerlab+secp256k1@1.0.2/node_modules/@bitcoinerlab/secp256k1/dist/index.js");function number(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function _assert_bytes(b,...lengths){if(!function isBytes(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name}(b))throw new Error("Uint8Array expected");if(lengths.length>0&&!lengths.includes(b.length))throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`)}function _assert_hash(h){if("function"!=typeof h||"function"!=typeof h.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(h.outputLen),number(h.blockLen)}function exists(instance,checkFinished=!0){if(instance.destroyed)throw new Error("Hash instance has been destroyed");if(checkFinished&&instance.finished)throw new Error("Hash#digest() has already been called")}function output(out,instance){_assert_bytes(out);const min=instance.outputLen;if(out.length<min)throw new Error(`digestInto() expects output buffer of length at least ${min}`)}const crypto_crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const createView=arr=>new DataView(arr.buffer,arr.byteOffset,arr.byteLength),rotr=(word,shift)=>word<<32-shift|word>>>shift,rotl=(word,shift)=>word<<shift|word>>>32-shift>>>0;new Uint8Array(new Uint32Array([287454020]).buffer)[0];const hexes=Array.from({length:256},((_,i)=>i.toString(16).padStart(2,"0")));const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(char){return char>=asciis._0&&char<=asciis._9?char-asciis._0:char>=asciis._A&&char<=asciis._F?char-(asciis._A-10):char>=asciis._a&&char<=asciis._f?char-(asciis._a-10):void 0}function utils_utf8ToBytes(str){if("string"!=typeof str)throw new Error("utf8ToBytes expected string, got "+typeof str);return new Uint8Array((new TextEncoder).encode(str))}function toBytes(data){return"string"==typeof data&&(data=utils_utf8ToBytes(data)),_assert_bytes(data),data}function utils_concatBytes(...arrays){let sum=0;for(let i=0;i<arrays.length;i++){const a=arrays[i];_assert_bytes(a),sum+=a.length}const res=new Uint8Array(sum);for(let i=0,pad=0;i<arrays.length;i++){const a=arrays[i];res.set(a,pad),pad+=a.length}return res}class Hash{clone(){return this._cloneInto()}}function utils_wrapConstructor(hashCons){const hashC=msg=>hashCons().update(toBytes(msg)).digest(),tmp=hashCons();return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=()=>hashCons(),hashC}function utils_randomBytes(bytesLength=32){if(crypto_crypto&&"function"==typeof crypto_crypto.getRandomValues)return crypto_crypto.getRandomValues(new Uint8Array(bytesLength));if(crypto_crypto&&"function"==typeof crypto_crypto.randomBytes)return crypto_crypto.randomBytes(bytesLength);throw new Error("crypto.getRandomValues must be defined")}const Maj=(a,b,c)=>a&b^a&c^b&c;class HashMD extends Hash{constructor(blockLen,outputLen,padOffset,isLE){super(),this.blockLen=blockLen,this.outputLen=outputLen,this.padOffset=padOffset,this.isLE=isLE,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(blockLen),this.view=createView(this.buffer)}update(data){exists(this);const{view,buffer,blockLen}=this,len=(data=toBytes(data)).length;for(let pos=0;pos<len;){const take=Math.min(blockLen-this.pos,len-pos);if(take!==blockLen)buffer.set(data.subarray(pos,pos+take),this.pos),this.pos+=take,pos+=take,this.pos===blockLen&&(this.process(view,0),this.pos=0);else{const dataView=createView(data);for(;blockLen<=len-pos;pos+=blockLen)this.process(dataView,pos)}}return this.length+=data.length,this.roundClean(),this}digestInto(out){exists(this),output(out,this),this.finished=!0;const{buffer,view,blockLen,isLE}=this;let{pos}=this;buffer[pos++]=128,this.buffer.subarray(pos).fill(0),this.padOffset>blockLen-pos&&(this.process(view,0),pos=0);for(let i=pos;i<blockLen;i++)buffer[i]=0;!function setBigUint64(view,byteOffset,value,isLE){if("function"==typeof view.setBigUint64)return view.setBigUint64(byteOffset,value,isLE);const _32n=BigInt(32),_u32_max=BigInt(4294967295),wh=Number(value>>_32n&_u32_max),wl=Number(value&_u32_max),h=isLE?4:0,l=isLE?0:4;view.setUint32(byteOffset+h,wh,isLE),view.setUint32(byteOffset+l,wl,isLE)}(view,blockLen-8,BigInt(8*this.length),isLE),this.process(view,0);const oview=createView(out),len=this.outputLen;if(len%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const outLen=len/4,state=this.get();if(outLen>state.length)throw new Error("_sha2: outputLen bigger than state");for(let i=0;i<outLen;i++)oview.setUint32(4*i,state[i],isLE)}digest(){const{buffer,outputLen}=this;this.digestInto(buffer);const res=buffer.slice(0,outputLen);return this.destroy(),res}_cloneInto(to){to||(to=new this.constructor),to.set(...this.get());const{blockLen,buffer,length,finished,destroyed,pos}=this;return to.length=length,to.pos=pos,to.finished=finished,to.destroyed=destroyed,length%blockLen&&to.buffer.set(buffer),to}}const SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=0|SHA256_IV[0],this.B=0|SHA256_IV[1],this.C=0|SHA256_IV[2],this.D=0|SHA256_IV[3],this.E=0|SHA256_IV[4],this.F=0|SHA256_IV[5],this.G=0|SHA256_IV[6],this.H=0|SHA256_IV[7]}get(){const{A,B,C,D,E,F,G,H}=this;return[A,B,C,D,E,F,G,H]}set(A,B,C,D,E,F,G,H){this.A=0|A,this.B=0|B,this.C=0|C,this.D=0|D,this.E=0|E,this.F=0|F,this.G=0|G,this.H=0|H}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA256_W[i]=view.getUint32(offset,!1);for(let i=16;i<64;i++){const W15=SHA256_W[i-15],W2=SHA256_W[i-2],s0=rotr(W15,7)^rotr(W15,18)^W15>>>3,s1=rotr(W2,17)^rotr(W2,19)^W2>>>10;SHA256_W[i]=s1+SHA256_W[i-7]+s0+SHA256_W[i-16]|0}let{A,B,C,D,E,F,G,H}=this;for(let i=0;i<64;i++){const T1=H+(rotr(E,6)^rotr(E,11)^rotr(E,25))+((a=E)&F^~a&G)+SHA256_K[i]+SHA256_W[i]|0,T2=(rotr(A,2)^rotr(A,13)^rotr(A,22))+Maj(A,B,C)|0;H=G,G=F,F=E,E=D+T1|0,D=C,C=B,B=A,A=T1+T2|0}var a;A=A+this.A|0,B=B+this.B|0,C=C+this.C|0,D=D+this.D|0,E=E+this.E|0,F=F+this.F|0,G=G+this.G|0,H=H+this.H|0,this.set(A,B,C,D,E,F,G,H)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256_sha256=utils_wrapConstructor((()=>new SHA256));var utils=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/utils.js"),src=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/index.js"),ecpair_src=__webpack_require__("./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/index.js");__webpack_require__("./node_modules/.pnpm/varuint-bitcoin@1.1.2/node_modules/varuint-bitcoin/index.js");class HMAC extends Hash{constructor(hash,_key){super(),this.finished=!1,this.destroyed=!1,_assert_hash(hash);const key=toBytes(_key);if(this.iHash=hash.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const blockLen=this.blockLen,pad=new Uint8Array(blockLen);pad.set(key.length>blockLen?hash.create().update(key).digest():key);for(let i=0;i<pad.length;i++)pad[i]^=54;this.iHash.update(pad),this.oHash=hash.create();for(let i=0;i<pad.length;i++)pad[i]^=106;this.oHash.update(pad),pad.fill(0)}update(buf){return exists(this),this.iHash.update(buf),this}digestInto(out){exists(this),_assert_bytes(out,this.outputLen),this.finished=!0,this.iHash.digestInto(out),this.oHash.update(out),this.oHash.digestInto(out),this.destroy()}digest(){const out=new Uint8Array(this.oHash.outputLen);return this.digestInto(out),out}_cloneInto(to){to||(to=Object.create(Object.getPrototypeOf(this),{}));const{oHash,iHash,finished,destroyed,blockLen,outputLen}=this;return to.finished=finished,to.destroyed=destroyed,to.blockLen=blockLen,to.outputLen=outputLen,to.oHash=oHash._cloneInto(to.oHash),to.iHash=iHash._cloneInto(to.iHash),to}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(hash,key,message)=>new HMAC(hash,key).update(message).digest();hmac.create=(hash,key)=>new HMAC(hash,key);const Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=new Uint8Array(new Array(16).fill(0).map(((_,i)=>i))),Pi=Id.map((i=>(9*i+5)%16));let idxL=[Id],idxR=[Pi];for(let i=0;i<4;i++)for(let j of[idxL,idxR])j.push(j[i].map((k=>Rho[k])));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((i=>new Uint8Array(i))),shiftsL=idxL.map(((idx,i)=>idx.map((j=>shifts[i][j])))),shiftsR=idxR.map(((idx,i)=>idx.map((j=>shifts[i][j])))),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function f(group,x,y,z){return 0===group?x^y^z:1===group?x&y|~x&z:2===group?(x|~y)^z:3===group?x&z|y&~z:x^(y|~z)}const R_BUF=new Uint32Array(16);class RIPEMD160 extends HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0,h1,h2,h3,h4}=this;return[h0,h1,h2,h3,h4]}set(h0,h1,h2,h3,h4){this.h0=0|h0,this.h1=0|h1,this.h2=0|h2,this.h3=0|h3,this.h4=0|h4}process(view,offset){for(let i=0;i<16;i++,offset+=4)R_BUF[i]=view.getUint32(offset,!0);let al=0|this.h0,ar=al,bl=0|this.h1,br=bl,cl=0|this.h2,cr=cl,dl=0|this.h3,dr=dl,el=0|this.h4,er=el;for(let group=0;group<5;group++){const rGroup=4-group,hbl=Kl[group],hbr=Kr[group],rl=idxL[group],rr=idxR[group],sl=shiftsL[group],sr=shiftsR[group];for(let i=0;i<16;i++){const tl=rotl(al+f(group,bl,cl,dl)+R_BUF[rl[i]]+hbl,sl[i])+el|0;al=el,el=dl,dl=0|rotl(cl,10),cl=bl,bl=tl}for(let i=0;i<16;i++){const tr=rotl(ar+f(rGroup,br,cr,dr)+R_BUF[rr[i]]+hbr,sr[i])+er|0;ar=er,er=dr,dr=0|rotl(cr,10),cr=br,br=tr}}this.set(this.h1+cl+dr|0,this.h2+dl+er|0,this.h3+el+ar|0,this.h4+al+br|0,this.h0+bl+cr|0)}roundClean(){R_BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ripemd160_ripemd160=utils_wrapConstructor((()=>new RIPEMD160)),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(n,le=!1){return le?{h:Number(n&U32_MASK64),l:Number(n>>_32n&U32_MASK64)}:{h:0|Number(n>>_32n&U32_MASK64),l:0|Number(n&U32_MASK64)}}const u64={fromBig,split:function split(lst,le=!1){let Ah=new Uint32Array(lst.length),Al=new Uint32Array(lst.length);for(let i=0;i<lst.length;i++){const{h,l}=fromBig(lst[i],le);[Ah[i],Al[i]]=[h,l]}return[Ah,Al]},toBig:(h,l)=>BigInt(h>>>0)<<_32n|BigInt(l>>>0),shrSH:(h,_l,s)=>h>>>s,shrSL:(h,l,s)=>h<<32-s|l>>>s,rotrSH:(h,l,s)=>h>>>s|l<<32-s,rotrSL:(h,l,s)=>h<<32-s|l>>>s,rotrBH:(h,l,s)=>h<<64-s|l>>>s-32,rotrBL:(h,l,s)=>h>>>s-32|l<<64-s,rotr32H:(_h,l)=>l,rotr32L:(h,_l)=>h,rotlSH:(h,l,s)=>h<<s|l>>>32-s,rotlSL:(h,l,s)=>l<<s|h>>>32-s,rotlBH:(h,l,s)=>l<<s-32|h>>>64-s,rotlBL:(h,l,s)=>h<<s-32|l>>>64-s,add:function add(Ah,Al,Bh,Bl){const l=(Al>>>0)+(Bl>>>0);return{h:Ah+Bh+(l/2**32|0)|0,l:0|l}},add3L:(Al,Bl,Cl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0),add3H:(low,Ah,Bh,Ch)=>Ah+Bh+Ch+(low/2**32|0)|0,add4L:(Al,Bl,Cl,Dl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0),add4H:(low,Ah,Bh,Ch,Dh)=>Ah+Bh+Ch+Dh+(low/2**32|0)|0,add5H:(low,Ah,Bh,Ch,Dh,Eh)=>Ah+Bh+Ch+Dh+Eh+(low/2**32|0)|0,add5L:(Al,Bl,Cl,Dl,El)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0)+(El>>>0)},_u64=u64,[SHA512_Kh,SHA512_Kl]=(()=>_u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((n=>BigInt(n)))))(),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;return[Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl]}set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl){this.Ah=0|Ah,this.Al=0|Al,this.Bh=0|Bh,this.Bl=0|Bl,this.Ch=0|Ch,this.Cl=0|Cl,this.Dh=0|Dh,this.Dl=0|Dl,this.Eh=0|Eh,this.El=0|El,this.Fh=0|Fh,this.Fl=0|Fl,this.Gh=0|Gh,this.Gl=0|Gl,this.Hh=0|Hh,this.Hl=0|Hl}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA512_W_H[i]=view.getUint32(offset),SHA512_W_L[i]=view.getUint32(offset+=4);for(let i=16;i<80;i++){const W15h=0|SHA512_W_H[i-15],W15l=0|SHA512_W_L[i-15],s0h=_u64.rotrSH(W15h,W15l,1)^_u64.rotrSH(W15h,W15l,8)^_u64.shrSH(W15h,W15l,7),s0l=_u64.rotrSL(W15h,W15l,1)^_u64.rotrSL(W15h,W15l,8)^_u64.shrSL(W15h,W15l,7),W2h=0|SHA512_W_H[i-2],W2l=0|SHA512_W_L[i-2],s1h=_u64.rotrSH(W2h,W2l,19)^_u64.rotrBH(W2h,W2l,61)^_u64.shrSH(W2h,W2l,6),s1l=_u64.rotrSL(W2h,W2l,19)^_u64.rotrBL(W2h,W2l,61)^_u64.shrSL(W2h,W2l,6),SUMl=_u64.add4L(s0l,s1l,SHA512_W_L[i-7],SHA512_W_L[i-16]),SUMh=_u64.add4H(SUMl,s0h,s1h,SHA512_W_H[i-7],SHA512_W_H[i-16]);SHA512_W_H[i]=0|SUMh,SHA512_W_L[i]=0|SUMl}let{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;for(let i=0;i<80;i++){const sigma1h=_u64.rotrSH(Eh,El,14)^_u64.rotrSH(Eh,El,18)^_u64.rotrBH(Eh,El,41),sigma1l=_u64.rotrSL(Eh,El,14)^_u64.rotrSL(Eh,El,18)^_u64.rotrBL(Eh,El,41),CHIh=Eh&Fh^~Eh&Gh,CHIl=El&Fl^~El&Gl,T1ll=_u64.add5L(Hl,sigma1l,CHIl,SHA512_Kl[i],SHA512_W_L[i]),T1h=_u64.add5H(T1ll,Hh,sigma1h,CHIh,SHA512_Kh[i],SHA512_W_H[i]),T1l=0|T1ll,sigma0h=_u64.rotrSH(Ah,Al,28)^_u64.rotrBH(Ah,Al,34)^_u64.rotrBH(Ah,Al,39),sigma0l=_u64.rotrSL(Ah,Al,28)^_u64.rotrBL(Ah,Al,34)^_u64.rotrBL(Ah,Al,39),MAJh=Ah&Bh^Ah&Ch^Bh&Ch,MAJl=Al&Bl^Al&Cl^Bl&Cl;Hh=0|Gh,Hl=0|Gl,Gh=0|Fh,Gl=0|Fl,Fh=0|Eh,Fl=0|El,({h:Eh,l:El}=_u64.add(0|Dh,0|Dl,0|T1h,0|T1l)),Dh=0|Ch,Dl=0|Cl,Ch=0|Bh,Cl=0|Bl,Bh=0|Ah,Bl=0|Al;const All=_u64.add3L(T1l,sigma0l,MAJl);Ah=_u64.add3H(All,T1h,sigma0h,MAJh),Al=0|All}({h:Ah,l:Al}=_u64.add(0|this.Ah,0|this.Al,0|Ah,0|Al)),({h:Bh,l:Bl}=_u64.add(0|this.Bh,0|this.Bl,0|Bh,0|Bl)),({h:Ch,l:Cl}=_u64.add(0|this.Ch,0|this.Cl,0|Ch,0|Cl)),({h:Dh,l:Dl}=_u64.add(0|this.Dh,0|this.Dl,0|Dh,0|Dl)),({h:Eh,l:El}=_u64.add(0|this.Eh,0|this.El,0|Eh,0|El)),({h:Fh,l:Fl}=_u64.add(0|this.Fh,0|this.Fl,0|Fh,0|Fl)),({h:Gh,l:Gl}=_u64.add(0|this.Gh,0|this.Gl,0|Gh,0|Gl)),({h:Hh,l:Hl}=_u64.add(0|this.Hh,0|this.Hl,0|Hh,0|Hl)),this.set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=utils_wrapConstructor((()=>new SHA512)),_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2);function abstract_utils_isBytes(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name}function abytes(item){if(!abstract_utils_isBytes(item))throw new Error("Uint8Array expected")}function abool(title,value){if("boolean"!=typeof value)throw new Error(`${title} must be valid boolean, got "${value}".`)}const utils_hexes=Array.from({length:256},((_,i)=>i.toString(16).padStart(2,"0")));function abstract_utils_bytesToHex(bytes){abytes(bytes);let hex="";for(let i=0;i<bytes.length;i++)hex+=utils_hexes[bytes[i]];return hex}function numberToHexUnpadded(num){const hex=num.toString(16);return 1&hex.length?`0${hex}`:hex}function utils_hexToNumber(hex){if("string"!=typeof hex)throw new Error("hex string expected, got "+typeof hex);return BigInt(""===hex?"0":`0x${hex}`)}const utils_asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function utils_asciiToBase16(char){return char>=utils_asciis._0&&char<=utils_asciis._9?char-utils_asciis._0:char>=utils_asciis._A&&char<=utils_asciis._F?char-(utils_asciis._A-10):char>=utils_asciis._a&&char<=utils_asciis._f?char-(utils_asciis._a-10):void 0}function abstract_utils_hexToBytes(hex){if("string"!=typeof hex)throw new Error("hex string expected, got "+typeof hex);const hl=hex.length,al=hl/2;if(hl%2)throw new Error("padded hex string expected, got unpadded hex of length "+hl);const array=new Uint8Array(al);for(let ai=0,hi=0;ai<al;ai++,hi+=2){const n1=utils_asciiToBase16(hex.charCodeAt(hi)),n2=utils_asciiToBase16(hex.charCodeAt(hi+1));if(void 0===n1||void 0===n2){const char=hex[hi]+hex[hi+1];throw new Error('hex string expected, got non-hex character "'+char+'" at index '+hi)}array[ai]=16*n1+n2}return array}function utils_bytesToNumberBE(bytes){return utils_hexToNumber(abstract_utils_bytesToHex(bytes))}function utils_bytesToNumberLE(bytes){return abytes(bytes),utils_hexToNumber(abstract_utils_bytesToHex(Uint8Array.from(bytes).reverse()))}function utils_numberToBytesBE(n,len){return abstract_utils_hexToBytes(n.toString(16).padStart(2*len,"0"))}function numberToBytesLE(n,len){return utils_numberToBytesBE(n,len).reverse()}function utils_ensureBytes(title,hex,expectedLength){let res;if("string"==typeof hex)try{res=abstract_utils_hexToBytes(hex)}catch(e){throw new Error(`${title} must be valid hex string, got "${hex}". Cause: ${e}`)}else{if(!abstract_utils_isBytes(hex))throw new Error(`${title} must be hex string or Uint8Array`);res=Uint8Array.from(hex)}const len=res.length;if("number"==typeof expectedLength&&len!==expectedLength)throw new Error(`${title} expected ${expectedLength} bytes, got ${len}`);return res}function abstract_utils_concatBytes(...arrays){let sum=0;for(let i=0;i<arrays.length;i++){const a=arrays[i];abytes(a),sum+=a.length}const res=new Uint8Array(sum);for(let i=0,pad=0;i<arrays.length;i++){const a=arrays[i];res.set(a,pad),pad+=a.length}return res}const isPosBig=n=>"bigint"==typeof n&&_0n<=n;function utils_inRange(n,min,max){return isPosBig(n)&&isPosBig(min)&&isPosBig(max)&&min<=n&&n<max}function utils_aInRange(title,n,min,max){if(!utils_inRange(n,min,max))throw new Error(`expected valid ${title}: ${min} <= n < ${max}, got ${typeof n} ${n}`)}function bitLen(n){let len;for(len=0;n>_0n;n>>=_1n,len+=1);return len}const bitMask=n=>(_2n<<BigInt(n-1))-_1n,u8n=data=>new Uint8Array(data),u8fr=arr=>Uint8Array.from(arr);function createHmacDrbg(hashLen,qByteLen,hmacFn){if("number"!=typeof hashLen||hashLen<2)throw new Error("hashLen must be a number");if("number"!=typeof qByteLen||qByteLen<2)throw new Error("qByteLen must be a number");if("function"!=typeof hmacFn)throw new Error("hmacFn must be a function");let v=u8n(hashLen),k=u8n(hashLen),i=0;const reset=()=>{v.fill(1),k.fill(0),i=0},h=(...b)=>hmacFn(k,v,...b),reseed=(seed=u8n())=>{k=h(u8fr([0]),seed),v=h(),0!==seed.length&&(k=h(u8fr([1]),seed),v=h())},gen=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let len=0;const out=[];for(;len<qByteLen;){v=h();const sl=v.slice();out.push(sl),len+=v.length}return abstract_utils_concatBytes(...out)};return(seed,pred)=>{let res;for(reset(),reseed(seed);!(res=pred(gen()));)reseed();return reset(),res}}const validatorFns={bigint:val=>"bigint"==typeof val,function:val=>"function"==typeof val,boolean:val=>"boolean"==typeof val,string:val=>"string"==typeof val,stringOrUint8Array:val=>"string"==typeof val||abstract_utils_isBytes(val),isSafeInteger:val=>Number.isSafeInteger(val),array:val=>Array.isArray(val),field:(val,object)=>object.Fp.isValid(val),hash:val=>"function"==typeof val&&Number.isSafeInteger(val.outputLen)};function validateObject(object,validators,optValidators={}){const checkField=(fieldName,type,isOptional)=>{const checkVal=validatorFns[type];if("function"!=typeof checkVal)throw new Error(`Invalid validator "${type}", expected function`);const val=object[fieldName];if(!(isOptional&&void 0===val||checkVal(val,object)))throw new Error(`Invalid param ${String(fieldName)}=${val} (${typeof val}), expected ${type}`)};for(const[fieldName,type]of Object.entries(validators))checkField(fieldName,type,!1);for(const[fieldName,type]of Object.entries(optValidators))checkField(fieldName,type,!0);return object}function memoized(fn){const map=new WeakMap;return(arg,...args)=>{const val=map.get(arg);if(void 0!==val)return val;const computed=fn(arg,...args);return map.set(arg,computed),computed}}const modular_0n=BigInt(0),modular_1n=BigInt(1),modular_2n=BigInt(2),_3n=BigInt(3),_4n=BigInt(4),_5n=BigInt(5),_8n=BigInt(8);BigInt(9),BigInt(16);function modular_mod(a,b){const result=a%b;return result>=modular_0n?result:b+result}function pow(num,power,modulo){if(modulo<=modular_0n||power<modular_0n)throw new Error("Expected power/modulo > 0");if(modulo===modular_1n)return modular_0n;let res=modular_1n;for(;power>modular_0n;)power&modular_1n&&(res=res*num%modulo),num=num*num%modulo,power>>=modular_1n;return res}function pow2(x,power,modulo){let res=x;for(;power-- >modular_0n;)res*=res,res%=modulo;return res}function invert(number,modulo){if(number===modular_0n||modulo<=modular_0n)throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);let a=modular_mod(number,modulo),b=modulo,x=modular_0n,y=modular_1n,u=modular_1n,v=modular_0n;for(;a!==modular_0n;){const q=b/a,r=b%a,m=x-u*q,n=y-v*q;b=a,a=r,x=u,y=v,u=m,v=n}if(b!==modular_1n)throw new Error("invert: does not exist");return modular_mod(x,modulo)}function FpSqrt(P){if(P%_4n===_3n){const p1div4=(P+modular_1n)/_4n;return function sqrt3mod4(Fp,n){const root=Fp.pow(n,p1div4);if(!Fp.eql(Fp.sqr(root),n))throw new Error("Cannot find square root");return root}}if(P%_8n===_5n){const c1=(P-_5n)/_8n;return function sqrt5mod8(Fp,n){const n2=Fp.mul(n,modular_2n),v=Fp.pow(n2,c1),nv=Fp.mul(n,v),i=Fp.mul(Fp.mul(nv,modular_2n),v),root=Fp.mul(nv,Fp.sub(i,Fp.ONE));if(!Fp.eql(Fp.sqr(root),n))throw new Error("Cannot find square root");return root}}return function tonelliShanks(P){const legendreC=(P-modular_1n)/modular_2n;let Q,S,Z;for(Q=P-modular_1n,S=0;Q%modular_2n===modular_0n;Q/=modular_2n,S++);for(Z=modular_2n;Z<P&&pow(Z,legendreC,P)!==P-modular_1n;Z++);if(1===S){const p1div4=(P+modular_1n)/_4n;return function tonelliFast(Fp,n){const root=Fp.pow(n,p1div4);if(!Fp.eql(Fp.sqr(root),n))throw new Error("Cannot find square root");return root}}const Q1div2=(Q+modular_1n)/modular_2n;return function tonelliSlow(Fp,n){if(Fp.pow(n,legendreC)===Fp.neg(Fp.ONE))throw new Error("Cannot find square root");let r=S,g=Fp.pow(Fp.mul(Fp.ONE,Z),Q),x=Fp.pow(n,Q1div2),b=Fp.pow(n,Q);for(;!Fp.eql(b,Fp.ONE);){if(Fp.eql(b,Fp.ZERO))return Fp.ZERO;let m=1;for(let t2=Fp.sqr(b);m<r&&!Fp.eql(t2,Fp.ONE);m++)t2=Fp.sqr(t2);const ge=Fp.pow(g,modular_1n<<BigInt(r-m-1));g=Fp.sqr(ge),x=Fp.mul(x,ge),b=Fp.mul(b,g),r=m}return x}}(P)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nLength(n,nBitLength){const _nBitLength=void 0!==nBitLength?nBitLength:n.toString(2).length;return{nBitLength:_nBitLength,nByteLength:Math.ceil(_nBitLength/8)}}function Field(ORDER,bitLen,isLE=!1,redef={}){if(ORDER<=modular_0n)throw new Error(`Expected Field ORDER > 0, got ${ORDER}`);const{nBitLength:BITS,nByteLength:BYTES}=nLength(ORDER,bitLen);if(BYTES>2048)throw new Error("Field lengths over 2048 bytes are not supported");const sqrtP=FpSqrt(ORDER),f=Object.freeze({ORDER,BITS,BYTES,MASK:bitMask(BITS),ZERO:modular_0n,ONE:modular_1n,create:num=>modular_mod(num,ORDER),isValid:num=>{if("bigint"!=typeof num)throw new Error("Invalid field element: expected bigint, got "+typeof num);return modular_0n<=num&&num<ORDER},is0:num=>num===modular_0n,isOdd:num=>(num&modular_1n)===modular_1n,neg:num=>modular_mod(-num,ORDER),eql:(lhs,rhs)=>lhs===rhs,sqr:num=>modular_mod(num*num,ORDER),add:(lhs,rhs)=>modular_mod(lhs+rhs,ORDER),sub:(lhs,rhs)=>modular_mod(lhs-rhs,ORDER),mul:(lhs,rhs)=>modular_mod(lhs*rhs,ORDER),pow:(num,power)=>function FpPow(f,num,power){if(power<modular_0n)throw new Error("Expected power > 0");if(power===modular_0n)return f.ONE;if(power===modular_1n)return num;let p=f.ONE,d=num;for(;power>modular_0n;)power&modular_1n&&(p=f.mul(p,d)),d=f.sqr(d),power>>=modular_1n;return p}(f,num,power),div:(lhs,rhs)=>modular_mod(lhs*invert(rhs,ORDER),ORDER),sqrN:num=>num*num,addN:(lhs,rhs)=>lhs+rhs,subN:(lhs,rhs)=>lhs-rhs,mulN:(lhs,rhs)=>lhs*rhs,inv:num=>invert(num,ORDER),sqrt:redef.sqrt||(n=>sqrtP(f,n)),invertBatch:lst=>function FpInvertBatch(f,nums){const tmp=new Array(nums.length),lastMultiplied=nums.reduce(((acc,num,i)=>f.is0(num)?acc:(tmp[i]=acc,f.mul(acc,num))),f.ONE),inverted=f.inv(lastMultiplied);return nums.reduceRight(((acc,num,i)=>f.is0(num)?acc:(tmp[i]=f.mul(acc,tmp[i]),f.mul(acc,num))),inverted),tmp}(f,lst),cmov:(a,b,c)=>c?b:a,toBytes:num=>isLE?numberToBytesLE(num,BYTES):utils_numberToBytesBE(num,BYTES),fromBytes:bytes=>{if(bytes.length!==BYTES)throw new Error(`Fp.fromBytes: expected ${BYTES}, got ${bytes.length}`);return isLE?utils_bytesToNumberLE(bytes):utils_bytesToNumberBE(bytes)}});return Object.freeze(f)}function getFieldBytesLength(fieldOrder){if("bigint"!=typeof fieldOrder)throw new Error("field order must be bigint");const bitLength=fieldOrder.toString(2).length;return Math.ceil(bitLength/8)}function getMinHashLength(fieldOrder){const length=getFieldBytesLength(fieldOrder);return length+Math.ceil(length/2)}const curve_0n=BigInt(0),curve_1n=BigInt(1),pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function validateBasic(curve){return function validateField(field){return validateObject(field,FIELD_FIELDS.reduce(((map,val)=>(map[val]="function",map)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(curve.Fp),validateObject(curve,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(curve.n,curve.nBitLength),...curve,p:curve.Fp.ORDER})}function validateSigVerOpts(opts){void 0!==opts.lowS&&abool("lowS",opts.lowS),void 0!==opts.prehash&&abool("prehash",opts.prehash)}const{Ph:b2n,aT:h2b}=abstract_utils_namespaceObject,DER={Err:class DERErr extends Error{constructor(m=""){super(m)}},_tlv:{encode:(tag,data)=>{const{Err:E}=DER;if(tag<0||tag>256)throw new E("tlv.encode: wrong tag");if(1&data.length)throw new E("tlv.encode: unpadded data");const dataLen=data.length/2,len=numberToHexUnpadded(dataLen);if(len.length/2&128)throw new E("tlv.encode: long form length too big");const lenLen=dataLen>127?numberToHexUnpadded(len.length/2|128):"";return`${numberToHexUnpadded(tag)}${lenLen}${len}${data}`},decode(tag,data){const{Err:E}=DER;let pos=0;if(tag<0||tag>256)throw new E("tlv.encode: wrong tag");if(data.length<2||data[pos++]!==tag)throw new E("tlv.decode: wrong tlv");const first=data[pos++];let length=0;if(!!(128&first)){const lenLen=127&first;if(!lenLen)throw new E("tlv.decode(long): indefinite length not supported");if(lenLen>4)throw new E("tlv.decode(long): byte length is too big");const lengthBytes=data.subarray(pos,pos+lenLen);if(lengthBytes.length!==lenLen)throw new E("tlv.decode: length bytes not complete");if(0===lengthBytes[0])throw new E("tlv.decode(long): zero leftmost byte");for(const b of lengthBytes)length=length<<8|b;if(pos+=lenLen,length<128)throw new E("tlv.decode(long): not minimal encoding")}else length=first;const v=data.subarray(pos,pos+length);if(v.length!==length)throw new E("tlv.decode: wrong value length");return{v,l:data.subarray(pos+length)}}},_int:{encode(num){const{Err:E}=DER;if(num<weierstrass_0n)throw new E("integer: negative integers are not allowed");let hex=numberToHexUnpadded(num);if(8&Number.parseInt(hex[0],16)&&(hex="00"+hex),1&hex.length)throw new E("unexpected assertion");return hex},decode(data){const{Err:E}=DER;if(128&data[0])throw new E("Invalid signature integer: negative");if(0===data[0]&&!(128&data[1]))throw new E("Invalid signature integer: unnecessary leading zero");return b2n(data)}},toSig(hex){const{Err:E,_int:int,_tlv:tlv}=DER,data="string"==typeof hex?h2b(hex):hex;abytes(data);const{v:seqBytes,l:seqLeftBytes}=tlv.decode(48,data);if(seqLeftBytes.length)throw new E("Invalid signature: left bytes after parsing");const{v:rBytes,l:rLeftBytes}=tlv.decode(2,seqBytes),{v:sBytes,l:sLeftBytes}=tlv.decode(2,rLeftBytes);if(sLeftBytes.length)throw new E("Invalid signature: left bytes after parsing");return{r:int.decode(rBytes),s:int.decode(sBytes)}},hexFromSig(sig){const{_tlv:tlv,_int:int}=DER,seq=`${tlv.encode(2,int.encode(sig.r))}${tlv.encode(2,int.encode(sig.s))}`;return tlv.encode(48,seq)}},weierstrass_0n=BigInt(0),weierstrass_1n=BigInt(1),weierstrass_3n=(BigInt(2),BigInt(3));BigInt(4);function weierstrassPoints(opts){const CURVE=function validatePointOpts(curve){const opts=validateBasic(curve);validateObject(opts,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo,Fp,a}=opts;if(endo){if(!Fp.eql(a,Fp.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof endo||"bigint"!=typeof endo.beta||"function"!=typeof endo.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...opts})}(opts),{Fp}=CURVE,Fn=Field(CURVE.n,CURVE.nBitLength),toBytes=CURVE.toBytes||((_c,point,_isCompressed)=>{const a=point.toAffine();return abstract_utils_concatBytes(Uint8Array.from([4]),Fp.toBytes(a.x),Fp.toBytes(a.y))}),fromBytes=CURVE.fromBytes||(bytes=>{const tail=bytes.subarray(1);return{x:Fp.fromBytes(tail.subarray(0,Fp.BYTES)),y:Fp.fromBytes(tail.subarray(Fp.BYTES,2*Fp.BYTES))}});function weierstrassEquation(x){const{a,b}=CURVE,x2=Fp.sqr(x),x3=Fp.mul(x2,x);return Fp.add(Fp.add(x3,Fp.mul(x,a)),b)}if(!Fp.eql(Fp.sqr(CURVE.Gy),weierstrassEquation(CURVE.Gx)))throw new Error("bad generator point: equation left != right");function normPrivateKeyToScalar(key){const{allowedPrivateKeyLengths:lengths,nByteLength,wrapPrivateKey,n:N}=CURVE;if(lengths&&"bigint"!=typeof key){if(abstract_utils_isBytes(key)&&(key=abstract_utils_bytesToHex(key)),"string"!=typeof key||!lengths.includes(key.length))throw new Error("Invalid key");key=key.padStart(2*nByteLength,"0")}let num;try{num="bigint"==typeof key?key:utils_bytesToNumberBE(utils_ensureBytes("private key",key,nByteLength))}catch(error){throw new Error(`private key must be ${nByteLength} bytes, hex or bigint, not ${typeof key}`)}return wrapPrivateKey&&(num=modular_mod(num,N)),utils_aInRange("private key",num,weierstrass_1n,N),num}function assertPrjPoint(other){if(!(other instanceof Point))throw new Error("ProjectivePoint expected")}const toAffineMemo=memoized(((p,iz)=>{const{px:x,py:y,pz:z}=p;if(Fp.eql(z,Fp.ONE))return{x,y};const is0=p.is0();null==iz&&(iz=is0?Fp.ONE:Fp.inv(z));const ax=Fp.mul(x,iz),ay=Fp.mul(y,iz),zz=Fp.mul(z,iz);if(is0)return{x:Fp.ZERO,y:Fp.ZERO};if(!Fp.eql(zz,Fp.ONE))throw new Error("invZ was invalid");return{x:ax,y:ay}})),assertValidMemo=memoized((p=>{if(p.is0()){if(CURVE.allowInfinityPoint&&!Fp.is0(p.py))return;throw new Error("bad point: ZERO")}const{x,y}=p.toAffine();if(!Fp.isValid(x)||!Fp.isValid(y))throw new Error("bad point: x or y not FE");const left=Fp.sqr(y),right=weierstrassEquation(x);if(!Fp.eql(left,right))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class Point{constructor(px,py,pz){if(this.px=px,this.py=py,this.pz=pz,null==px||!Fp.isValid(px))throw new Error("x required");if(null==py||!Fp.isValid(py))throw new Error("y required");if(null==pz||!Fp.isValid(pz))throw new Error("z required");Object.freeze(this)}static fromAffine(p){const{x,y}=p||{};if(!p||!Fp.isValid(x)||!Fp.isValid(y))throw new Error("invalid affine point");if(p instanceof Point)throw new Error("projective point not allowed");const is0=i=>Fp.eql(i,Fp.ZERO);return is0(x)&&is0(y)?Point.ZERO:new Point(x,y,Fp.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(points){const toInv=Fp.invertBatch(points.map((p=>p.pz)));return points.map(((p,i)=>p.toAffine(toInv[i]))).map(Point.fromAffine)}static fromHex(hex){const P=Point.fromAffine(fromBytes(utils_ensureBytes("pointHex",hex)));return P.assertValidity(),P}static fromPrivateKey(privateKey){return Point.BASE.multiply(normPrivateKeyToScalar(privateKey))}static msm(points,scalars){return function pippenger(c,field,points,scalars){if(!Array.isArray(points)||!Array.isArray(scalars)||scalars.length!==points.length)throw new Error("arrays of points and scalars must have equal length");scalars.forEach(((s,i)=>{if(!field.isValid(s))throw new Error(`wrong scalar at index ${i}`)})),points.forEach(((p,i)=>{if(!(p instanceof c))throw new Error(`wrong point at index ${i}`)}));const wbits=bitLen(BigInt(points.length)),windowSize=wbits>12?wbits-3:wbits>4?wbits-2:wbits?2:1,MASK=(1<<windowSize)-1,buckets=new Array(MASK+1).fill(c.ZERO),lastBits=Math.floor((field.BITS-1)/windowSize)*windowSize;let sum=c.ZERO;for(let i=lastBits;i>=0;i-=windowSize){buckets.fill(c.ZERO);for(let j=0;j<scalars.length;j++){const scalar=scalars[j],wbits=Number(scalar>>BigInt(i)&BigInt(MASK));buckets[wbits]=buckets[wbits].add(points[j])}let resI=c.ZERO;for(let j=buckets.length-1,sumI=c.ZERO;j>0;j--)sumI=sumI.add(buckets[j]),resI=resI.add(sumI);if(sum=sum.add(resI),0!==i)for(let j=0;j<windowSize;j++)sum=sum.double()}return sum}(Point,Fn,points,scalars)}_setWindowSize(windowSize){wnaf.setWindowSize(this,windowSize)}assertValidity(){assertValidMemo(this)}hasEvenY(){const{y}=this.toAffine();if(Fp.isOdd)return!Fp.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(other){assertPrjPoint(other);const{px:X1,py:Y1,pz:Z1}=this,{px:X2,py:Y2,pz:Z2}=other,U1=Fp.eql(Fp.mul(X1,Z2),Fp.mul(X2,Z1)),U2=Fp.eql(Fp.mul(Y1,Z2),Fp.mul(Y2,Z1));return U1&&U2}negate(){return new Point(this.px,Fp.neg(this.py),this.pz)}double(){const{a,b}=CURVE,b3=Fp.mul(b,weierstrass_3n),{px:X1,py:Y1,pz:Z1}=this;let X3=Fp.ZERO,Y3=Fp.ZERO,Z3=Fp.ZERO,t0=Fp.mul(X1,X1),t1=Fp.mul(Y1,Y1),t2=Fp.mul(Z1,Z1),t3=Fp.mul(X1,Y1);return t3=Fp.add(t3,t3),Z3=Fp.mul(X1,Z1),Z3=Fp.add(Z3,Z3),X3=Fp.mul(a,Z3),Y3=Fp.mul(b3,t2),Y3=Fp.add(X3,Y3),X3=Fp.sub(t1,Y3),Y3=Fp.add(t1,Y3),Y3=Fp.mul(X3,Y3),X3=Fp.mul(t3,X3),Z3=Fp.mul(b3,Z3),t2=Fp.mul(a,t2),t3=Fp.sub(t0,t2),t3=Fp.mul(a,t3),t3=Fp.add(t3,Z3),Z3=Fp.add(t0,t0),t0=Fp.add(Z3,t0),t0=Fp.add(t0,t2),t0=Fp.mul(t0,t3),Y3=Fp.add(Y3,t0),t2=Fp.mul(Y1,Z1),t2=Fp.add(t2,t2),t0=Fp.mul(t2,t3),X3=Fp.sub(X3,t0),Z3=Fp.mul(t2,t1),Z3=Fp.add(Z3,Z3),Z3=Fp.add(Z3,Z3),new Point(X3,Y3,Z3)}add(other){assertPrjPoint(other);const{px:X1,py:Y1,pz:Z1}=this,{px:X2,py:Y2,pz:Z2}=other;let X3=Fp.ZERO,Y3=Fp.ZERO,Z3=Fp.ZERO;const a=CURVE.a,b3=Fp.mul(CURVE.b,weierstrass_3n);let t0=Fp.mul(X1,X2),t1=Fp.mul(Y1,Y2),t2=Fp.mul(Z1,Z2),t3=Fp.add(X1,Y1),t4=Fp.add(X2,Y2);t3=Fp.mul(t3,t4),t4=Fp.add(t0,t1),t3=Fp.sub(t3,t4),t4=Fp.add(X1,Z1);let t5=Fp.add(X2,Z2);return t4=Fp.mul(t4,t5),t5=Fp.add(t0,t2),t4=Fp.sub(t4,t5),t5=Fp.add(Y1,Z1),X3=Fp.add(Y2,Z2),t5=Fp.mul(t5,X3),X3=Fp.add(t1,t2),t5=Fp.sub(t5,X3),Z3=Fp.mul(a,t4),X3=Fp.mul(b3,t2),Z3=Fp.add(X3,Z3),X3=Fp.sub(t1,Z3),Z3=Fp.add(t1,Z3),Y3=Fp.mul(X3,Z3),t1=Fp.add(t0,t0),t1=Fp.add(t1,t0),t2=Fp.mul(a,t2),t4=Fp.mul(b3,t4),t1=Fp.add(t1,t2),t2=Fp.sub(t0,t2),t2=Fp.mul(a,t2),t4=Fp.add(t4,t2),t0=Fp.mul(t1,t4),Y3=Fp.add(Y3,t0),t0=Fp.mul(t5,t4),X3=Fp.mul(t3,X3),X3=Fp.sub(X3,t0),t0=Fp.mul(t3,t1),Z3=Fp.mul(t5,Z3),Z3=Fp.add(Z3,t0),new Point(X3,Y3,Z3)}subtract(other){return this.add(other.negate())}is0(){return this.equals(Point.ZERO)}wNAF(n){return wnaf.wNAFCached(this,n,Point.normalizeZ)}multiplyUnsafe(sc){utils_aInRange("scalar",sc,weierstrass_0n,CURVE.n);const I=Point.ZERO;if(sc===weierstrass_0n)return I;if(sc===weierstrass_1n)return this;const{endo}=CURVE;if(!endo)return wnaf.unsafeLadder(this,sc);let{k1neg,k1,k2neg,k2}=endo.splitScalar(sc),k1p=I,k2p=I,d=this;for(;k1>weierstrass_0n||k2>weierstrass_0n;)k1&weierstrass_1n&&(k1p=k1p.add(d)),k2&weierstrass_1n&&(k2p=k2p.add(d)),d=d.double(),k1>>=weierstrass_1n,k2>>=weierstrass_1n;return k1neg&&(k1p=k1p.negate()),k2neg&&(k2p=k2p.negate()),k2p=new Point(Fp.mul(k2p.px,endo.beta),k2p.py,k2p.pz),k1p.add(k2p)}multiply(scalar){const{endo,n:N}=CURVE;let point,fake;if(utils_aInRange("scalar",scalar,weierstrass_1n,N),endo){const{k1neg,k1,k2neg,k2}=endo.splitScalar(scalar);let{p:k1p,f:f1p}=this.wNAF(k1),{p:k2p,f:f2p}=this.wNAF(k2);k1p=wnaf.constTimeNegate(k1neg,k1p),k2p=wnaf.constTimeNegate(k2neg,k2p),k2p=new Point(Fp.mul(k2p.px,endo.beta),k2p.py,k2p.pz),point=k1p.add(k2p),fake=f1p.add(f2p)}else{const{p,f}=this.wNAF(scalar);point=p,fake=f}return Point.normalizeZ([point,fake])[0]}multiplyAndAddUnsafe(Q,a,b){const G=Point.BASE,mul=(P,a)=>a!==weierstrass_0n&&a!==weierstrass_1n&&P.equals(G)?P.multiply(a):P.multiplyUnsafe(a),sum=mul(this,a).add(mul(Q,b));return sum.is0()?void 0:sum}toAffine(iz){return toAffineMemo(this,iz)}isTorsionFree(){const{h:cofactor,isTorsionFree}=CURVE;if(cofactor===weierstrass_1n)return!0;if(isTorsionFree)return isTorsionFree(Point,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:cofactor,clearCofactor}=CURVE;return cofactor===weierstrass_1n?this:clearCofactor?clearCofactor(Point,this):this.multiplyUnsafe(CURVE.h)}toRawBytes(isCompressed=!0){return abool("isCompressed",isCompressed),this.assertValidity(),toBytes(Point,this,isCompressed)}toHex(isCompressed=!0){return abool("isCompressed",isCompressed),abstract_utils_bytesToHex(this.toRawBytes(isCompressed))}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy,Fp.ONE),Point.ZERO=new Point(Fp.ZERO,Fp.ONE,Fp.ZERO);const _bits=CURVE.nBitLength,wnaf=function wNAF(c,bits){const constTimeNegate=(condition,item)=>{const neg=item.negate();return condition?neg:item},validateW=W=>{if(!Number.isSafeInteger(W)||W<=0||W>bits)throw new Error(`Wrong window size=${W}, should be [1..${bits}]`)},opts=W=>(validateW(W),{windows:Math.ceil(bits/W)+1,windowSize:2**(W-1)});return{constTimeNegate,unsafeLadder(elm,n){let p=c.ZERO,d=elm;for(;n>curve_0n;)n&curve_1n&&(p=p.add(d)),d=d.double(),n>>=curve_1n;return p},precomputeWindow(elm,W){const{windows,windowSize}=opts(W),points=[];let p=elm,base=p;for(let window=0;window<windows;window++){base=p,points.push(base);for(let i=1;i<windowSize;i++)base=base.add(p),points.push(base);p=base.double()}return points},wNAF(W,precomputes,n){const{windows,windowSize}=opts(W);let p=c.ZERO,f=c.BASE;const mask=BigInt(2**W-1),maxNumber=2**W,shiftBy=BigInt(W);for(let window=0;window<windows;window++){const offset=window*windowSize;let wbits=Number(n&mask);n>>=shiftBy,wbits>windowSize&&(wbits-=maxNumber,n+=curve_1n);const offset1=offset,offset2=offset+Math.abs(wbits)-1,cond1=window%2!=0,cond2=wbits<0;0===wbits?f=f.add(constTimeNegate(cond1,precomputes[offset1])):p=p.add(constTimeNegate(cond2,precomputes[offset2]))}return{p,f}},wNAFCached(P,n,transform){const W=pointWindowSizes.get(P)||1;let comp=pointPrecomputes.get(P);return comp||(comp=this.precomputeWindow(P,W),1!==W&&pointPrecomputes.set(P,transform(comp))),this.wNAF(W,comp,n)},setWindowSize(P,W){validateW(W),pointWindowSizes.set(P,W),pointPrecomputes.delete(P)}}}(Point,CURVE.endo?Math.ceil(_bits/2):_bits);return{CURVE,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder:function isWithinCurveOrder(num){return utils_inRange(num,weierstrass_1n,CURVE.n)}}}function weierstrass(curveDef){const CURVE=function validateOpts(curve){const opts=validateBasic(curve);return validateObject(opts,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...opts})}(curveDef),{Fp,n:CURVE_ORDER}=CURVE,compressedLen=Fp.BYTES+1,uncompressedLen=2*Fp.BYTES+1;function modN(a){return modular_mod(a,CURVE_ORDER)}function invN(a){return invert(a,CURVE_ORDER)}const{ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}=weierstrassPoints({...CURVE,toBytes(_c,point,isCompressed){const a=point.toAffine(),x=Fp.toBytes(a.x),cat=abstract_utils_concatBytes;return abool("isCompressed",isCompressed),isCompressed?cat(Uint8Array.from([point.hasEvenY()?2:3]),x):cat(Uint8Array.from([4]),x,Fp.toBytes(a.y))},fromBytes(bytes){const len=bytes.length,head=bytes[0],tail=bytes.subarray(1);if(len!==compressedLen||2!==head&&3!==head){if(len===uncompressedLen&&4===head){return{x:Fp.fromBytes(tail.subarray(0,Fp.BYTES)),y:Fp.fromBytes(tail.subarray(Fp.BYTES,2*Fp.BYTES))}}throw new Error(`Point of length ${len} was invalid. Expected ${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes`)}{const x=utils_bytesToNumberBE(tail);if(!utils_inRange(x,weierstrass_1n,Fp.ORDER))throw new Error("Point is not on curve");const y2=weierstrassEquation(x);let y;try{y=Fp.sqrt(y2)}catch(sqrtError){const suffix=sqrtError instanceof Error?": "+sqrtError.message:"";throw new Error("Point is not on curve"+suffix)}return!(1&~head)!==((y&weierstrass_1n)===weierstrass_1n)&&(y=Fp.neg(y)),{x,y}}}}),numToNByteStr=num=>abstract_utils_bytesToHex(utils_numberToBytesBE(num,CURVE.nByteLength));function isBiggerThanHalfOrder(number){return number>CURVE_ORDER>>weierstrass_1n}const slcNum=(b,from,to)=>utils_bytesToNumberBE(b.slice(from,to));class Signature{constructor(r,s,recovery){this.r=r,this.s=s,this.recovery=recovery,this.assertValidity()}static fromCompact(hex){const l=CURVE.nByteLength;return hex=utils_ensureBytes("compactSignature",hex,2*l),new Signature(slcNum(hex,0,l),slcNum(hex,l,2*l))}static fromDER(hex){const{r,s}=DER.toSig(utils_ensureBytes("DER",hex));return new Signature(r,s)}assertValidity(){utils_aInRange("r",this.r,weierstrass_1n,CURVE_ORDER),utils_aInRange("s",this.s,weierstrass_1n,CURVE_ORDER)}addRecoveryBit(recovery){return new Signature(this.r,this.s,recovery)}recoverPublicKey(msgHash){const{r,s,recovery:rec}=this,h=bits2int_modN(utils_ensureBytes("msgHash",msgHash));if(null==rec||![0,1,2,3].includes(rec))throw new Error("recovery id invalid");const radj=2===rec||3===rec?r+CURVE.n:r;if(radj>=Fp.ORDER)throw new Error("recovery id 2 or 3 invalid");const prefix=1&rec?"03":"02",R=Point.fromHex(prefix+numToNByteStr(radj)),ir=invN(radj),u1=modN(-h*ir),u2=modN(s*ir),Q=Point.BASE.multiplyAndAddUnsafe(R,u1,u2);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return abstract_utils_hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return abstract_utils_hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}}const utils={isValidPrivateKey(privateKey){try{return normPrivateKeyToScalar(privateKey),!0}catch(error){return!1}},normPrivateKeyToScalar,randomPrivateKey:()=>{const length=getMinHashLength(CURVE.n);return function mapHashToField(key,fieldOrder,isLE=!1){const len=key.length,fieldLen=getFieldBytesLength(fieldOrder),minLen=getMinHashLength(fieldOrder);if(len<16||len<minLen||len>1024)throw new Error(`expected ${minLen}-1024 bytes of input, got ${len}`);const reduced=modular_mod(isLE?utils_bytesToNumberBE(key):utils_bytesToNumberLE(key),fieldOrder-modular_1n)+modular_1n;return isLE?numberToBytesLE(reduced,fieldLen):utils_numberToBytesBE(reduced,fieldLen)}(CURVE.randomBytes(length),CURVE.n)},precompute:(windowSize=8,point=Point.BASE)=>(point._setWindowSize(windowSize),point.multiply(BigInt(3)),point)};function isProbPub(item){const arr=abstract_utils_isBytes(item),str="string"==typeof item,len=(arr||str)&&item.length;return arr?len===compressedLen||len===uncompressedLen:str?len===2*compressedLen||len===2*uncompressedLen:item instanceof Point}const bits2int=CURVE.bits2int||function(bytes){const num=utils_bytesToNumberBE(bytes),delta=8*bytes.length-CURVE.nBitLength;return delta>0?num>>BigInt(delta):num},bits2int_modN=CURVE.bits2int_modN||function(bytes){return modN(bits2int(bytes))},ORDER_MASK=bitMask(CURVE.nBitLength);function int2octets(num){return utils_aInRange(`num < 2^${CURVE.nBitLength}`,num,weierstrass_0n,ORDER_MASK),utils_numberToBytesBE(num,CURVE.nByteLength)}function prepSig(msgHash,privateKey,opts=defaultSigOpts){if(["recovered","canonical"].some((k=>k in opts)))throw new Error("sign() legacy options not supported");const{hash,randomBytes}=CURVE;let{lowS,prehash,extraEntropy:ent}=opts;null==lowS&&(lowS=!0),msgHash=utils_ensureBytes("msgHash",msgHash),validateSigVerOpts(opts),prehash&&(msgHash=utils_ensureBytes("prehashed msgHash",hash(msgHash)));const h1int=bits2int_modN(msgHash),d=normPrivateKeyToScalar(privateKey),seedArgs=[int2octets(d),int2octets(h1int)];if(null!=ent&&!1!==ent){const e=!0===ent?randomBytes(Fp.BYTES):ent;seedArgs.push(utils_ensureBytes("extraEntropy",e))}const seed=abstract_utils_concatBytes(...seedArgs),m=h1int;return{seed,k2sig:function k2sig(kBytes){const k=bits2int(kBytes);if(!isWithinCurveOrder(k))return;const ik=invN(k),q=Point.BASE.multiply(k).toAffine(),r=modN(q.x);if(r===weierstrass_0n)return;const s=modN(ik*modN(m+r*d));if(s===weierstrass_0n)return;let recovery=(q.x===r?0:2)|Number(q.y&weierstrass_1n),normS=s;return lowS&&isBiggerThanHalfOrder(s)&&(normS=function normalizeS(s){return isBiggerThanHalfOrder(s)?modN(-s):s}(s),recovery^=1),new Signature(r,normS,recovery)}}}const defaultSigOpts={lowS:CURVE.lowS,prehash:!1},defaultVerOpts={lowS:CURVE.lowS,prehash:!1};return Point.BASE._setWindowSize(8),{CURVE,getPublicKey:function getPublicKey(privateKey,isCompressed=!0){return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed)},getSharedSecret:function getSharedSecret(privateA,publicB,isCompressed=!0){if(isProbPub(privateA))throw new Error("first arg must be private key");if(!isProbPub(publicB))throw new Error("second arg must be public key");return Point.fromHex(publicB).multiply(normPrivateKeyToScalar(privateA)).toRawBytes(isCompressed)},sign:function sign(msgHash,privKey,opts=defaultSigOpts){const{seed,k2sig}=prepSig(msgHash,privKey,opts),C=CURVE;return createHmacDrbg(C.hash.outputLen,C.nByteLength,C.hmac)(seed,k2sig)},verify:function verify(signature,msgHash,publicKey,opts=defaultVerOpts){const sg=signature;if(msgHash=utils_ensureBytes("msgHash",msgHash),publicKey=utils_ensureBytes("publicKey",publicKey),"strict"in opts)throw new Error("options.strict was renamed to lowS");validateSigVerOpts(opts);const{lowS,prehash}=opts;let _sig,P;try{if("string"==typeof sg||abstract_utils_isBytes(sg))try{_sig=Signature.fromDER(sg)}catch(derError){if(!(derError instanceof DER.Err))throw derError;_sig=Signature.fromCompact(sg)}else{if("object"!=typeof sg||"bigint"!=typeof sg.r||"bigint"!=typeof sg.s)throw new Error("PARSE");{const{r,s}=sg;_sig=new Signature(r,s)}}P=Point.fromHex(publicKey)}catch(error){if("PARSE"===error.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(lowS&&_sig.hasHighS())return!1;prehash&&(msgHash=CURVE.hash(msgHash));const{r,s}=_sig,h=bits2int_modN(msgHash),is=invN(s),u1=modN(h*is),u2=modN(r*is),R=Point.BASE.multiplyAndAddUnsafe(P,u1,u2)?.toAffine();return!!R&&modN(R.x)===r},ProjectivePoint:Point,Signature,utils}}function getHash(hash){return{hash,hmac:(key,...msgs)=>hmac(hash,key,utils_concatBytes(...msgs)),randomBytes:utils_randomBytes}}const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),secp256k1_1n=BigInt(1),secp256k1_2n=BigInt(2),divNearest=(a,b)=>(a+b/secp256k1_2n)/b;function sqrtMod(y){const P=secp256k1P,_3n=BigInt(3),_6n=BigInt(6),_11n=BigInt(11),_22n=BigInt(22),_23n=BigInt(23),_44n=BigInt(44),_88n=BigInt(88),b2=y*y*y%P,b3=b2*b2*y%P,b6=pow2(b3,_3n,P)*b3%P,b9=pow2(b6,_3n,P)*b3%P,b11=pow2(b9,secp256k1_2n,P)*b2%P,b22=pow2(b11,_11n,P)*b11%P,b44=pow2(b22,_22n,P)*b22%P,b88=pow2(b44,_44n,P)*b44%P,b176=pow2(b88,_88n,P)*b88%P,b220=pow2(b176,_44n,P)*b44%P,b223=pow2(b220,_3n,P)*b3%P,t1=pow2(b223,_23n,P)*b22%P,t2=pow2(t1,_6n,P)*b2%P,root=pow2(t2,secp256k1_2n,P);if(!Fp.eql(Fp.sqr(root),y))throw new Error("Cannot find square root");return root}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=function createCurve(curveDef,defHash){const create=hash=>weierstrass({...curveDef,...getHash(hash)});return Object.freeze({...create(defHash),create})}({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:k=>{const n=secp256k1N,a1=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1=-secp256k1_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2=a1,POW_2_128=BigInt("0x100000000000000000000000000000000"),c1=divNearest(b2*k,n),c2=divNearest(-b1*k,n);let k1=modular_mod(k-c1*a1-c2*a2,n),k2=modular_mod(-c1*b1-c2*b2,n);const k1neg=k1>POW_2_128,k2neg=k2>POW_2_128;if(k1neg&&(k1=n-k1),k2neg&&(k2=n-k2),k1>POW_2_128||k2>POW_2_128)throw new Error("splitScalar: Endomorphism failed, k="+k);return{k1neg,k1,k2neg,k2}}}},sha256_sha256);BigInt(0);secp256k1.ProjectivePoint;function assertNumber(n){if(!Number.isSafeInteger(n))throw new Error(`Wrong integer: ${n}`)}function esm_isBytes(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name}function chain(...args){const id=a=>a,wrap=(a,b)=>c=>a(b(c));return{encode:args.map((x=>x.encode)).reduceRight(wrap,id),decode:args.map((x=>x.decode)).reduce(wrap,id)}}function alphabet(alphabet){return{encode:digits=>{if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw new Error("alphabet.encode input should be an array of numbers");return digits.map((i=>{if(assertNumber(i),i<0||i>=alphabet.length)throw new Error(`Digit index outside alphabet: ${i} (alphabet: ${alphabet.length})`);return alphabet[i]}))},decode:input=>{if(!Array.isArray(input)||input.length&&"string"!=typeof input[0])throw new Error("alphabet.decode input should be array of strings");return input.map((letter=>{if("string"!=typeof letter)throw new Error(`alphabet.decode: not string element=${letter}`);const index=alphabet.indexOf(letter);if(-1===index)throw new Error(`Unknown letter: "${letter}". Allowed: ${alphabet}`);return index}))}}}function join(separator=""){if("string"!=typeof separator)throw new Error("join separator should be string");return{encode:from=>{if(!Array.isArray(from)||from.length&&"string"!=typeof from[0])throw new Error("join.encode input should be array of strings");for(let i of from)if("string"!=typeof i)throw new Error(`join.encode: non-string input=${i}`);return from.join(separator)},decode:to=>{if("string"!=typeof to)throw new Error("join.decode input should be string");return to.split(separator)}}}function padding(bits,chr="="){if(assertNumber(bits),"string"!=typeof chr)throw new Error("padding chr should be string");return{encode(data){if(!Array.isArray(data)||data.length&&"string"!=typeof data[0])throw new Error("padding.encode input should be array of strings");for(let i of data)if("string"!=typeof i)throw new Error(`padding.encode: non-string input=${i}`);for(;data.length*bits%8;)data.push(chr);return data},decode(input){if(!Array.isArray(input)||input.length&&"string"!=typeof input[0])throw new Error("padding.encode input should be array of strings");for(let i of input)if("string"!=typeof i)throw new Error(`padding.decode: non-string input=${i}`);let end=input.length;if(end*bits%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;end>0&&input[end-1]===chr;end--)if(!((end-1)*bits%8))throw new Error("Invalid padding: string has too much padding");return input.slice(0,end)}}}function normalize(fn){if("function"!=typeof fn)throw new Error("normalize fn should be function");return{encode:from=>from,decode:to=>fn(to)}}function convertRadix(data,from,to){if(from<2)throw new Error(`convertRadix: wrong from=${from}, base cannot be less than 2`);if(to<2)throw new Error(`convertRadix: wrong to=${to}, base cannot be less than 2`);if(!Array.isArray(data))throw new Error("convertRadix: data should be array");if(!data.length)return[];let pos=0;const res=[],digits=Array.from(data);for(digits.forEach((d=>{if(assertNumber(d),d<0||d>=from)throw new Error(`Wrong integer: ${d}`)}));;){let carry=0,done=!0;for(let i=pos;i<digits.length;i++){const digit=digits[i],digitBase=from*carry+digit;if(!Number.isSafeInteger(digitBase)||from*carry/from!==carry||digitBase-digit!=from*carry)throw new Error("convertRadix: carry overflow");carry=digitBase%to;const rounded=Math.floor(digitBase/to);if(digits[i]=rounded,!Number.isSafeInteger(rounded)||rounded*to+carry!==digitBase)throw new Error("convertRadix: carry overflow");done&&(rounded?done=!1:pos=i)}if(res.push(carry),done)break}for(let i=0;i<data.length-1&&0===data[i];i++)res.push(0);return res.reverse()}const gcd=(a,b)=>b?gcd(b,a%b):a,radix2carry=(from,to)=>from+(to-gcd(from,to));function convertRadix2(data,from,to,padding){if(!Array.isArray(data))throw new Error("convertRadix2: data should be array");if(from<=0||from>32)throw new Error(`convertRadix2: wrong from=${from}`);if(to<=0||to>32)throw new Error(`convertRadix2: wrong to=${to}`);if(radix2carry(from,to)>32)throw new Error(`convertRadix2: carry overflow from=${from} to=${to} carryBits=${radix2carry(from,to)}`);let carry=0,pos=0;const mask=2**to-1,res=[];for(const n of data){if(assertNumber(n),n>=2**from)throw new Error(`convertRadix2: invalid data word=${n} from=${from}`);if(carry=carry<<from|n,pos+from>32)throw new Error(`convertRadix2: carry overflow pos=${pos} from=${from}`);for(pos+=from;pos>=to;pos-=to)res.push((carry>>pos-to&mask)>>>0);carry&=2**pos-1}if(carry=carry<<to-pos&mask,!padding&&pos>=from)throw new Error("Excess padding");if(!padding&&carry)throw new Error(`Non-zero padding: ${carry}`);return padding&&pos>0&&res.push(carry>>>0),res}function radix(num){return assertNumber(num),{encode:bytes=>{if(!esm_isBytes(bytes))throw new Error("radix.encode input should be Uint8Array");return convertRadix(Array.from(bytes),256,num)},decode:digits=>{if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(convertRadix(digits,num,256))}}}function radix2(bits,revPadding=!1){if(assertNumber(bits),bits<=0||bits>32)throw new Error("radix2: bits should be in (0..32]");if(radix2carry(8,bits)>32||radix2carry(bits,8)>32)throw new Error("radix2: carry overflow");return{encode:bytes=>{if(!esm_isBytes(bytes))throw new Error("radix2.encode input should be Uint8Array");return convertRadix2(Array.from(bytes),8,bits,!revPadding)},decode:digits=>{if(!Array.isArray(digits)||digits.length&&"number"!=typeof digits[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(convertRadix2(digits,bits,8,revPadding))}}}function checksum(len,fn){if(assertNumber(len),"function"!=typeof fn)throw new Error("checksum fn should be function");return{encode(data){if(!esm_isBytes(data))throw new Error("checksum.encode: input should be Uint8Array");const checksum=fn(data).slice(0,len),res=new Uint8Array(data.length+len);return res.set(data),res.set(checksum,data.length),res},decode(data){if(!esm_isBytes(data))throw new Error("checksum.decode: input should be Uint8Array");const payload=data.slice(0,-len),newChecksum=fn(payload).slice(0,len),oldChecksum=data.slice(-len);for(let i=0;i<len;i++)if(newChecksum[i]!==oldChecksum[i])throw new Error("Invalid checksum");return payload}}}const base16=chain(radix2(4),alphabet("0123456789ABCDEF"),join("")),base32=chain(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),padding(5),join("")),esm_base64=(radix2(5),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),join(""),radix2(5),alphabet("0123456789ABCDEFGHIJKLMNOPQRSTUV"),padding(5),join(""),radix2(5),alphabet("0123456789ABCDEFGHIJKLMNOPQRSTUV"),join(""),radix2(5),alphabet("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),join(""),normalize((s=>s.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),padding(6),join(""))),base64url=(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),join(""),chain(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),padding(6),join(""))),genBase58=(radix2(6),alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),join(""),abc=>chain(radix(58),alphabet(abc),join(""))),base58=genBase58("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),XMR_BLOCK_LEN=[0,2,3,5,6,7,9,10,11],base58xmr={encode(data){let res="";for(let i=0;i<data.length;i+=8){const block=data.subarray(i,i+8);res+=base58.encode(block).padStart(XMR_BLOCK_LEN[block.length],"1")}return res},decode(str){let res=[];for(let i=0;i<str.length;i+=11){const slice=str.slice(i,i+11),blockLen=XMR_BLOCK_LEN.indexOf(slice.length),block=base58.decode(slice);for(let j=0;j<block.length-blockLen;j++)if(0!==block[j])throw new Error("base58xmr: wrong padding");res=res.concat(Array.from(block.slice(block.length-blockLen)))}return Uint8Array.from(res)}},createBase58check=sha256=>chain(checksum(4,(data=>sha256(sha256(data)))),base58);alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),join("");const utf8={encode:data=>(new TextDecoder).decode(data),decode:str=>(new TextEncoder).encode(str)},esm_Point=(radix2(4),alphabet("0123456789abcdef"),join(""),normalize((s=>{if("string"!=typeof s||s.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof s} with length ${s.length}`);return s.toLowerCase()})),secp256k1.ProjectivePoint),lib_esm_base58check=createBase58check(sha256_sha256);function bytesToNumber(bytes){return BigInt(`0x${function utils_bytesToHex(bytes){_assert_bytes(bytes);let hex="";for(let i=0;i<bytes.length;i++)hex+=hexes[bytes[i]];return hex}(bytes)}`)}function numberToBytes(num){return function utils_hexToBytes(hex){if("string"!=typeof hex)throw new Error("hex string expected, got "+typeof hex);const hl=hex.length,al=hl/2;if(hl%2)throw new Error("padded hex string expected, got unpadded hex of length "+hl);const array=new Uint8Array(al);for(let ai=0,hi=0;ai<al;ai++,hi+=2){const n1=asciiToBase16(hex.charCodeAt(hi)),n2=asciiToBase16(hex.charCodeAt(hi+1));if(void 0===n1||void 0===n2){const char=hex[hi]+hex[hi+1];throw new Error('hex string expected, got non-hex character "'+char+'" at index '+hi)}array[ai]=16*n1+n2}return array}(num.toString(16).padStart(64,"0"))}const MASTER_SECRET=utils_utf8ToBytes("Bitcoin seed"),BITCOIN_VERSIONS={private:76066276,public:76067358},toU32=n=>{if(!Number.isSafeInteger(n)||n<0||n>2**32-1)throw new Error(`Invalid number=${n}. Should be from 0 to 2 ** 32 - 1`);const buf=new Uint8Array(4);return createView(buf).setUint32(0,n,!1),buf};class esm_HDKey{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return data=this.pubHash,createView(data).getUint32(0,!1);var data}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const priv=this.privateKey;if(!priv)throw new Error("No private key");return lib_esm_base58check.encode(this.serialize(this.versions.private,utils_concatBytes(new Uint8Array([0]),priv)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return lib_esm_base58check.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(seed,versions=BITCOIN_VERSIONS){if(_assert_bytes(seed),8*seed.length<128||8*seed.length>512)throw new Error(`HDKey: wrong seed length=${seed.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const I=hmac(sha512,MASTER_SECRET,seed);return new esm_HDKey({versions,chainCode:I.slice(32),privateKey:I.slice(0,32)})}static fromExtendedKey(base58key,versions=BITCOIN_VERSIONS){const keyBuffer=lib_esm_base58check.decode(base58key),keyView=createView(keyBuffer),version=keyView.getUint32(0,!1),opt={versions,depth:keyBuffer[4],parentFingerprint:keyView.getUint32(5,!1),index:keyView.getUint32(9,!1),chainCode:keyBuffer.slice(13,45)},key=keyBuffer.slice(45),isPriv=0===key[0];if(version!==versions[isPriv?"private":"public"])throw new Error("Version mismatch");return new esm_HDKey(isPriv?{...opt,privateKey:key.slice(1)}:{...opt,publicKey:key})}static fromJSON(json){return esm_HDKey.fromExtendedKey(json.xpriv)}constructor(opt){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!opt||"object"!=typeof opt)throw new Error("HDKey.constructor must not be called directly");if(this.versions=opt.versions||BITCOIN_VERSIONS,this.depth=opt.depth||0,this.chainCode=opt.chainCode||null,this.index=opt.index||0,this.parentFingerprint=opt.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(opt.publicKey&&opt.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(opt.privateKey){if(!secp256k1.utils.isValidPrivateKey(opt.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof opt.privateKey?opt.privateKey:bytesToNumber(opt.privateKey),this.privKeyBytes=numberToBytes(this.privKey),this.pubKey=secp256k1.getPublicKey(opt.privateKey,!0)}else{if(!opt.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=esm_Point.fromHex(opt.publicKey).toRawBytes(!0)}var data;this.pubHash=(data=this.pubKey,ripemd160_ripemd160(sha256_sha256(data)))}derive(path){if(!/^[mM]'?/.test(path))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(path))return this;const parts=path.replace(/^[mM]'?\//,"").split("/");let child=this;for(const c of parts){const m=/^(\d+)('?)$/.exec(c),m1=m&&m[1];if(!m||3!==m.length||"string"!=typeof m1)throw new Error(`Invalid child index: ${c}`);let idx=+m1;if(!Number.isSafeInteger(idx)||idx>=2147483648)throw new Error("Invalid index");"'"===m[2]&&(idx+=2147483648),child=child.deriveChild(idx)}return child}deriveChild(index){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let data=toU32(index);if(index>=2147483648){const priv=this.privateKey;if(!priv)throw new Error("Could not derive hardened child key");data=utils_concatBytes(new Uint8Array([0]),priv,data)}else data=utils_concatBytes(this.pubKey,data);const I=hmac(sha512,this.chainCode,data),childTweak=bytesToNumber(I.slice(0,32)),chainCode=I.slice(32);if(!secp256k1.utils.isValidPrivateKey(childTweak))throw new Error("Tweak bigger than curve order");const opt={versions:this.versions,chainCode,depth:this.depth+1,parentFingerprint:this.fingerprint,index};try{if(this.privateKey){const added=modular_mod(this.privKey+childTweak,secp256k1.CURVE.n);if(!secp256k1.utils.isValidPrivateKey(added))throw new Error("The tweak was out of range or the resulted private key is invalid");opt.privateKey=added}else{const added=esm_Point.fromHex(this.pubKey).add(esm_Point.fromPrivateKey(childTweak));if(added.equals(esm_Point.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");opt.publicKey=added.toRawBytes(!0)}return new esm_HDKey(opt)}catch(err){return this.deriveChild(index+1)}}sign(hash){if(!this.privateKey)throw new Error("No privateKey set!");return _assert_bytes(hash,32),secp256k1.sign(hash,this.privKey).toCompactRawBytes()}verify(hash,signature){if(_assert_bytes(hash,32),_assert_bytes(signature,64),!this.publicKey)throw new Error("No publicKey set!");let sig;try{sig=secp256k1.Signature.fromCompact(signature)}catch(error){return!1}return secp256k1.verify(sig,hash,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(version,key){if(!this.chainCode)throw new Error("No chainCode set");return _assert_bytes(key,33),utils_concatBytes(toU32(version),new Uint8Array([this.depth]),toU32(this.parentFingerprint),toU32(this.index),this.chainCode,key)}}"abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var functionMemoize=function memoize(callback,resolver){if("function"!=typeof callback)throw new Error("`callback` should be a function");if(void 0!==resolver&&"function"!=typeof resolver)throw new Error("`resolver` should be a function");var cache={},memoized=function(){var args=Array.prototype.slice.call(arguments),key=resolver?resolver.apply(this,args):JSON.stringify(args);return key in cache||(cache[key]=callback.apply(this,args)),cache[key]};return memoized.cache=cache,memoized};var dist_DerivationPathDepth=(DerivationPathDepth2=>(DerivationPathDepth2[DerivationPathDepth2.Root=0]="Root",DerivationPathDepth2[DerivationPathDepth2.Purpose=1]="Purpose",DerivationPathDepth2[DerivationPathDepth2.CoinType=2]="CoinType",DerivationPathDepth2[DerivationPathDepth2.Account=3]="Account",DerivationPathDepth2[DerivationPathDepth2.ChangeReceive=4]="ChangeReceive",DerivationPathDepth2[DerivationPathDepth2.AddressIndex=5]="AddressIndex",DerivationPathDepth2))(dist_DerivationPathDepth||{});function extractSectionFromDerivationPath(depth){return path=>{const segments=path.split("/"),accountNum=parseInt(segments[depth].replaceAll("'",""),10);if(isNaN(accountNum))throw new Error(`Cannot parse ${dist_DerivationPathDepth[depth]} from path`);return accountNum}}extractSectionFromDerivationPath(1),extractSectionFromDerivationPath(3),extractSectionFromDerivationPath(5);functionMemoize((xpub=>esm_HDKey.fromExtendedKey(xpub)));__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;src.o8.bitcoin,src.o8.testnet,src.o8.regtest,src.o8.testnet;(0,ecpair_src.dg)(secp256k1_dist);src.f0(secp256k1_dist);Uint8Array.from([...sha256_sha256((0,utils.AI)("BIP0322-signed-message")),...sha256_sha256((0,utils.AI)("BIP0322-signed-message"))]);(0,utils.aT)("0000000000000000000000000000000000000000000000000000000000000000");var models_dist=__webpack_require__("./node_modules/.pnpm/@leather.io+models@0.19.0/node_modules/@leather.io/models/dist/index.js"),eventemitter3=(__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),__webpack_require__("./node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.js")),eventemitter3_default=__webpack_require__.n(eventemitter3);class TimeoutError extends Error{constructor(message){super(message),this.name="TimeoutError"}}class AbortError extends Error{constructor(message){super(),this.name="AbortError",this.message=message}}const getDOMException=errorMessage=>void 0===globalThis.DOMException?new AbortError(errorMessage):new DOMException(errorMessage),getAbortedReason=signal=>{const reason=void 0===signal.reason?getDOMException("This operation was aborted."):signal.reason;return reason instanceof Error?reason:getDOMException(reason)};class PriorityQueue{#queue=[];enqueue(run,options){const element={priority:(options={priority:0,...options}).priority,run};if(this.size&&this.#queue[this.size-1].priority>=options.priority)return void this.#queue.push(element);const index=function lowerBound(array,value,comparator){let first=0,count=array.length;for(;count>0;){const step=Math.trunc(count/2);let it=first+step;comparator(array[it],value)<=0?(first=++it,count-=step+1):count=step}return first}(this.#queue,element,((a,b)=>b.priority-a.priority));this.#queue.splice(index,0,element)}dequeue(){const item=this.#queue.shift();return item?.run}filter(options){return this.#queue.filter((element=>element.priority===options.priority)).map((element=>element.run))}get size(){return this.#queue.length}}class PQueue extends(eventemitter3_default()){#carryoverConcurrencyCount;#isIntervalIgnored;#intervalCount=0;#intervalCap;#interval;#intervalEnd=0;#intervalId;#timeoutId;#queue;#queueClass;#pending=0;#concurrency;#isPaused;#throwOnTimeout;timeout;constructor(options){if(super(),!("number"==typeof(options={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:PriorityQueue,...options}).intervalCap&&options.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${options.intervalCap?.toString()??""}\` (${typeof options.intervalCap})`);if(void 0===options.interval||!(Number.isFinite(options.interval)&&options.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${options.interval?.toString()??""}\` (${typeof options.interval})`);this.#carryoverConcurrencyCount=options.carryoverConcurrencyCount,this.#isIntervalIgnored=options.intervalCap===Number.POSITIVE_INFINITY||0===options.interval,this.#intervalCap=options.intervalCap,this.#interval=options.interval,this.#queue=new options.queueClass,this.#queueClass=options.queueClass,this.concurrency=options.concurrency,this.timeout=options.timeout,this.#throwOnTimeout=!0===options.throwOnTimeout,this.#isPaused=!1===options.autoStart}get#doesIntervalAllowAnother(){return this.#isIntervalIgnored||this.#intervalCount<this.#intervalCap}get#doesConcurrentAllowAnother(){return this.#pending<this.#concurrency}#next(){this.#pending--,this.#tryToStartAnother(),this.emit("next")}#onResumeInterval(){this.#onInterval(),this.#initializeIntervalIfNeeded(),this.#timeoutId=void 0}get#isIntervalPaused(){const now=Date.now();if(void 0===this.#intervalId){const delay=this.#intervalEnd-now;if(!(delay<0))return void 0===this.#timeoutId&&(this.#timeoutId=setTimeout((()=>{this.#onResumeInterval()}),delay)),!0;this.#intervalCount=this.#carryoverConcurrencyCount?this.#pending:0}return!1}#tryToStartAnother(){if(0===this.#queue.size)return this.#intervalId&&clearInterval(this.#intervalId),this.#intervalId=void 0,this.emit("empty"),0===this.#pending&&this.emit("idle"),!1;if(!this.#isPaused){const canInitializeInterval=!this.#isIntervalPaused;if(this.#doesIntervalAllowAnother&&this.#doesConcurrentAllowAnother){const job=this.#queue.dequeue();return!!job&&(this.emit("active"),job(),canInitializeInterval&&this.#initializeIntervalIfNeeded(),!0)}}return!1}#initializeIntervalIfNeeded(){this.#isIntervalIgnored||void 0!==this.#intervalId||(this.#intervalId=setInterval((()=>{this.#onInterval()}),this.#interval),this.#intervalEnd=Date.now()+this.#interval)}#onInterval(){0===this.#intervalCount&&0===this.#pending&&this.#intervalId&&(clearInterval(this.#intervalId),this.#intervalId=void 0),this.#intervalCount=this.#carryoverConcurrencyCount?this.#pending:0,this.#processQueue()}#processQueue(){for(;this.#tryToStartAnother(););}get concurrency(){return this.#concurrency}set concurrency(newConcurrency){if(!("number"==typeof newConcurrency&&newConcurrency>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${newConcurrency}\` (${typeof newConcurrency})`);this.#concurrency=newConcurrency,this.#processQueue()}async#throwOnAbort(signal){return new Promise(((_resolve,reject)=>{signal.addEventListener("abort",(()=>{reject(signal.reason)}),{once:!0})}))}async add(function_,options={}){return options={timeout:this.timeout,throwOnTimeout:this.#throwOnTimeout,...options},new Promise(((resolve,reject)=>{this.#queue.enqueue((async()=>{this.#pending++,this.#intervalCount++;try{options.signal?.throwIfAborted();let operation=function_({signal:options.signal});options.timeout&&(operation=function pTimeout(promise,options){const{milliseconds,fallback,message,customTimers={setTimeout,clearTimeout}}=options;let timer;const cancelablePromise=new Promise(((resolve,reject)=>{if("number"!=typeof milliseconds||1!==Math.sign(milliseconds))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${milliseconds}\``);if(options.signal){const{signal}=options;signal.aborted&&reject(getAbortedReason(signal));const abortHandler=()=>{reject(getAbortedReason(signal))};signal.addEventListener("abort",abortHandler,{once:!0}),promise.finally((()=>{signal.removeEventListener("abort",abortHandler)}))}if(milliseconds===Number.POSITIVE_INFINITY)return void promise.then(resolve,reject);const timeoutError=new TimeoutError;timer=customTimers.setTimeout.call(void 0,(()=>{if(fallback)try{resolve(fallback())}catch(error){reject(error)}else"function"==typeof promise.cancel&&promise.cancel(),!1===message?resolve():message instanceof Error?reject(message):(timeoutError.message=message??`Promise timed out after ${milliseconds} milliseconds`,reject(timeoutError))}),milliseconds),(async()=>{try{resolve(await promise)}catch(error){reject(error)}})()})).finally((()=>{cancelablePromise.clear()}));return cancelablePromise.clear=()=>{customTimers.clearTimeout.call(void 0,timer),timer=void 0},cancelablePromise}(Promise.resolve(operation),{milliseconds:options.timeout})),options.signal&&(operation=Promise.race([operation,this.#throwOnAbort(options.signal)]));const result=await operation;resolve(result),this.emit("completed",result)}catch(error){if(error instanceof TimeoutError&&!options.throwOnTimeout)return void resolve();reject(error),this.emit("error",error)}finally{this.#next()}}),options),this.emit("add"),this.#tryToStartAnother()}))}async addAll(functions,options){return Promise.all(functions.map((async function_=>this.add(function_,options))))}start(){return this.#isPaused?(this.#isPaused=!1,this.#processQueue(),this):this}pause(){this.#isPaused=!0}clear(){this.#queue=new this.#queueClass}async onEmpty(){0!==this.#queue.size&&await this.#onEvent("empty")}async onSizeLessThan(limit){this.#queue.size<limit||await this.#onEvent("next",(()=>this.#queue.size<limit))}async onIdle(){0===this.#pending&&0===this.#queue.size||await this.#onEvent("idle")}async#onEvent(event,filter){return new Promise((resolve=>{const listener=()=>{filter&&!filter()||(this.off(event,listener),resolve())};this.on(event,listener)}))}get size(){return this.#queue.size}sizeBy(options){return this.#queue.filter(options).length}get pending(){return this.#pending}get isPaused(){return this.#isPaused}}var lib=__webpack_require__("./node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs");const esm_browser_native={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&!(getRandomValues="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}for(var byteToHex=[],i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(arr,offset=0){return(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase()}const esm_browser_v4=function v4(options,buf,offset){if(esm_browser_native.randomUUID&&!buf&&!options)return esm_browser_native.randomUUID();var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf){offset=offset||0;for(var i=0;i<16;++i)buf[offset+i]=rnds[i];return buf}return unsafeStringify(rnds)};__webpack_require__("./node_modules/.pnpm/lodash.get@4.4.2/node_modules/lodash.get/index.js");var bignumber=__webpack_require__("./node_modules/.pnpm/bignumber.js@9.1.2/node_modules/bignumber.js/bignumber.mjs"),focusManager=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/focusManager.js"),notifyManager=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/notifyManager.js"),modern_query=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/query.js"),subscribable=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/subscribable.js"),thenable=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/thenable.js"),modern_utils=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js"),QueryObserver=class extends subscribable.Q{constructor(client,options){super(),this.options=options,this.#client=client,this.#selectError=null,this.#currentThenable=(0,thenable.T)(),this.options.experimental_prefetchInRender||this.#currentThenable.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(options)}#client;#currentQuery=void 0;#currentQueryInitialState=void 0;#currentResult=void 0;#currentResultState;#currentResultOptions;#currentThenable;#selectError;#selectFn;#selectResult;#lastQueryWithDefinedData;#staleTimeoutId;#refetchIntervalId;#currentRefetchInterval;#trackedProps=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#currentQuery.addObserver(this),shouldFetchOnMount(this.#currentQuery,this.options)?this.#executeFetch():this.updateResult(),this.#updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.#currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.#currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#clearStaleTimeout(),this.#clearRefetchInterval(),this.#currentQuery.removeObserver(this)}setOptions(options,notifyOptions){const prevOptions=this.options,prevQuery=this.#currentQuery;if(this.options=this.#client.defaultQueryOptions(options),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,modern_utils.Eh)(this.options.enabled,this.#currentQuery))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#updateQuery(),this.#currentQuery.setOptions(this.options),prevOptions._defaulted&&!(0,modern_utils.f8)(this.options,prevOptions)&&this.#client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#currentQuery,observer:this});const mounted=this.hasListeners();mounted&&shouldFetchOptionally(this.#currentQuery,prevQuery,this.options,prevOptions)&&this.#executeFetch(),this.updateResult(notifyOptions),!mounted||this.#currentQuery===prevQuery&&(0,modern_utils.Eh)(this.options.enabled,this.#currentQuery)===(0,modern_utils.Eh)(prevOptions.enabled,this.#currentQuery)&&(0,modern_utils.d2)(this.options.staleTime,this.#currentQuery)===(0,modern_utils.d2)(prevOptions.staleTime,this.#currentQuery)||this.#updateStaleTimeout();const nextRefetchInterval=this.#computeRefetchInterval();!mounted||this.#currentQuery===prevQuery&&(0,modern_utils.Eh)(this.options.enabled,this.#currentQuery)===(0,modern_utils.Eh)(prevOptions.enabled,this.#currentQuery)&&nextRefetchInterval===this.#currentRefetchInterval||this.#updateRefetchInterval(nextRefetchInterval)}getOptimisticResult(options){const query=this.#client.getQueryCache().build(this.#client,options),result=this.createResult(query,options);return function shouldAssignObserverCurrentProperties(observer,optimisticResult){if(!(0,modern_utils.f8)(observer.getCurrentResult(),optimisticResult))return!0;return!1}(this,result)&&(this.#currentResult=result,this.#currentResultOptions=this.options,this.#currentResultState=this.#currentQuery.state),result}getCurrentResult(){return this.#currentResult}trackResult(result,onPropTracked){const trackedResult={};return Object.keys(result).forEach((key=>{Object.defineProperty(trackedResult,key,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(key),onPropTracked?.(key),result[key])})})),trackedResult}trackProp(key){this.#trackedProps.add(key)}getCurrentQuery(){return this.#currentQuery}refetch({...options}={}){return this.fetch({...options})}fetchOptimistic(options){const defaultedOptions=this.#client.defaultQueryOptions(options),query=this.#client.getQueryCache().build(this.#client,defaultedOptions);return query.fetch().then((()=>this.createResult(query,defaultedOptions)))}fetch(fetchOptions){return this.#executeFetch({...fetchOptions,cancelRefetch:fetchOptions.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#currentResult)))}#executeFetch(fetchOptions){this.#updateQuery();let promise=this.#currentQuery.fetch(this.options,fetchOptions);return fetchOptions?.throwOnError||(promise=promise.catch(modern_utils.lQ)),promise}#updateStaleTimeout(){this.#clearStaleTimeout();const staleTime=(0,modern_utils.d2)(this.options.staleTime,this.#currentQuery);if(modern_utils.S$||this.#currentResult.isStale||!(0,modern_utils.gn)(staleTime))return;const timeout=(0,modern_utils.j3)(this.#currentResult.dataUpdatedAt,staleTime)+1;this.#staleTimeoutId=setTimeout((()=>{this.#currentResult.isStale||this.updateResult()}),timeout)}#computeRefetchInterval(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#currentQuery):this.options.refetchInterval)??!1}#updateRefetchInterval(nextInterval){this.#clearRefetchInterval(),this.#currentRefetchInterval=nextInterval,!modern_utils.S$&&!1!==(0,modern_utils.Eh)(this.options.enabled,this.#currentQuery)&&(0,modern_utils.gn)(this.#currentRefetchInterval)&&0!==this.#currentRefetchInterval&&(this.#refetchIntervalId=setInterval((()=>{(this.options.refetchIntervalInBackground||focusManager.m.isFocused())&&this.#executeFetch()}),this.#currentRefetchInterval))}#updateTimers(){this.#updateStaleTimeout(),this.#updateRefetchInterval(this.#computeRefetchInterval())}#clearStaleTimeout(){this.#staleTimeoutId&&(clearTimeout(this.#staleTimeoutId),this.#staleTimeoutId=void 0)}#clearRefetchInterval(){this.#refetchIntervalId&&(clearInterval(this.#refetchIntervalId),this.#refetchIntervalId=void 0)}createResult(query,options){const prevQuery=this.#currentQuery,prevOptions=this.options,prevResult=this.#currentResult,prevResultState=this.#currentResultState,prevResultOptions=this.#currentResultOptions,queryInitialState=query!==prevQuery?query.state:this.#currentQueryInitialState,{state}=query;let data,newState={...state},isPlaceholderData=!1;if(options._optimisticResults){const mounted=this.hasListeners(),fetchOnMount=!mounted&&shouldFetchOnMount(query,options),fetchOptionally=mounted&&shouldFetchOptionally(query,prevQuery,options,prevOptions);(fetchOnMount||fetchOptionally)&&(newState={...newState,...(0,modern_query.k)(state.data,query.options)}),"isRestoring"===options._optimisticResults&&(newState.fetchStatus="idle")}let{error,errorUpdatedAt,status}=newState;if(options.select&&void 0!==newState.data)if(prevResult&&newState.data===prevResultState?.data&&options.select===this.#selectFn)data=this.#selectResult;else try{this.#selectFn=options.select,data=options.select(newState.data),data=(0,modern_utils.pl)(prevResult?.data,data,options),this.#selectResult=data,this.#selectError=null}catch(selectError){this.#selectError=selectError}else data=newState.data;if(void 0!==options.placeholderData&&void 0===data&&"pending"===status){let placeholderData;if(prevResult?.isPlaceholderData&&options.placeholderData===prevResultOptions?.placeholderData)placeholderData=prevResult.data;else if(placeholderData="function"==typeof options.placeholderData?options.placeholderData(this.#lastQueryWithDefinedData?.state.data,this.#lastQueryWithDefinedData):options.placeholderData,options.select&&void 0!==placeholderData)try{placeholderData=options.select(placeholderData),this.#selectError=null}catch(selectError){this.#selectError=selectError}void 0!==placeholderData&&(status="success",data=(0,modern_utils.pl)(prevResult?.data,placeholderData,options),isPlaceholderData=!0)}this.#selectError&&(error=this.#selectError,data=this.#selectResult,errorUpdatedAt=Date.now(),status="error");const isFetching="fetching"===newState.fetchStatus,isPending="pending"===status,isError="error"===status,isLoading=isPending&&isFetching,hasData=void 0!==data,nextResult={status,fetchStatus:newState.fetchStatus,isPending,isSuccess:"success"===status,isError,isInitialLoading:isLoading,isLoading,data,dataUpdatedAt:newState.dataUpdatedAt,error,errorUpdatedAt,failureCount:newState.fetchFailureCount,failureReason:newState.fetchFailureReason,errorUpdateCount:newState.errorUpdateCount,isFetched:newState.dataUpdateCount>0||newState.errorUpdateCount>0,isFetchedAfterMount:newState.dataUpdateCount>queryInitialState.dataUpdateCount||newState.errorUpdateCount>queryInitialState.errorUpdateCount,isFetching,isRefetching:isFetching&&!isPending,isLoadingError:isError&&!hasData,isPaused:"paused"===newState.fetchStatus,isPlaceholderData,isRefetchError:isError&&hasData,isStale:isStale(query,options),refetch:this.refetch,promise:this.#currentThenable};if(this.options.experimental_prefetchInRender){const finalizeThenableIfPossible=thenable=>{"error"===nextResult.status?thenable.reject(nextResult.error):void 0!==nextResult.data&&thenable.resolve(nextResult.data)},recreateThenable=()=>{const pending=this.#currentThenable=nextResult.promise=(0,thenable.T)();finalizeThenableIfPossible(pending)},prevThenable=this.#currentThenable;switch(prevThenable.status){case"pending":query.queryHash===prevQuery.queryHash&&finalizeThenableIfPossible(prevThenable);break;case"fulfilled":"error"!==nextResult.status&&nextResult.data===prevThenable.value||recreateThenable();break;case"rejected":"error"===nextResult.status&&nextResult.error===prevThenable.reason||recreateThenable()}}return nextResult}updateResult(notifyOptions){const prevResult=this.#currentResult,nextResult=this.createResult(this.#currentQuery,this.options);if(this.#currentResultState=this.#currentQuery.state,this.#currentResultOptions=this.options,void 0!==this.#currentResultState.data&&(this.#lastQueryWithDefinedData=this.#currentQuery),(0,modern_utils.f8)(nextResult,prevResult))return;this.#currentResult=nextResult;const defaultNotifyOptions={};!1!==notifyOptions?.listeners&&(()=>{if(!prevResult)return!0;const{notifyOnChangeProps}=this.options,notifyOnChangePropsValue="function"==typeof notifyOnChangeProps?notifyOnChangeProps():notifyOnChangeProps;if("all"===notifyOnChangePropsValue||!notifyOnChangePropsValue&&!this.#trackedProps.size)return!0;const includedProps=new Set(notifyOnChangePropsValue??this.#trackedProps);return this.options.throwOnError&&includedProps.add("error"),Object.keys(this.#currentResult).some((key=>{const typedKey=key;return this.#currentResult[typedKey]!==prevResult[typedKey]&&includedProps.has(typedKey)}))})()&&(defaultNotifyOptions.listeners=!0),this.#notify({...defaultNotifyOptions,...notifyOptions})}#updateQuery(){const query=this.#client.getQueryCache().build(this.#client,this.options);if(query===this.#currentQuery)return;const prevQuery=this.#currentQuery;this.#currentQuery=query,this.#currentQueryInitialState=query.state,this.hasListeners()&&(prevQuery?.removeObserver(this),query.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#updateTimers()}#notify(notifyOptions){notifyManager.j.batch((()=>{notifyOptions.listeners&&this.listeners.forEach((listener=>{listener(this.#currentResult)})),this.#client.getQueryCache().notify({query:this.#currentQuery,type:"observerResultsUpdated"})}))}};function shouldFetchOnMount(query,options){return function shouldLoadOnMount(query,options){return!1!==(0,modern_utils.Eh)(options.enabled,query)&&void 0===query.state.data&&!("error"===query.state.status&&!1===options.retryOnMount)}(query,options)||void 0!==query.state.data&&shouldFetchOn(query,options,options.refetchOnMount)}function shouldFetchOn(query,options,field){if(!1!==(0,modern_utils.Eh)(options.enabled,query)){const value="function"==typeof field?field(query):field;return"always"===value||!1!==value&&isStale(query,options)}return!1}function shouldFetchOptionally(query,prevQuery,options,prevOptions){return(query!==prevQuery||!1===(0,modern_utils.Eh)(prevOptions.enabled,query))&&(!options.suspense||"error"!==query.state.status)&&isStale(query,options)}function isStale(query,options){return!1!==(0,modern_utils.Eh)(options.enabled,query)&&query.isStaleByTime((0,modern_utils.d2)(options.staleTime,query))}var modern_QueryClientProvider=__webpack_require__("./node_modules/.pnpm/@tanstack+react-query@5.59.16_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js");function createValue(){let isReset=!1;return{clearReset:()=>{isReset=!1},reset:()=>{isReset=!0},isReset:()=>isReset}}var QueryErrorResetBoundaryContext=react.createContext(createValue()),useQueryErrorResetBoundary=()=>react.useContext(QueryErrorResetBoundaryContext);function noop(){}var ensurePreventErrorBoundaryRetry=(options,errorResetBoundary)=>{(options.suspense||options.throwOnError)&&(errorResetBoundary.isReset()||(options.retryOnMount=!1))},useClearResetErrorBoundary=errorResetBoundary=>{react.useEffect((()=>{errorResetBoundary.clearReset()}),[errorResetBoundary])},getHasError=({result,errorResetBoundary,throwOnError,query})=>result.isError&&!errorResetBoundary.isReset()&&!result.isFetching&&query&&function shouldThrowError(throwError,params){return"function"==typeof throwError?throwError(...params):!!throwError}(throwOnError,[result.error,query]),IsRestoringContext=react.createContext(!1),useIsRestoring=()=>react.useContext(IsRestoringContext),ensureSuspenseTimers=(IsRestoringContext.Provider,defaultedOptions=>{defaultedOptions.suspense&&(void 0===defaultedOptions.staleTime&&(defaultedOptions.staleTime=1e3),"number"==typeof defaultedOptions.gcTime&&(defaultedOptions.gcTime=Math.max(defaultedOptions.gcTime,1e3)))}),willFetch=(result,isRestoring)=>result.isLoading&&result.isFetching&&!isRestoring,shouldSuspend=(defaultedOptions,result)=>defaultedOptions?.suspense&&result.isPending,fetchOptimistic=(defaultedOptions,observer,errorResetBoundary)=>observer.fetchOptimistic(defaultedOptions).catch((()=>{errorResetBoundary.clearReset()}));function useQuery_useQuery(options,queryClient){return function useBaseQuery(options,Observer,queryClient){const client=(0,modern_QueryClientProvider.jE)(queryClient),isRestoring=useIsRestoring(),errorResetBoundary=useQueryErrorResetBoundary(),defaultedOptions=client.defaultQueryOptions(options);client.getDefaultOptions().queries?._experimental_beforeQuery?.(defaultedOptions),defaultedOptions._optimisticResults=isRestoring?"isRestoring":"optimistic",ensureSuspenseTimers(defaultedOptions),ensurePreventErrorBoundaryRetry(defaultedOptions,errorResetBoundary),useClearResetErrorBoundary(errorResetBoundary);const isNewCacheEntry=!client.getQueryCache().get(defaultedOptions.queryHash),[observer]=react.useState((()=>new Observer(client,defaultedOptions))),result=observer.getOptimisticResult(defaultedOptions);if(react.useSyncExternalStore(react.useCallback((onStoreChange=>{const unsubscribe=isRestoring?()=>{}:observer.subscribe(notifyManager.j.batchCalls(onStoreChange));return observer.updateResult(),unsubscribe}),[observer,isRestoring]),(()=>observer.getCurrentResult()),(()=>observer.getCurrentResult())),react.useEffect((()=>{observer.setOptions(defaultedOptions,{listeners:!1})}),[defaultedOptions,observer]),shouldSuspend(defaultedOptions,result))throw fetchOptimistic(defaultedOptions,observer,errorResetBoundary);if(getHasError({result,errorResetBoundary,throwOnError:defaultedOptions.throwOnError,query:client.getQueryCache().get(defaultedOptions.queryHash)}))throw result.error;if(client.getDefaultOptions().queries?._experimental_afterQuery?.(defaultedOptions,result),defaultedOptions.experimental_prefetchInRender&&!modern_utils.S$&&willFetch(result,isRestoring)){const promise=isNewCacheEntry?fetchOptimistic(defaultedOptions,observer,errorResetBoundary):client.getQueryCache().get(defaultedOptions.queryHash)?.promise;promise?.catch(noop).finally((()=>{observer.updateResult()}))}return defaultedOptions.notifyOnChangeProps?result:observer.trackResult(result)}(options,QueryObserver,queryClient)}var lib_axios=__webpack_require__("./node_modules/.pnpm/axios@1.7.4/node_modules/axios/lib/axios.js"),property_expr=__webpack_require__("./node_modules/.pnpm/property-expr@2.0.6/node_modules/property-expr/index.js"),tiny_case=__webpack_require__("./node_modules/.pnpm/tiny-case@1.0.3/node_modules/tiny-case/index.js"),toposort=__webpack_require__("./node_modules/.pnpm/toposort@2.0.2/node_modules/toposort/index.js"),toposort_default=__webpack_require__.n(toposort);const index_esm_toString=Object.prototype.toString,errorToString=Error.prototype.toString,regExpToString=RegExp.prototype.toString,symbolToString="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",SYMBOL_REGEXP=/^Symbol\((.*)\)(.*)$/;function printSimpleValue(val,quoteStrings=!1){if(null==val||!0===val||!1===val)return""+val;const typeOf=typeof val;if("number"===typeOf)return function printNumber(val){return val!=+val?"NaN":0===val&&1/val<0?"-0":""+val}(val);if("string"===typeOf)return quoteStrings?`"${val}"`:val;if("function"===typeOf)return"[Function "+(val.name||"anonymous")+"]";if("symbol"===typeOf)return symbolToString.call(val).replace(SYMBOL_REGEXP,"Symbol($1)");const tag=index_esm_toString.call(val).slice(8,-1);return"Date"===tag?isNaN(val.getTime())?""+val:val.toISOString(val):"Error"===tag||val instanceof Error?"["+errorToString.call(val)+"]":"RegExp"===tag?regExpToString.call(val):null}function printValue(value,quoteStrings){let result=printSimpleValue(value,quoteStrings);return null!==result?result:JSON.stringify(value,(function(key,value){let result=printSimpleValue(this[key],quoteStrings);return null!==result?result:value}),2)}function toArray(value){return null==value?[]:[].concat(value)}let _Symbol$toStringTag,strReg=/\$\{\s*(\w+)\s*\}/g;_Symbol$toStringTag=Symbol.toStringTag;class ValidationError extends Error{static formatError(message,params){const path=params.label||params.path||"this";return path!==params.path&&(params=Object.assign({},params,{path})),"string"==typeof message?message.replace(strReg,((_,key)=>printValue(params[key]))):"function"==typeof message?message(params):message}static isError(err){return err&&"ValidationError"===err.name}constructor(errorOrErrors,value,field,type,disableStack){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[_Symbol$toStringTag]="Error",this.name="ValidationError",this.value=value,this.path=field,this.type=type,this.errors=[],this.inner=[],toArray(errorOrErrors).forEach((err=>{if(ValidationError.isError(err)){this.errors.push(...err.errors);const innerErrors=err.inner.length?err.inner:[err];this.inner.push(...innerErrors)}else this.errors.push(err)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!disableStack&&Error.captureStackTrace&&Error.captureStackTrace(this,ValidationError)}}let mixed={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path,type,value,originalValue})=>{const castMsg=null!=originalValue&&originalValue!==value?` (cast from the value \`${printValue(originalValue,!0)}\`).`:".";return"mixed"!==type?`${path} must be a \`${type}\` type, but the final value was: \`${printValue(value,!0)}\``+castMsg:`${path} must match the configured type. The validated value was: \`${printValue(value,!0)}\``+castMsg}},string={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},index_esm_number={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},date={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},index_esm_boolean={isValue:"${path} field must be ${value}"},object={noUnknown:"${path} field has unspecified keys: ${unknown}"},array={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},tuple={notType:params=>{const{path,value,spec}=params,typeLen=spec.types.length;if(Array.isArray(value)){if(value.length<typeLen)return`${path} tuple value has too few items, expected a length of ${typeLen} but got ${value.length} for value: \`${printValue(value,!0)}\``;if(value.length>typeLen)return`${path} tuple value has too many items, expected a length of ${typeLen} but got ${value.length} for value: \`${printValue(value,!0)}\``}return ValidationError.formatError(mixed.notType,params)}};Object.assign(Object.create(null),{mixed,string,number:index_esm_number,date,object,array,boolean:index_esm_boolean,tuple});const isSchema=obj=>obj&&obj.__isYupSchema__;class Condition{static fromOptions(refs,config){if(!config.then&&!config.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is,then,otherwise}=config,check="function"==typeof is?is:(...values)=>values.every((value=>value===is));return new Condition(refs,((values,schema)=>{var _branch;let branch=check(...values)?then:otherwise;return null!=(_branch=null==branch?void 0:branch(schema))?_branch:schema}))}constructor(refs,builder){this.fn=void 0,this.refs=refs,this.refs=refs,this.fn=builder}resolve(base,options){let values=this.refs.map((ref=>ref.getValue(null==options?void 0:options.value,null==options?void 0:options.parent,null==options?void 0:options.context))),schema=this.fn(values,base,options);if(void 0===schema||schema===base)return base;if(!isSchema(schema))throw new TypeError("conditions must return a schema object");return schema.resolve(options)}}const prefixes_context="$",prefixes_value=".";class Reference{constructor(key,options={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof key)throw new TypeError("ref must be a string, got: "+key);if(this.key=key.trim(),""===key)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===prefixes_context,this.isValue=this.key[0]===prefixes_value,this.isSibling=!this.isContext&&!this.isValue;let prefix=this.isContext?prefixes_context:this.isValue?prefixes_value:"";this.path=this.key.slice(prefix.length),this.getter=this.path&&(0,property_expr.getter)(this.path,!0),this.map=options.map}getValue(value,parent,context){let result=this.isContext?context:this.isValue?value:parent;return this.getter&&(result=this.getter(result||{})),this.map&&(result=this.map(result)),result}cast(value,options){return this.getValue(value,null==options?void 0:options.parent,null==options?void 0:options.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(value){return value&&value.__isYupRef}}Reference.prototype.__isYupRef=!0;const isAbsent=value=>null==value;function createValidation(config){function validate({value,path="",options,originalValue,schema},panic,next){const{name,test,params,message,skipAbsent}=config;let{parent,context,abortEarly=schema.spec.abortEarly,disableStackTrace=schema.spec.disableStackTrace}=options;function resolve(item){return Reference.isRef(item)?item.getValue(value,parent,context):item}function createError(overrides={}){var _overrides$disableSta;const nextParams=Object.assign({value,originalValue,label:schema.spec.label,path:overrides.path||path,spec:schema.spec},params,overrides.params);for(const key of Object.keys(nextParams))nextParams[key]=resolve(nextParams[key]);const error=new ValidationError(ValidationError.formatError(overrides.message||message,nextParams),value,nextParams.path,overrides.type||name,null!=(_overrides$disableSta=overrides.disableStackTrace)?_overrides$disableSta:disableStackTrace);return error.params=nextParams,error}const invalid=abortEarly?panic:next;let ctx={path,parent,type:name,from:options.from,createError,resolve,options,originalValue,schema};const handleResult=validOrError=>{ValidationError.isError(validOrError)?invalid(validOrError):validOrError?next(null):invalid(createError())},handleError=err=>{ValidationError.isError(err)?invalid(err):panic(err)};if(skipAbsent&&isAbsent(value))return handleResult(!0);let result;try{var _result;if(result=test.call(ctx,value,ctx),"function"==typeof(null==(_result=result)?void 0:_result.then)){if(options.sync)throw new Error(`Validation test of type: "${ctx.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(result).then(handleResult,handleError)}}catch(err){return void handleError(err)}handleResult(result)}return validate.OPTIONS=config,validate}function getIn(schema,path,value,context=value){let parent,lastPart,lastPartDebug;return path?((0,property_expr.forEach)(path,((_part,isBracket,isArray)=>{let part=isBracket?_part.slice(1,_part.length-1):_part,isTuple="tuple"===(schema=schema.resolve({context,parent,value})).type,idx=isArray?parseInt(part,10):0;if(schema.innerType||isTuple){if(isTuple&&!isArray)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${lastPartDebug}" must contain an index to the tuple element, e.g. "${lastPartDebug}[0]"`);if(value&&idx>=value.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. because there is no value at that index. `);parent=value,value=value&&value[idx],schema=isTuple?schema.spec.types[idx]:schema.innerType}if(!isArray){if(!schema.fields||!schema.fields[part])throw new Error(`The schema does not contain the path: ${path}. (failed at: ${lastPartDebug} which is a type: "${schema.type}")`);parent=value,value=value&&value[part],schema=schema.fields[part]}lastPart=part,lastPartDebug=isBracket?"["+_part+"]":"."+_part})),{schema,parent,parentPath:lastPart}):{parent,parentPath:path,schema}}class ReferenceSet extends Set{describe(){const description=[];for(const item of this.values())description.push(Reference.isRef(item)?item.describe():item);return description}resolveAll(resolve){let result=[];for(const item of this.values())result.push(resolve(item));return result}clone(){return new ReferenceSet(this.values())}merge(newItems,removeItems){const next=this.clone();return newItems.forEach((value=>next.add(value))),removeItems.forEach((value=>next.delete(value))),next}}function clone(src,seen=new Map){if(isSchema(src)||!src||"object"!=typeof src)return src;if(seen.has(src))return seen.get(src);let copy;if(src instanceof Date)copy=new Date(src.getTime()),seen.set(src,copy);else if(src instanceof RegExp)copy=new RegExp(src),seen.set(src,copy);else if(Array.isArray(src)){copy=new Array(src.length),seen.set(src,copy);for(let i=0;i<src.length;i++)copy[i]=clone(src[i],seen)}else if(src instanceof Map){copy=new Map,seen.set(src,copy);for(const[k,v]of src.entries())copy.set(k,clone(v,seen))}else if(src instanceof Set){copy=new Set,seen.set(src,copy);for(const v of src)copy.add(clone(v,seen))}else{if(!(src instanceof Object))throw Error(`Unable to clone ${src}`);copy={},seen.set(src,copy);for(const[k,v]of Object.entries(src))copy[k]=clone(v,seen)}return copy}class Schema{constructor(options){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ReferenceSet,this._blacklist=new ReferenceSet,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(mixed.notType)})),this.type=options.type,this._typeCheck=options.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==options?void 0:options.spec),this.withMutation((s=>{s.nonNullable()}))}get _type(){return this.type}clone(spec){if(this._mutate)return spec&&Object.assign(this.spec,spec),this;const next=Object.create(Object.getPrototypeOf(this));return next.type=this.type,next._typeCheck=this._typeCheck,next._whitelist=this._whitelist.clone(),next._blacklist=this._blacklist.clone(),next.internalTests=Object.assign({},this.internalTests),next.exclusiveTests=Object.assign({},this.exclusiveTests),next.deps=[...this.deps],next.conditions=[...this.conditions],next.tests=[...this.tests],next.transforms=[...this.transforms],next.spec=clone(Object.assign({},this.spec,spec)),next}label(label){let next=this.clone();return next.spec.label=label,next}meta(...args){if(0===args.length)return this.spec.meta;let next=this.clone();return next.spec.meta=Object.assign(next.spec.meta||{},args[0]),next}withMutation(fn){let before=this._mutate;this._mutate=!0;let result=fn(this);return this._mutate=before,result}concat(schema){if(!schema||schema===this)return this;if(schema.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${schema.type}`);let combined=schema.clone();const mergedSpec=Object.assign({},this.spec,combined.spec);return combined.spec=mergedSpec,combined.internalTests=Object.assign({},this.internalTests,combined.internalTests),combined._whitelist=this._whitelist.merge(schema._whitelist,schema._blacklist),combined._blacklist=this._blacklist.merge(schema._blacklist,schema._whitelist),combined.tests=this.tests,combined.exclusiveTests=this.exclusiveTests,combined.withMutation((next=>{schema.tests.forEach((fn=>{next.test(fn.OPTIONS)}))})),combined.transforms=[...this.transforms,...combined.transforms],combined}isType(v){return null==v?!(!this.spec.nullable||null!==v)||!(!this.spec.optional||void 0!==v):this._typeCheck(v)}resolve(options){let schema=this;if(schema.conditions.length){let conditions=schema.conditions;schema=schema.clone(),schema.conditions=[],schema=conditions.reduce(((prevSchema,condition)=>condition.resolve(prevSchema,options)),schema),schema=schema.resolve(options)}return schema}resolveOptions(options){var _options$strict,_options$abortEarly,_options$recursive,_options$disableStack;return Object.assign({},options,{from:options.from||[],strict:null!=(_options$strict=options.strict)?_options$strict:this.spec.strict,abortEarly:null!=(_options$abortEarly=options.abortEarly)?_options$abortEarly:this.spec.abortEarly,recursive:null!=(_options$recursive=options.recursive)?_options$recursive:this.spec.recursive,disableStackTrace:null!=(_options$disableStack=options.disableStackTrace)?_options$disableStack:this.spec.disableStackTrace})}cast(value,options={}){let resolvedSchema=this.resolve(Object.assign({value},options)),allowOptionality="ignore-optionality"===options.assert,result=resolvedSchema._cast(value,options);if(!1!==options.assert&&!resolvedSchema.isType(result)){if(allowOptionality&&isAbsent(result))return result;let formattedValue=printValue(value),formattedResult=printValue(result);throw new TypeError(`The value of ${options.path||"field"} could not be cast to a value that satisfies the schema type: "${resolvedSchema.type}". \n\nattempted value: ${formattedValue} \n`+(formattedResult!==formattedValue?`result of cast: ${formattedResult}`:""))}return result}_cast(rawValue,options){let value=void 0===rawValue?rawValue:this.transforms.reduce(((prevValue,fn)=>fn.call(this,prevValue,rawValue,this)),rawValue);return void 0===value&&(value=this.getDefault(options)),value}_validate(_value,options={},panic,next){let{path,originalValue=_value,strict=this.spec.strict}=options,value=_value;strict||(value=this._cast(value,Object.assign({assert:!1},options)));let initialTests=[];for(let test of Object.values(this.internalTests))test&&initialTests.push(test);this.runTests({path,value,originalValue,options,tests:initialTests},panic,(initialErrors=>{if(initialErrors.length)return next(initialErrors,value);this.runTests({path,value,originalValue,options,tests:this.tests},panic,next)}))}runTests(runOptions,panic,next){let fired=!1,{tests,value,originalValue,path,options}=runOptions,panicOnce=arg=>{fired||(fired=!0,panic(arg,value))},nextOnce=arg=>{fired||(fired=!0,next(arg,value))},count=tests.length,nestedErrors=[];if(!count)return nextOnce([]);let args={value,originalValue,path,options,schema:this};for(let i=0;i<tests.length;i++){(0,tests[i])(args,panicOnce,(function finishTestRun(err){err&&(Array.isArray(err)?nestedErrors.push(...err):nestedErrors.push(err)),--count<=0&&nextOnce(nestedErrors)}))}}asNestedTest({key,index,parent,parentPath,originalParent,options}){const k=null!=key?key:index;if(null==k)throw TypeError("Must include `key` or `index` for nested validations");const isIndex="number"==typeof k;let value=parent[k];const testOptions=Object.assign({},options,{strict:!0,parent,value,originalValue:originalParent[k],key:void 0,[isIndex?"index":"key"]:k,path:isIndex||k.includes(".")?`${parentPath||""}[${value?k:`"${k}"`}]`:(parentPath?`${parentPath}.`:"")+key});return(_,panic,next)=>this.resolve(testOptions)._validate(value,testOptions,panic,next)}validate(value,options){var _options$disableStack2;let schema=this.resolve(Object.assign({},options,{value})),disableStackTrace=null!=(_options$disableStack2=null==options?void 0:options.disableStackTrace)?_options$disableStack2:schema.spec.disableStackTrace;return new Promise(((resolve,reject)=>schema._validate(value,options,((error,parsed)=>{ValidationError.isError(error)&&(error.value=parsed),reject(error)}),((errors,validated)=>{errors.length?reject(new ValidationError(errors,validated,void 0,void 0,disableStackTrace)):resolve(validated)}))))}validateSync(value,options){var _options$disableStack3;let result,schema=this.resolve(Object.assign({},options,{value})),disableStackTrace=null!=(_options$disableStack3=null==options?void 0:options.disableStackTrace)?_options$disableStack3:schema.spec.disableStackTrace;return schema._validate(value,Object.assign({},options,{sync:!0}),((error,parsed)=>{throw ValidationError.isError(error)&&(error.value=parsed),error}),((errors,validated)=>{if(errors.length)throw new ValidationError(errors,value,void 0,void 0,disableStackTrace);result=validated})),result}isValid(value,options){return this.validate(value,options).then((()=>!0),(err=>{if(ValidationError.isError(err))return!1;throw err}))}isValidSync(value,options){try{return this.validateSync(value,options),!0}catch(err){if(ValidationError.isError(err))return!1;throw err}}_getDefault(options){let defaultValue=this.spec.default;return null==defaultValue?defaultValue:"function"==typeof defaultValue?defaultValue.call(this,options):clone(defaultValue)}getDefault(options){return this.resolve(options||{})._getDefault(options)}default(def){if(0===arguments.length)return this._getDefault();return this.clone({default:def})}strict(isStrict=!0){return this.clone({strict:isStrict})}nullability(nullable,message){const next=this.clone({nullable});return next.internalTests.nullable=createValidation({message,name:"nullable",test(value){return null!==value||this.schema.spec.nullable}}),next}optionality(optional,message){const next=this.clone({optional});return next.internalTests.optionality=createValidation({message,name:"optionality",test(value){return void 0!==value||this.schema.spec.optional}}),next}optional(){return this.optionality(!0)}defined(message=mixed.defined){return this.optionality(!1,message)}nullable(){return this.nullability(!0)}nonNullable(message=mixed.notNull){return this.nullability(!1,message)}required(message=mixed.required){return this.clone().withMutation((next=>next.nonNullable(message).defined(message)))}notRequired(){return this.clone().withMutation((next=>next.nullable().optional()))}transform(fn){let next=this.clone();return next.transforms.push(fn),next}test(...args){let opts;if(opts=1===args.length?"function"==typeof args[0]?{test:args[0]}:args[0]:2===args.length?{name:args[0],test:args[1]}:{name:args[0],message:args[1],test:args[2]},void 0===opts.message&&(opts.message=mixed.default),"function"!=typeof opts.test)throw new TypeError("`test` is a required parameters");let next=this.clone(),validate=createValidation(opts),isExclusive=opts.exclusive||opts.name&&!0===next.exclusiveTests[opts.name];if(opts.exclusive&&!opts.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return opts.name&&(next.exclusiveTests[opts.name]=!!opts.exclusive),next.tests=next.tests.filter((fn=>{if(fn.OPTIONS.name===opts.name){if(isExclusive)return!1;if(fn.OPTIONS.test===validate.OPTIONS.test)return!1}return!0})),next.tests.push(validate),next}when(keys,options){Array.isArray(keys)||"string"==typeof keys||(options=keys,keys=".");let next=this.clone(),deps=toArray(keys).map((key=>new Reference(key)));return deps.forEach((dep=>{dep.isSibling&&next.deps.push(dep.key)})),next.conditions.push("function"==typeof options?new Condition(deps,options):Condition.fromOptions(deps,options)),next}typeError(message){let next=this.clone();return next.internalTests.typeError=createValidation({message,name:"typeError",skipAbsent:!0,test(value){return!!this.schema._typeCheck(value)||this.createError({params:{type:this.schema.type}})}}),next}oneOf(enums,message=mixed.oneOf){let next=this.clone();return enums.forEach((val=>{next._whitelist.add(val),next._blacklist.delete(val)})),next.internalTests.whiteList=createValidation({message,name:"oneOf",skipAbsent:!0,test(value){let valids=this.schema._whitelist,resolved=valids.resolveAll(this.resolve);return!!resolved.includes(value)||this.createError({params:{values:Array.from(valids).join(", "),resolved}})}}),next}notOneOf(enums,message=mixed.notOneOf){let next=this.clone();return enums.forEach((val=>{next._blacklist.add(val),next._whitelist.delete(val)})),next.internalTests.blacklist=createValidation({message,name:"notOneOf",test(value){let invalids=this.schema._blacklist,resolved=invalids.resolveAll(this.resolve);return!resolved.includes(value)||this.createError({params:{values:Array.from(invalids).join(", "),resolved}})}}),next}strip(strip=!0){let next=this.clone();return next.spec.strip=strip,next}describe(options){const next=(options?this.resolve(options):this).clone(),{label,meta,optional,nullable}=next.spec;return{meta,label,optional,nullable,default:next.getDefault(options),type:next.type,oneOf:next._whitelist.describe(),notOneOf:next._blacklist.describe(),tests:next.tests.map((fn=>({name:fn.OPTIONS.name,params:fn.OPTIONS.params}))).filter(((n,idx,list)=>list.findIndex((c=>c.name===n.name))===idx))}}}Schema.prototype.__isYupSchema__=!0;for(const method of["validate","validateSync"])Schema.prototype[`${method}At`]=function(path,value,options={}){const{parent,parentPath,schema}=getIn(this,path,value,options.context);return schema[method](parent&&parent[parentPath],Object.assign({},options,{parent,path}))};for(const alias of["equals","is"])Schema.prototype[alias]=Schema.prototype.oneOf;for(const alias of["not","nope"])Schema.prototype[alias]=Schema.prototype.notOneOf;let rEmail=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rUrl=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,rUUID=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,isTrimmed=value=>isAbsent(value)||value===value.trim(),objStringTag={}.toString();function create$6(){return new StringSchema}class StringSchema extends Schema{constructor(){super({type:"string",check:value=>(value instanceof String&&(value=value.valueOf()),"string"==typeof value)}),this.withMutation((()=>{this.transform(((value,_raw,ctx)=>{if(!ctx.spec.coerce||ctx.isType(value))return value;if(Array.isArray(value))return value;const strValue=null!=value&&value.toString?value.toString():value;return strValue===objStringTag?value:strValue}))}))}required(message){return super.required(message).withMutation((schema=>schema.test({message:message||mixed.required,name:"required",skipAbsent:!0,test:value=>!!value.length})))}notRequired(){return super.notRequired().withMutation((schema=>(schema.tests=schema.tests.filter((t=>"required"!==t.OPTIONS.name)),schema)))}length(length,message=string.length){return this.test({message,name:"length",exclusive:!0,params:{length},skipAbsent:!0,test(value){return value.length===this.resolve(length)}})}min(min,message=string.min){return this.test({message,name:"min",exclusive:!0,params:{min},skipAbsent:!0,test(value){return value.length>=this.resolve(min)}})}max(max,message=string.max){return this.test({name:"max",exclusive:!0,message,params:{max},skipAbsent:!0,test(value){return value.length<=this.resolve(max)}})}matches(regex,options){let message,name,excludeEmptyString=!1;return options&&("object"==typeof options?({excludeEmptyString=!1,message,name}=options):message=options),this.test({name:name||"matches",message:message||string.matches,params:{regex},skipAbsent:!0,test:value=>""===value&&excludeEmptyString||-1!==value.search(regex)})}email(message=string.email){return this.matches(rEmail,{name:"email",message,excludeEmptyString:!0})}url(message=string.url){return this.matches(rUrl,{name:"url",message,excludeEmptyString:!0})}uuid(message=string.uuid){return this.matches(rUUID,{name:"uuid",message,excludeEmptyString:!1})}ensure(){return this.default("").transform((val=>null===val?"":val))}trim(message=string.trim){return this.transform((val=>null!=val?val.trim():val)).test({message,name:"trim",test:isTrimmed})}lowercase(message=string.lowercase){return this.transform((value=>isAbsent(value)?value:value.toLowerCase())).test({message,name:"string_case",exclusive:!0,skipAbsent:!0,test:value=>isAbsent(value)||value===value.toLowerCase()})}uppercase(message=string.uppercase){return this.transform((value=>isAbsent(value)?value:value.toUpperCase())).test({message,name:"string_case",exclusive:!0,skipAbsent:!0,test:value=>isAbsent(value)||value===value.toUpperCase()})}}create$6.prototype=StringSchema.prototype;const isoReg=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function toNumber(str,defaultValue=0){return Number(str)||defaultValue}let invalidDate=new Date("");function create$4(){return new DateSchema}class DateSchema extends Schema{constructor(){super({type:"date",check(v){return obj=v,"[object Date]"===Object.prototype.toString.call(obj)&&!isNaN(v.getTime());var obj}}),this.withMutation((()=>{this.transform(((value,_raw,ctx)=>!ctx.spec.coerce||ctx.isType(value)||null===value?value:(value=function parseIsoDate(date){const regexResult=isoReg.exec(date);if(!regexResult)return Date.parse?Date.parse(date):Number.NaN;const struct={year:toNumber(regexResult[1]),month:toNumber(regexResult[2],1)-1,day:toNumber(regexResult[3],1),hour:toNumber(regexResult[4]),minute:toNumber(regexResult[5]),second:toNumber(regexResult[6]),millisecond:regexResult[7]?toNumber(regexResult[7].substring(0,3)):0,z:regexResult[8]||void 0,plusMinus:regexResult[9]||void 0,hourOffset:toNumber(regexResult[10]),minuteOffset:toNumber(regexResult[11])};if(void 0===struct.z&&void 0===struct.plusMinus)return new Date(struct.year,struct.month,struct.day,struct.hour,struct.minute,struct.second,struct.millisecond).valueOf();let totalMinutesOffset=0;return"Z"!==struct.z&&void 0!==struct.plusMinus&&(totalMinutesOffset=60*struct.hourOffset+struct.minuteOffset,"+"===struct.plusMinus&&(totalMinutesOffset=0-totalMinutesOffset)),Date.UTC(struct.year,struct.month,struct.day,struct.hour,struct.minute+totalMinutesOffset,struct.second,struct.millisecond)}(value),isNaN(value)?DateSchema.INVALID_DATE:new Date(value))))}))}prepareParam(ref,name){let param;if(Reference.isRef(ref))param=ref;else{let cast=this.cast(ref);if(!this._typeCheck(cast))throw new TypeError(`\`${name}\` must be a Date or a value that can be \`cast()\` to a Date`);param=cast}return param}min(min,message=date.min){let limit=this.prepareParam(min,"min");return this.test({message,name:"min",exclusive:!0,params:{min},skipAbsent:!0,test(value){return value>=this.resolve(limit)}})}max(max,message=date.max){let limit=this.prepareParam(max,"max");return this.test({message,name:"max",exclusive:!0,params:{max},skipAbsent:!0,test(value){return value<=this.resolve(limit)}})}}function findIndex(arr,err){let idx=1/0;return arr.some(((key,ii)=>{var _err$path;if(null!=(_err$path=err.path)&&_err$path.includes(key))return idx=ii,!0})),idx}function sortByKeyOrder(keys){return(a,b)=>findIndex(keys,a)-findIndex(keys,b)}DateSchema.INVALID_DATE=invalidDate,create$4.prototype=DateSchema.prototype,create$4.INVALID_DATE=invalidDate;const parseJson=(value,_,ctx)=>{if("string"!=typeof value)return value;let parsed=value;try{parsed=JSON.parse(value)}catch(err){}return ctx.isType(parsed)?parsed:value};function deepPartial(schema){if("fields"in schema){const partial={};for(const[key,fieldSchema]of Object.entries(schema.fields))partial[key]=deepPartial(fieldSchema);return schema.setFields(partial)}if("array"===schema.type){const nextArray=schema.optional();return nextArray.innerType&&(nextArray.innerType=deepPartial(nextArray.innerType)),nextArray}return"tuple"===schema.type?schema.optional().clone({types:schema.spec.types.map(deepPartial)}):"optional"in schema?schema.optional():schema}let isObject=obj=>"[object Object]"===Object.prototype.toString.call(obj);const defaultSort=sortByKeyOrder([]);function create$3(spec){return new ObjectSchema(spec)}class ObjectSchema extends Schema{constructor(spec){super({type:"object",check:value=>isObject(value)||"function"==typeof value}),this.fields=Object.create(null),this._sortErrors=defaultSort,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{spec&&this.shape(spec)}))}_cast(_value,options={}){var _options$stripUnknown;let value=super._cast(_value,options);if(void 0===value)return this.getDefault(options);if(!this._typeCheck(value))return value;let fields=this.fields,strip=null!=(_options$stripUnknown=options.stripUnknown)?_options$stripUnknown:this.spec.noUnknown,props=[].concat(this._nodes,Object.keys(value).filter((v=>!this._nodes.includes(v)))),intermediateValue={},innerOptions=Object.assign({},options,{parent:intermediateValue,__validating:options.__validating||!1}),isChanged=!1;for(const prop of props){let field=fields[prop],exists=prop in value;if(field){let fieldValue,inputValue=value[prop];innerOptions.path=(options.path?`${options.path}.`:"")+prop,field=field.resolve({value:inputValue,context:options.context,parent:intermediateValue});let fieldSpec=field instanceof Schema?field.spec:void 0,strict=null==fieldSpec?void 0:fieldSpec.strict;if(null!=fieldSpec&&fieldSpec.strip){isChanged=isChanged||prop in value;continue}fieldValue=options.__validating&&strict?value[prop]:field.cast(value[prop],innerOptions),void 0!==fieldValue&&(intermediateValue[prop]=fieldValue)}else exists&&!strip&&(intermediateValue[prop]=value[prop]);exists===prop in intermediateValue&&intermediateValue[prop]===value[prop]||(isChanged=!0)}return isChanged?intermediateValue:value}_validate(_value,options={},panic,next){let{from=[],originalValue=_value,recursive=this.spec.recursive}=options;options.from=[{schema:this,value:originalValue},...from],options.__validating=!0,options.originalValue=originalValue,super._validate(_value,options,panic,((objectErrors,value)=>{if(!recursive||!isObject(value))return void next(objectErrors,value);originalValue=originalValue||value;let tests=[];for(let key of this._nodes){let field=this.fields[key];field&&!Reference.isRef(field)&&tests.push(field.asNestedTest({options,key,parent:value,parentPath:options.path,originalParent:originalValue}))}this.runTests({tests,value,originalValue,options},panic,(fieldErrors=>{next(fieldErrors.sort(this._sortErrors).concat(objectErrors),value)}))}))}clone(spec){const next=super.clone(spec);return next.fields=Object.assign({},this.fields),next._nodes=this._nodes,next._excludedEdges=this._excludedEdges,next._sortErrors=this._sortErrors,next}concat(schema){let next=super.concat(schema),nextFields=next.fields;for(let[field,schemaOrRef]of Object.entries(this.fields)){const target=nextFields[field];nextFields[field]=void 0===target?schemaOrRef:target}return next.withMutation((s=>s.setFields(nextFields,[...this._excludedEdges,...schema._excludedEdges])))}_getDefault(options){if("default"in this.spec)return super._getDefault(options);if(!this._nodes.length)return;let dft={};return this._nodes.forEach((key=>{var _innerOptions;const field=this.fields[key];let innerOptions=options;null!=(_innerOptions=innerOptions)&&_innerOptions.value&&(innerOptions=Object.assign({},innerOptions,{parent:innerOptions.value,value:innerOptions.value[key]})),dft[key]=field&&"getDefault"in field?field.getDefault(innerOptions):void 0})),dft}setFields(shape,excludedEdges){let next=this.clone();return next.fields=shape,next._nodes=function sortFields(fields,excludedEdges=[]){let edges=[],nodes=new Set,excludes=new Set(excludedEdges.map((([a,b])=>`${a}-${b}`)));function addNode(depPath,key){let node=(0,property_expr.split)(depPath)[0];nodes.add(node),excludes.has(`${key}-${node}`)||edges.push([key,node])}for(const key of Object.keys(fields)){let value=fields[key];nodes.add(key),Reference.isRef(value)&&value.isSibling?addNode(value.path,key):isSchema(value)&&"deps"in value&&value.deps.forEach((path=>addNode(path,key)))}return toposort_default().array(Array.from(nodes),edges).reverse()}(shape,excludedEdges),next._sortErrors=sortByKeyOrder(Object.keys(shape)),excludedEdges&&(next._excludedEdges=excludedEdges),next}shape(additions,excludes=[]){return this.clone().withMutation((next=>{let edges=next._excludedEdges;return excludes.length&&(Array.isArray(excludes[0])||(excludes=[excludes]),edges=[...next._excludedEdges,...excludes]),next.setFields(Object.assign(next.fields,additions),edges)}))}partial(){const partial={};for(const[key,schema]of Object.entries(this.fields))partial[key]="optional"in schema&&schema.optional instanceof Function?schema.optional():schema;return this.setFields(partial)}deepPartial(){return deepPartial(this)}pick(keys){const picked={};for(const key of keys)this.fields[key]&&(picked[key]=this.fields[key]);return this.setFields(picked,this._excludedEdges.filter((([a,b])=>keys.includes(a)&&keys.includes(b))))}omit(keys){const remaining=[];for(const key of Object.keys(this.fields))keys.includes(key)||remaining.push(key);return this.pick(remaining)}from(from,to,alias){let fromGetter=(0,property_expr.getter)(from,!0);return this.transform((obj=>{if(!obj)return obj;let newObj=obj;return((obj,p)=>{const path=[...(0,property_expr.normalizePath)(p)];if(1===path.length)return path[0]in obj;let last=path.pop(),parent=(0,property_expr.getter)((0,property_expr.join)(path),!0)(obj);return!(!parent||!(last in parent))})(obj,from)&&(newObj=Object.assign({},obj),alias||delete newObj[from],newObj[to]=fromGetter(obj)),newObj}))}json(){return this.transform(parseJson)}noUnknown(noAllow=!0,message=object.noUnknown){"boolean"!=typeof noAllow&&(message=noAllow,noAllow=!0);let next=this.test({name:"noUnknown",exclusive:!0,message,test(value){if(null==value)return!0;const unknownKeys=function unknown(ctx,value){let known=Object.keys(ctx.fields);return Object.keys(value).filter((key=>-1===known.indexOf(key)))}(this.schema,value);return!noAllow||0===unknownKeys.length||this.createError({params:{unknown:unknownKeys.join(", ")}})}});return next.spec.noUnknown=noAllow,next}unknown(allow=!0,message=object.noUnknown){return this.noUnknown(!allow,message)}transformKeys(fn){return this.transform((obj=>{if(!obj)return obj;const result={};for(const key of Object.keys(obj))result[fn(key)]=obj[key];return result}))}camelCase(){return this.transformKeys(tiny_case.camelCase)}snakeCase(){return this.transformKeys(tiny_case.snakeCase)}constantCase(){return this.transformKeys((key=>(0,tiny_case.snakeCase)(key).toUpperCase()))}describe(options){const next=(options?this.resolve(options):this).clone(),base=super.describe(options);base.fields={};for(const[key,value]of Object.entries(next.fields)){var _innerOptions2;let innerOptions=options;null!=(_innerOptions2=innerOptions)&&_innerOptions2.value&&(innerOptions=Object.assign({},innerOptions,{parent:innerOptions.value,value:innerOptions.value[key]})),base.fields[key]=value.describe(innerOptions)}return base}}create$3.prototype=ObjectSchema.prototype;var constants=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),postcondition=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition.js"),builders=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/builders.js");function defineContract(contracts){return contracts}var stringCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/stringCV.js"),bufferCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/bufferCV.js"),optionalCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/optionalCV.js"),clarity_constants=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js"),common=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/common.js");class ClarityError extends Error{code;constructor(code){super(`ClarityError: ${code}`),this.code=code}}const addressResult=result=>{if(result.type===clarity_constants.d.PrincipalStandard)return(0,common.pD)(result.address);throw new Error(`Expected principal, got ${result.type}`)},contractResult=result=>{if(result.type===clarity_constants.d.PrincipalContract)return`${(0,common.pD)(result.address)}.${result.contractName.content}`;throw new Error(`Expected principal, got ${result.type}`)},intResult=result=>{if(result.type===clarity_constants.d.Int||result.type===clarity_constants.d.UInt)return result.value;throw new Error(`Expected integer, got ${result.type}`)},stringResult=result=>{if(result.type===clarity_constants.d.StringASCII||result.type===clarity_constants.d.StringUTF8)return result.data;throw new Error(`Expected string, got ${result.type}`)},defaultErrorDecoder=value=>value.type===clarity_constants.d.StringASCII||value.type===clarity_constants.d.StringUTF8?new Error(value.data):value.type===clarity_constants.d.UInt||value.type===clarity_constants.d.Int?new ClarityError(Number(value.value)):new Error("Unknown error");function responseSimpleDecoder(success,failure=defaultErrorDecoder){return value=>{if(value.type===clarity_constants.d.ResponseErr)return{type:"error",error:failure(value.value)};if(value.type===clarity_constants.d.ResponseOk)return{type:"success",value:success(value.value)};throw new Error(`Expected response, got ${value.type}`)}}var tupleCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/tupleCV.js"),responseCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/responseCV.js"),intCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/intCV.js"),principalCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/principalCV.js"),booleanCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/booleanCV.js");function encoders_principalCV(principal){if(principal.includes(".")){const[address,contractName]=principal.split(".");return(0,principalCV.iZ)(address,contractName)}return(0,principalCV.f)(principal)}function mapValues(obj,mapping){return Object.keys(obj).reduce(((acc,key)=>(acc[key]=mapping(obj[key],key),acc)),{})}const unwrapResponse=response=>{if("success"===response.type)return response.value;throw response.error};const uintT={encode:input=>(0,intCV.u)(input),decode:intResult},booleanT=(stringCV.y3,stringCV.IE,{encode:value=>value?(0,booleanCV.WM)():(0,booleanCV.PH)(),decode:result=>{if(result.type===clarity_constants.d.BoolTrue)return!0;if(result.type===clarity_constants.d.BoolFalse)return!1;throw new Error(`Expected integer, got ${result.type}`)}}),principalT=(bufferCV.I,{encode:encoders_principalCV,decode:result=>{if(result.type===clarity_constants.d.PrincipalStandard)return addressResult(result);if(result.type===clarity_constants.d.PrincipalContract)return contractResult(result);throw new Error(`Expected principal, got ${result.type}`)}}),traitT={encode:function traitCV(principal){const[addr,name]=principal.split(".");return(0,principalCV.iZ)(addr,name)},decode:contractResult},tupleT=transcoderObj=>({encode:function tupleEncoder(decorators){return input=>{const result={};for(const key of Object.keys(decorators))result[key]=decorators[key](input[key]);return(0,tupleCV.M)(result)}}(mapValues(transcoderObj,(o=>o.encode))),decode:function tupleDecoder(decorators){return input=>{if(input.type!==clarity_constants.d.Tuple)throw new Error(`Expected tuple, got ${input.type}`);const result={};for(const key of Object.keys(decorators))result[key]=decorators[key](input.data[key]);return result}}(mapValues(transcoderObj,(o=>o.decode)))}),optionalT=someTranscoder=>{return{encode:(encoder=someTranscoder.encode,value=>void 0===value?(0,optionalCV.gu)():(0,optionalCV.gp)(encoder(value))),decode:(decoder=someTranscoder.decode,value=>{if(value.type!==clarity_constants.d.OptionalNone)return value.type===clarity_constants.d.OptionalSome?decoder(value.value):decoder(value)})};var decoder,encoder},noneT={encode:optionalCV.gu,decode:result=>{if(result.type===clarity_constants.d.OptionalNone)return null;throw new Error(`Expected none, got ${result.type}`)}},responseSimpleT=okValueTransducer=>{return{encode:(success=okValueTransducer.encode,value=>"success"===value.type?(0,responseCV.B)(success(value.value)):value.error instanceof ClarityError?(0,responseCV.v)((0,intCV.u)(value.error.code)):(0,responseCV.v)((0,stringCV.y3)(value.error.message))),decode:responseSimpleDecoder(okValueTransducer.decode)};var success};var alex_sdk_esm_Currency,network=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/network.js");function createCurrency(value){return value}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}function _createForOfIteratorHelperLoose(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(t)return(t=t.call(r)).next.bind(t);if(Array.isArray(r)||(t=function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var o=0;return function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{define({},"")}catch(t){define=function(t,e,r){return t[e]=r}}function wrap(t,e,r,n){var i=e&&e.prototype instanceof Generator?e:Generator,a=Object.create(i.prototype),c=new Context(n||[]);return o(a,"_invoke",{value:makeInvokeMethod(t,r,c)}),a}function tryCatch(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=wrap;var h="suspendedStart",l="suspendedYield",f="executing",s="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var p={};define(p,a,(function(){return this}));var d=Object.getPrototypeOf,v=d&&d(d(values([])));v&&v!==r&&n.call(v,a)&&(p=v);var g=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(p);function defineIteratorMethods(t){["next","throw","return"].forEach((function(e){define(t,e,(function(t){return this._invoke(e,t)}))}))}function AsyncIterator(t,e){function invoke(r,o,i,a){var c=tryCatch(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){invoke("next",t,i,a)}),(function(t){invoke("throw",t,i,a)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return invoke("throw",t,i,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function(t,n){function callInvokeWithMethodAndArg(){return new e((function(e,r){invoke(t,n,e,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(e,r,n){var o=h;return function(i,a){if(o===f)throw Error("Generator is already running");if(o===s){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=maybeInvokeDelegate(c,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=s,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var p=tryCatch(e,r,n);if("normal"===p.type){if(o=n.done?s:l,p.arg===y)continue;return{value:p.arg,done:n.done}}"throw"===p.type&&(o=s,n.method="throw",n.arg=p.arg)}}}function maybeInvokeDelegate(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,maybeInvokeDelegate(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var i=tryCatch(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,y;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function pushTryEntry(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function resetTryEntry(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function next(){for(;++o<e.length;)if(n.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=t,next.done=!0,next};return i.next=i}}throw new TypeError(typeof e+" is not iterable")}return GeneratorFunction.prototype=GeneratorFunctionPrototype,o(g,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),o(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===GeneratorFunction||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},e.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,c,(function(){return this})),e.AsyncIterator=AsyncIterator,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new AsyncIterator(wrap(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},defineIteratorMethods(g),define(g,u,"Generator"),define(g,a,(function(){return this})),define(g,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function next(){for(;r.length;){var t=r.pop();if(t in e)return next.value=t,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;resetTryEntry(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:values(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}!function(Currency){Currency.STX=createCurrency("token-wstx"),Currency.ALEX=createCurrency("age000-governance-token")}(alex_sdk_esm_Currency||(alex_sdk_esm_Currency={}));var AlexContracts=defineContract(_extends({},defineContract({"amm-pool-v2-01":{"add-to-position":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"factor",type:uintT},{name:"dx",type:uintT},{name:"max-dy",type:optionalT(uintT)}],output:responseSimpleT(tupleT({dx:uintT,dy:uintT,supply:uintT})),mode:"public"},"create-pool":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"factor",type:uintT},{name:"pool-owner",type:principalT},{name:"dx",type:uintT},{name:"dy",type:uintT}],output:responseSimpleT(tupleT({dx:uintT,dy:uintT,supply:uintT})),mode:"public"},pause:{input:[{name:"new-paused",type:booleanT}],output:responseSimpleT(booleanT),mode:"public"},"reduce-position":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"factor",type:uintT},{name:"percent",type:uintT}],output:responseSimpleT(tupleT({dx:uintT,dy:uintT})),mode:"public"},"set-end-block":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"new-end-block",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"set-fee-rate-x":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"fee-rate-x",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"set-fee-rate-y":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"fee-rate-y",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"set-max-in-ratio":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"new-max-in-ratio",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"set-max-out-ratio":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"new-max-out-ratio",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"set-oracle-average":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"new-oracle-average",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"set-oracle-enabled":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"enabled",type:booleanT}],output:responseSimpleT(booleanT),mode:"public"},"set-start-block":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"new-start-block",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"set-threshold-x":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"new-threshold",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"set-threshold-y":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"new-threshold",type:uintT}],output:responseSimpleT(booleanT),mode:"public"},"swap-helper":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"factor",type:uintT},{name:"dx",type:uintT},{name:"min-dy",type:optionalT(uintT)}],output:responseSimpleT(uintT),mode:"public"},"swap-helper-a":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"token-z-trait",type:traitT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT},{name:"dx",type:uintT},{name:"min-dz",type:optionalT(uintT)}],output:responseSimpleT(uintT),mode:"public"},"swap-helper-b":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"token-z-trait",type:traitT},{name:"token-w-trait",type:traitT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT},{name:"factor-z",type:uintT},{name:"dx",type:uintT},{name:"min-dw",type:optionalT(uintT)}],output:responseSimpleT(uintT),mode:"public"},"swap-helper-c":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"token-z-trait",type:traitT},{name:"token-w-trait",type:traitT},{name:"token-v-trait",type:traitT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT},{name:"factor-z",type:uintT},{name:"factor-w",type:uintT},{name:"dx",type:uintT},{name:"min-dv",type:optionalT(uintT)}],output:responseSimpleT(uintT),mode:"public"},"swap-x-for-y":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"factor",type:uintT},{name:"dx",type:uintT},{name:"min-dy",type:optionalT(uintT)}],output:responseSimpleT(tupleT({dx:uintT,dy:uintT})),mode:"public"},"swap-y-for-x":{input:[{name:"token-x-trait",type:traitT},{name:"token-y-trait",type:traitT},{name:"factor",type:uintT},{name:"dy",type:uintT},{name:"min-dx",type:optionalT(uintT)}],output:responseSimpleT(tupleT({dx:uintT,dy:uintT})),mode:"public"},"check-pool-status":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(booleanT),mode:"readonly"},"fee-helper":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"fee-helper-a":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"token-z",type:principalT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"fee-helper-b":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"token-z",type:principalT},{name:"token-w",type:principalT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT},{name:"factor-z",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"fee-helper-c":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"token-z",type:principalT},{name:"token-w",type:principalT},{name:"token-v",type:principalT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT},{name:"factor-z",type:uintT},{name:"factor-w",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-balances":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(tupleT({"balance-x":uintT,"balance-y":uintT})),mode:"readonly"},"get-end-block":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-fee-rate-x":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-fee-rate-y":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-fee-rebate":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-helper":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"dx",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-helper-a":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"token-z",type:principalT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT},{name:"dx",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-helper-b":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"token-z",type:principalT},{name:"token-w",type:principalT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT},{name:"factor-z",type:uintT},{name:"dx",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-helper-c":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"token-z",type:principalT},{name:"token-w",type:principalT},{name:"token-v",type:principalT},{name:"factor-x",type:uintT},{name:"factor-y",type:uintT},{name:"factor-z",type:uintT},{name:"factor-w",type:uintT},{name:"dx",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-invariant":{input:[{name:"balance-x",type:uintT},{name:"balance-y",type:uintT},{name:"t",type:uintT}],output:uintT,mode:"readonly"},"get-max-in-ratio":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-max-out-ratio":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-max-ratio-limit":{input:[],output:uintT,mode:"readonly"},"get-oracle-average":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-oracle-enabled":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(booleanT),mode:"readonly"},"get-oracle-instant":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-oracle-resilient":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-pool-details":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(tupleT({"balance-x":uintT,"balance-y":uintT,"end-block":uintT,"fee-rate-x":uintT,"fee-rate-y":uintT,"fee-rebate":uintT,"max-in-ratio":uintT,"max-out-ratio":uintT,"oracle-average":uintT,"oracle-enabled":booleanT,"oracle-resilient":uintT,"pool-id":uintT,"pool-owner":principalT,"start-block":uintT,"threshold-x":uintT,"threshold-y":uintT,"total-supply":uintT})),mode:"readonly"},"get-pool-details-by-id":{input:[{name:"pool-id",type:uintT}],output:responseSimpleT(tupleT({factor:uintT,"token-x":principalT,"token-y":principalT})),mode:"readonly"},"get-pool-exists":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:optionalT(tupleT({"balance-x":uintT,"balance-y":uintT,"end-block":uintT,"fee-rate-x":uintT,"fee-rate-y":uintT,"fee-rebate":uintT,"max-in-ratio":uintT,"max-out-ratio":uintT,"oracle-average":uintT,"oracle-enabled":booleanT,"oracle-resilient":uintT,"pool-id":uintT,"pool-owner":principalT,"start-block":uintT,"threshold-x":uintT,"threshold-y":uintT,"total-supply":uintT})),mode:"readonly"},"get-pool-owner":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(principalT),mode:"readonly"},"get-position-given-burn":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"token-amount",type:uintT}],output:responseSimpleT(tupleT({dx:uintT,dy:uintT})),mode:"readonly"},"get-position-given-mint":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"token-amount",type:uintT}],output:responseSimpleT(tupleT({dx:uintT,dy:uintT})),mode:"readonly"},"get-price":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-start-block":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-switch-threshold":{input:[],output:uintT,mode:"readonly"},"get-threshold-x":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-threshold-y":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-token-given-position":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"dx",type:uintT},{name:"max-dy",type:optionalT(uintT)}],output:responseSimpleT(tupleT({dy:uintT,token:uintT})),mode:"readonly"},"get-x-given-price":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"price",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-x-given-y":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"dy",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-x-in-given-y-out":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"dy",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-y-given-price":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"price",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-y-given-x":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"dx",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"get-y-in-given-x-out":{input:[{name:"token-x",type:principalT},{name:"token-y",type:principalT},{name:"factor",type:uintT},{name:"dx",type:uintT}],output:responseSimpleT(uintT),mode:"readonly"},"is-blocklisted-or-default":{input:[{name:"sender",type:principalT}],output:booleanT,mode:"readonly"},"is-dao-or-extension":{input:[],output:responseSimpleT(booleanT),mode:"readonly"},"is-paused":{input:[],output:booleanT,mode:"readonly"},paused:{input:noneT,output:booleanT,mode:"variable"}}}))),configs={CONTRACT_DEPLOYER:"SP102V8P0F7JX67ARQ77WEA3D3CFB5XW39REDT0AM",API_HOST:"https://api.alexgo.io",STACKS_API_HOST:"https://api.hiro.so",READONLY_CALL_API_HOST:"https://stacks-node.alexlab.co"};function isNotNull(input){return null!=input}function fromEntries(entries){return entries.reduce((function(acc,_ref){var key=_ref[0],value=_ref[1];return acc[key]=value,acc}),{})}function neighbours(token,pools){return pools.map((function(pool){return pool.tokenX===token?{neighbour:pool.tokenY,pool}:pool.tokenY===token?{neighbour:pool.tokenX,pool}:null})).filter(isNotNull)}function resolveAmmRoute(tokenX,tokenY,pools){var _visited;if(0===pools.length)return[];for(var visited=((_visited={})[tokenX]=[],_visited),i=0;i<4;i++)for(var _step,visitedNodes=Object.keys(visited).map((function(a){return a})),_iterator=_createForOfIteratorHelperLoose(visitedNodes);!(_step=_iterator()).done;)for(var _step2,a=_step.value,_iterator2=_createForOfIteratorHelperLoose(neighbours(a,pools));!(_step2=_iterator2()).done;){var _visited$a,_visited$a2,b=_step2.value;if(b.neighbour===tokenY)return[].concat(null!=(_visited$a=visited[a])?_visited$a:[],[b]);if(null==visited[b.neighbour])visited[b.neighbour]=[].concat(null!=(_visited$a2=visited[a])?_visited$a2:[],[b])}return[]}var composeTx=function composeTx(contractName,functionName,args,postConditions){var clarityArgs=AlexContracts[contractName][functionName].input.map((function(arg){return arg.type.encode(args[arg.name])}));return{contractName,functionName:String(functionName),functionArgs:clarityArgs,contractAddress:configs.CONTRACT_DEPLOYER,postConditions}};function runSpot(stxAddress,currencyX,currencyY,fromAmount,minDy,ammPools,mappings,customRoute){var ammRoute=null!=customRoute?customRoute:resolveAmmRoute(currencyX,currencyY,ammPools),getContractId=function getContractId(currency){return mappings.find((function(x){return x.id===currency})).wrapToken.split("::")[0]},AlexVault=configs.CONTRACT_DEPLOYER+".amm-vault-v2-01";if(0===ammRoute.length)throw new Error("Can't find AMM route");var transfer=function transferFactory(tokenMapping){return function(senderAddress,currency,amount,compare){void 0===compare&&(compare=constants.Dx.Equal);var mapping=tokenMapping.find((function(m){return m.id===currency}));if(!mapping)throw new Error("Token mapping not found");var scale=BigInt(Math.pow(10,mapping.underlyingTokenDecimals)),nativeAmount=amount*BigInt(scale)/BigInt(1e8);return currency===alex_sdk_esm_Currency.STX?(0,postcondition.p0)(senderAddress,compare,nativeAmount):(mapping.isRebaseToken&&(compare=constants.Dx.GreaterEqual,nativeAmount=BigInt(0)),(0,postcondition.e3)(senderAddress,compare,nativeAmount,mapping.underlyingToken))}}(mappings);if(1===ammRoute.length)return composeTx("amm-pool-v2-01","swap-helper",{"token-x-trait":getContractId(currencyX),"token-y-trait":getContractId(ammRoute[0].neighbour),factor:ammRoute[0].pool.factor,dx:fromAmount,"min-dy":minDy},[transfer(stxAddress,currencyX,fromAmount),transfer(AlexVault,currencyY,minDy,constants.Dx.GreaterEqual)]);if(2===ammRoute.length)return composeTx("amm-pool-v2-01","swap-helper-a",{"token-x-trait":getContractId(currencyX),"token-y-trait":getContractId(ammRoute[0].neighbour),"token-z-trait":getContractId(ammRoute[1].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor,dx:fromAmount,"min-dz":minDy},[transfer(stxAddress,currencyX,fromAmount),transfer(AlexVault,ammRoute[0].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(stxAddress,ammRoute[0].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(AlexVault,currencyY,minDy,constants.Dx.GreaterEqual)]);if(3===ammRoute.length)return composeTx("amm-pool-v2-01","swap-helper-b",{"token-x-trait":getContractId(currencyX),"token-y-trait":getContractId(ammRoute[0].neighbour),"token-z-trait":getContractId(ammRoute[1].neighbour),"token-w-trait":getContractId(ammRoute[2].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor,"factor-z":ammRoute[2].pool.factor,dx:fromAmount,"min-dw":minDy},[transfer(stxAddress,currencyX,fromAmount),transfer(AlexVault,ammRoute[0].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(stxAddress,ammRoute[0].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(AlexVault,ammRoute[1].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(stxAddress,ammRoute[1].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(AlexVault,currencyY,minDy,constants.Dx.GreaterEqual)]);if(4===ammRoute.length)return composeTx("amm-pool-v2-01","swap-helper-c",{"token-x-trait":getContractId(currencyX),"token-y-trait":getContractId(ammRoute[0].neighbour),"token-z-trait":getContractId(ammRoute[1].neighbour),"token-w-trait":getContractId(ammRoute[2].neighbour),"token-v-trait":getContractId(ammRoute[3].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor,"factor-z":ammRoute[2].pool.factor,"factor-w":ammRoute[3].pool.factor,dx:fromAmount,"min-dv":minDy},[transfer(stxAddress,currencyX,fromAmount),transfer(AlexVault,ammRoute[0].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(stxAddress,ammRoute[0].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(AlexVault,ammRoute[1].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(stxAddress,ammRoute[1].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(AlexVault,ammRoute[2].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(stxAddress,ammRoute[2].neighbour,BigInt(0),constants.Dx.GreaterEqual),transfer(AlexVault,currencyY,minDy,constants.Dx.GreaterEqual)]);throw new Error("Too many AMM pools in route")}var defaultReadonlyCallExecutor=function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(options){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",(0,builders.Lg)(_extends({},options,{senderAddress:configs.CONTRACT_DEPLOYER,network:new network.ig({url:configs.READONLY_CALL_API_HOST})})));case 1:case"end":return _context.stop()}}),_callee)})));return function defaultReadonlyCallExecutor(_x){return _ref.apply(this,arguments)}}();function readonlyCall(_x2,_x3,_x4){return _readonlyCall.apply(this,arguments)}function _readonlyCall(){return(_readonlyCall=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(contractName,functionName,args){var functionDescriptor,clarityArgs,result;return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return functionDescriptor=AlexContracts[contractName][functionName],clarityArgs=functionDescriptor.input.map((function(arg){return arg.type.encode(args[arg.name])})),_context2.next=4,defaultReadonlyCallExecutor({contractName,functionName:String(functionName),functionArgs:clarityArgs,contractAddress:configs.CONTRACT_DEPLOYER});case 4:return result=_context2.sent,_context2.abrupt("return",functionDescriptor.output.decode(result));case 6:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function getLiquidityProviderFee(_x,_x2,_x3,_x4,_x5){return _getLiquidityProviderFee.apply(this,arguments)}function _getLiquidityProviderFee(){return(_getLiquidityProviderFee=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(tokenX,tokenY,pools,getContractId,customRoute){var ammRoute;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(0!==(ammRoute=null!=customRoute?customRoute:resolveAmmRoute(tokenX,tokenY,pools)).length){_context.next=3;break}throw new Error("No AMM pools in route");case 3:if(1!==ammRoute.length){_context.next=7;break}return _context.next=6,readonlyCall("amm-pool-v2-01","fee-helper",{"token-x":getContractId(tokenX),"token-y":getContractId(tokenY),factor:ammRoute[0].pool.factor}).then(unwrapResponse);case 6:case 10:case 14:case 18:return _context.abrupt("return",_context.sent);case 7:if(2!==ammRoute.length){_context.next=11;break}return _context.next=10,readonlyCall("amm-pool-v2-01","fee-helper-a",{"token-x":getContractId(tokenX),"token-y":getContractId(ammRoute[0].neighbour),"token-z":getContractId(ammRoute[1].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor}).then(unwrapResponse);case 11:if(3!==ammRoute.length){_context.next=15;break}return _context.next=14,readonlyCall("amm-pool-v2-01","fee-helper-b",{"token-x":getContractId(tokenX),"token-y":getContractId(ammRoute[0].neighbour),"token-z":getContractId(ammRoute[1].neighbour),"token-w":getContractId(ammRoute[2].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor,"factor-z":ammRoute[2].pool.factor}).then(unwrapResponse);case 15:if(4!==ammRoute.length){_context.next=19;break}return _context.next=18,readonlyCall("amm-pool-v2-01","fee-helper-c",{"token-x":getContractId(tokenX),"token-y":getContractId(ammRoute[0].neighbour),"token-z":getContractId(ammRoute[1].neighbour),"token-w":getContractId(ammRoute[2].neighbour),"token-v":getContractId(ammRoute[3].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor,"factor-z":ammRoute[2].pool.factor,"factor-w":ammRoute[3].pool.factor}).then(unwrapResponse);case 19:throw new Error("Too many AMM pools in route");case 20:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function getAlexSDKData(){return _getAlexSDKData.apply(this,arguments)}function _getAlexSDKData(){return(_getAlexSDKData=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",fetch("https://alex-sdk-api.alexlab.co").then((function(r){if(r.ok)return r.json();throw new Error("Failed to fetch token mappings")})));case 1:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function getPrices(_x){return _getPrices.apply(this,arguments)}function _getPrices(){return(_getPrices=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(mappings){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",fetch(configs.API_HOST+"/v2/public/token-prices").then((function(r){if(r.ok)return r.json();throw new Error("Failed to fetch token mappings")})).then((function(x){return x.data.map((function(a){var _mappings$find;if("STX"===a.contract_id)return{token:alex_sdk_esm_Currency.STX,price:a.last_price_usd};var token=null==(_mappings$find=mappings.find((function(b){return b.underlyingToken.split("::")[0]===a.contract_id})))?void 0:_mappings$find.id;return null==token?null:{token,price:a.last_price_usd}})).filter(isNotNull)})));case 1:case"end":return _context2.stop()}}),_callee2)})))).apply(this,arguments)}function fetchBalanceForAccount(_x2,_x3){return _fetchBalanceForAccount.apply(this,arguments)}function _fetchBalanceForAccount(){return _fetchBalanceForAccount=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(stxAddress,tokenMappings){var response;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,fetch(configs.STACKS_API_HOST+"/extended/v1/address/"+stxAddress+"/balances").then((function(a){return a.json()}));case 2:return response=_context4.sent,_context4.t0=fromEntries,_context4.next=6,Promise.all(tokenMappings.map(function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(a){var _response$fungible_to,_a$underlyingToken$sp,contractAddr,contractName,_response,amount,fungibleToken;return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!a.isRebaseToken){_context3.next=7;break}return _a$underlyingToken$sp=a.underlyingToken.split("::")[0].split("."),contractAddr=_a$underlyingToken$sp[0],contractName=_a$underlyingToken$sp[1],_context3.next=4,(0,builders.Lg)({senderAddress:stxAddress,contractAddress:contractAddr,contractName,functionName:"get-balance",functionArgs:[encoders_principalCV(stxAddress)],network:new network.ig({url:configs.READONLY_CALL_API_HOST})});case 4:return _response=_context3.sent,amount=unwrapResponse(responseSimpleT(uintT).decode(_response)),_context3.abrupt("return",[a.id,BigInt(amount)*BigInt(1e8)/BigInt(Math.pow(10,a.underlyingTokenDecimals))]);case 7:if(a.id!==alex_sdk_esm_Currency.STX){_context3.next=9;break}return _context3.abrupt("return",[a.id,BigInt(response.stx.balance)*BigInt(100)]);case 9:if(null!=(fungibleToken=null==(_response$fungible_to=response.fungible_tokens[a.underlyingToken])?void 0:_response$fungible_to.balance)){_context3.next=12;break}return _context3.abrupt("return",[a.id,BigInt(0)]);case 12:return _context3.abrupt("return",[a.id,BigInt(fungibleToken)*BigInt(1e8)/BigInt(Math.pow(10,a.underlyingTokenDecimals))]);case 13:case"end":return _context3.stop()}}),_callee3)})));return function(_x4){return _ref.apply(this,arguments)}}()));case 6:return _context4.t1=_context4.sent,_context4.abrupt("return",(0,_context4.t0)(_context4.t1));case 8:case"end":return _context4.stop()}}),_callee4)}))),_fetchBalanceForAccount.apply(this,arguments)}function getAllPossibleRoute(_x,_x2,_x3){return _getAllPossibleRoute.apply(this,arguments)}function _getAllPossibleRoute(){return(_getAllPossibleRoute=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(from,to,pools){var ammRoute;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!((ammRoute=resolveAmmRoute(from,to,pools)).length>0)){_context.next=3;break}return _context.abrupt("return",[ammRoute]);case 3:throw new Error("Can't find route");case 4:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}var getYAmountFromXAmount=function(){var _ref=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(tokenX,tokenY,fromAmount,ammPools,getContractId,customRoute){var ammRoute;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(0!==(ammRoute=null!=customRoute?customRoute:resolveAmmRoute(tokenX,tokenY,ammPools)).length){_context.next=3;break}throw new Error("No AMM pool found for the given route");case 3:if(1!==ammRoute.length){_context.next=7;break}return _context.next=6,readonlyCall("amm-pool-v2-01","get-helper",{"token-x":getContractId(tokenX),"token-y":getContractId(ammRoute[0].neighbour),dx:fromAmount,factor:ammRoute[0].pool.factor}).then(unwrapResponse);case 6:case 10:case 14:case 18:return _context.abrupt("return",_context.sent);case 7:if(2!==ammRoute.length){_context.next=11;break}return _context.next=10,readonlyCall("amm-pool-v2-01","get-helper-a",{"token-x":getContractId(tokenX),"token-y":getContractId(ammRoute[0].neighbour),"token-z":getContractId(ammRoute[1].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor,dx:fromAmount}).then(unwrapResponse);case 11:if(3!==ammRoute.length){_context.next=15;break}return _context.next=14,readonlyCall("amm-pool-v2-01","get-helper-b",{"token-x":getContractId(tokenX),"token-y":getContractId(ammRoute[0].neighbour),"token-z":getContractId(ammRoute[1].neighbour),"token-w":getContractId(ammRoute[2].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor,"factor-z":ammRoute[2].pool.factor,dx:fromAmount}).then(unwrapResponse);case 15:if(4!==ammRoute.length){_context.next=19;break}return _context.next=18,readonlyCall("amm-pool-v2-01","get-helper-c",{"token-x":getContractId(tokenX),"token-y":getContractId(ammRoute[0].neighbour),"token-z":getContractId(ammRoute[1].neighbour),"token-w":getContractId(ammRoute[2].neighbour),"token-v":getContractId(ammRoute[3].neighbour),"factor-x":ammRoute[0].pool.factor,"factor-y":ammRoute[1].pool.factor,"factor-z":ammRoute[2].pool.factor,"factor-w":ammRoute[3].pool.factor,dx:fromAmount}).then(unwrapResponse);case 19:throw new Error("Too many AMM pools in route");case 20:case"end":return _context.stop()}}),_callee)})));return function getYAmountFromXAmount(_x,_x2,_x3,_x4,_x5,_x6){return _ref.apply(this,arguments)}}(),AlexSDK=function(){function AlexSDK(){this.alexSDKData=void 0}var _proto=AlexSDK.prototype;return _proto.getAlexSDKData=function(){var _getAlexSDKData2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(){return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return null==this.alexSDKData&&(this.alexSDKData=getAlexSDKData()),_context.abrupt("return",this.alexSDKData);case 2:case"end":return _context.stop()}}),_callee,this)})));return function getAlexSDKData$1(){return _getAlexSDKData2.apply(this,arguments)}}(),_proto.getTokenInfos=function(){var _getTokenInfos=_asyncToGenerator(_regeneratorRuntime().mark((function _callee2(){return _regeneratorRuntime().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.getAlexSDKData();case 2:return _context2.abrupt("return",_context2.sent.tokens);case 3:case"end":return _context2.stop()}}),_callee2,this)})));return function getTokenInfos(){return _getTokenInfos.apply(this,arguments)}}(),_proto.getTokenMappings=function(){var _getTokenMappings=_asyncToGenerator(_regeneratorRuntime().mark((function _callee3(){return _regeneratorRuntime().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.t0=fromEntries,_context3.next=3,this.getTokenInfos();case 3:return _context3.t1=_context3.sent.map((function(x){return[x.id,x]})),_context3.abrupt("return",(0,_context3.t0)(_context3.t1));case 5:case"end":return _context3.stop()}}),_callee3,this)})));return function getTokenMappings(){return _getTokenMappings.apply(this,arguments)}}(),_proto.getContractId=function(){var _getContractId=_asyncToGenerator(_regeneratorRuntime().mark((function _callee4(){var mappings;return _regeneratorRuntime().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.getTokenMappings();case 2:return mappings=_context4.sent,_context4.abrupt("return",(function(currency){return mappings[currency].wrapToken.split("::")[0]}));case 4:case"end":return _context4.stop()}}),_callee4,this)})));return function getContractId(){return _getContractId.apply(this,arguments)}}(),_proto.getPools=function(){var _getPools=_asyncToGenerator(_regeneratorRuntime().mark((function _callee5(){return _regeneratorRuntime().wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.getAlexSDKData();case 2:return _context5.abrupt("return",_context5.sent.pools);case 3:case"end":return _context5.stop()}}),_callee5,this)})));return function getPools(){return _getPools.apply(this,arguments)}}(),_proto.fetchSwappableCurrency=function fetchSwappableCurrency(){return this.getTokenInfos()},_proto.getPrices=function(){var _getPrices2=_asyncToGenerator(_regeneratorRuntime().mark((function _callee6(){return _regeneratorRuntime().wrap((function _callee6$(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.t0=getPrices,_context6.next=3,this.getTokenInfos();case 3:return _context6.t1=_context6.sent,_context6.abrupt("return",(0,_context6.t0)(_context6.t1));case 5:case"end":return _context6.stop()}}),_callee6,this)})));return function getPrices$1(){return _getPrices2.apply(this,arguments)}}(),_proto.getAllPossibleRoutes=function(){var _getAllPossibleRoutes=_asyncToGenerator(_regeneratorRuntime().mark((function _callee7(from,to){return _regeneratorRuntime().wrap((function _callee7$(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.t0=getAllPossibleRoute,_context7.t1=from,_context7.t2=to,_context7.next=5,this.getPools();case 5:return _context7.t3=_context7.sent,_context7.next=8,(0,_context7.t0)(_context7.t1,_context7.t2,_context7.t3);case 8:return _context7.abrupt("return",_context7.sent);case 9:case"end":return _context7.stop()}}),_callee7,this)})));return function getAllPossibleRoutes(_x,_x2){return _getAllPossibleRoutes.apply(this,arguments)}}(),_proto.getRoute=function(){var _getRoute=_asyncToGenerator(_regeneratorRuntime().mark((function _callee8(from,to){return _regeneratorRuntime().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.getAllPossibleRoutes(from,to);case 2:return _context8.abrupt("return",_context8.sent[0]);case 3:case"end":return _context8.stop()}}),_callee8,this)})));return function getRoute(_x3,_x4){return _getRoute.apply(this,arguments)}}(),_proto.getWayPoints=function(){var _getWayPoints=_asyncToGenerator(_regeneratorRuntime().mark((function _callee9(route){var _route$,neighbour,pool,origin,tokenMappings;return _regeneratorRuntime().wrap((function _callee9$(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _route$=route[0],neighbour=_route$.neighbour,pool=_route$.pool,origin=neighbour===pool.tokenY?pool.tokenX:pool.tokenY,_context9.next=4,this.getTokenMappings();case 4:return tokenMappings=_context9.sent,_context9.abrupt("return",[origin].concat(route.map((function(x){return x.neighbour}))).map((function(x){return tokenMappings[x]})));case 6:case"end":return _context9.stop()}}),_callee9,this)})));return function getWayPoints(_x5){return _getWayPoints.apply(this,arguments)}}(),_proto.getFeeRate=function(){var _getFeeRate=_asyncToGenerator(_regeneratorRuntime().mark((function _callee10(from,to,customRoute){return _regeneratorRuntime().wrap((function _callee10$(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.t0=getLiquidityProviderFee,_context10.t1=from,_context10.t2=to,_context10.next=5,this.getPools();case 5:return _context10.t3=_context10.sent,_context10.next=8,this.getContractId();case 8:return _context10.t4=_context10.sent,_context10.t5=customRoute,_context10.abrupt("return",(0,_context10.t0)(_context10.t1,_context10.t2,_context10.t3,_context10.t4,_context10.t5));case 11:case"end":return _context10.stop()}}),_callee10,this)})));return function getFeeRate(_x6,_x7,_x8){return _getFeeRate.apply(this,arguments)}}(),_proto.getAmountTo=function(){var _getAmountTo=_asyncToGenerator(_regeneratorRuntime().mark((function _callee11(from,fromAmount,to,customRoute){return _regeneratorRuntime().wrap((function _callee11$(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.t0=getYAmountFromXAmount,_context11.t1=from,_context11.t2=to,_context11.t3=fromAmount,_context11.next=6,this.getPools();case 6:return _context11.t4=_context11.sent,_context11.next=9,this.getContractId();case 9:return _context11.t5=_context11.sent,_context11.t6=customRoute,_context11.abrupt("return",(0,_context11.t0)(_context11.t1,_context11.t2,_context11.t3,_context11.t4,_context11.t5,_context11.t6));case 12:case"end":return _context11.stop()}}),_callee11,this)})));return function getAmountTo(_x9,_x10,_x11,_x12){return _getAmountTo.apply(this,arguments)}}(),_proto.runSwap=function(){var _runSwap=_asyncToGenerator(_regeneratorRuntime().mark((function _callee12(stxAddress,currencyX,currencyY,fromAmount,minDy,customRoute){return _regeneratorRuntime().wrap((function _callee12$(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return _context12.t0=runSpot,_context12.t1=stxAddress,_context12.t2=currencyX,_context12.t3=currencyY,_context12.t4=fromAmount,_context12.t5=minDy,_context12.next=8,this.getPools();case 8:return _context12.t6=_context12.sent,_context12.next=11,this.getTokenInfos();case 11:return _context12.t7=_context12.sent,_context12.t8=customRoute,_context12.abrupt("return",(0,_context12.t0)(_context12.t1,_context12.t2,_context12.t3,_context12.t4,_context12.t5,_context12.t6,_context12.t7,_context12.t8));case 14:case"end":return _context12.stop()}}),_callee12,this)})));return function runSwap(_x13,_x14,_x15,_x16,_x17,_x18){return _runSwap.apply(this,arguments)}}(),_proto.getLatestPrices=function(){var _getLatestPrices=_asyncToGenerator(_regeneratorRuntime().mark((function _callee13(){var priceData;return _regeneratorRuntime().wrap((function _callee13$(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,this.getPrices();case 2:return priceData=_context13.sent,_context13.abrupt("return",fromEntries(priceData.map((function(x){return[x.token,x.price]}))));case 4:case"end":return _context13.stop()}}),_callee13,this)})));return function getLatestPrices(){return _getLatestPrices.apply(this,arguments)}}(),_proto.getBalances=function(){var _getBalances=_asyncToGenerator(_regeneratorRuntime().mark((function _callee14(stxAddress){return _regeneratorRuntime().wrap((function _callee14$(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.t0=fetchBalanceForAccount,_context14.t1=stxAddress,_context14.next=4,this.getTokenInfos();case 4:return _context14.t2=_context14.sent,_context14.abrupt("return",(0,_context14.t0)(_context14.t1,_context14.t2));case 6:case"end":return _context14.stop()}}),_callee14,this)})));return function getBalances(_x19){return _getBalances.apply(this,arguments)}}(),_proto.getRouter=function(){var _getRouter=_asyncToGenerator(_regeneratorRuntime().mark((function _callee15(from,to){var route;return _regeneratorRuntime().wrap((function _callee15$(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return _context15.next=2,this.getRoute(from,to);case 2:return route=_context15.sent,_context15.abrupt("return",[from].concat(route.map((function(x){return x.neighbour}))));case 4:case"end":return _context15.stop()}}),_callee15,this)})));return function getRouter(_x20,_x21){return _getRouter.apply(this,arguments)}}(),AlexSDK}();__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/index.js");(0,react.createContext)(null),(0,react.createContext)(null);new PQueue({interval:5e3,intervalCap:30}),new PQueue({interval:5e3,intervalCap:30});lib.z.object({rune_id:lib.z.string(),rune_number:lib.z.string(),rune_name:lib.z.string(),spaced_rune_name:lib.z.string(),symbol:lib.z.string(),decimals:lib.z.number(),per_mint_amount:lib.z.string().or(lib.z.number()),mint_cnt:lib.z.string(),mint_cnt_limit:lib.z.string().or(lib.z.number()),premined_supply:lib.z.string(),total_minted_supply:lib.z.string(),burned_supply:lib.z.string(),circulating_supply:lib.z.string(),mint_progress:lib.z.number(),mint_start_block:lib.z.number().nullable().optional(),mint_end_block:lib.z.number().nullable().optional(),genesis_block:lib.z.number(),deploy_ts:lib.z.string(),deploy_txid:lib.z.string(),auto_upgrade:lib.z.boolean(),holder_count:lib.z.number(),event_count:lib.z.number(),mintable:lib.z.boolean(),icon_inscr_id:lib.z.string().nullable(),icon_delegate_id:lib.z.string().nullable().optional(),icon_content_url:lib.z.string().nullable(),icon_render_url:lib.z.string().nullable().optional(),avg_unit_price_in_sats:lib.z.number().nullable(),min_listed_unit_price_in_sats:lib.z.number().nullable(),min_listed_unit_price_unisat:lib.z.number().nullable(),listed_supply:lib.z.string().or(lib.z.number()),listed_supply_ratio:lib.z.number(),marketcap:lib.z.number().nullable(),total_sale_info:lib.z.object({sale_count:lib.z.number(),sale_amount:lib.z.string().or(lib.z.number()),vol_3h:lib.z.number(),vol_6h:lib.z.number(),vol_9h:lib.z.number(),vol_12h:lib.z.number(),vol_1d:lib.z.number(),vol_3d:lib.z.number(),vol_7d:lib.z.number(),vol_30d:lib.z.number(),vol_total:lib.z.number()})});var bestInSlotInscriptionDelegateSchema=lib.z.object({delegate_id:lib.z.string(),render_url:lib.z.string().nullable().optional(),mime_type:lib.z.string().nullable().optional(),content_url:lib.z.string(),bis_url:lib.z.string()}),bestInSlotInscriptionSchema=lib.z.object({inscription_name:lib.z.string().nullable().optional(),inscription_id:lib.z.string(),inscription_number:lib.z.number(),parent_ids:lib.z.array(lib.z.string()),metadata:lib.z.any().nullable(),owner_wallet_addr:lib.z.string(),mime_type:lib.z.string().nullable().optional(),last_sale_price:lib.z.number().nullable().optional(),slug:lib.z.string().nullable().optional(),collection_name:lib.z.string().nullable().optional(),satpoint:lib.z.string(),last_transfer_block_height:lib.z.number().nullable().optional(),genesis_height:lib.z.number(),content_url:lib.z.string(),bis_url:lib.z.string(),render_url:lib.z.string().nullable().optional(),bitmap_number:lib.z.number().nullable().optional(),delegate:bestInSlotInscriptionDelegateSchema.nullable().optional(),output_value:lib.z.number(),genesis_ts:lib.z.string(),genesis_block_hash:lib.z.string()});lib.z.object({block_height:lib.z.number(),data:lib.z.array(bestInSlotInscriptionSchema)}),lib.z.object({inscription_name:lib.z.string().nullable().optional(),inscription_id:lib.z.string(),inscription_number:lib.z.number(),parent_ids:lib.z.array(lib.z.string()),metadata:lib.z.any().nullable(),wallet:lib.z.string(),mime_type:lib.z.string().nullable().optional(),media_length:lib.z.number().nullable().optional(),byte_size:lib.z.union([lib.z.number(),lib.z.object({})]),genesis_ts:lib.z.number(),genesis_height:lib.z.number(),genesis_fee:lib.z.number().nullable().optional(),output_value:lib.z.number().nullable().optional(),satpoint:lib.z.string(),last_sale_price:lib.z.number().nullable().optional(),collection_name:lib.z.string().nullable().optional(),collection_slug:lib.z.string().nullable().optional(),last_transfer_block_height:lib.z.number().nullable().optional(),utxo:lib.z.string(),collection_floor_price:lib.z.number().nullable().optional(),min_price:lib.z.number().nullable().optional(),ordswap_price:lib.z.number().nullable().optional(),magiceden_price:lib.z.number().nullable().optional(),ordinalswallet_price:lib.z.number().nullable().optional(),gammaio_price:lib.z.number().nullable().optional(),nostr_price:lib.z.number().nullable().optional(),odynals_price:lib.z.number().nullable().optional(),unisat_price:lib.z.number().nullable().optional(),ordinalsmarket_price:lib.z.number().nullable().optional(),okx_price:lib.z.number().nullable().optional(),content_url:lib.z.string(),bis_url:lib.z.string(),render_url:lib.z.string().nullable().optional(),bitmap_number:lib.z.number().nullable().optional(),delegate:bestInSlotInscriptionDelegateSchema.nullable().optional()});function createBestInSlotInscription(inscription){const id=inscription.inscription_id,delegate=inscription.delegate,contentSrc=delegate?delegate.content_url:inscription.content_url,mimeType=delegate?delegate.mime_type:inscription.mime_type,iframeSrc=`https://ordinals.com/preview/${id}`,preview=`https://ordinals.hiro.so/inscription/${id}`,title=`Inscription ${inscription.inscription_number}`,[txid,output,offset]=inscription.satpoint.split(":"),genesisTimestamp=new Date(inscription.genesis_ts).getTime(),sharedInfo={chain:models_dist.AG.bitcoin,category:models_dist.KO.nft,protocol:models_dist.tQ.inscription,id:inscription.inscription_id,number:inscription.inscription_number,output,txid,offset,address:inscription.owner_wallet_addr,preview,title,genesisBlockHeight:inscription.genesis_height,genesisBlockHash:inscription.genesis_block_hash,genesisTimestamp:Math.floor(genesisTimestamp/1e3),value:inscription.output_value.toString()};return mimeType?(0,models_dist.VI)(mimeType,{audio:()=>({...sharedInfo,mimeType:"audio",name:"inscription",src:iframeSrc}),gltf:()=>({...sharedInfo,mimeType:"gltf",name:"inscription",src:iframeSrc}),html:()=>({...sharedInfo,mimeType:"html",name:"inscription",src:iframeSrc}),image:()=>({...sharedInfo,mimeType:"image",name:"inscription",src:contentSrc}),svg:()=>({...sharedInfo,mimeType:"svg",name:"inscription",src:iframeSrc}),text:()=>({...sharedInfo,mimeType:"text",name:"inscription",src:contentSrc}),video:()=>({...sharedInfo,mimeType:"video",name:"inscription",src:iframeSrc}),other:()=>({...sharedInfo,mimeType:"other",name:"inscription",src:""})}):{...sharedInfo,mimeType:"other",src:""}}var dist_PriorityQueue=class{queue=[];enqueue(run,options){options={priority:0,...options};const id=esm_browser_v4(),element={priority:options.priority,run,id};if(options.signal?.addEventListener("abort",(()=>{const task=this.queue.find((task2=>task2.id===id));if(task){const index2=this.queue.indexOf(task);this.queue.splice(index2,1)}})),this.size&&this.queue[this.size-1].priority>=options.priority)return void this.queue.push(element);const index=function dist_lowerBound(array,value,comparator){let first=0,count=array.length;for(;count>0;){const step=Math.trunc(count/2);let it=first+step;comparator(array[it],value)<=0?(first=++it,count-=step+1):count=step}return first}(this.queue,element,((a,b)=>b.priority-a.priority));this.queue.splice(index,0,element)}dequeue(){const item=this.queue.shift();return item?.run}filter(options){return this.queue.filter((element=>element.priority===options.priority)).map((element=>element.run))}get size(){return this.queue.length}};new PQueue({interval:1500,intervalCap:10,timeout:6e4,queueClass:dist_PriorityQueue}),new PQueue({interval:1500,intervalCap:10,timeout:6e4,queueClass:dist_PriorityQueue});var marketDataQueryOptions={staleTime:6e4,refetchOnMount:!1,refetchInterval:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1,refetchIntervalInBackground:!1};function selectBinanceUsdPrice(resp){return resp?.price}function useBinanceMarketDataQuery(currency){return useQuery_useQuery({queryFn:()=>async function fetchBinanceMarketData(currency){return(await lib_axios.A.get(`https://api1.binance.com/api/v3/ticker/price?symbol=${currency}USDT`)).data}(currency),queryKey:[`binance-market-data-${currency}`],...marketDataQueryOptions})}var currencyNameMap={BTC:"bitcoin",STX:"stacks"};function selectCoincapUsdPrice(resp){return resp?.data?.priceUsd}function useCoincapMarketDataQuery(currency){return useQuery_useQuery({queryFn:()=>async function fetchCoincapMarketData(currency){return(await lib_axios.A.get(`https://api.coincap.io/v2/assets/${currencyNameMap[currency]}`)).data}(currency),queryKey:[`coincap-market-data-${currency}`],...marketDataQueryOptions})}var currencyNameMap2={BTC:"bitcoin",STX:"blockstack"};function selectCoingeckoUsdPrice(resp){return Object.values(resp)[0]?.usd}function useCoinGeckoMarketDataQuery(currency){return useQuery_useQuery({queryFn:()=>async function fetchCoingeckoMarketData(currency){return(await lib_axios.A.get(`https://api.coingecko.com/api/v3/simple/price?ids=${currencyNameMap2[currency]}&vs_currencies=usd`)).data}(currency),queryKey:[`coin-gecko-market-data-${currency}`],...marketDataQueryOptions})}function useCryptoCurrencyMarketDataMeanAverage(currency){const{data:coingecko}=useCoinGeckoMarketDataQuery(currency),{data:coincap}=useCoincapMarketDataQuery(currency),{data:binance}=useBinanceMarketDataQuery(currency);return(0,react.useMemo)((()=>{const priceData=function pullPriceDataFromAvailableResponses(responses){return responses.filter((({result})=>!!result)).map((({result,selector:priceSelector})=>priceSelector(result))).map((val=>new bignumber.A(val))).map((val=>(0,utils_dist.KA)(val,dist.uG.USD)))}([{result:coingecko,selector:selectCoingeckoUsdPrice},{result:coincap,selector:selectCoincapUsdPrice},{result:binance,selector:selectBinanceUsdPrice}]),meanPrice=(0,utils_dist.pE)(priceData);return(0,models_dist.jd)((0,models_dist.he)(currency,"USD"),(0,utils_dist.j6)(meanPrice,"USD"))}),[binance,coincap,coingecko,currency])}utils_dist.im;var utxoSchema=lib.z.object({address:lib.z.string(),confirmations:lib.z.number(),height:lib.z.number().optional(),path:lib.z.string(),txid:lib.z.string(),value:lib.z.string(),vout:lib.z.number()});lib.z.array(utxoSchema);create$3({p:create$6().required().equals(["brc-20"]),op:create$6().required().equals(["transfer"]),tick:create$6().required().test((value=>value.length>0&&value.length<=4)),amt:create$6().required().test((value=>new bignumber.A(value).isFinite()))});var stampSchema=lib.z.object({stamp:lib.z.number(),block_index:lib.z.number().optional(),cpid:lib.z.string().optional(),asset_longname:lib.z.string().optional(),creator:lib.z.string(),divisible:lib.z.number(),keyburn:lib.z.number().optional(),locked:lib.z.number(),message_index:lib.z.number().optional(),stamp_base64:lib.z.string(),stamp_mimetype:lib.z.string(),stamp_url:lib.z.string(),supply:lib.z.number(),timestamp:lib.z.string().optional(),tx_hash:lib.z.string(),tx_index:lib.z.number().optional(),src_data:lib.z.string().optional(),ident:lib.z.string().optional(),creator_name:lib.z.string().optional().nullable(),stamp_gen:lib.z.string().optional(),stamp_hash:lib.z.string().optional(),is_btc_stamp:lib.z.number().optional(),is_reissue:lib.z.number().optional(),file_hash:lib.z.string().optional()}),src20TokenSchema=lib.z.object({id:lib.z.string().optional(),address:lib.z.string(),cpid:lib.z.string().optional(),p:lib.z.string(),tick:lib.z.string(),amt:lib.z.string().optional(),block_time:lib.z.string(),last_update:lib.z.number()});lib.z.object({page:lib.z.number(),limit:lib.z.number(),totalPages:lib.z.number(),total:lib.z.number(),last_block:lib.z.number().optional(),btc:lib.z.object({address:lib.z.string(),balance:lib.z.number(),txCount:lib.z.number(),unconfirmedBalance:lib.z.number(),unconfirmedTxCount:lib.z.number()}).optional().nullable(),data:lib.z.object({stamps:lib.z.array(stampSchema),src20:lib.z.array(src20TokenSchema)})});Error;new PQueue({interval:1200,intervalCap:6,timeout:6e4,queueClass:dist_PriorityQueue}),new PQueue({interval:1200,intervalCap:6,timeout:6e4,queueClass:dist_PriorityQueue});var leatherHeaders={"x-hiro-product":"Leather"};lib_axios.A.interceptors.request.use((request=>(request.url?.includes("hiro.so")&&Object.entries(leatherHeaders).forEach((([key,value])=>request.headers.set(key,value))),request)));utils_dist.im;utils_dist.im;new AlexSDK,(0,utils_dist.j6)(1e6,"STX");var defaultFeesMaxValues=[5e5,75e4,2e6],defaultFeesMinValues=[2500,3e3,3500],defaultFeesMinValuesAsMoney=((0,utils_dist.j6)(defaultFeesMaxValues[0],"STX"),(0,utils_dist.j6)(defaultFeesMaxValues[1],"STX"),(0,utils_dist.j6)(defaultFeesMaxValues[2],"STX"),[(0,utils_dist.j6)(defaultFeesMinValues[0],"STX"),(0,utils_dist.j6)(defaultFeesMinValues[1],"STX"),(0,utils_dist.j6)(defaultFeesMinValues[2],"STX")]);defaultFeesMinValuesAsMoney[0],defaultFeesMinValuesAsMoney[1],defaultFeesMinValuesAsMoney[2],models_dist.zJ.Default;modern_utils.rX;utils_dist.im;createBestInSlotInscription({inscription_name:null,inscription_id:"bcbb27db6062dbd8de71eb77ce6f04b398e6ed04bf1104dd1c9b17b15c291b3di65",inscription_number:72251550,parent_ids:[],output_value:546,genesis_block_hash:"00000000000000000001f5a31dce8b4ed80ed11824498f8a8b7464985291d134",genesis_ts:"2024-07-02T12:59:45.000Z",metadata:null,owner_wallet_addr:"bc1pwz9n62p9dhjpqcpdmfcrewdnz3nk8jcved242vd2lj9fgvtvwnwscvdyre",mime_type:"text/plain;charset=utf-8",last_sale_price:null,slug:null,collection_name:null,satpoint:"bcbb27db6062dbd8de71eb77ce6f04b398e6ed04bf1104dd1c9b17b15c291b3d:65:0",last_transfer_block_height:850381,genesis_height:850381,content_url:"https://bis-ord-content.fra1.cdn.digitaloceanspaces.com/ordinals/bcbb27db6062dbd8de71eb77ce6f04b398e6ed04bf1104dd1c9b17b15c291b3di65",bis_url:"https://bestinslot.xyz/ordinals/inscription/bcbb27db6062dbd8de71eb77ce6f04b398e6ed04bf1104dd1c9b17b15c291b3di65",render_url:null,bitmap_number:null,delegate:null}),createBestInSlotInscription({inscription_name:null,inscription_id:"bcbb27db6062dbd8de71eb77ce6f04b398e6ed04bf1104dd1c9b17b15c291b3di61",inscription_number:72251546,parent_ids:[],output_value:546,genesis_block_hash:"00000000000000000001f5a31dce8b4ed80ed11824498f8a8b7464985291d134",genesis_ts:"2024-07-02T12:59:45.000Z",metadata:null,owner_wallet_addr:"bc1pwz9n62p9dhjpqcpdmfcrewdnz3nk8jcved242vd2lj9fgvtvwnwscvdyre",mime_type:"text/plain;charset=utf-8",last_sale_price:null,slug:null,collection_name:null,satpoint:"bcbb27db6062dbd8de71eb77ce6f04b398e6ed04bf1104dd1c9b17b15c291b3d:61:0",last_transfer_block_height:850381,genesis_height:850381,content_url:"https://bis-ord-content.fra1.cdn.digitaloceanspaces.com/ordinals/bcbb27db6062dbd8de71eb77ce6f04b398e6ed04bf1104dd1c9b17b15c291b3di61",bis_url:"https://bestinslot.xyz/ordinals/inscription/bcbb27db6062dbd8de71eb77ce6f04b398e6ed04bf1104dd1c9b17b15c291b3di61",render_url:null,bitmap_number:null,delegate:null}),[{inscription_name:null,inscription_id:"0eab3f1cb5f8193867e5b9b22e15e72e260404fc4314050b2d78fe343c7105cai0",inscription_number:64595760,parent_ids:[],output_value:546,genesis_block_hash:"000000000000000000027ba2f97360fe4c0b1d9d30426c0505548f6962190a8e",genesis_ts:"2024-03-16T09:34:42.000Z",metadata:null,owner_wallet_addr:"bc1p8nyc4sl8agqfjs2rq4yer6wnhd89naw05s0ha8hpmg8j36ht6yvswqyaxm",mime_type:"text/plain;charset=utf-8",last_sale_price:null,slug:null,collection_name:null,satpoint:"0eab3f1cb5f8193867e5b9b22e15e72e260404fc4314050b2d78fe343c7105ca:0:0",last_transfer_block_height:834905,genesis_height:834905,content_url:"https://bis-ord-content.fra1.cdn.digitaloceanspaces.com/ordinals/0eab3f1cb5f8193867e5b9b22e15e72e260404fc4314050b2d78fe343c7105cai0",bis_url:"https://bestinslot.xyz/ordinals/inscription/0eab3f1cb5f8193867e5b9b22e15e72e260404fc4314050b2d78fe343c7105cai0",render_url:null,bitmap_number:null,delegate:null}].map(createBestInSlotInscription)},"./node_modules/.pnpm/@lukeed+uuid@2.0.1/node_modules/@lukeed/uuid/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v4:()=>v4});for(var BUFFER,IDX=256,HEX=[];IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);function v4(){var num,i=0,out="";if(!BUFFER||IDX+16>256){for(BUFFER=Array(i=256);i--;)BUFFER[i]=256*Math.random()|0;i=IDX=0}for(;i<16;i++)num=BUFFER[IDX+i],out+=6==i?HEX[15&num|64]:8==i?HEX[63&num|128]:HEX[num],1&i&&i>1&&i<11&&(out+="-");return IDX++,out}},"./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/_assert.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function number(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function bytes(b,...lengths){if(!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(lengths.length>0&&!lengths.includes(b.length))throw new TypeError(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`)}__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__});const assert={number,bool:function bool(b){if("boolean"!=typeof b)throw new Error(`Expected boolean, not ${b}`)},bytes,hash:function hash(hash){if("function"!=typeof hash||"function"!=typeof hash.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(hash.outputLen),number(hash.blockLen)},exists:function exists(instance,checkFinished=!0){if(instance.destroyed)throw new Error("Hash instance has been destroyed");if(checkFinished&&instance.finished)throw new Error("Hash#digest() has already been called")},output:function output(out,instance){bytes(out);const min=instance.outputLen;if(out.length<min)throw new Error(`digestInto() expects output buffer of length at least ${min}`)}},__WEBPACK_DEFAULT_EXPORT__=assert},"./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/_sha2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>SHA2});var _assert_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/_assert.js"),_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/utils.js");class SHA2 extends _utils_js__WEBPACK_IMPORTED_MODULE_1__.Vw{constructor(blockLen,outputLen,padOffset,isLE){super(),this.blockLen=blockLen,this.outputLen=outputLen,this.padOffset=padOffset,this.isLE=isLE,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(blockLen),this.view=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.O8)(this.buffer)}update(data){_assert_js__WEBPACK_IMPORTED_MODULE_0__.Ay.exists(this);const{view,buffer,blockLen}=this,len=(data=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.ZJ)(data)).length;for(let pos=0;pos<len;){const take=Math.min(blockLen-this.pos,len-pos);if(take!==blockLen)buffer.set(data.subarray(pos,pos+take),this.pos),this.pos+=take,pos+=take,this.pos===blockLen&&(this.process(view,0),this.pos=0);else{const dataView=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.O8)(data);for(;blockLen<=len-pos;pos+=blockLen)this.process(dataView,pos)}}return this.length+=data.length,this.roundClean(),this}digestInto(out){_assert_js__WEBPACK_IMPORTED_MODULE_0__.Ay.exists(this),_assert_js__WEBPACK_IMPORTED_MODULE_0__.Ay.output(out,this),this.finished=!0;const{buffer,view,blockLen,isLE}=this;let{pos}=this;buffer[pos++]=128,this.buffer.subarray(pos).fill(0),this.padOffset>blockLen-pos&&(this.process(view,0),pos=0);for(let i=pos;i<blockLen;i++)buffer[i]=0;!function setBigUint64(view,byteOffset,value,isLE){if("function"==typeof view.setBigUint64)return view.setBigUint64(byteOffset,value,isLE);const _32n=BigInt(32),_u32_max=BigInt(4294967295),wh=Number(value>>_32n&_u32_max),wl=Number(value&_u32_max),h=isLE?4:0,l=isLE?0:4;view.setUint32(byteOffset+h,wh,isLE),view.setUint32(byteOffset+l,wl,isLE)}(view,blockLen-8,BigInt(8*this.length),isLE),this.process(view,0);const oview=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.O8)(out),len=this.outputLen;if(len%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const outLen=len/4,state=this.get();if(outLen>state.length)throw new Error("_sha2: outputLen bigger than state");for(let i=0;i<outLen;i++)oview.setUint32(4*i,state[i],isLE)}digest(){const{buffer,outputLen}=this;this.digestInto(buffer);const res=buffer.slice(0,outputLen);return this.destroy(),res}_cloneInto(to){to||(to=new this.constructor),to.set(...this.get());const{blockLen,buffer,length,finished,destroyed,pos}=this;return to.length=length,to.pos=pos,to.finished=finished,to.destroyed=destroyed,length%blockLen&&to.buffer.set(buffer),to}}},"./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/hmac.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{w:()=>hmac});var _assert_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/_assert.js"),_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/utils.js");class HMAC extends _utils_js__WEBPACK_IMPORTED_MODULE_1__.Vw{constructor(hash,_key){super(),this.finished=!1,this.destroyed=!1,_assert_js__WEBPACK_IMPORTED_MODULE_0__.Ay.hash(hash);const key=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.ZJ)(_key);if(this.iHash=hash.create(),"function"!=typeof this.iHash.update)throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const blockLen=this.blockLen,pad=new Uint8Array(blockLen);pad.set(key.length>blockLen?hash.create().update(key).digest():key);for(let i=0;i<pad.length;i++)pad[i]^=54;this.iHash.update(pad),this.oHash=hash.create();for(let i=0;i<pad.length;i++)pad[i]^=106;this.oHash.update(pad),pad.fill(0)}update(buf){return _assert_js__WEBPACK_IMPORTED_MODULE_0__.Ay.exists(this),this.iHash.update(buf),this}digestInto(out){_assert_js__WEBPACK_IMPORTED_MODULE_0__.Ay.exists(this),_assert_js__WEBPACK_IMPORTED_MODULE_0__.Ay.bytes(out,this.outputLen),this.finished=!0,this.iHash.digestInto(out),this.oHash.update(out),this.oHash.digestInto(out),this.destroy()}digest(){const out=new Uint8Array(this.oHash.outputLen);return this.digestInto(out),out}_cloneInto(to){to||(to=Object.create(Object.getPrototypeOf(this),{}));const{oHash,iHash,finished,destroyed,blockLen,outputLen}=this;return to.finished=finished,to.destroyed=destroyed,to.blockLen=blockLen,to.outputLen=outputLen,to.oHash=oHash._cloneInto(to.oHash),to.iHash=iHash._cloneInto(to.iHash),to}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(hash,key,message)=>new HMAC(hash,key).update(message).digest();hmac.create=(hash,key)=>new HMAC(hash,key)},"./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/ripemd160.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>ripemd160});var _sha2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/_sha2.js"),_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/utils.js");const Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=Uint8Array.from({length:16},((_,i)=>i)),Pi=Id.map((i=>(9*i+5)%16));let idxL=[Id],idxR=[Pi];for(let i=0;i<4;i++)for(let j of[idxL,idxR])j.push(j[i].map((k=>Rho[k])));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((i=>new Uint8Array(i))),shiftsL=idxL.map(((idx,i)=>idx.map((j=>shifts[i][j])))),shiftsR=idxR.map(((idx,i)=>idx.map((j=>shifts[i][j])))),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),rotl=(word,shift)=>word<<shift|word>>>32-shift;function f(group,x,y,z){return 0===group?x^y^z:1===group?x&y|~x&z:2===group?(x|~y)^z:3===group?x&z|y&~z:x^(y|~z)}const BUF=new Uint32Array(16);class RIPEMD160 extends _sha2_js__WEBPACK_IMPORTED_MODULE_0__.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0,h1,h2,h3,h4}=this;return[h0,h1,h2,h3,h4]}set(h0,h1,h2,h3,h4){this.h0=0|h0,this.h1=0|h1,this.h2=0|h2,this.h3=0|h3,this.h4=0|h4}process(view,offset){for(let i=0;i<16;i++,offset+=4)BUF[i]=view.getUint32(offset,!0);let al=0|this.h0,ar=al,bl=0|this.h1,br=bl,cl=0|this.h2,cr=cl,dl=0|this.h3,dr=dl,el=0|this.h4,er=el;for(let group=0;group<5;group++){const rGroup=4-group,hbl=Kl[group],hbr=Kr[group],rl=idxL[group],rr=idxR[group],sl=shiftsL[group],sr=shiftsR[group];for(let i=0;i<16;i++){const tl=rotl(al+f(group,bl,cl,dl)+BUF[rl[i]]+hbl,sl[i])+el|0;al=el,el=dl,dl=0|rotl(cl,10),cl=bl,bl=tl}for(let i=0;i<16;i++){const tr=rotl(ar+f(rGroup,br,cr,dr)+BUF[rr[i]]+hbr,sr[i])+er|0;ar=er,er=dr,dr=0|rotl(cr,10),cr=br,br=tr}}this.set(this.h1+cl+dr|0,this.h2+dl+er|0,this.h3+el+ar|0,this.h4+al+br|0,this.h0+bl+cr|0)}roundClean(){BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ripemd160=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.ld)((()=>new RIPEMD160))},"./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/sha256.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>sha256});var _sha2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/_sha2.js"),_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/utils.js");const Maj=(a,b,c)=>a&b^a&c^b&c,SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends _sha2_js__WEBPACK_IMPORTED_MODULE_0__.D{constructor(){super(64,32,8,!1),this.A=0|IV[0],this.B=0|IV[1],this.C=0|IV[2],this.D=0|IV[3],this.E=0|IV[4],this.F=0|IV[5],this.G=0|IV[6],this.H=0|IV[7]}get(){const{A,B,C,D,E,F,G,H}=this;return[A,B,C,D,E,F,G,H]}set(A,B,C,D,E,F,G,H){this.A=0|A,this.B=0|B,this.C=0|C,this.D=0|D,this.E=0|E,this.F=0|F,this.G=0|G,this.H=0|H}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA256_W[i]=view.getUint32(offset,!1);for(let i=16;i<64;i++){const W15=SHA256_W[i-15],W2=SHA256_W[i-2],s0=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(W15,7)^(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(W15,18)^W15>>>3,s1=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(W2,17)^(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(W2,19)^W2>>>10;SHA256_W[i]=s1+SHA256_W[i-7]+s0+SHA256_W[i-16]|0}let{A,B,C,D,E,F,G,H}=this;for(let i=0;i<64;i++){const T1=H+((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(E,6)^(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(E,11)^(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(E,25))+((a=E)&F^~a&G)+SHA256_K[i]+SHA256_W[i]|0,T2=((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(A,2)^(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(A,13)^(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Ow)(A,22))+Maj(A,B,C)|0;H=G,G=F,F=E,E=D+T1|0,D=C,C=B,B=A,A=T1+T2|0}var a;A=A+this.A|0,B=B+this.B|0,C=C+this.C|0,D=D+this.D|0,E=E+this.E|0,F=F+this.F|0,G=G+this.G|0,H=H+this.H|0,this.set(A,B,C,D,E,F,G,H)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const sha256=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.ld)((()=>new SHA256));(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.ld)((()=>new SHA224))},"./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/sha512.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Zf:()=>sha512,DP:()=>sha512_256});var _sha2=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/_sha2.js");const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(n,le=!1){return le?{h:Number(n&U32_MASK64),l:Number(n>>_32n&U32_MASK64)}:{h:0|Number(n>>_32n&U32_MASK64),l:0|Number(n&U32_MASK64)}}const _u64={fromBig,split:function split(lst,le=!1){let Ah=new Uint32Array(lst.length),Al=new Uint32Array(lst.length);for(let i=0;i<lst.length;i++){const{h,l}=fromBig(lst[i],le);[Ah[i],Al[i]]=[h,l]}return[Ah,Al]},toBig:(h,l)=>BigInt(h>>>0)<<_32n|BigInt(l>>>0),shrSH:(h,l,s)=>h>>>s,shrSL:(h,l,s)=>h<<32-s|l>>>s,rotrSH:(h,l,s)=>h>>>s|l<<32-s,rotrSL:(h,l,s)=>h<<32-s|l>>>s,rotrBH:(h,l,s)=>h<<64-s|l>>>s-32,rotrBL:(h,l,s)=>h>>>s-32|l<<64-s,rotr32H:(h,l)=>l,rotr32L:(h,l)=>h,rotlSH:(h,l,s)=>h<<s|l>>>32-s,rotlSL:(h,l,s)=>l<<s|h>>>32-s,rotlBH:(h,l,s)=>l<<s-32|h>>>64-s,rotlBL:(h,l,s)=>h<<s-32|l>>>64-s,add:function add(Ah,Al,Bh,Bl){const l=(Al>>>0)+(Bl>>>0);return{h:Ah+Bh+(l/2**32|0)|0,l:0|l}},add3L:(Al,Bl,Cl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0),add3H:(low,Ah,Bh,Ch)=>Ah+Bh+Ch+(low/2**32|0)|0,add4L:(Al,Bl,Cl,Dl)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0),add4H:(low,Ah,Bh,Ch,Dh)=>Ah+Bh+Ch+Dh+(low/2**32|0)|0,add5H:(low,Ah,Bh,Ch,Dh,Eh)=>Ah+Bh+Ch+Dh+Eh+(low/2**32|0)|0,add5L:(Al,Bl,Cl,Dl,El)=>(Al>>>0)+(Bl>>>0)+(Cl>>>0)+(Dl>>>0)+(El>>>0)};var utils=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/utils.js");const[SHA512_Kh,SHA512_Kl]=_u64.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((n=>BigInt(n)))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends _sha2.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;return[Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl]}set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl){this.Ah=0|Ah,this.Al=0|Al,this.Bh=0|Bh,this.Bl=0|Bl,this.Ch=0|Ch,this.Cl=0|Cl,this.Dh=0|Dh,this.Dl=0|Dl,this.Eh=0|Eh,this.El=0|El,this.Fh=0|Fh,this.Fl=0|Fl,this.Gh=0|Gh,this.Gl=0|Gl,this.Hh=0|Hh,this.Hl=0|Hl}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA512_W_H[i]=view.getUint32(offset),SHA512_W_L[i]=view.getUint32(offset+=4);for(let i=16;i<80;i++){const W15h=0|SHA512_W_H[i-15],W15l=0|SHA512_W_L[i-15],s0h=_u64.rotrSH(W15h,W15l,1)^_u64.rotrSH(W15h,W15l,8)^_u64.shrSH(W15h,W15l,7),s0l=_u64.rotrSL(W15h,W15l,1)^_u64.rotrSL(W15h,W15l,8)^_u64.shrSL(W15h,W15l,7),W2h=0|SHA512_W_H[i-2],W2l=0|SHA512_W_L[i-2],s1h=_u64.rotrSH(W2h,W2l,19)^_u64.rotrBH(W2h,W2l,61)^_u64.shrSH(W2h,W2l,6),s1l=_u64.rotrSL(W2h,W2l,19)^_u64.rotrBL(W2h,W2l,61)^_u64.shrSL(W2h,W2l,6),SUMl=_u64.add4L(s0l,s1l,SHA512_W_L[i-7],SHA512_W_L[i-16]),SUMh=_u64.add4H(SUMl,s0h,s1h,SHA512_W_H[i-7],SHA512_W_H[i-16]);SHA512_W_H[i]=0|SUMh,SHA512_W_L[i]=0|SUMl}let{Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl}=this;for(let i=0;i<80;i++){const sigma1h=_u64.rotrSH(Eh,El,14)^_u64.rotrSH(Eh,El,18)^_u64.rotrBH(Eh,El,41),sigma1l=_u64.rotrSL(Eh,El,14)^_u64.rotrSL(Eh,El,18)^_u64.rotrBL(Eh,El,41),CHIh=Eh&Fh^~Eh&Gh,CHIl=El&Fl^~El&Gl,T1ll=_u64.add5L(Hl,sigma1l,CHIl,SHA512_Kl[i],SHA512_W_L[i]),T1h=_u64.add5H(T1ll,Hh,sigma1h,CHIh,SHA512_Kh[i],SHA512_W_H[i]),T1l=0|T1ll,sigma0h=_u64.rotrSH(Ah,Al,28)^_u64.rotrBH(Ah,Al,34)^_u64.rotrBH(Ah,Al,39),sigma0l=_u64.rotrSL(Ah,Al,28)^_u64.rotrBL(Ah,Al,34)^_u64.rotrBL(Ah,Al,39),MAJh=Ah&Bh^Ah&Ch^Bh&Ch,MAJl=Al&Bl^Al&Cl^Bl&Cl;Hh=0|Gh,Hl=0|Gl,Gh=0|Fh,Gl=0|Fl,Fh=0|Eh,Fl=0|El,({h:Eh,l:El}=_u64.add(0|Dh,0|Dl,0|T1h,0|T1l)),Dh=0|Ch,Dl=0|Cl,Ch=0|Bh,Cl=0|Bl,Bh=0|Ah,Bl=0|Al;const All=_u64.add3L(T1l,sigma0l,MAJl);Ah=_u64.add3H(All,T1h,sigma0h,MAJh),Al=0|All}({h:Ah,l:Al}=_u64.add(0|this.Ah,0|this.Al,0|Ah,0|Al)),({h:Bh,l:Bl}=_u64.add(0|this.Bh,0|this.Bl,0|Bh,0|Bl)),({h:Ch,l:Cl}=_u64.add(0|this.Ch,0|this.Cl,0|Ch,0|Cl)),({h:Dh,l:Dl}=_u64.add(0|this.Dh,0|this.Dl,0|Dh,0|Dl)),({h:Eh,l:El}=_u64.add(0|this.Eh,0|this.El,0|Eh,0|El)),({h:Fh,l:Fl}=_u64.add(0|this.Fh,0|this.Fl,0|Fh,0|Fl)),({h:Gh,l:Gl}=_u64.add(0|this.Gh,0|this.Gl,0|Gh,0|Gl)),({h:Hh,l:Hl}=_u64.add(0|this.Hh,0|this.Hl,0|Hh,0|Hl)),this.set(Ah,Al,Bh,Bl,Ch,Cl,Dh,Dl,Eh,El,Fh,Fl,Gh,Gl,Hh,Hl)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class SHA512_224 extends SHA512{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SHA512_256 extends SHA512{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class SHA384 extends SHA512{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const sha512=(0,utils.ld)((()=>new SHA512)),sha512_256=((0,utils.ld)((()=>new SHA512_224)),(0,utils.ld)((()=>new SHA512_256)));(0,utils.ld)((()=>new SHA384))},"./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Vw:()=>Hash,O8:()=>createView,Ow:()=>rotr,ZJ:()=>toBytes,ld:()=>wrapConstructor});"object"==typeof self&&"crypto"in self&&self.crypto;const createView=arr=>new DataView(arr.buffer,arr.byteOffset,arr.byteLength),rotr=(word,shift)=>word<<32-shift|word>>>shift;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((v,i)=>i.toString(16).padStart(2,"0")));function toBytes(data){if("string"==typeof data&&(data=function utf8ToBytes(str){if("string"!=typeof str)throw new TypeError("utf8ToBytes expected string, got "+typeof str);return(new TextEncoder).encode(str)}(data)),!(data instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof data})`);return data}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(hashConstructor){const hashC=message=>hashConstructor().update(toBytes(message)).digest(),tmp=hashConstructor();return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=()=>hashConstructor(),hashC}},"./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/_assert.js":(__unused_webpack_module,exports)=>{"use strict";function number(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function bool(b){if("boolean"!=typeof b)throw new Error(`boolean expected, not ${b}`)}function isBytes(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name}function bytes(b,...lengths){if(!isBytes(b))throw new Error("Uint8Array expected");if(lengths.length>0&&!lengths.includes(b.length))throw new Error(`Uint8Array expected of length ${lengths}, not of length=${b.length}`)}function hash(h){if("function"!=typeof h||"function"!=typeof h.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");number(h.outputLen),number(h.blockLen)}function exists(instance,checkFinished=!0){if(instance.destroyed)throw new Error("Hash instance has been destroyed");if(checkFinished&&instance.finished)throw new Error("Hash#digest() has already been called")}function output(out,instance){bytes(out);const min=instance.outputLen;if(out.length<min)throw new Error(`digestInto() expects output buffer of length at least ${min}`)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBytes=isBytes,exports.number=number,exports.bool=bool,exports.bytes=bytes,exports.hash=hash,exports.exists=exists,exports.output=output;const assert={number,bool,bytes,hash,exists,output};exports.default=assert},"./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/_md.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HashMD=exports.Maj=exports.Chi=void 0;const _assert_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/_assert.js"),utils_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js");exports.Chi=(a,b,c)=>a&b^~a&c;exports.Maj=(a,b,c)=>a&b^a&c^b&c;class HashMD extends utils_js_1.Hash{constructor(blockLen,outputLen,padOffset,isLE){super(),this.blockLen=blockLen,this.outputLen=outputLen,this.padOffset=padOffset,this.isLE=isLE,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(blockLen),this.view=(0,utils_js_1.createView)(this.buffer)}update(data){(0,_assert_js_1.exists)(this);const{view,buffer,blockLen}=this,len=(data=(0,utils_js_1.toBytes)(data)).length;for(let pos=0;pos<len;){const take=Math.min(blockLen-this.pos,len-pos);if(take!==blockLen)buffer.set(data.subarray(pos,pos+take),this.pos),this.pos+=take,pos+=take,this.pos===blockLen&&(this.process(view,0),this.pos=0);else{const dataView=(0,utils_js_1.createView)(data);for(;blockLen<=len-pos;pos+=blockLen)this.process(dataView,pos)}}return this.length+=data.length,this.roundClean(),this}digestInto(out){(0,_assert_js_1.exists)(this),(0,_assert_js_1.output)(out,this),this.finished=!0;const{buffer,view,blockLen,isLE}=this;let{pos}=this;buffer[pos++]=128,this.buffer.subarray(pos).fill(0),this.padOffset>blockLen-pos&&(this.process(view,0),pos=0);for(let i=pos;i<blockLen;i++)buffer[i]=0;!function setBigUint64(view,byteOffset,value,isLE){if("function"==typeof view.setBigUint64)return view.setBigUint64(byteOffset,value,isLE);const _32n=BigInt(32),_u32_max=BigInt(4294967295),wh=Number(value>>_32n&_u32_max),wl=Number(value&_u32_max),h=isLE?4:0,l=isLE?0:4;view.setUint32(byteOffset+h,wh,isLE),view.setUint32(byteOffset+l,wl,isLE)}(view,blockLen-8,BigInt(8*this.length),isLE),this.process(view,0);const oview=(0,utils_js_1.createView)(out),len=this.outputLen;if(len%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const outLen=len/4,state=this.get();if(outLen>state.length)throw new Error("_sha2: outputLen bigger than state");for(let i=0;i<outLen;i++)oview.setUint32(4*i,state[i],isLE)}digest(){const{buffer,outputLen}=this;this.digestInto(buffer);const res=buffer.slice(0,outputLen);return this.destroy(),res}_cloneInto(to){to||(to=new this.constructor),to.set(...this.get());const{blockLen,buffer,length,finished,destroyed,pos}=this;return to.length=length,to.pos=pos,to.finished=finished,to.destroyed=destroyed,length%blockLen&&to.buffer.set(buffer),to}}exports.HashMD=HashMD},"./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/crypto.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.crypto=void 0,exports.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},"./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/hmac.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hmac=exports.HMAC=void 0;const _assert_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/_assert.js"),utils_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js");class HMAC extends utils_js_1.Hash{constructor(hash,_key){super(),this.finished=!1,this.destroyed=!1,(0,_assert_js_1.hash)(hash);const key=(0,utils_js_1.toBytes)(_key);if(this.iHash=hash.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const blockLen=this.blockLen,pad=new Uint8Array(blockLen);pad.set(key.length>blockLen?hash.create().update(key).digest():key);for(let i=0;i<pad.length;i++)pad[i]^=54;this.iHash.update(pad),this.oHash=hash.create();for(let i=0;i<pad.length;i++)pad[i]^=106;this.oHash.update(pad),pad.fill(0)}update(buf){return(0,_assert_js_1.exists)(this),this.iHash.update(buf),this}digestInto(out){(0,_assert_js_1.exists)(this),(0,_assert_js_1.bytes)(out,this.outputLen),this.finished=!0,this.iHash.digestInto(out),this.oHash.update(out),this.oHash.digestInto(out),this.destroy()}digest(){const out=new Uint8Array(this.oHash.outputLen);return this.digestInto(out),out}_cloneInto(to){to||(to=Object.create(Object.getPrototypeOf(this),{}));const{oHash,iHash,finished,destroyed,blockLen,outputLen}=this;return to.finished=finished,to.destroyed=destroyed,to.blockLen=blockLen,to.outputLen=outputLen,to.oHash=oHash._cloneInto(to.oHash),to.iHash=iHash._cloneInto(to.iHash),to}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}exports.HMAC=HMAC;exports.hmac=(hash,key,message)=>new HMAC(hash,key).update(message).digest(),exports.hmac.create=(hash,key)=>new HMAC(hash,key)},"./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/ripemd160.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ripemd160=exports.RIPEMD160=void 0;const _md_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/_md.js"),utils_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js"),Rho=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id=new Uint8Array(new Array(16).fill(0).map(((_,i)=>i)));let idxL=[Id],idxR=[Id.map((i=>(9*i+5)%16))];for(let i=0;i<4;i++)for(let j of[idxL,idxR])j.push(j[i].map((k=>Rho[k])));const shifts=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((i=>new Uint8Array(i))),shiftsL=idxL.map(((idx,i)=>idx.map((j=>shifts[i][j])))),shiftsR=idxR.map(((idx,i)=>idx.map((j=>shifts[i][j])))),Kl=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Kr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function f(group,x,y,z){return 0===group?x^y^z:1===group?x&y|~x&z:2===group?(x|~y)^z:3===group?x&z|y&~z:x^(y|~z)}const R_BUF=new Uint32Array(16);class RIPEMD160 extends _md_js_1.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0,h1,h2,h3,h4}=this;return[h0,h1,h2,h3,h4]}set(h0,h1,h2,h3,h4){this.h0=0|h0,this.h1=0|h1,this.h2=0|h2,this.h3=0|h3,this.h4=0|h4}process(view,offset){for(let i=0;i<16;i++,offset+=4)R_BUF[i]=view.getUint32(offset,!0);let al=0|this.h0,ar=al,bl=0|this.h1,br=bl,cl=0|this.h2,cr=cl,dl=0|this.h3,dr=dl,el=0|this.h4,er=el;for(let group=0;group<5;group++){const rGroup=4-group,hbl=Kl[group],hbr=Kr[group],rl=idxL[group],rr=idxR[group],sl=shiftsL[group],sr=shiftsR[group];for(let i=0;i<16;i++){const tl=(0,utils_js_1.rotl)(al+f(group,bl,cl,dl)+R_BUF[rl[i]]+hbl,sl[i])+el|0;al=el,el=dl,dl=0|(0,utils_js_1.rotl)(cl,10),cl=bl,bl=tl}for(let i=0;i<16;i++){const tr=(0,utils_js_1.rotl)(ar+f(rGroup,br,cr,dr)+R_BUF[rr[i]]+hbr,sr[i])+er|0;ar=er,er=dr,dr=0|(0,utils_js_1.rotl)(cr,10),cr=br,br=tr}}this.set(this.h1+cl+dr|0,this.h2+dl+er|0,this.h3+el+ar|0,this.h4+al+br|0,this.h0+bl+cr|0)}roundClean(){R_BUF.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}exports.RIPEMD160=RIPEMD160,exports.ripemd160=(0,utils_js_1.wrapConstructor)((()=>new RIPEMD160))},"./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha1.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sha1=exports.SHA1=void 0;const _md_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/_md.js"),utils_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js"),SHA1_IV=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),SHA1_W=new Uint32Array(80);class SHA1 extends _md_js_1.HashMD{constructor(){super(64,20,8,!1),this.A=0|SHA1_IV[0],this.B=0|SHA1_IV[1],this.C=0|SHA1_IV[2],this.D=0|SHA1_IV[3],this.E=0|SHA1_IV[4]}get(){const{A,B,C,D,E}=this;return[A,B,C,D,E]}set(A,B,C,D,E){this.A=0|A,this.B=0|B,this.C=0|C,this.D=0|D,this.E=0|E}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA1_W[i]=view.getUint32(offset,!1);for(let i=16;i<80;i++)SHA1_W[i]=(0,utils_js_1.rotl)(SHA1_W[i-3]^SHA1_W[i-8]^SHA1_W[i-14]^SHA1_W[i-16],1);let{A,B,C,D,E}=this;for(let i=0;i<80;i++){let F,K;i<20?(F=(0,_md_js_1.Chi)(B,C,D),K=1518500249):i<40?(F=B^C^D,K=1859775393):i<60?(F=(0,_md_js_1.Maj)(B,C,D),K=2400959708):(F=B^C^D,K=3395469782);const T=(0,utils_js_1.rotl)(A,5)+F+E+K+SHA1_W[i]|0;E=D,D=C,C=(0,utils_js_1.rotl)(B,30),B=A,A=T}A=A+this.A|0,B=B+this.B|0,C=C+this.C|0,D=D+this.D|0,E=E+this.E|0,this.set(A,B,C,D,E)}roundClean(){SHA1_W.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}exports.SHA1=SHA1,exports.sha1=(0,utils_js_1.wrapConstructor)((()=>new SHA1))},"./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha256.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sha224=exports.sha256=exports.SHA256=void 0;const _md_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/_md.js"),utils_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js"),SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends _md_js_1.HashMD{constructor(){super(64,32,8,!1),this.A=0|SHA256_IV[0],this.B=0|SHA256_IV[1],this.C=0|SHA256_IV[2],this.D=0|SHA256_IV[3],this.E=0|SHA256_IV[4],this.F=0|SHA256_IV[5],this.G=0|SHA256_IV[6],this.H=0|SHA256_IV[7]}get(){const{A,B,C,D,E,F,G,H}=this;return[A,B,C,D,E,F,G,H]}set(A,B,C,D,E,F,G,H){this.A=0|A,this.B=0|B,this.C=0|C,this.D=0|D,this.E=0|E,this.F=0|F,this.G=0|G,this.H=0|H}process(view,offset){for(let i=0;i<16;i++,offset+=4)SHA256_W[i]=view.getUint32(offset,!1);for(let i=16;i<64;i++){const W15=SHA256_W[i-15],W2=SHA256_W[i-2],s0=(0,utils_js_1.rotr)(W15,7)^(0,utils_js_1.rotr)(W15,18)^W15>>>3,s1=(0,utils_js_1.rotr)(W2,17)^(0,utils_js_1.rotr)(W2,19)^W2>>>10;SHA256_W[i]=s1+SHA256_W[i-7]+s0+SHA256_W[i-16]|0}let{A,B,C,D,E,F,G,H}=this;for(let i=0;i<64;i++){const T1=H+((0,utils_js_1.rotr)(E,6)^(0,utils_js_1.rotr)(E,11)^(0,utils_js_1.rotr)(E,25))+(0,_md_js_1.Chi)(E,F,G)+SHA256_K[i]+SHA256_W[i]|0,T2=((0,utils_js_1.rotr)(A,2)^(0,utils_js_1.rotr)(A,13)^(0,utils_js_1.rotr)(A,22))+(0,_md_js_1.Maj)(A,B,C)|0;H=G,G=F,F=E,E=D+T1|0,D=C,C=B,B=A,A=T1+T2|0}A=A+this.A|0,B=B+this.B|0,C=C+this.C|0,D=D+this.D|0,E=E+this.E|0,F=F+this.F|0,G=G+this.G|0,H=H+this.H|0,this.set(A,B,C,D,E,F,G,H)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}exports.SHA256=SHA256;class SHA224 extends SHA256{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}exports.sha256=(0,utils_js_1.wrapConstructor)((()=>new SHA256)),exports.sha224=(0,utils_js_1.wrapConstructor)((()=>new SHA224))},"./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hash=exports.nextTick=exports.byteSwapIfBE=exports.byteSwap=exports.isLE=exports.rotl=exports.rotr=exports.createView=exports.u32=exports.u8=void 0,exports.isBytes=function isBytes(a){return a instanceof Uint8Array||null!=a&&"object"==typeof a&&"Uint8Array"===a.constructor.name},exports.byteSwap32=function byteSwap32(arr){for(let i=0;i<arr.length;i++)arr[i]=(0,exports.byteSwap)(arr[i])},exports.bytesToHex=function bytesToHex(bytes){(0,_assert_js_1.bytes)(bytes);let hex="";for(let i=0;i<bytes.length;i++)hex+=hexes[bytes[i]];return hex},exports.hexToBytes=function hexToBytes(hex){if("string"!=typeof hex)throw new Error("hex string expected, got "+typeof hex);const hl=hex.length,al=hl/2;if(hl%2)throw new Error("padded hex string expected, got unpadded hex of length "+hl);const array=new Uint8Array(al);for(let ai=0,hi=0;ai<al;ai++,hi+=2){const n1=asciiToBase16(hex.charCodeAt(hi)),n2=asciiToBase16(hex.charCodeAt(hi+1));if(void 0===n1||void 0===n2){const char=hex[hi]+hex[hi+1];throw new Error('hex string expected, got non-hex character "'+char+'" at index '+hi)}array[ai]=16*n1+n2}return array},exports.asyncLoop=async function asyncLoop(iters,tick,cb){let ts=Date.now();for(let i=0;i<iters;i++){cb(i);const diff=Date.now()-ts;diff>=0&&diff<tick||(await(0,exports.nextTick)(),ts+=diff)}},exports.utf8ToBytes=utf8ToBytes,exports.toBytes=toBytes,exports.concatBytes=function concatBytes(...arrays){let sum=0;for(let i=0;i<arrays.length;i++){const a=arrays[i];(0,_assert_js_1.bytes)(a),sum+=a.length}const res=new Uint8Array(sum);for(let i=0,pad=0;i<arrays.length;i++){const a=arrays[i];res.set(a,pad),pad+=a.length}return res},exports.checkOpts=function checkOpts(defaults,opts){if(void 0!==opts&&"[object Object]"!==toStr.call(opts))throw new Error("Options should be object or undefined");return Object.assign(defaults,opts)},exports.wrapConstructor=function wrapConstructor(hashCons){const hashC=msg=>hashCons().update(toBytes(msg)).digest(),tmp=hashCons();return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=()=>hashCons(),hashC},exports.wrapConstructorWithOpts=function wrapConstructorWithOpts(hashCons){const hashC=(msg,opts)=>hashCons(opts).update(toBytes(msg)).digest(),tmp=hashCons({});return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=opts=>hashCons(opts),hashC},exports.wrapXOFConstructorWithOpts=function wrapXOFConstructorWithOpts(hashCons){const hashC=(msg,opts)=>hashCons(opts).update(toBytes(msg)).digest(),tmp=hashCons({});return hashC.outputLen=tmp.outputLen,hashC.blockLen=tmp.blockLen,hashC.create=opts=>hashCons(opts),hashC},exports.randomBytes=function randomBytes(bytesLength=32){if(crypto_1.crypto&&"function"==typeof crypto_1.crypto.getRandomValues)return crypto_1.crypto.getRandomValues(new Uint8Array(bytesLength));if(crypto_1.crypto&&"function"==typeof crypto_1.crypto.randomBytes)return crypto_1.crypto.randomBytes(bytesLength);throw new Error("crypto.getRandomValues must be defined")};const crypto_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/crypto.js"),_assert_js_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/_assert.js");exports.u8=arr=>new Uint8Array(arr.buffer,arr.byteOffset,arr.byteLength);exports.u32=arr=>new Uint32Array(arr.buffer,arr.byteOffset,Math.floor(arr.byteLength/4));exports.createView=arr=>new DataView(arr.buffer,arr.byteOffset,arr.byteLength);exports.rotr=(word,shift)=>word<<32-shift|word>>>shift;exports.rotl=(word,shift)=>word<<shift|word>>>32-shift>>>0,exports.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];exports.byteSwap=word=>word<<24&4278190080|word<<8&16711680|word>>>8&65280|word>>>24&255,exports.byteSwapIfBE=exports.isLE?n=>n:n=>(0,exports.byteSwap)(n);const hexes=Array.from({length:256},((_,i)=>i.toString(16).padStart(2,"0")));const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(char){return char>=asciis._0&&char<=asciis._9?char-asciis._0:char>=asciis._A&&char<=asciis._F?char-(asciis._A-10):char>=asciis._a&&char<=asciis._f?char-(asciis._a-10):void 0}function utf8ToBytes(str){if("string"!=typeof str)throw new Error("utf8ToBytes expected string, got "+typeof str);return new Uint8Array((new TextEncoder).encode(str))}function toBytes(data){return"string"==typeof data&&(data=utf8ToBytes(data)),(0,_assert_js_1.bytes)(data),data}exports.nextTick=async()=>{};exports.Hash=class Hash{clone(){return this._cloneInto()}};const toStr={}.toString},"./node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{CH:()=>getSharedSecret,HU:()=>signSync,MX:()=>verify,Wp:()=>utils,bR:()=>Point,lG:()=>getPublicKey,to:()=>Signature});var crypto__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("?c692");const _0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),divNearest=(a,b)=>(a+b/_2n)/b,endo={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(k){const{n}=CURVE,a1=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2=a1,POW_2_128=BigInt("0x100000000000000000000000000000000"),c1=divNearest(b2*k,n),c2=divNearest(-b1*k,n);let k1=mod(k-c1*a1-c2*a2,n),k2=mod(-c1*b1-c2*b2,n);const k1neg=k1>POW_2_128,k2neg=k2>POW_2_128;if(k1neg&&(k1=n-k1),k2neg&&(k2=n-k2),k1>POW_2_128||k2>POW_2_128)throw new Error("splitScalarEndo: Endomorphism failed, k="+k);return{k1neg,k1,k2neg,k2}}},fieldLen=32,groupLen=32,hashLen=32,compressedLen=fieldLen+1,uncompressedLen=2*fieldLen+1;function weierstrass(x){const{a,b}=CURVE,x2=mod(x*x),x3=mod(x2*x);return mod(x3+a*x+b)}const USE_ENDOMORPHISM=CURVE.a===_0n;class ShaError extends Error{constructor(message){super(message)}}function assertJacPoint(other){if(!(other instanceof JacobianPoint))throw new TypeError("JacobianPoint expected")}class JacobianPoint{constructor(x,y,z){this.x=x,this.y=y,this.z=z}static fromAffine(p){if(!(p instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return p.equals(Point.ZERO)?JacobianPoint.ZERO:new JacobianPoint(p.x,p.y,_1n)}static toAffineBatch(points){const toInv=function invertBatch(nums,p=CURVE.P){const scratch=new Array(nums.length),inverted=invert(nums.reduce(((acc,num,i)=>num===_0n?acc:(scratch[i]=acc,mod(acc*num,p))),_1n),p);return nums.reduceRight(((acc,num,i)=>num===_0n?acc:(scratch[i]=mod(acc*scratch[i],p),mod(acc*num,p))),inverted),scratch}(points.map((p=>p.z)));return points.map(((p,i)=>p.toAffine(toInv[i])))}static normalizeZ(points){return JacobianPoint.toAffineBatch(points).map(JacobianPoint.fromAffine)}equals(other){assertJacPoint(other);const{x:X1,y:Y1,z:Z1}=this,{x:X2,y:Y2,z:Z2}=other,Z1Z1=mod(Z1*Z1),Z2Z2=mod(Z2*Z2),U1=mod(X1*Z2Z2),U2=mod(X2*Z1Z1),S1=mod(mod(Y1*Z2)*Z2Z2),S2=mod(mod(Y2*Z1)*Z1Z1);return U1===U2&&S1===S2}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:X1,y:Y1,z:Z1}=this,A=mod(X1*X1),B=mod(Y1*Y1),C=mod(B*B),x1b=X1+B,D=mod(_2n*(mod(x1b*x1b)-A-C)),E=mod(_3n*A),F=mod(E*E),X3=mod(F-_2n*D),Y3=mod(E*(D-X3)-_8n*C),Z3=mod(_2n*Y1*Z1);return new JacobianPoint(X3,Y3,Z3)}add(other){assertJacPoint(other);const{x:X1,y:Y1,z:Z1}=this,{x:X2,y:Y2,z:Z2}=other;if(X2===_0n||Y2===_0n)return this;if(X1===_0n||Y1===_0n)return other;const Z1Z1=mod(Z1*Z1),Z2Z2=mod(Z2*Z2),U1=mod(X1*Z2Z2),U2=mod(X2*Z1Z1),S1=mod(mod(Y1*Z2)*Z2Z2),S2=mod(mod(Y2*Z1)*Z1Z1),H=mod(U2-U1),r=mod(S2-S1);if(H===_0n)return r===_0n?this.double():JacobianPoint.ZERO;const HH=mod(H*H),HHH=mod(H*HH),V=mod(U1*HH),X3=mod(r*r-HHH-_2n*V),Y3=mod(r*(V-X3)-S1*HHH),Z3=mod(Z1*Z2*H);return new JacobianPoint(X3,Y3,Z3)}subtract(other){return this.add(other.negate())}multiplyUnsafe(scalar){const P0=JacobianPoint.ZERO;if("bigint"==typeof scalar&&scalar===_0n)return P0;let n=normalizeScalar(scalar);if(n===_1n)return this;if(!USE_ENDOMORPHISM){let p=P0,d=this;for(;n>_0n;)n&_1n&&(p=p.add(d)),d=d.double(),n>>=_1n;return p}let{k1neg,k1,k2neg,k2}=endo.splitScalar(n),k1p=P0,k2p=P0,d=this;for(;k1>_0n||k2>_0n;)k1&_1n&&(k1p=k1p.add(d)),k2&_1n&&(k2p=k2p.add(d)),d=d.double(),k1>>=_1n,k2>>=_1n;return k1neg&&(k1p=k1p.negate()),k2neg&&(k2p=k2p.negate()),k2p=new JacobianPoint(mod(k2p.x*endo.beta),k2p.y,k2p.z),k1p.add(k2p)}precomputeWindow(W){const windows=USE_ENDOMORPHISM?128/W+1:256/W+1,points=[];let p=this,base=p;for(let window=0;window<windows;window++){base=p,points.push(base);for(let i=1;i<2**(W-1);i++)base=base.add(p),points.push(base);p=base.double()}return points}wNAF(n,affinePoint){!affinePoint&&this.equals(JacobianPoint.BASE)&&(affinePoint=Point.BASE);const W=affinePoint&&affinePoint._WINDOW_SIZE||1;if(256%W)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let precomputes=affinePoint&&pointPrecomputes.get(affinePoint);precomputes||(precomputes=this.precomputeWindow(W),affinePoint&&1!==W&&(precomputes=JacobianPoint.normalizeZ(precomputes),pointPrecomputes.set(affinePoint,precomputes)));let p=JacobianPoint.ZERO,f=JacobianPoint.BASE;const windows=1+(USE_ENDOMORPHISM?128/W:256/W),windowSize=2**(W-1),mask=BigInt(2**W-1),maxNumber=2**W,shiftBy=BigInt(W);for(let window=0;window<windows;window++){const offset=window*windowSize;let wbits=Number(n&mask);n>>=shiftBy,wbits>windowSize&&(wbits-=maxNumber,n+=_1n);const offset1=offset,offset2=offset+Math.abs(wbits)-1,cond1=window%2!=0,cond2=wbits<0;0===wbits?f=f.add(constTimeNegate(cond1,precomputes[offset1])):p=p.add(constTimeNegate(cond2,precomputes[offset2]))}return{p,f}}multiply(scalar,affinePoint){let point,fake,n=normalizeScalar(scalar);if(USE_ENDOMORPHISM){const{k1neg,k1,k2neg,k2}=endo.splitScalar(n);let{p:k1p,f:f1p}=this.wNAF(k1,affinePoint),{p:k2p,f:f2p}=this.wNAF(k2,affinePoint);k1p=constTimeNegate(k1neg,k1p),k2p=constTimeNegate(k2neg,k2p),k2p=new JacobianPoint(mod(k2p.x*endo.beta),k2p.y,k2p.z),point=k1p.add(k2p),fake=f1p.add(f2p)}else{const{p,f}=this.wNAF(n,affinePoint);point=p,fake=f}return JacobianPoint.normalizeZ([point,fake])[0]}toAffine(invZ){const{x,y,z}=this,is0=this.equals(JacobianPoint.ZERO);null==invZ&&(invZ=is0?_8n:invert(z));const iz1=invZ,iz2=mod(iz1*iz1),iz3=mod(iz2*iz1),ax=mod(x*iz2),ay=mod(y*iz3),zz=mod(z*iz1);if(is0)return Point.ZERO;if(zz!==_1n)throw new Error("invZ was invalid");return new Point(ax,ay)}}function constTimeNegate(condition,item){const neg=item.negate();return condition?neg:item}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n),JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);const pointPrecomputes=new WeakMap;class Point{constructor(x,y){this.x=x,this.y=y}_setWindowSize(windowSize){this._WINDOW_SIZE=windowSize,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n===_0n}static fromCompressedHex(bytes){const isShort=32===bytes.length,x=bytesToNumber(isShort?bytes:bytes.subarray(1));if(!isValidFieldElement(x))throw new Error("Point is not on curve");let y=function sqrtMod(x){const{P}=CURVE,_6n=BigInt(6),_11n=BigInt(11),_22n=BigInt(22),_23n=BigInt(23),_44n=BigInt(44),_88n=BigInt(88),b2=x*x*x%P,b3=b2*b2*x%P,b6=pow2(b3,_3n)*b3%P,b9=pow2(b6,_3n)*b3%P,b11=pow2(b9,_2n)*b2%P,b22=pow2(b11,_11n)*b11%P,b44=pow2(b22,_22n)*b22%P,b88=pow2(b44,_44n)*b44%P,b176=pow2(b88,_88n)*b88%P,b220=pow2(b176,_44n)*b44%P,b223=pow2(b220,_3n)*b3%P,t1=pow2(b223,_23n)*b22%P,t2=pow2(t1,_6n)*b2%P,rt=pow2(t2,_2n);if(rt*rt%P!==x)throw new Error("Cannot find square root");return rt}(weierstrass(x));const isYOdd=(y&_1n)===_1n;if(isShort)isYOdd&&(y=mod(-y));else{!(1&~bytes[0])!==isYOdd&&(y=mod(-y))}const point=new Point(x,y);return point.assertValidity(),point}static fromUncompressedHex(bytes){const x=bytesToNumber(bytes.subarray(1,fieldLen+1)),y=bytesToNumber(bytes.subarray(fieldLen+1,2*fieldLen+1)),point=new Point(x,y);return point.assertValidity(),point}static fromHex(hex){const bytes=ensureBytes(hex),len=bytes.length,header=bytes[0];if(len===fieldLen)return this.fromCompressedHex(bytes);if(len===compressedLen&&(2===header||3===header))return this.fromCompressedHex(bytes);if(len===uncompressedLen&&4===header)return this.fromUncompressedHex(bytes);throw new Error(`Point.fromHex: received invalid point. Expected 32-${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes, not ${len}`)}static fromPrivateKey(privateKey){return Point.BASE.multiply(normalizePrivateKey(privateKey))}static fromSignature(msgHash,signature,recovery){const{r,s}=normalizeSignature(signature);if(![0,1,2,3].includes(recovery))throw new Error("Cannot recover: invalid recovery bit");const h=truncateHash(ensureBytes(msgHash)),{n}=CURVE,radj=2===recovery||3===recovery?r+n:r,rinv=invert(radj,n),u1=mod(-h*rinv,n),u2=mod(s*rinv,n),prefix=1&recovery?"03":"02",R=Point.fromHex(prefix+numTo32bStr(radj)),Q=Point.BASE.multiplyAndAddUnsafe(R,u1,u2);if(!Q)throw new Error("Cannot recover signature: point at infinify");return Q.assertValidity(),Q}toRawBytes(isCompressed=!1){return hexToBytes(this.toHex(isCompressed))}toHex(isCompressed=!1){const x=numTo32bStr(this.x);if(isCompressed){return`${this.hasEvenY()?"02":"03"}${x}`}return`04${x}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const msg="Point is not on elliptic curve",{x,y}=this;if(!isValidFieldElement(x)||!isValidFieldElement(y))throw new Error(msg);const left=mod(y*y);if(mod(left-weierstrass(x))!==_0n)throw new Error(msg)}equals(other){return this.x===other.x&&this.y===other.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(other){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(other)).toAffine()}subtract(other){return this.add(other.negate())}multiply(scalar){return JacobianPoint.fromAffine(this).multiply(scalar,this).toAffine()}multiplyAndAddUnsafe(Q,a,b){const P=JacobianPoint.fromAffine(this),aP=a===_0n||a===_1n||this!==Point.BASE?P.multiplyUnsafe(a):P.multiply(a),bQ=JacobianPoint.fromAffine(Q).multiplyUnsafe(b),sum=aP.add(bQ);return sum.equals(JacobianPoint.ZERO)?void 0:sum.toAffine()}}function sliceDER(s){return Number.parseInt(s[0],16)>=8?"00"+s:s}function parseDERInt(data){if(data.length<2||2!==data[0])throw new Error(`Invalid signature integer tag: ${bytesToHex(data)}`);const len=data[1],res=data.subarray(2,len+2);if(!len||res.length!==len)throw new Error("Invalid signature integer: wrong length");if(0===res[0]&&res[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(res),left:data.subarray(len+2)}}Point.BASE=new Point(CURVE.Gx,CURVE.Gy),Point.ZERO=new Point(_0n,_0n);class Signature{constructor(r,s){this.r=r,this.s=s,this.assertValidity()}static fromCompact(hex){const arr=hex instanceof Uint8Array,name="Signature.fromCompact";if("string"!=typeof hex&&!arr)throw new TypeError(`${name}: Expected string or Uint8Array`);const str=arr?bytesToHex(hex):hex;if(128!==str.length)throw new Error(`${name}: Expected 64-byte hex`);return new Signature(hexToNumber(str.slice(0,64)),hexToNumber(str.slice(64,128)))}static fromDER(hex){const arr=hex instanceof Uint8Array;if("string"!=typeof hex&&!arr)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=function parseDERSignature(data){if(data.length<2||48!=data[0])throw new Error(`Invalid signature tag: ${bytesToHex(data)}`);if(data[1]!==data.length-2)throw new Error("Invalid signature: incorrect length");const{data:r,left:sBytes}=parseDERInt(data.subarray(2)),{data:s,left:rBytesLeft}=parseDERInt(sBytes);if(rBytesLeft.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(rBytesLeft)}`);return{r,s}}(arr?hex:hexToBytes(hex));return new Signature(r,s)}static fromHex(hex){return this.fromDER(hex)}assertValidity(){const{r,s}=this;if(!isWithinCurveOrder(r))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(s))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const HALF=CURVE.n>>_1n;return this.s>HALF}normalizeS(){return this.hasHighS()?new Signature(this.r,mod(-this.s,CURVE.n)):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){const sHex=sliceDER(numberToHexUnpadded(this.s)),rHex=sliceDER(numberToHexUnpadded(this.r)),sHexL=sHex.length/2,rHexL=rHex.length/2,sLen=numberToHexUnpadded(sHexL),rLen=numberToHexUnpadded(rHexL);return`30${numberToHexUnpadded(rHexL+sHexL+4)}02${rLen}${rHex}02${sLen}${sHex}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...arrays){if(!arrays.every((b=>b instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===arrays.length)return arrays[0];const length=arrays.reduce(((a,arr)=>a+arr.length),0),result=new Uint8Array(length);for(let i=0,pad=0;i<arrays.length;i++){const arr=arrays[i];result.set(arr,pad),pad+=arr.length}return result}const hexes=Array.from({length:256},((v,i)=>i.toString(16).padStart(2,"0")));function bytesToHex(uint8a){if(!(uint8a instanceof Uint8Array))throw new Error("Expected Uint8Array");let hex="";for(let i=0;i<uint8a.length;i++)hex+=hexes[uint8a[i]];return hex}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(num){if("bigint"!=typeof num)throw new Error("Expected bigint");if(!(_0n<=num&&num<POW_2_256))throw new Error("Expected number 0 <= n < 2^256");return num.toString(16).padStart(64,"0")}function numTo32b(num){const b=hexToBytes(numTo32bStr(num));if(32!==b.length)throw new Error("Error: expected 32 bytes");return b}function numberToHexUnpadded(num){const hex=num.toString(16);return 1&hex.length?`0${hex}`:hex}function hexToNumber(hex){if("string"!=typeof hex)throw new TypeError("hexToNumber: expected string, got "+typeof hex);return BigInt(`0x${hex}`)}function hexToBytes(hex){if("string"!=typeof hex)throw new TypeError("hexToBytes: expected string, got "+typeof hex);if(hex.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+hex.length);const array=new Uint8Array(hex.length/2);for(let i=0;i<array.length;i++){const j=2*i,hexByte=hex.slice(j,j+2),byte=Number.parseInt(hexByte,16);if(Number.isNaN(byte)||byte<0)throw new Error("Invalid byte sequence");array[i]=byte}return array}function bytesToNumber(bytes){return hexToNumber(bytesToHex(bytes))}function ensureBytes(hex){return hex instanceof Uint8Array?Uint8Array.from(hex):hexToBytes(hex)}function normalizeScalar(num){if("number"==typeof num&&Number.isSafeInteger(num)&&num>0)return BigInt(num);if("bigint"==typeof num&&isWithinCurveOrder(num))return num;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(a,b=CURVE.P){const result=a%b;return result>=_0n?result:b+result}function pow2(x,power){const{P}=CURVE;let res=x;for(;power-- >_0n;)res*=res,res%=P;return res}function invert(number,modulo=CURVE.P){if(number===_0n||modulo<=_0n)throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);let a=mod(number,modulo),b=modulo,x=_0n,y=_1n,u=_1n,v=_0n;for(;a!==_0n;){const q=b/a,r=b%a,m=x-u*q,n=y-v*q;b=a,a=r,x=u,y=v,u=m,v=n}if(b!==_1n)throw new Error("invert: does not exist");return mod(x,modulo)}function truncateHash(hash,truncateOnly=!1){const h=function bits2int_2(bytes){const delta=8*bytes.length-8*groupLen,num=bytesToNumber(bytes);return delta>0?num>>BigInt(delta):num}(hash);if(truncateOnly)return h;const{n}=CURVE;return h>=n?h-n:h}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(hashLen,qByteLen){if(this.hashLen=hashLen,this.qByteLen=qByteLen,"number"!=typeof hashLen||hashLen<2)throw new Error("hashLen must be a number");if("number"!=typeof qByteLen||qByteLen<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(hashLen).fill(1),this.k=new Uint8Array(hashLen).fill(0),this.counter=0}hmac(...values){return utils.hmacSha256(this.k,...values)}hmacSync(...values){return _hmacSha256Sync(this.k,...values)}checkSync(){if("function"!=typeof _hmacSha256Sync)throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(seed=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),seed),this.v=await this.hmac(this.v),0!==seed.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),seed),this.v=await this.hmac(this.v))}reseedSync(seed=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),seed),this.v=this.hmacSync(this.v),0!==seed.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),seed),this.v=this.hmacSync(this.v))}async generate(){this.incr();let len=0;const out=[];for(;len<this.qByteLen;){this.v=await this.hmac(this.v);const sl=this.v.slice();out.push(sl),len+=this.v.length}return concatBytes(...out)}generateSync(){this.checkSync(),this.incr();let len=0;const out=[];for(;len<this.qByteLen;){this.v=this.hmacSync(this.v);const sl=this.v.slice();out.push(sl),len+=this.v.length}return concatBytes(...out)}}function isWithinCurveOrder(num){return _0n<num&&num<CURVE.n}function isValidFieldElement(num){return _0n<num&&num<CURVE.P}function kmdToSig(kBytes,m,d,lowS=!0){const{n}=CURVE,k=truncateHash(kBytes,!0);if(!isWithinCurveOrder(k))return;const kinv=invert(k,n),q=Point.BASE.multiply(k),r=mod(q.x,n);if(r===_0n)return;const s=mod(kinv*mod(m+d*r,n),n);if(s===_0n)return;let sig=new Signature(r,s),recovery=(q.x===sig.r?0:2)|Number(q.y&_1n);return lowS&&sig.hasHighS()&&(sig=sig.normalizeS(),recovery^=1),{sig,recovery}}function normalizePrivateKey(key){let num;if("bigint"==typeof key)num=key;else if("number"==typeof key&&Number.isSafeInteger(key)&&key>0)num=BigInt(key);else if("string"==typeof key){if(key.length!==2*groupLen)throw new Error("Expected 32 bytes of private key");num=hexToNumber(key)}else{if(!(key instanceof Uint8Array))throw new TypeError("Expected valid private key");if(key.length!==groupLen)throw new Error("Expected 32 bytes of private key");num=bytesToNumber(key)}if(!isWithinCurveOrder(num))throw new Error("Expected private key: 0 < key < n");return num}function normalizePublicKey(publicKey){return publicKey instanceof Point?(publicKey.assertValidity(),publicKey):Point.fromHex(publicKey)}function normalizeSignature(signature){if(signature instanceof Signature)return signature.assertValidity(),signature;try{return Signature.fromDER(signature)}catch(error){return Signature.fromCompact(signature)}}function getPublicKey(privateKey,isCompressed=!1){return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed)}function isProbPub(item){const arr=item instanceof Uint8Array,str="string"==typeof item,len=(arr||str)&&item.length;return arr?len===compressedLen||len===uncompressedLen:str?len===2*compressedLen||len===2*uncompressedLen:item instanceof Point}function getSharedSecret(privateA,publicB,isCompressed=!1){if(isProbPub(privateA))throw new TypeError("getSharedSecret: first arg must be private key");if(!isProbPub(publicB))throw new TypeError("getSharedSecret: second arg must be public key");const b=normalizePublicKey(publicB);return b.assertValidity(),b.multiply(normalizePrivateKey(privateA)).toRawBytes(isCompressed)}function bits2int(bytes){return bytesToNumber(bytes.length>fieldLen?bytes.slice(0,fieldLen):bytes)}function bits2octets(bytes){const z1=bits2int(bytes),z2=mod(z1,CURVE.n);return int2octets(z2<_0n?z1:z2)}function int2octets(num){return numTo32b(num)}function initSigArgs(msgHash,privateKey,extraEntropy){if(null==msgHash)throw new Error(`sign: expected valid message hash, not "${msgHash}"`);const h1=ensureBytes(msgHash),d=normalizePrivateKey(privateKey),seedArgs=[int2octets(d),bits2octets(h1)];if(null!=extraEntropy){!0===extraEntropy&&(extraEntropy=utils.randomBytes(fieldLen));const e=ensureBytes(extraEntropy);if(e.length!==fieldLen)throw new Error(`sign: Expected ${fieldLen} bytes of extra data`);seedArgs.push(e)}return{seed:concatBytes(...seedArgs),m:bits2int(h1),d}}function finalizeSig(recSig,opts){const{sig,recovery}=recSig,{der,recovered}=Object.assign({canonical:!0,der:!0},opts),hashed=der?sig.toDERRawBytes():sig.toCompactRawBytes();return recovered?[hashed,recovery]:hashed}function signSync(msgHash,privKey,opts={}){const{seed,m,d}=initSigArgs(msgHash,privKey,opts.extraEntropy),drbg=new HmacDrbg(hashLen,groupLen);let sig;for(drbg.reseedSync(seed);!(sig=kmdToSig(drbg.generateSync(),m,d,opts.canonical));)drbg.reseedSync();return finalizeSig(sig,opts)}const vopts={strict:!0};function verify(signature,msgHash,publicKey,opts=vopts){let sig;try{sig=normalizeSignature(signature),msgHash=ensureBytes(msgHash)}catch(error){return!1}const{r,s}=sig;if(opts.strict&&sig.hasHighS())return!1;const h=truncateHash(msgHash);let P;try{P=normalizePublicKey(publicKey)}catch(error){return!1}const{n}=CURVE,sinv=invert(s,n),u1=mod(h*sinv,n),u2=mod(r*sinv,n),R=Point.BASE.multiplyAndAddUnsafe(P,u1,u2);if(!R)return!1;return mod(R.x,n)===r}Point.BASE._setWindowSize(8);const crypto={node:crypto__WEBPACK_IMPORTED_MODULE_0__,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},TAGGED_HASH_PREFIXES={},utils={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(privateKey){try{return normalizePrivateKey(privateKey),!0}catch(error){return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:hash=>{hash=ensureBytes(hash);const minLen=groupLen+8;if(hash.length<minLen||hash.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return numTo32b(mod(bytesToNumber(hash),CURVE.n-_1n)+_1n)},randomBytes:(bytesLength=32)=>{if(crypto.web)return crypto.web.getRandomValues(new Uint8Array(bytesLength));if(crypto.node){const{randomBytes}=crypto.node;return Uint8Array.from(randomBytes(bytesLength))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>utils.hashToPrivateKey(utils.randomBytes(groupLen+8)),precompute(windowSize=8,point=Point.BASE){const cached=point===Point.BASE?point:new Point(point.x,point.y);return cached._setWindowSize(windowSize),cached.multiply(_3n),cached},sha256:async(...messages)=>{if(crypto.web){const buffer=await crypto.web.subtle.digest("SHA-256",concatBytes(...messages));return new Uint8Array(buffer)}if(crypto.node){const{createHash}=crypto.node,hash=createHash("sha256");return messages.forEach((m=>hash.update(m))),Uint8Array.from(hash.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(key,...messages)=>{if(crypto.web){const ckey=await crypto.web.subtle.importKey("raw",key,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),message=concatBytes(...messages),buffer=await crypto.web.subtle.sign("HMAC",ckey,message);return new Uint8Array(buffer)}if(crypto.node){const{createHmac}=crypto.node,hash=createHmac("sha256",key);return messages.forEach((m=>hash.update(m))),Uint8Array.from(hash.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(tag,...messages)=>{let tagP=TAGGED_HASH_PREFIXES[tag];if(void 0===tagP){const tagH=await utils.sha256(Uint8Array.from(tag,(c=>c.charCodeAt(0))));tagP=concatBytes(tagH,tagH),TAGGED_HASH_PREFIXES[tag]=tagP}return utils.sha256(tagP,...messages)},taggedHashSync:(tag,...messages)=>{if("function"!=typeof _sha256Sync)throw new ShaError("sha256Sync is undefined, you need to set it");let tagP=TAGGED_HASH_PREFIXES[tag];if(void 0===tagP){const tagH=_sha256Sync(Uint8Array.from(tag,(c=>c.charCodeAt(0))));tagP=concatBytes(tagH,tagH),TAGGED_HASH_PREFIXES[tag]=tagP}return _sha256Sync(tagP,...messages)},_JacobianPoint:JacobianPoint};Object.defineProperties(utils,{sha256Sync:{configurable:!1,get:()=>_sha256Sync,set(val){_sha256Sync||(_sha256Sync=val)}},hmacSha256Sync:{configurable:!1,get:()=>_hmacSha256Sync,set(val){_hmacSha256Sync||(_hmacSha256Sync=val)}}})},"./node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.utils=exports.schnorr=exports.verify=exports.signSync=exports.sign=exports.getSharedSecret=exports.recoverPublicKey=exports.getPublicKey=exports.Signature=exports.Point=exports.CURVE=void 0;const nodeCrypto=__webpack_require__("?ddd9"),_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),_3n=BigInt(3),_8n=BigInt(8),CURVE=Object.freeze({a:_0n,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:_1n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});exports.CURVE=CURVE;const divNearest=(a,b)=>(a+b/_2n)/b,endo={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(k){const{n}=CURVE,a1=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2=a1,POW_2_128=BigInt("0x100000000000000000000000000000000"),c1=divNearest(b2*k,n),c2=divNearest(-b1*k,n);let k1=mod(k-c1*a1-c2*a2,n),k2=mod(-c1*b1-c2*b2,n);const k1neg=k1>POW_2_128,k2neg=k2>POW_2_128;if(k1neg&&(k1=n-k1),k2neg&&(k2=n-k2),k1>POW_2_128||k2>POW_2_128)throw new Error("splitScalarEndo: Endomorphism failed, k="+k);return{k1neg,k1,k2neg,k2}}},fieldLen=32,groupLen=32,compressedLen=fieldLen+1,uncompressedLen=2*fieldLen+1;function weierstrass(x){const{a,b}=CURVE,x2=mod(x*x),x3=mod(x2*x);return mod(x3+a*x+b)}const USE_ENDOMORPHISM=CURVE.a===_0n;class ShaError extends Error{constructor(message){super(message)}}function assertJacPoint(other){if(!(other instanceof JacobianPoint))throw new TypeError("JacobianPoint expected")}class JacobianPoint{constructor(x,y,z){this.x=x,this.y=y,this.z=z}static fromAffine(p){if(!(p instanceof Point))throw new TypeError("JacobianPoint#fromAffine: expected Point");return p.equals(Point.ZERO)?JacobianPoint.ZERO:new JacobianPoint(p.x,p.y,_1n)}static toAffineBatch(points){const toInv=function invertBatch(nums,p=CURVE.P){const scratch=new Array(nums.length),inverted=invert(nums.reduce(((acc,num,i)=>num===_0n?acc:(scratch[i]=acc,mod(acc*num,p))),_1n),p);return nums.reduceRight(((acc,num,i)=>num===_0n?acc:(scratch[i]=mod(acc*scratch[i],p),mod(acc*num,p))),inverted),scratch}(points.map((p=>p.z)));return points.map(((p,i)=>p.toAffine(toInv[i])))}static normalizeZ(points){return JacobianPoint.toAffineBatch(points).map(JacobianPoint.fromAffine)}equals(other){assertJacPoint(other);const{x:X1,y:Y1,z:Z1}=this,{x:X2,y:Y2,z:Z2}=other,Z1Z1=mod(Z1*Z1),Z2Z2=mod(Z2*Z2),U1=mod(X1*Z2Z2),U2=mod(X2*Z1Z1),S1=mod(mod(Y1*Z2)*Z2Z2),S2=mod(mod(Y2*Z1)*Z1Z1);return U1===U2&&S1===S2}negate(){return new JacobianPoint(this.x,mod(-this.y),this.z)}double(){const{x:X1,y:Y1,z:Z1}=this,A=mod(X1*X1),B=mod(Y1*Y1),C=mod(B*B),x1b=X1+B,D=mod(_2n*(mod(x1b*x1b)-A-C)),E=mod(_3n*A),F=mod(E*E),X3=mod(F-_2n*D),Y3=mod(E*(D-X3)-_8n*C),Z3=mod(_2n*Y1*Z1);return new JacobianPoint(X3,Y3,Z3)}add(other){assertJacPoint(other);const{x:X1,y:Y1,z:Z1}=this,{x:X2,y:Y2,z:Z2}=other;if(X2===_0n||Y2===_0n)return this;if(X1===_0n||Y1===_0n)return other;const Z1Z1=mod(Z1*Z1),Z2Z2=mod(Z2*Z2),U1=mod(X1*Z2Z2),U2=mod(X2*Z1Z1),S1=mod(mod(Y1*Z2)*Z2Z2),S2=mod(mod(Y2*Z1)*Z1Z1),H=mod(U2-U1),r=mod(S2-S1);if(H===_0n)return r===_0n?this.double():JacobianPoint.ZERO;const HH=mod(H*H),HHH=mod(H*HH),V=mod(U1*HH),X3=mod(r*r-HHH-_2n*V),Y3=mod(r*(V-X3)-S1*HHH),Z3=mod(Z1*Z2*H);return new JacobianPoint(X3,Y3,Z3)}subtract(other){return this.add(other.negate())}multiplyUnsafe(scalar){const P0=JacobianPoint.ZERO;if("bigint"==typeof scalar&&scalar===_0n)return P0;let n=normalizeScalar(scalar);if(n===_1n)return this;if(!USE_ENDOMORPHISM){let p=P0,d=this;for(;n>_0n;)n&_1n&&(p=p.add(d)),d=d.double(),n>>=_1n;return p}let{k1neg,k1,k2neg,k2}=endo.splitScalar(n),k1p=P0,k2p=P0,d=this;for(;k1>_0n||k2>_0n;)k1&_1n&&(k1p=k1p.add(d)),k2&_1n&&(k2p=k2p.add(d)),d=d.double(),k1>>=_1n,k2>>=_1n;return k1neg&&(k1p=k1p.negate()),k2neg&&(k2p=k2p.negate()),k2p=new JacobianPoint(mod(k2p.x*endo.beta),k2p.y,k2p.z),k1p.add(k2p)}precomputeWindow(W){const windows=USE_ENDOMORPHISM?128/W+1:256/W+1,points=[];let p=this,base=p;for(let window=0;window<windows;window++){base=p,points.push(base);for(let i=1;i<2**(W-1);i++)base=base.add(p),points.push(base);p=base.double()}return points}wNAF(n,affinePoint){!affinePoint&&this.equals(JacobianPoint.BASE)&&(affinePoint=Point.BASE);const W=affinePoint&&affinePoint._WINDOW_SIZE||1;if(256%W)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let precomputes=affinePoint&&pointPrecomputes.get(affinePoint);precomputes||(precomputes=this.precomputeWindow(W),affinePoint&&1!==W&&(precomputes=JacobianPoint.normalizeZ(precomputes),pointPrecomputes.set(affinePoint,precomputes)));let p=JacobianPoint.ZERO,f=JacobianPoint.BASE;const windows=1+(USE_ENDOMORPHISM?128/W:256/W),windowSize=2**(W-1),mask=BigInt(2**W-1),maxNumber=2**W,shiftBy=BigInt(W);for(let window=0;window<windows;window++){const offset=window*windowSize;let wbits=Number(n&mask);n>>=shiftBy,wbits>windowSize&&(wbits-=maxNumber,n+=_1n);const offset1=offset,offset2=offset+Math.abs(wbits)-1,cond1=window%2!=0,cond2=wbits<0;0===wbits?f=f.add(constTimeNegate(cond1,precomputes[offset1])):p=p.add(constTimeNegate(cond2,precomputes[offset2]))}return{p,f}}multiply(scalar,affinePoint){let point,fake,n=normalizeScalar(scalar);if(USE_ENDOMORPHISM){const{k1neg,k1,k2neg,k2}=endo.splitScalar(n);let{p:k1p,f:f1p}=this.wNAF(k1,affinePoint),{p:k2p,f:f2p}=this.wNAF(k2,affinePoint);k1p=constTimeNegate(k1neg,k1p),k2p=constTimeNegate(k2neg,k2p),k2p=new JacobianPoint(mod(k2p.x*endo.beta),k2p.y,k2p.z),point=k1p.add(k2p),fake=f1p.add(f2p)}else{const{p,f}=this.wNAF(n,affinePoint);point=p,fake=f}return JacobianPoint.normalizeZ([point,fake])[0]}toAffine(invZ){const{x,y,z}=this,is0=this.equals(JacobianPoint.ZERO);null==invZ&&(invZ=is0?_8n:invert(z));const iz1=invZ,iz2=mod(iz1*iz1),iz3=mod(iz2*iz1),ax=mod(x*iz2),ay=mod(y*iz3),zz=mod(z*iz1);if(is0)return Point.ZERO;if(zz!==_1n)throw new Error("invZ was invalid");return new Point(ax,ay)}}function constTimeNegate(condition,item){const neg=item.negate();return condition?neg:item}JacobianPoint.BASE=new JacobianPoint(CURVE.Gx,CURVE.Gy,_1n),JacobianPoint.ZERO=new JacobianPoint(_0n,_1n,_0n);const pointPrecomputes=new WeakMap;class Point{constructor(x,y){this.x=x,this.y=y}_setWindowSize(windowSize){this._WINDOW_SIZE=windowSize,pointPrecomputes.delete(this)}hasEvenY(){return this.y%_2n===_0n}static fromCompressedHex(bytes){const isShort=32===bytes.length,x=bytesToNumber(isShort?bytes:bytes.subarray(1));if(!isValidFieldElement(x))throw new Error("Point is not on curve");let y=function sqrtMod(x){const{P}=CURVE,_6n=BigInt(6),_11n=BigInt(11),_22n=BigInt(22),_23n=BigInt(23),_44n=BigInt(44),_88n=BigInt(88),b2=x*x*x%P,b3=b2*b2*x%P,b6=pow2(b3,_3n)*b3%P,b9=pow2(b6,_3n)*b3%P,b11=pow2(b9,_2n)*b2%P,b22=pow2(b11,_11n)*b11%P,b44=pow2(b22,_22n)*b22%P,b88=pow2(b44,_44n)*b44%P,b176=pow2(b88,_88n)*b88%P,b220=pow2(b176,_44n)*b44%P,b223=pow2(b220,_3n)*b3%P,t1=pow2(b223,_23n)*b22%P,t2=pow2(t1,_6n)*b2%P,rt=pow2(t2,_2n);if(rt*rt%P!==x)throw new Error("Cannot find square root");return rt}(weierstrass(x));const isYOdd=(y&_1n)===_1n;if(isShort)isYOdd&&(y=mod(-y));else{!(1&~bytes[0])!==isYOdd&&(y=mod(-y))}const point=new Point(x,y);return point.assertValidity(),point}static fromUncompressedHex(bytes){const x=bytesToNumber(bytes.subarray(1,fieldLen+1)),y=bytesToNumber(bytes.subarray(fieldLen+1,2*fieldLen+1)),point=new Point(x,y);return point.assertValidity(),point}static fromHex(hex){const bytes=ensureBytes(hex),len=bytes.length,header=bytes[0];if(len===fieldLen)return this.fromCompressedHex(bytes);if(len===compressedLen&&(2===header||3===header))return this.fromCompressedHex(bytes);if(len===uncompressedLen&&4===header)return this.fromUncompressedHex(bytes);throw new Error(`Point.fromHex: received invalid point. Expected 32-${compressedLen} compressed bytes or ${uncompressedLen} uncompressed bytes, not ${len}`)}static fromPrivateKey(privateKey){return Point.BASE.multiply(normalizePrivateKey(privateKey))}static fromSignature(msgHash,signature,recovery){const{r,s}=normalizeSignature(signature);if(![0,1,2,3].includes(recovery))throw new Error("Cannot recover: invalid recovery bit");const h=truncateHash(ensureBytes(msgHash)),{n}=CURVE,radj=2===recovery||3===recovery?r+n:r,rinv=invert(radj,n),u1=mod(-h*rinv,n),u2=mod(s*rinv,n),prefix=1&recovery?"03":"02",R=Point.fromHex(prefix+numTo32bStr(radj)),Q=Point.BASE.multiplyAndAddUnsafe(R,u1,u2);if(!Q)throw new Error("Cannot recover signature: point at infinify");return Q.assertValidity(),Q}toRawBytes(isCompressed=!1){return hexToBytes(this.toHex(isCompressed))}toHex(isCompressed=!1){const x=numTo32bStr(this.x);if(isCompressed){return`${this.hasEvenY()?"02":"03"}${x}`}return`04${x}${numTo32bStr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const msg="Point is not on elliptic curve",{x,y}=this;if(!isValidFieldElement(x)||!isValidFieldElement(y))throw new Error(msg);const left=mod(y*y);if(mod(left-weierstrass(x))!==_0n)throw new Error(msg)}equals(other){return this.x===other.x&&this.y===other.y}negate(){return new Point(this.x,mod(-this.y))}double(){return JacobianPoint.fromAffine(this).double().toAffine()}add(other){return JacobianPoint.fromAffine(this).add(JacobianPoint.fromAffine(other)).toAffine()}subtract(other){return this.add(other.negate())}multiply(scalar){return JacobianPoint.fromAffine(this).multiply(scalar,this).toAffine()}multiplyAndAddUnsafe(Q,a,b){const P=JacobianPoint.fromAffine(this),aP=a===_0n||a===_1n||this!==Point.BASE?P.multiplyUnsafe(a):P.multiply(a),bQ=JacobianPoint.fromAffine(Q).multiplyUnsafe(b),sum=aP.add(bQ);return sum.equals(JacobianPoint.ZERO)?void 0:sum.toAffine()}}function sliceDER(s){return Number.parseInt(s[0],16)>=8?"00"+s:s}function parseDERInt(data){if(data.length<2||2!==data[0])throw new Error(`Invalid signature integer tag: ${bytesToHex(data)}`);const len=data[1],res=data.subarray(2,len+2);if(!len||res.length!==len)throw new Error("Invalid signature integer: wrong length");if(0===res[0]&&res[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:bytesToNumber(res),left:data.subarray(len+2)}}exports.Point=Point,Point.BASE=new Point(CURVE.Gx,CURVE.Gy),Point.ZERO=new Point(_0n,_0n);class Signature{constructor(r,s){this.r=r,this.s=s,this.assertValidity()}static fromCompact(hex){const arr=hex instanceof Uint8Array,name="Signature.fromCompact";if("string"!=typeof hex&&!arr)throw new TypeError(`${name}: Expected string or Uint8Array`);const str=arr?bytesToHex(hex):hex;if(128!==str.length)throw new Error(`${name}: Expected 64-byte hex`);return new Signature(hexToNumber(str.slice(0,64)),hexToNumber(str.slice(64,128)))}static fromDER(hex){const arr=hex instanceof Uint8Array;if("string"!=typeof hex&&!arr)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s}=function parseDERSignature(data){if(data.length<2||48!=data[0])throw new Error(`Invalid signature tag: ${bytesToHex(data)}`);if(data[1]!==data.length-2)throw new Error("Invalid signature: incorrect length");const{data:r,left:sBytes}=parseDERInt(data.subarray(2)),{data:s,left:rBytesLeft}=parseDERInt(sBytes);if(rBytesLeft.length)throw new Error(`Invalid signature: left bytes after parsing: ${bytesToHex(rBytesLeft)}`);return{r,s}}(arr?hex:hexToBytes(hex));return new Signature(r,s)}static fromHex(hex){return this.fromDER(hex)}assertValidity(){const{r,s}=this;if(!isWithinCurveOrder(r))throw new Error("Invalid Signature: r must be 0 < r < n");if(!isWithinCurveOrder(s))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const HALF=CURVE.n>>_1n;return this.s>HALF}normalizeS(){return this.hasHighS()?new Signature(this.r,mod(-this.s,CURVE.n)):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){const sHex=sliceDER(numberToHexUnpadded(this.s)),rHex=sliceDER(numberToHexUnpadded(this.r)),sHexL=sHex.length/2,rHexL=rHex.length/2,sLen=numberToHexUnpadded(sHexL),rLen=numberToHexUnpadded(rHexL);return`30${numberToHexUnpadded(rHexL+sHexL+4)}02${rLen}${rHex}02${sLen}${sHex}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}}function concatBytes(...arrays){if(!arrays.every((b=>b instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===arrays.length)return arrays[0];const length=arrays.reduce(((a,arr)=>a+arr.length),0),result=new Uint8Array(length);for(let i=0,pad=0;i<arrays.length;i++){const arr=arrays[i];result.set(arr,pad),pad+=arr.length}return result}exports.Signature=Signature;const hexes=Array.from({length:256},((v,i)=>i.toString(16).padStart(2,"0")));function bytesToHex(uint8a){if(!(uint8a instanceof Uint8Array))throw new Error("Expected Uint8Array");let hex="";for(let i=0;i<uint8a.length;i++)hex+=hexes[uint8a[i]];return hex}const POW_2_256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function numTo32bStr(num){if("bigint"!=typeof num)throw new Error("Expected bigint");if(!(_0n<=num&&num<POW_2_256))throw new Error("Expected number 0 <= n < 2^256");return num.toString(16).padStart(64,"0")}function numTo32b(num){const b=hexToBytes(numTo32bStr(num));if(32!==b.length)throw new Error("Error: expected 32 bytes");return b}function numberToHexUnpadded(num){const hex=num.toString(16);return 1&hex.length?`0${hex}`:hex}function hexToNumber(hex){if("string"!=typeof hex)throw new TypeError("hexToNumber: expected string, got "+typeof hex);return BigInt(`0x${hex}`)}function hexToBytes(hex){if("string"!=typeof hex)throw new TypeError("hexToBytes: expected string, got "+typeof hex);if(hex.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+hex.length);const array=new Uint8Array(hex.length/2);for(let i=0;i<array.length;i++){const j=2*i,hexByte=hex.slice(j,j+2),byte=Number.parseInt(hexByte,16);if(Number.isNaN(byte)||byte<0)throw new Error("Invalid byte sequence");array[i]=byte}return array}function bytesToNumber(bytes){return hexToNumber(bytesToHex(bytes))}function ensureBytes(hex){return hex instanceof Uint8Array?Uint8Array.from(hex):hexToBytes(hex)}function normalizeScalar(num){if("number"==typeof num&&Number.isSafeInteger(num)&&num>0)return BigInt(num);if("bigint"==typeof num&&isWithinCurveOrder(num))return num;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function mod(a,b=CURVE.P){const result=a%b;return result>=_0n?result:b+result}function pow2(x,power){const{P}=CURVE;let res=x;for(;power-- >_0n;)res*=res,res%=P;return res}function invert(number,modulo=CURVE.P){if(number===_0n||modulo<=_0n)throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);let a=mod(number,modulo),b=modulo,x=_0n,y=_1n,u=_1n,v=_0n;for(;a!==_0n;){const q=b/a,r=b%a,m=x-u*q,n=y-v*q;b=a,a=r,x=u,y=v,u=m,v=n}if(b!==_1n)throw new Error("invert: does not exist");return mod(x,modulo)}function truncateHash(hash,truncateOnly=!1){const h=function bits2int_2(bytes){const delta=8*bytes.length-8*groupLen,num=bytesToNumber(bytes);return delta>0?num>>BigInt(delta):num}(hash);if(truncateOnly)return h;const{n}=CURVE;return h>=n?h-n:h}let _sha256Sync,_hmacSha256Sync;class HmacDrbg{constructor(hashLen,qByteLen){if(this.hashLen=hashLen,this.qByteLen=qByteLen,"number"!=typeof hashLen||hashLen<2)throw new Error("hashLen must be a number");if("number"!=typeof qByteLen||qByteLen<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(hashLen).fill(1),this.k=new Uint8Array(hashLen).fill(0),this.counter=0}hmac(...values){return exports.utils.hmacSha256(this.k,...values)}hmacSync(...values){return _hmacSha256Sync(this.k,...values)}checkSync(){if("function"!=typeof _hmacSha256Sync)throw new ShaError("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(seed=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),seed),this.v=await this.hmac(this.v),0!==seed.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),seed),this.v=await this.hmac(this.v))}reseedSync(seed=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),seed),this.v=this.hmacSync(this.v),0!==seed.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),seed),this.v=this.hmacSync(this.v))}async generate(){this.incr();let len=0;const out=[];for(;len<this.qByteLen;){this.v=await this.hmac(this.v);const sl=this.v.slice();out.push(sl),len+=this.v.length}return concatBytes(...out)}generateSync(){this.checkSync(),this.incr();let len=0;const out=[];for(;len<this.qByteLen;){this.v=this.hmacSync(this.v);const sl=this.v.slice();out.push(sl),len+=this.v.length}return concatBytes(...out)}}function isWithinCurveOrder(num){return _0n<num&&num<CURVE.n}function isValidFieldElement(num){return _0n<num&&num<CURVE.P}function kmdToSig(kBytes,m,d,lowS=!0){const{n}=CURVE,k=truncateHash(kBytes,!0);if(!isWithinCurveOrder(k))return;const kinv=invert(k,n),q=Point.BASE.multiply(k),r=mod(q.x,n);if(r===_0n)return;const s=mod(kinv*mod(m+d*r,n),n);if(s===_0n)return;let sig=new Signature(r,s),recovery=(q.x===sig.r?0:2)|Number(q.y&_1n);return lowS&&sig.hasHighS()&&(sig=sig.normalizeS(),recovery^=1),{sig,recovery}}function normalizePrivateKey(key){let num;if("bigint"==typeof key)num=key;else if("number"==typeof key&&Number.isSafeInteger(key)&&key>0)num=BigInt(key);else if("string"==typeof key){if(key.length!==2*groupLen)throw new Error("Expected 32 bytes of private key");num=hexToNumber(key)}else{if(!(key instanceof Uint8Array))throw new TypeError("Expected valid private key");if(key.length!==groupLen)throw new Error("Expected 32 bytes of private key");num=bytesToNumber(key)}if(!isWithinCurveOrder(num))throw new Error("Expected private key: 0 < key < n");return num}function normalizePublicKey(publicKey){return publicKey instanceof Point?(publicKey.assertValidity(),publicKey):Point.fromHex(publicKey)}function normalizeSignature(signature){if(signature instanceof Signature)return signature.assertValidity(),signature;try{return Signature.fromDER(signature)}catch(error){return Signature.fromCompact(signature)}}function isProbPub(item){const arr=item instanceof Uint8Array,str="string"==typeof item,len=(arr||str)&&item.length;return arr?len===compressedLen||len===uncompressedLen:str?len===2*compressedLen||len===2*uncompressedLen:item instanceof Point}function bits2int(bytes){return bytesToNumber(bytes.length>fieldLen?bytes.slice(0,fieldLen):bytes)}function bits2octets(bytes){const z1=bits2int(bytes),z2=mod(z1,CURVE.n);return int2octets(z2<_0n?z1:z2)}function int2octets(num){return numTo32b(num)}function initSigArgs(msgHash,privateKey,extraEntropy){if(null==msgHash)throw new Error(`sign: expected valid message hash, not "${msgHash}"`);const h1=ensureBytes(msgHash),d=normalizePrivateKey(privateKey),seedArgs=[int2octets(d),bits2octets(h1)];if(null!=extraEntropy){!0===extraEntropy&&(extraEntropy=exports.utils.randomBytes(fieldLen));const e=ensureBytes(extraEntropy);if(e.length!==fieldLen)throw new Error(`sign: Expected ${fieldLen} bytes of extra data`);seedArgs.push(e)}return{seed:concatBytes(...seedArgs),m:bits2int(h1),d}}function finalizeSig(recSig,opts){const{sig,recovery}=recSig,{der,recovered}=Object.assign({canonical:!0,der:!0},opts),hashed=der?sig.toDERRawBytes():sig.toCompactRawBytes();return recovered?[hashed,recovery]:hashed}exports.getPublicKey=function getPublicKey(privateKey,isCompressed=!1){return Point.fromPrivateKey(privateKey).toRawBytes(isCompressed)},exports.recoverPublicKey=function recoverPublicKey(msgHash,signature,recovery,isCompressed=!1){return Point.fromSignature(msgHash,signature,recovery).toRawBytes(isCompressed)},exports.getSharedSecret=function getSharedSecret(privateA,publicB,isCompressed=!1){if(isProbPub(privateA))throw new TypeError("getSharedSecret: first arg must be private key");if(!isProbPub(publicB))throw new TypeError("getSharedSecret: second arg must be public key");const b=normalizePublicKey(publicB);return b.assertValidity(),b.multiply(normalizePrivateKey(privateA)).toRawBytes(isCompressed)},exports.sign=async function sign(msgHash,privKey,opts={}){const{seed,m,d}=initSigArgs(msgHash,privKey,opts.extraEntropy),drbg=new HmacDrbg(32,groupLen);let sig;for(await drbg.reseed(seed);!(sig=kmdToSig(await drbg.generate(),m,d,opts.canonical));)await drbg.reseed();return finalizeSig(sig,opts)},exports.signSync=function signSync(msgHash,privKey,opts={}){const{seed,m,d}=initSigArgs(msgHash,privKey,opts.extraEntropy),drbg=new HmacDrbg(32,groupLen);let sig;for(drbg.reseedSync(seed);!(sig=kmdToSig(drbg.generateSync(),m,d,opts.canonical));)drbg.reseedSync();return finalizeSig(sig,opts)};const vopts={strict:!0};function schnorrChallengeFinalize(ch){return mod(bytesToNumber(ch),CURVE.n)}exports.verify=function verify(signature,msgHash,publicKey,opts=vopts){let sig;try{sig=normalizeSignature(signature),msgHash=ensureBytes(msgHash)}catch(error){return!1}const{r,s}=sig;if(opts.strict&&sig.hasHighS())return!1;const h=truncateHash(msgHash);let P;try{P=normalizePublicKey(publicKey)}catch(error){return!1}const{n}=CURVE,sinv=invert(s,n),u1=mod(h*sinv,n),u2=mod(r*sinv,n),R=Point.BASE.multiplyAndAddUnsafe(P,u1,u2);return!!R&&mod(R.x,n)===r};class SchnorrSignature{constructor(r,s){this.r=r,this.s=s,this.assertValidity()}static fromHex(hex){const bytes=ensureBytes(hex);if(64!==bytes.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${bytes.length}`);const r=bytesToNumber(bytes.subarray(0,32)),s=bytesToNumber(bytes.subarray(32,64));return new SchnorrSignature(r,s)}assertValidity(){const{r,s}=this;if(!isValidFieldElement(r)||!isWithinCurveOrder(s))throw new Error("Invalid signature")}toHex(){return numTo32bStr(this.r)+numTo32bStr(this.s)}toRawBytes(){return hexToBytes(this.toHex())}}class InternalSchnorrSignature{constructor(message,privateKey,auxRand=exports.utils.randomBytes()){if(null==message)throw new TypeError(`sign: Expected valid message, not "${message}"`);this.m=ensureBytes(message);const{x,scalar}=this.getScalar(normalizePrivateKey(privateKey));if(this.px=x,this.d=scalar,this.rand=ensureBytes(auxRand),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(priv){const point=Point.fromPrivateKey(priv),scalar=point.hasEvenY()?priv:CURVE.n-priv;return{point,scalar,x:point.toRawX()}}initNonce(d,t0h){return numTo32b(d^bytesToNumber(t0h))}finalizeNonce(k0h){const k0=mod(bytesToNumber(k0h),CURVE.n);if(k0===_0n)throw new Error("sign: Creation of signature failed. k is zero");const{point:R,x:rx,scalar:k}=this.getScalar(k0);return{R,rx,k}}finalizeSig(R,k,e,d){return new SchnorrSignature(R.x,mod(k+e*d,CURVE.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m,d,px,rand}=this,tag=exports.utils.taggedHash,t=this.initNonce(d,await tag(TAGS.aux,rand)),{R,rx,k}=this.finalizeNonce(await tag(TAGS.nonce,t,px,m)),e=schnorrChallengeFinalize(await tag(TAGS.challenge,rx,px,m)),sig=this.finalizeSig(R,k,e,d);return await schnorrVerify(sig,m,px)||this.error(),sig}calcSync(){const{m,d,px,rand}=this,tag=exports.utils.taggedHashSync,t=this.initNonce(d,tag(TAGS.aux,rand)),{R,rx,k}=this.finalizeNonce(tag(TAGS.nonce,t,px,m)),e=schnorrChallengeFinalize(tag(TAGS.challenge,rx,px,m)),sig=this.finalizeSig(R,k,e,d);return schnorrVerifySync(sig,m,px)||this.error(),sig}}function initSchnorrVerify(signature,message,publicKey){const raw=signature instanceof SchnorrSignature,sig=raw?signature:SchnorrSignature.fromHex(signature);return raw&&sig.assertValidity(),{...sig,m:ensureBytes(message),P:normalizePublicKey(publicKey)}}function finalizeSchnorrVerify(r,P,s,e){const R=Point.BASE.multiplyAndAddUnsafe(P,normalizePrivateKey(s),mod(-e,CURVE.n));return!(!R||!R.hasEvenY()||R.x!==r)}async function schnorrVerify(signature,message,publicKey){try{const{r,s,m,P}=initSchnorrVerify(signature,message,publicKey),e=schnorrChallengeFinalize(await exports.utils.taggedHash(TAGS.challenge,numTo32b(r),P.toRawX(),m));return finalizeSchnorrVerify(r,P,s,e)}catch(error){return!1}}function schnorrVerifySync(signature,message,publicKey){try{const{r,s,m,P}=initSchnorrVerify(signature,message,publicKey),e=schnorrChallengeFinalize(exports.utils.taggedHashSync(TAGS.challenge,numTo32b(r),P.toRawX(),m));return finalizeSchnorrVerify(r,P,s,e)}catch(error){if(error instanceof ShaError)throw error;return!1}}exports.schnorr={Signature:SchnorrSignature,getPublicKey:function schnorrGetPublicKey(privateKey){return Point.fromPrivateKey(privateKey).toRawX()},sign:async function schnorrSign(msg,privKey,auxRand){return new InternalSchnorrSignature(msg,privKey,auxRand).calc()},verify:schnorrVerify,signSync:function schnorrSignSync(msg,privKey,auxRand){return new InternalSchnorrSignature(msg,privKey,auxRand).calcSync()},verifySync:schnorrVerifySync},Point.BASE._setWindowSize(8);const crypto={node:nodeCrypto,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},TAGS={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},TAGGED_HASH_PREFIXES={};exports.utils={bytesToHex,hexToBytes,concatBytes,mod,invert,isValidPrivateKey(privateKey){try{return normalizePrivateKey(privateKey),!0}catch(error){return!1}},_bigintTo32Bytes:numTo32b,_normalizePrivateKey:normalizePrivateKey,hashToPrivateKey:hash=>{hash=ensureBytes(hash);const minLen=groupLen+8;if(hash.length<minLen||hash.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return numTo32b(mod(bytesToNumber(hash),CURVE.n-_1n)+_1n)},randomBytes:(bytesLength=32)=>{if(crypto.web)return crypto.web.getRandomValues(new Uint8Array(bytesLength));if(crypto.node){const{randomBytes}=crypto.node;return Uint8Array.from(randomBytes(bytesLength))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>exports.utils.hashToPrivateKey(exports.utils.randomBytes(groupLen+8)),precompute(windowSize=8,point=Point.BASE){const cached=point===Point.BASE?point:new Point(point.x,point.y);return cached._setWindowSize(windowSize),cached.multiply(_3n),cached},sha256:async(...messages)=>{if(crypto.web){const buffer=await crypto.web.subtle.digest("SHA-256",concatBytes(...messages));return new Uint8Array(buffer)}if(crypto.node){const{createHash}=crypto.node,hash=createHash("sha256");return messages.forEach((m=>hash.update(m))),Uint8Array.from(hash.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(key,...messages)=>{if(crypto.web){const ckey=await crypto.web.subtle.importKey("raw",key,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),message=concatBytes(...messages),buffer=await crypto.web.subtle.sign("HMAC",ckey,message);return new Uint8Array(buffer)}if(crypto.node){const{createHmac}=crypto.node,hash=createHmac("sha256",key);return messages.forEach((m=>hash.update(m))),Uint8Array.from(hash.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(tag,...messages)=>{let tagP=TAGGED_HASH_PREFIXES[tag];if(void 0===tagP){const tagH=await exports.utils.sha256(Uint8Array.from(tag,(c=>c.charCodeAt(0))));tagP=concatBytes(tagH,tagH),TAGGED_HASH_PREFIXES[tag]=tagP}return exports.utils.sha256(tagP,...messages)},taggedHashSync:(tag,...messages)=>{if("function"!=typeof _sha256Sync)throw new ShaError("sha256Sync is undefined, you need to set it");let tagP=TAGGED_HASH_PREFIXES[tag];if(void 0===tagP){const tagH=_sha256Sync(Uint8Array.from(tag,(c=>c.charCodeAt(0))));tagP=concatBytes(tagH,tagH),TAGGED_HASH_PREFIXES[tag]=tagP}return _sha256Sync(tagP,...messages)},_JacobianPoint:JacobianPoint},Object.defineProperties(exports.utils,{sha256Sync:{configurable:!1,get:()=>_sha256Sync,set(val){_sha256Sync||(_sha256Sync=val)}},hmacSha256Sync:{configurable:!1,get:()=>_hmacSha256Sync,set(val){_hmacSha256Sync||(_hmacSha256Sync=val)}}})},"./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/callback/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function pTimeout(promise,timeout){return new Promise((function(resolve,reject){var timeoutId=setTimeout((function(){reject(Error("Promise timed out"))}),timeout);promise.then((function(val){return clearTimeout(timeoutId),resolve(val)})).catch(reject)}))}function invokeCallback(ctx,callback,delay){return function sleep(timeoutInMs){return new Promise((function(resolve){return setTimeout(resolve,timeoutInMs)}))}(delay).then((function(){return pTimeout(function(){try{return Promise.resolve(callback(ctx))}catch(err){return Promise.reject(err)}}(),1e3)})).catch((function(err){null==ctx||ctx.log("warn","Callback Error",{error:err}),null==ctx||ctx.stats.increment("callback_error")})).then((function(){return ctx}))}__webpack_require__.d(__webpack_exports__,{s2:()=>pTimeout,w_:()=>invokeCallback})},"./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/context/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ContextCancelation,j:()=>CoreContext});var dist=__webpack_require__("./node_modules/.pnpm/@lukeed+uuid@2.0.1/node_modules/@lukeed/uuid/dist/index.mjs"),dset_dist=__webpack_require__("./node_modules/.pnpm/dset@3.1.4/node_modules/dset/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),CoreLogger=function(){function CoreLogger(){this._logs=[]}return CoreLogger.prototype.log=function(level,message,extras){var time=new Date;this._logs.push({level,message,time,extras})},Object.defineProperty(CoreLogger.prototype,"logs",{get:function(){return this._logs},enumerable:!1,configurable:!0}),CoreLogger.prototype.flush=function(){if(this.logs.length>1){var formatted=this._logs.reduce((function(logs,log){var _a,_b,_c,line=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},log),{json:JSON.stringify(log.extras,null," "),extras:log.extras});delete line.time;var key=null!==(_c=null===(_b=log.time)||void 0===_b?void 0:_b.toISOString())&&void 0!==_c?_c:"";return logs[key]&&(key="".concat(key,"-").concat(Math.random())),(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},logs),((_a={})[key]=line,_a))}),{});console.table?console.table(formatted):console.log(formatted)}else this.logs.forEach((function(logEntry){var level=logEntry.level,message=logEntry.message,extras=logEntry.extras;"info"===level||"debug"===level?console.log(message,null!=extras?extras:""):console[level](message,null!=extras?extras:"")}));this._logs=[]},CoreLogger}(),esm_stats=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/stats/index.js"),ContextCancelation=function ContextCancelation(options){var _a,_b,_c;this.retry=null===(_a=options.retry)||void 0===_a||_a,this.type=null!==(_b=options.type)&&void 0!==_b?_b:"plugin Error",this.reason=null!==(_c=options.reason)&&void 0!==_c?_c:""},CoreContext=function(){function CoreContext(event,id,stats,logger){void 0===id&&(id=(0,dist.v4)()),void 0===stats&&(stats=new esm_stats.r),void 0===logger&&(logger=new CoreLogger),this.attempts=0,this.event=event,this._id=id,this.logger=logger,this.stats=stats}return CoreContext.system=function(){},CoreContext.prototype.isSame=function(other){return other.id===this.id},CoreContext.prototype.cancel=function(error){if(error)throw error;throw new ContextCancelation({reason:"Context Cancel"})},CoreContext.prototype.log=function(level,message,extras){this.logger.log(level,message,extras)},Object.defineProperty(CoreContext.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),CoreContext.prototype.updateEvent=function(path,val){var _a;if("integrations"===path.split(".")[0]){var integrationName=path.split(".")[1];if(!1===(null===(_a=this.event.integrations)||void 0===_a?void 0:_a[integrationName]))return this.event}return(0,dset_dist.J)(this.event,path,val),this.event},CoreContext.prototype.failedDelivery=function(){return this._failedDelivery},CoreContext.prototype.setFailedDelivery=function(options){this._failedDelivery=options},CoreContext.prototype.logs=function(){return this.logger.logs},CoreContext.prototype.flush=function(){this.logger.flush(),this.stats.flush()},CoreContext.prototype.toJSON=function(){return{id:this._id,event:this.event,logs:this.logger.logs,metrics:this.stats.metrics}},CoreContext}()},"./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{g:()=>ON_REMOVE_FROM_FUTURE,M:()=>PriorityQueue});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),emitter=__webpack_require__("./node_modules/.pnpm/@segment+analytics-generic-utils@1.2.0/node_modules/@segment/analytics-generic-utils/dist/esm/emitter/emitter.js");var ON_REMOVE_FROM_FUTURE="onRemoveFromFuture",PriorityQueue=function(_super){function PriorityQueue(maxAttempts,queue,seen){var _this=_super.call(this)||this;return _this.future=[],_this.maxAttempts=maxAttempts,_this.queue=queue,_this.seen=null!=seen?seen:{},_this}return(0,tslib_es6.C6)(PriorityQueue,_super),PriorityQueue.prototype.push=function(){for(var _this=this,items=[],_i=0;_i<arguments.length;_i++)items[_i]=arguments[_i];var accepted=items.map((function(operation){return!(_this.updateAttempts(operation)>_this.maxAttempts||_this.includes(operation))&&(_this.queue.push(operation),!0)}));return this.queue=this.queue.sort((function(a,b){return _this.getAttempts(a)-_this.getAttempts(b)})),accepted},PriorityQueue.prototype.pushWithBackoff=function(item){var _this=this;if(0===this.getAttempts(item))return this.push(item)[0];var attempt=this.updateAttempts(item);if(attempt>this.maxAttempts||this.includes(item))return!1;var timeout=function backoff(params){var random=Math.random()+1,_a=params.minTimeout,minTimeout=void 0===_a?500:_a,_b=params.factor,factor=void 0===_b?2:_b,attempt=params.attempt,_c=params.maxTimeout,maxTimeout=void 0===_c?1/0:_c;return Math.min(random*minTimeout*Math.pow(factor,attempt),maxTimeout)}({attempt:attempt-1});return setTimeout((function(){_this.queue.push(item),_this.future=_this.future.filter((function(f){return f.id!==item.id})),_this.emit(ON_REMOVE_FROM_FUTURE)}),timeout),this.future.push(item),!0},PriorityQueue.prototype.getAttempts=function(item){var _a;return null!==(_a=this.seen[item.id])&&void 0!==_a?_a:0},PriorityQueue.prototype.updateAttempts=function(item){return this.seen[item.id]=this.getAttempts(item)+1,this.getAttempts(item)},PriorityQueue.prototype.includes=function(item){return this.queue.includes(item)||this.future.includes(item)||Boolean(this.queue.find((function(i){return i.id===item.id})))||Boolean(this.future.find((function(i){return i.id===item.id})))},PriorityQueue.prototype.pop=function(){return this.queue.shift()},Object.defineProperty(PriorityQueue.prototype,"length",{get:function(){return this.queue.length},enumerable:!1,configurable:!0}),Object.defineProperty(PriorityQueue.prototype,"todo",{get:function(){return this.queue.length+this.future.length},enumerable:!1,configurable:!0}),PriorityQueue}(emitter.v)},"./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/queue/delivery.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>attempt,D:()=>ensure});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/context/index.js");function attempt(ctx,plugin){ctx.log("debug","plugin",{plugin:plugin.name});var start=(new Date).getTime(),hook=plugin[ctx.event.type];return void 0===hook?Promise.resolve(ctx):function tryAsync(fn){return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.sH)(this,void 0,void 0,(function(){var err_1;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,fn()];case 1:return[2,_a.sent()];case 2:return err_1=_a.sent(),[2,Promise.reject(err_1)];case 3:return[2]}}))}))}((function(){return hook.apply(plugin,[ctx])})).then((function(ctx){var done=(new Date).getTime()-start;return ctx.stats.gauge("plugin_time",done,["plugin:".concat(plugin.name)]),ctx})).catch((function(err){if(err instanceof _context__WEBPACK_IMPORTED_MODULE_1__.d&&"middleware_cancellation"===err.type)throw err;return err instanceof _context__WEBPACK_IMPORTED_MODULE_1__.d?(ctx.log("warn",err.type,{plugin:plugin.name,error:err}),err):(ctx.log("error","plugin Error",{plugin:plugin.name,error:err}),ctx.stats.increment("plugin_error",1,["plugin:".concat(plugin.name)]),err)}))}function ensure(ctx,plugin){return attempt(ctx,plugin).then((function(newContext){if(newContext instanceof _context__WEBPACK_IMPORTED_MODULE_1__.j)return newContext;ctx.log("debug","Context canceled"),ctx.stats.increment("context_canceled"),ctx.cancel(newContext)}))}},"./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/stats/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>CoreStats,r:()=>NullStats});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),CoreStats=function(){function CoreStats(){this.metrics=[]}return CoreStats.prototype.increment=function(metric,by,tags){void 0===by&&(by=1),this.metrics.push({metric,value:by,tags:null!=tags?tags:[],type:"counter",timestamp:Date.now()})},CoreStats.prototype.gauge=function(metric,value,tags){this.metrics.push({metric,value,tags:null!=tags?tags:[],type:"gauge",timestamp:Date.now()})},CoreStats.prototype.flush=function(){var formatted=this.metrics.map((function(m){return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)({},m),{tags:m.tags.join(",")})}));console.table?console.table(formatted):console.log(formatted),this.metrics=[]},CoreStats.prototype.serialize=function(){return this.metrics.map((function(m){return{m:m.metric,v:m.value,t:m.tags,k:(type=m.type,{gauge:"g",counter:"c"}[type]),e:m.timestamp};var type}))},CoreStats}(),NullStats=function(_super){function NullStats(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.C6)(NullStats,_super),NullStats.prototype.gauge=function(){for(var _args=[],_i=0;_i<arguments.length;_i++)_args[_i]=arguments[_i]},NullStats.prototype.increment=function(){for(var _args=[],_i=0;_i<arguments.length;_i++)_args[_i]=arguments[_i]},NullStats.prototype.flush=function(){for(var _args=[],_i=0;_i<arguments.length;_i++)_args[_i]=arguments[_i]},NullStats.prototype.serialize=function(){for(var _args=[],_i=0;_i<arguments.length;_i++)_args[_i]=arguments[_i];return[]},NullStats}(CoreStats)},"./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isString(obj){return"string"==typeof obj}function isNumber(obj){return"number"==typeof obj}function isFunction(obj){return"function"==typeof obj}function exists(val){return null!=val}function isPlainObject(obj){return"object"===Object.prototype.toString.call(obj).slice(8,-1).toLowerCase()}__webpack_require__.d(__webpack_exports__,{Et:()=>isNumber,Kg:()=>isString,Qd:()=>isPlainObject,Tn:()=>isFunction,t2:()=>exists})},"./node_modules/.pnpm/@segment+analytics-generic-utils@1.2.0/node_modules/@segment/analytics-generic-utils/dist/esm/create-deferred/create-deferred.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>createDeferred});var createDeferred=function(){var resolve,reject,settled=!1,promise=new Promise((function(_resolve,_reject){resolve=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];settled=!0,_resolve.apply(void 0,args)},reject=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];settled=!0,_reject.apply(void 0,args)}}));return{resolve,reject,promise,isSettled:function(){return settled}}}},"./node_modules/.pnpm/@segment+analytics-generic-utils@1.2.0/node_modules/@segment/analytics-generic-utils/dist/esm/emitter/emitter.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>Emitter});var Emitter=function(){function Emitter(options){var _a;this.callbacks={},this.warned=!1,this.maxListeners=null!==(_a=null==options?void 0:options.maxListeners)&&void 0!==_a?_a:10}return Emitter.prototype.warnIfPossibleMemoryLeak=function(event){this.warned||this.maxListeners&&this.callbacks[event].length>this.maxListeners&&(console.warn("Event Emitter: Possible memory leak detected; ".concat(String(event)," has exceeded ").concat(this.maxListeners," listeners.")),this.warned=!0)},Emitter.prototype.on=function(event,callback){return this.callbacks[event]?(this.callbacks[event].push(callback),this.warnIfPossibleMemoryLeak(event)):this.callbacks[event]=[callback],this},Emitter.prototype.once=function(event,callback){var _this=this,on=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];_this.off(event,on),callback.apply(_this,args)};return this.on(event,on),this},Emitter.prototype.off=function(event,callback){var _a,without=(null!==(_a=this.callbacks[event])&&void 0!==_a?_a:[]).filter((function(fn){return fn!==callback}));return this.callbacks[event]=without,this},Emitter.prototype.emit=function(event){for(var _a,_this=this,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];return(null!==(_a=this.callbacks[event])&&void 0!==_a?_a:[]).forEach((function(callback){callback.apply(_this,args)})),this},Emitter}()},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/browser/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>AnalyticsBrowser});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");function getProcessEnv(){return void 0!==process&&process.env?process.env:{}}var parse_cdn=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/parse-cdn.js"),fetch=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js"),helpers=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js");function resolveArguments(eventName,properties,options,callback){var _a,args=[eventName,properties,options,callback],name=(0,helpers.Qd)(eventName)?eventName.event:eventName;if(!name||!(0,helpers.Kg)(name))throw new Error("Event missing");var data=(0,helpers.Qd)(eventName)?null!==(_a=eventName.properties)&&void 0!==_a?_a:{}:(0,helpers.Qd)(properties)?properties:{},opts={};return(0,helpers.Tn)(options)||(opts=null!=options?options:{}),(0,helpers.Qd)(eventName)&&!(0,helpers.Tn)(properties)&&(opts=null!=properties?properties:{}),[name,data,opts,args.find(helpers.Tn)]}function resolvePageArguments(category,name,properties,options,callback){var _a,_b,resolvedCategory=null,resolvedName=null,args=[category,name,properties,options,callback],strings=args.filter(helpers.Kg);void 0!==strings[0]&&void 0!==strings[1]&&(resolvedCategory=strings[0],resolvedName=strings[1]),1===strings.length&&(resolvedCategory=null,resolvedName=strings[0]);var resolvedCallback=args.find(helpers.Tn),objects=args.filter((function(obj){return null===resolvedName?(0,helpers.Qd)(obj):(0,helpers.Qd)(obj)||null===obj})),resolvedProperties=null!==(_a=objects[0])&&void 0!==_a?_a:{},resolvedOptions=null!==(_b=objects[1])&&void 0!==_b?_b:{};return[resolvedCategory,resolvedName,resolvedProperties,resolvedOptions,resolvedCallback]}var resolveUserArguments=function(user){return function(){for(var _a,_b,_c,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];for(var values={},orderStack=["callback","options","traits","id"],_d=0,args_1=args;_d<args_1.length;_d++){var arg=args_1[_d],current=orderStack.pop();if("id"===current){if((0,helpers.Kg)(arg)||(0,helpers.Et)(arg)){values.id=arg.toString();continue}if(null==arg)continue;current=orderStack.pop()}if("traits"!==current&&"options"!==current||null!=arg&&!(0,helpers.Qd)(arg)||(values[current]=arg),(0,helpers.Tn)(arg)){values.callback=arg;break}}return[null!==(_a=values.id)&&void 0!==_a?_a:user.id(),null!==(_b=values.traits)&&void 0!==_b?_b:{},null!==(_c=values.options)&&void 0!==_c?_c:{},values.callback]}};function resolveAliasArguments(to,from,options,callback){(0,helpers.Et)(to)&&(to=to.toString()),(0,helpers.Et)(from)&&(from=from.toString());var args=[to,from,options,callback],_a=args.filter(helpers.Kg),_b=_a[0],aliasTo=void 0===_b?to:_b,_c=_a[1],aliasFrom=void 0===_c?null:_c,_d=args.filter(helpers.Qd)[0];return[aliasTo,aliasFrom,void 0===_d?{}:_d,args.find(helpers.Tn)]}var connection=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/connection/index.js"),context=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js"),callback=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/callback/index.js");function dispatch(ctx,queue,emitter,options){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var startTime,dispatched;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return emitter.emit("dispatch_start",ctx),startTime=Date.now(),queue.isEmpty()?[4,queue.dispatchSingle(ctx)]:[3,2];case 1:return dispatched=_a.sent(),[3,4];case 2:return[4,queue.dispatch(ctx)];case 3:dispatched=_a.sent(),_a.label=4;case 4:return(null==options?void 0:options.callback)?[4,(0,callback.w_)(dispatched,options.callback,(startTimeInEpochMS=startTime,timeoutInMS=options.timeout,elapsedTime=Date.now()-startTimeInEpochMS,Math.max((null!=timeoutInMS?timeoutInMS:300)-elapsedTime,0)))]:[3,6];case 5:dispatched=_a.sent(),_a.label=6;case 6:return(null==options?void 0:options.debug)&&dispatched.flush(),[2,dispatched]}var startTimeInEpochMS,timeoutInMS,elapsedTime}))}))}var emitter=__webpack_require__("./node_modules/.pnpm/@segment+analytics-generic-utils@1.2.0/node_modules/@segment/analytics-generic-utils/dist/esm/emitter/emitter.js"),dist=__webpack_require__("./node_modules/.pnpm/@lukeed+uuid@2.0.1/node_modules/@lukeed/uuid/dist/index.mjs");var createBufferedPageContext=function(url,canonicalUrl,search,path,title,referrer){return{__t:"bpc",c:canonicalUrl,p:path,u:url,s:search,t:title,r:referrer}},BUFFERED_PAGE_CONTEXT_KEYS=Object.keys(createBufferedPageContext("","","","","",""));var createPageContext=function(_a){var href,hashIdx,canonicalUrl=_a.c,pathname=_a.p,search=_a.s,url=_a.u,referrer=_a.r,title=_a.t,newPath=canonicalUrl?function(canonicalUrl){try{return new URL(canonicalUrl).pathname}catch(_e){return"/"===canonicalUrl[0]?canonicalUrl:"/"+canonicalUrl}}(canonicalUrl):pathname,newUrl=canonicalUrl?function(canonicalUrl,searchParams){return canonicalUrl.indexOf("?")>-1?canonicalUrl:canonicalUrl+searchParams}(canonicalUrl,search):-1===(hashIdx=(href=url).indexOf("#"))?href:href.slice(0,hashIdx);return{path:newPath,referrer,search,title,url:newUrl}},getDefaultBufferedPageContext=function(){var c=document.querySelector("link[rel='canonical']");return createBufferedPageContext(location.href,c&&c.getAttribute("href")||void 0,location.search,location.pathname,document.title,document.referrer)},addPageContext=function(event,pageCtx){void 0===pageCtx&&(pageCtx=createPageContext(getDefaultBufferedPageContext()));var pageContextFromEventProps,evtCtx=event.context;"page"===event.type&&(pageContextFromEventProps=event.properties&&function pick(object,keys){return Object.assign.apply(Object,(0,tslib_es6.fX)([{}],keys.map((function(key){var _a;if(object&&Object.prototype.hasOwnProperty.call(object,key))return(_a={})[key]=object[key],_a})),!1))}(event.properties,Object.keys(pageCtx)),event.properties=(0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},pageCtx),event.properties),event.name?{name:event.name}:{})),evtCtx.page=(0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},pageCtx),pageContextFromEventProps),evtCtx.page)},dset_dist=__webpack_require__("./node_modules/.pnpm/dset@3.1.4/node_modules/dset/dist/index.mjs"),errors_ValidationError=function(_super){function ValidationError(field,message){var _this=_super.call(this,"".concat(field," ").concat(message))||this;return _this.field=field,_this}return(0,tslib_es6.C6)(ValidationError,_super),ValidationError}(Error),stringError="is not a string",objError="is not an object",nilError="is nil";function validateEvent(event){!function assertEventExists(event){if(!(0,helpers.t2)(event))throw new errors_ValidationError("Event",nilError);if("object"!=typeof event)throw new errors_ValidationError("Event",objError)}(event),function assertEventType(event){if(!(0,helpers.Kg)(event.type))throw new errors_ValidationError(".type",stringError)}(event),function assertMessageId(event){if(!(0,helpers.Kg)(event.messageId))throw new errors_ValidationError(".messageId",stringError)}(event),"track"===event.type&&(!function assertTrackEventName(event){if(!(0,helpers.Kg)(event.event))throw new errors_ValidationError(".event",stringError)}(event),function assertTrackEventProperties(event){if(!(0,helpers.Qd)(event.properties))throw new errors_ValidationError(".properties",objError)}(event)),["group","identify"].includes(event.type)&&function assertTraits(event){if(!(0,helpers.Qd)(event.traits))throw new errors_ValidationError(".traits",objError)}(event)}var InternalEventFactorySettings=function InternalEventFactorySettings(settings){var _a,_b;this.settings=settings,this.createMessageId=settings.createMessageId,this.onEventMethodCall=null!==(_a=settings.onEventMethodCall)&&void 0!==_a?_a:function(){},this.onFinishedEvent=null!==(_b=settings.onFinishedEvent)&&void 0!==_b?_b:function(){}},CoreEventFactory=function(){function CoreEventFactory(settings){this.settings=new InternalEventFactorySettings(settings)}return CoreEventFactory.prototype.track=function(event,properties,options,globalIntegrations){return this.settings.onEventMethodCall({type:"track",options}),this.normalize((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.baseEvent()),{event,type:"track",properties:null!=properties?properties:{},options:(0,tslib_es6.Cl)({},options),integrations:(0,tslib_es6.Cl)({},globalIntegrations)}))},CoreEventFactory.prototype.page=function(category,page,properties,options,globalIntegrations){var _a;this.settings.onEventMethodCall({type:"page",options});var event={type:"page",properties:(0,tslib_es6.Cl)({},properties),options:(0,tslib_es6.Cl)({},options),integrations:(0,tslib_es6.Cl)({},globalIntegrations)};return null!==category&&(event.category=category,event.properties=null!==(_a=event.properties)&&void 0!==_a?_a:{},event.properties.category=category),null!==page&&(event.name=page),this.normalize((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.baseEvent()),event))},CoreEventFactory.prototype.screen=function(category,screen,properties,options,globalIntegrations){this.settings.onEventMethodCall({type:"screen",options});var event={type:"screen",properties:(0,tslib_es6.Cl)({},properties),options:(0,tslib_es6.Cl)({},options),integrations:(0,tslib_es6.Cl)({},globalIntegrations)};return null!==category&&(event.category=category),null!==screen&&(event.name=screen),this.normalize((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.baseEvent()),event))},CoreEventFactory.prototype.identify=function(userId,traits,options,globalIntegrations){return this.settings.onEventMethodCall({type:"identify",options}),this.normalize((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.baseEvent()),{type:"identify",userId,traits:null!=traits?traits:{},options:(0,tslib_es6.Cl)({},options),integrations:globalIntegrations}))},CoreEventFactory.prototype.group=function(groupId,traits,options,globalIntegrations){return this.settings.onEventMethodCall({type:"group",options}),this.normalize((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.baseEvent()),{type:"group",traits:null!=traits?traits:{},options:(0,tslib_es6.Cl)({},options),integrations:(0,tslib_es6.Cl)({},globalIntegrations),groupId}))},CoreEventFactory.prototype.alias=function(to,from,options,globalIntegrations){this.settings.onEventMethodCall({type:"alias",options});var base={userId:to,type:"alias",options:(0,tslib_es6.Cl)({},options),integrations:(0,tslib_es6.Cl)({},globalIntegrations)};return null!==from&&(base.previousId=from),void 0===to?this.normalize((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},base),this.baseEvent())):this.normalize((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.baseEvent()),base))},CoreEventFactory.prototype.baseEvent=function(){return{integrations:{},options:{}}},CoreEventFactory.prototype.context=function(options){var _a,eventOverrideKeys=["userId","anonymousId","timestamp","messageId"];delete options.integrations;var providedOptionsKeys=Object.keys(options),context=null!==(_a=options.context)&&void 0!==_a?_a:{},eventOverrides={};return providedOptionsKeys.forEach((function(key){"context"!==key&&(eventOverrideKeys.includes(key)?(0,dset_dist.J)(eventOverrides,key,options[key]):(0,dset_dist.J)(context,key,options[key]))})),[context,eventOverrides]},CoreEventFactory.prototype.normalize=function(event){var _a,_b,obj,fn,integrationBooleans=Object.keys(null!==(_a=event.integrations)&&void 0!==_a?_a:{}).reduce((function(integrationNames,name){var _a,_b;return(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},integrationNames),((_a={})[name]=Boolean(null===(_b=event.integrations)||void 0===_b?void 0:_b[name]),_a))}),{});event.options=(obj=event.options||{},fn=function(_,value){return void 0!==value},Object.keys(obj).filter((function(k){return fn(k,obj[k])})).reduce((function(acc,key){return acc[key]=obj[key],acc}),{}));var allIntegrations=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},integrationBooleans),null===(_b=event.options)||void 0===_b?void 0:_b.integrations),_c=event.options?this.context(event.options):[],context=_c[0],overrides=_c[1],options=event.options,rest=(0,tslib_es6.Tt)(event,["options"]),evt=(0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)((0,tslib_es6.Cl)({timestamp:new Date},rest),{context,integrations:allIntegrations}),overrides),{messageId:options.messageId||this.settings.createMessageId()});return this.settings.onFinishedEvent(evt),validateEvent(evt),evt},CoreEventFactory}(),EventFactory=function(_super){function EventFactory(user){var _this=_super.call(this,{createMessageId:function(){return"ajs-next-".concat(Date.now(),"-").concat((0,dist.v4)())},onEventMethodCall:function(_a){var options=_a.options;_this.maybeUpdateAnonId(options)},onFinishedEvent:function(event){return _this.addIdentity(event),event}})||this;return _this.user=user,_this}return(0,tslib_es6.C6)(EventFactory,_super),EventFactory.prototype.maybeUpdateAnonId=function(options){(null==options?void 0:options.anonymousId)&&this.user.anonymousId(options.anonymousId)},EventFactory.prototype.addIdentity=function(event){this.user.id()&&(event.userId=this.user.id()),this.user.anonymousId()&&(event.anonymousId=this.user.anonymousId())},EventFactory.prototype.track=function(event,properties,options,globalIntegrations,pageCtx){var ev=_super.prototype.track.call(this,event,properties,options,globalIntegrations);return addPageContext(ev,pageCtx),ev},EventFactory.prototype.page=function(category,page,properties,options,globalIntegrations,pageCtx){var ev=_super.prototype.page.call(this,category,page,properties,options,globalIntegrations);return addPageContext(ev,pageCtx),ev},EventFactory.prototype.screen=function(category,screen,properties,options,globalIntegrations,pageCtx){var ev=_super.prototype.screen.call(this,category,screen,properties,options,globalIntegrations);return addPageContext(ev,pageCtx),ev},EventFactory.prototype.identify=function(userId,traits,options,globalIntegrations,pageCtx){var ev=_super.prototype.identify.call(this,userId,traits,options,globalIntegrations);return addPageContext(ev,pageCtx),ev},EventFactory.prototype.group=function(groupId,traits,options,globalIntegrations,pageCtx){var ev=_super.prototype.group.call(this,groupId,traits,options,globalIntegrations);return addPageContext(ev,pageCtx),ev},EventFactory.prototype.alias=function(to,from,options,globalIntegrations,pageCtx){var ev=_super.prototype.alias.call(this,to,from,options,globalIntegrations);return addPageContext(ev,pageCtx),ev},EventFactory}(CoreEventFactory),isDestinationPluginWithAddMiddleware=function(plugin){return"addMiddleware"in plugin&&"destination"===plugin.type},persisted=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/priority-queue/persisted.js");var priority_queue=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js"),esm_context=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/context/index.js"),delivery=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/queue/delivery.js"),CoreEventQueue=function(_super){function CoreEventQueue(priorityQueue){var taskCompletionPromise,resolvePromise,count,_this=_super.call(this)||this;return _this.criticalTasks=(count=0,{done:function(){return taskCompletionPromise},run:function(op){var value,returnValue=op();return"object"==typeof(value=returnValue)&&null!==value&&"then"in value&&"function"==typeof value.then&&(1==++count&&(taskCompletionPromise=new Promise((function(res){return resolvePromise=res}))),returnValue.finally((function(){return 0==--count&&resolvePromise()}))),returnValue}}),_this.plugins=[],_this.failedInitializations=[],_this.flushing=!1,_this.queue=priorityQueue,_this.queue.on(priority_queue.g,(function(){_this.scheduleFlush(0)})),_this}return(0,tslib_es6.C6)(CoreEventQueue,_super),CoreEventQueue.prototype.register=function(ctx,plugin,instance){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var handleLoadError,err_1,_this=this;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return this.plugins.push(plugin),handleLoadError=function(err){_this.failedInitializations.push(plugin.name),_this.emit("initialization_failure",plugin),console.warn(plugin.name,err),ctx.log("warn","Failed to load destination",{plugin:plugin.name,error:err}),_this.plugins=_this.plugins.filter((function(p){return p!==plugin}))},"destination"!==plugin.type||"Segment.io"===plugin.name?[3,1]:(plugin.load(ctx,instance).catch(handleLoadError),[3,4]);case 1:return _a.trys.push([1,3,,4]),[4,plugin.load(ctx,instance)];case 2:return _a.sent(),[3,4];case 3:return err_1=_a.sent(),handleLoadError(err_1),[3,4];case 4:return[2]}}))}))},CoreEventQueue.prototype.deregister=function(ctx,plugin,instance){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var e_1;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,4]),plugin.unload?[4,Promise.resolve(plugin.unload(ctx,instance))]:[3,2];case 1:_a.sent(),_a.label=2;case 2:return this.plugins=this.plugins.filter((function(p){return p.name!==plugin.name})),[3,4];case 3:return e_1=_a.sent(),ctx.log("warn","Failed to unload destination",{plugin:plugin.name,error:e_1}),[3,4];case 4:return[2]}}))}))},CoreEventQueue.prototype.dispatch=function(ctx){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var willDeliver;return(0,tslib_es6.YH)(this,(function(_a){return ctx.log("debug","Dispatching"),ctx.stats.increment("message_dispatched"),this.queue.push(ctx),willDeliver=this.subscribeToDelivery(ctx),this.scheduleFlush(0),[2,willDeliver]}))}))},CoreEventQueue.prototype.subscribeToDelivery=function(ctx){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var _this=this;return(0,tslib_es6.YH)(this,(function(_a){return[2,new Promise((function(resolve){var onDeliver=function(flushed,delivered){flushed.isSame(ctx)&&(_this.off("flush",onDeliver),resolve(flushed))};_this.on("flush",onDeliver)}))]}))}))},CoreEventQueue.prototype.dispatchSingle=function(ctx){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var _this=this;return(0,tslib_es6.YH)(this,(function(_a){return ctx.log("debug","Dispatching"),ctx.stats.increment("message_dispatched"),this.queue.updateAttempts(ctx),ctx.attempts=1,[2,this.deliver(ctx).catch((function(err){return _this.enqueuRetry(err,ctx)?_this.subscribeToDelivery(ctx):(ctx.setFailedDelivery({reason:err}),ctx)}))]}))}))},CoreEventQueue.prototype.isEmpty=function(){return 0===this.queue.length},CoreEventQueue.prototype.scheduleFlush=function(timeout){var _this=this;void 0===timeout&&(timeout=500),this.flushing||(this.flushing=!0,setTimeout((function(){_this.flush().then((function(){setTimeout((function(){_this.flushing=!1,_this.queue.length&&_this.scheduleFlush(0)}),0)}))}),timeout))},CoreEventQueue.prototype.deliver=function(ctx){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var start,done,err_2,error;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,this.criticalTasks.done()];case 1:_a.sent(),start=Date.now(),_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.flushOne(ctx)];case 3:return ctx=_a.sent(),done=Date.now()-start,this.emit("delivery_success",ctx),ctx.stats.gauge("delivered",done),ctx.log("debug","Delivered",ctx.event),[2,ctx];case 4:throw err_2=_a.sent(),error=err_2,ctx.log("error","Failed to deliver",error),this.emit("delivery_failure",ctx,error),ctx.stats.increment("delivery_failed"),err_2;case 5:return[2]}}))}))},CoreEventQueue.prototype.enqueuRetry=function(err,ctx){return!(err instanceof esm_context.d&&!err.retry)&&this.queue.pushWithBackoff(ctx)},CoreEventQueue.prototype.flush=function(){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var ctx,err_3;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:if(0===this.queue.length)return[2,[]];if(!(ctx=this.queue.pop()))return[2,[]];ctx.attempts=this.queue.getAttempts(ctx),_a.label=1;case 1:return _a.trys.push([1,3,,4]),[4,this.deliver(ctx)];case 2:return ctx=_a.sent(),this.emit("flush",ctx,!0),[3,4];case 3:return err_3=_a.sent(),this.enqueuRetry(err_3,ctx)||(ctx.setFailedDelivery({reason:err_3}),this.emit("flush",ctx,!1)),[2,[]];case 4:return[2,[ctx]]}}))}))},CoreEventQueue.prototype.isReady=function(){return!0},CoreEventQueue.prototype.availableExtensions=function(denyList){var available=this.plugins.filter((function(p){var _a,_b,_c;if("destination"!==p.type&&"Segment.io"!==p.name)return!0;var alternativeNameMatch=void 0;return null===(_a=p.alternativeNames)||void 0===_a||_a.forEach((function(name){void 0!==denyList[name]&&(alternativeNameMatch=denyList[name])})),null!==(_c=null!==(_b=denyList[p.name])&&void 0!==_b?_b:alternativeNameMatch)&&void 0!==_c?_c:!1!==("Segment.io"===p.name||denyList.All)})),_a=function groupBy(collection,grouper){var results={};return collection.forEach((function(item){var _a,key=void 0;if("string"==typeof grouper){var suggestedKey=item[grouper];key="string"!=typeof suggestedKey?JSON.stringify(suggestedKey):suggestedKey}else grouper instanceof Function&&(key=grouper(item));void 0!==key&&(results[key]=(0,tslib_es6.fX)((0,tslib_es6.fX)([],null!==(_a=results[key])&&void 0!==_a?_a:[],!0),[item],!1))})),results}(available,"type"),_b=_a.before,before=void 0===_b?[]:_b,_c=_a.enrichment,enrichment=void 0===_c?[]:_c,_d=_a.destination,destination=void 0===_d?[]:_d,_e=_a.after;return{before,enrichment,destinations:destination,after:void 0===_e?[]:_e}},CoreEventQueue.prototype.flushOne=function(ctx){var _a,_b;return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var _c,before,enrichment,_i,before_1,beforeWare,_d,enrichment_1,enrichmentWare,temp,_e,destinations,after,afterCalls;return(0,tslib_es6.YH)(this,(function(_f){switch(_f.label){case 0:if(!this.isReady())throw new Error("Not ready");ctx.attempts>1&&this.emit("delivery_retry",ctx),_c=this.availableExtensions(null!==(_a=ctx.event.integrations)&&void 0!==_a?_a:{}),before=_c.before,enrichment=_c.enrichment,_i=0,before_1=before,_f.label=1;case 1:return _i<before_1.length?(beforeWare=before_1[_i],[4,(0,delivery.D)(ctx,beforeWare)]):[3,4];case 2:(temp=_f.sent())instanceof esm_context.j&&(ctx=temp),this.emit("message_enriched",ctx,beforeWare),_f.label=3;case 3:return _i++,[3,1];case 4:_d=0,enrichment_1=enrichment,_f.label=5;case 5:return _d<enrichment_1.length?(enrichmentWare=enrichment_1[_d],[4,(0,delivery.C)(ctx,enrichmentWare)]):[3,8];case 6:(temp=_f.sent())instanceof esm_context.j&&(ctx=temp),this.emit("message_enriched",ctx,enrichmentWare),_f.label=7;case 7:return _d++,[3,5];case 8:return _e=this.availableExtensions(null!==(_b=ctx.event.integrations)&&void 0!==_b?_b:{}),destinations=_e.destinations,after=_e.after,[4,new Promise((function(resolve,reject){setTimeout((function(){var attempts=destinations.map((function(destination){return(0,delivery.C)(ctx,destination)}));Promise.all(attempts).then(resolve).catch(reject)}),0)}))];case 9:return _f.sent(),ctx.stats.increment("message_delivered"),this.emit("message_delivered",ctx),afterCalls=after.map((function(after){return(0,delivery.C)(ctx,after)})),[4,Promise.all(afterCalls)];case 10:return _f.sent(),[2,ctx]}}))}))},CoreEventQueue}(emitter.v),EventQueue=function(_super){function EventQueue(nameOrQueue){return _super.call(this,"string"==typeof nameOrQueue?new persisted.x(4,nameOrQueue):nameOrQueue)||this}return(0,tslib_es6.C6)(EventQueue,_super),EventQueue.prototype.flush=function(){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){return(0,connection.a)()?[2,[]]:[2,_super.prototype.flush.call(this)]}))}))},EventQueue}(CoreEventQueue);function bindAll(obj){for(var proto=obj.constructor.prototype,_i=0,_a=Object.getOwnPropertyNames(proto);_i<_a.length;_i++){var key=_a[_i];if("constructor"!==key){var desc=Object.getOwnPropertyDescriptor(obj.constructor.prototype,key);desc&&"function"==typeof desc.value&&(obj[key]=obj[key].bind(obj))}}return obj}var StoreType={Cookie:"cookie",LocalStorage:"localStorage",Memory:"memory"},_logStoreKeyError=function(store,action,key,err){console.warn("".concat(store.constructor.name,": Can't ").concat(action,' key "').concat(key,'" | Err: ').concat(err))},UniversalStorage=function(){function UniversalStorage(stores){this.stores=stores}return UniversalStorage.prototype.get=function(key){for(var val=null,_i=0,_a=this.stores;_i<_a.length;_i++){var store=_a[_i];try{if(null!=(val=store.get(key)))return val}catch(e){_logStoreKeyError(store,"get",key,e)}}return null},UniversalStorage.prototype.set=function(key,value){this.stores.forEach((function(store){try{store.set(key,value)}catch(e){_logStoreKeyError(store,"set",key,e)}}))},UniversalStorage.prototype.clear=function(key){this.stores.forEach((function(store){try{store.remove(key)}catch(e){_logStoreKeyError(store,"remove",key,e)}}))},UniversalStorage.prototype.getAndSync=function(key){var val=this.get(key),coercedValue="number"==typeof val?val.toString():val;return this.set(key,coercedValue),coercedValue},UniversalStorage}(),MemoryStorage=function(){function MemoryStorage(){this.cache={}}return MemoryStorage.prototype.get=function(key){var _a;return null!==(_a=this.cache[key])&&void 0!==_a?_a:null},MemoryStorage.prototype.set=function(key,value){this.cache[key]=value},MemoryStorage.prototype.remove=function(key){delete this.cache[key]},MemoryStorage}();function isArrayOfStoreType(s){return s&&s.stores&&Array.isArray(s.stores)&&s.stores.every((function(e){return Object.values(StoreType).includes(e)}))}function js_cookie_assign(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)target[key]=source[key]}return target}var api=function init(converter,defaultAttributes){function set(key,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=js_cookie_assign({},defaultAttributes,attributes)).expires&&(attributes.expires=new Date(Date.now()+864e5*attributes.expires)),attributes.expires&&(attributes.expires=attributes.expires.toUTCString()),key=encodeURIComponent(key).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=key+"="+converter.write(value,key)+stringifiedAttributes}}return Object.create({set,get:function get(key){if("undefined"!=typeof document&&(!arguments.length||key)){for(var cookies=document.cookie?document.cookie.split("; "):[],jar={},i=0;i<cookies.length;i++){var parts=cookies[i].split("="),value=parts.slice(1).join("=");try{var foundKey=decodeURIComponent(parts[0]);if(jar[foundKey]=converter.read(value,foundKey),key===foundKey)break}catch(e){}}return key?jar[key]:jar}},remove:function(key,attributes){set(key,"",js_cookie_assign({},attributes,{expires:-1}))},withAttributes:function(attributes){return init(this.converter,js_cookie_assign({},this.attributes,attributes))},withConverter:function(converter){return init(js_cookie_assign({},this.converter,converter),this.attributes)}},{attributes:{value:Object.freeze(defaultAttributes)},converter:{value:Object.freeze(converter)}})}({read:function(value){return'"'===value[0]&&(value=value.slice(1,-1)),value.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(value){return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const js_cookie=api;function tld(url){var parsedUrl=function parseUrl(url){try{return new URL(url)}catch(_a){return}}(url);if(parsedUrl)for(var lvls=function levels(url){var parts=url.hostname.split("."),last=parts[parts.length-1],levels=[];if(4===parts.length&&parseInt(last,10)>0)return levels;if(parts.length<=1)return levels;for(var i=parts.length-2;i>=0;--i)levels.push(parts.slice(i).join("."));return levels}(parsedUrl),i=0;i<lvls.length;++i){var domain=lvls[i],opts={domain:"."+domain};try{if(js_cookie.set("__tld__","1",opts),js_cookie.get("__tld__"))return js_cookie.remove("__tld__",opts),domain}catch(_){return}}}var CookieStorage=function(){function CookieStorage(options){void 0===options&&(options=CookieStorage.defaults),this.options=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},CookieStorage.defaults),options)}return Object.defineProperty(CookieStorage,"defaults",{get:function(){return{maxage:365,domain:tld(window.location.href),path:"/",sameSite:"Lax"}},enumerable:!1,configurable:!0}),CookieStorage.prototype.opts=function(){return{sameSite:this.options.sameSite,expires:this.options.maxage,domain:this.options.domain,path:this.options.path,secure:this.options.secure}},CookieStorage.prototype.get=function(key){var _a;try{var value=js_cookie.get(key);if(null==value)return null;try{return null!==(_a=JSON.parse(value))&&void 0!==_a?_a:null}catch(e){return null!=value?value:null}}catch(e){return null}},CookieStorage.prototype.set=function(key,value){"string"==typeof value?js_cookie.set(key,value,this.opts()):null===value?js_cookie.remove(key,this.opts()):js_cookie.set(key,JSON.stringify(value),this.opts())},CookieStorage.prototype.remove=function(key){return js_cookie.remove(key,this.opts())},CookieStorage}(),LocalStorage=function(){function LocalStorage(){}return LocalStorage.prototype.localStorageWarning=function(key,state){console.warn("Unable to access ".concat(key,", localStorage may be ").concat(state))},LocalStorage.prototype.get=function(key){var _a;try{var val=localStorage.getItem(key);if(null===val)return null;try{return null!==(_a=JSON.parse(val))&&void 0!==_a?_a:null}catch(e){return null!=val?val:null}}catch(err){return this.localStorageWarning(key,"unavailable"),null}},LocalStorage.prototype.set=function(key,value){try{localStorage.setItem(key,JSON.stringify(value))}catch(_a){this.localStorageWarning(key,"full")}},LocalStorage.prototype.remove=function(key){try{return localStorage.removeItem(key)}catch(err){this.localStorageWarning(key,"unavailable")}},LocalStorage}();function initializeStorages(args){return args.map((function(s){var type,settings;switch(!function isStoreTypeWithSettings(s){return"object"==typeof s&&void 0!==s.name}(s)?type=s:(type=s.name,settings=s.settings),type){case StoreType.Cookie:return new CookieStorage(settings);case StoreType.LocalStorage:return new LocalStorage;case StoreType.Memory:return new MemoryStorage;default:throw new Error("Unknown Store Type: ".concat(s))}}))}function applyCookieOptions(storeTypes,cookieOptions){return storeTypes.map((function(s){return cookieOptions&&s===StoreType.Cookie?{name:s,settings:cookieOptions}:s}))}var defaults={persist:!0,cookie:{key:"ajs_user_id",oldKey:"ajs_user"},localStorage:{key:"ajs_user_traits"}},User=function(){function User(options,cookieOptions){void 0===options&&(options=defaults);var _a,_b,_c,_d,_this=this;this.options={},this.id=function(id){if(_this.options.disable)return null;var prevId=_this.identityStore.getAndSync(_this.idKey);void 0!==id&&(_this.identityStore.set(_this.idKey,id),id!==prevId&&null!==prevId&&null!==id&&_this.anonymousId(null));var retId=_this.identityStore.getAndSync(_this.idKey);if(retId)return retId;var retLeg=_this.legacyUserStore.get(defaults.cookie.oldKey);return retLeg?"object"==typeof retLeg?retLeg.id:retLeg:null},this.anonymousId=function(id){var _a,_b;if(_this.options.disable)return null;if(void 0===id){var val=null!==(_a=_this.identityStore.getAndSync(_this.anonKey))&&void 0!==_a?_a:null===(_b=_this.legacySIO())||void 0===_b?void 0:_b[0];if(val)return val}return null===id?(_this.identityStore.set(_this.anonKey,null),_this.identityStore.getAndSync(_this.anonKey)):(_this.identityStore.set(_this.anonKey,null!=id?id:(0,dist.v4)()),_this.identityStore.getAndSync(_this.anonKey))},this.traits=function(traits){var _a;if(!_this.options.disable)return null===traits&&(traits={}),traits&&_this.traitsStore.set(_this.traitsKey,null!=traits?traits:{}),null!==(_a=_this.traitsStore.get(_this.traitsKey))&&void 0!==_a?_a:{}},this.options=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},defaults),options),this.cookieOptions=cookieOptions,this.idKey=null!==(_b=null===(_a=options.cookie)||void 0===_a?void 0:_a.key)&&void 0!==_b?_b:defaults.cookie.key,this.traitsKey=null!==(_d=null===(_c=options.localStorage)||void 0===_c?void 0:_c.key)&&void 0!==_d?_d:defaults.localStorage.key,this.anonKey="ajs_anonymous_id",this.identityStore=this.createStorage(this.options,cookieOptions),this.legacyUserStore=this.createStorage(this.options,cookieOptions,(function(s){return s===StoreType.Cookie})),this.traitsStore=this.createStorage(this.options,cookieOptions,(function(s){return s!==StoreType.Cookie}));var legacyUser=this.legacyUserStore.get(defaults.cookie.oldKey);legacyUser&&"object"==typeof legacyUser&&(legacyUser.id&&this.id(legacyUser.id),legacyUser.traits&&this.traits(legacyUser.traits)),bindAll(this)}return User.prototype.legacySIO=function(){var val=this.legacyUserStore.get("_sio");if(!val)return null;var _a=val.split("----");return[_a[0],_a[1]]},User.prototype.identify=function(id,traits){if(!this.options.disable){traits=null!=traits?traits:{};var currentId=this.id();null!==currentId&&currentId!==id||(traits=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},this.traits()),traits)),id&&this.id(id),this.traits(traits)}},User.prototype.logout=function(){this.anonymousId(null),this.id(null),this.traits({})},User.prototype.reset=function(){this.logout(),this.identityStore.clear(this.idKey),this.identityStore.clear(this.anonKey),this.traitsStore.clear(this.traitsKey)},User.prototype.load=function(){return new User(this.options,this.cookieOptions)},User.prototype.save=function(){return!0},User.prototype.createStorage=function(options,cookieOpts,filterStores){var stores=[StoreType.LocalStorage,StoreType.Cookie,StoreType.Memory];return options.disable?new UniversalStorage([]):options.persist?(void 0!==options.storage&&null!==options.storage&&isArrayOfStoreType(options.storage)&&(stores=options.storage.stores),options.localStorageFallbackDisabled&&(stores=stores.filter((function(s){return s!==StoreType.LocalStorage}))),filterStores&&(stores=stores.filter(filterStores)),new UniversalStorage(initializeStorages(applyCookieOptions(stores,cookieOpts)))):new UniversalStorage([new MemoryStorage])},User.defaults=defaults,User}(),groupDefaults={persist:!0,cookie:{key:"ajs_group_id"},localStorage:{key:"ajs_group_properties"}},Group=function(_super){function Group(options,cookie){void 0===options&&(options=groupDefaults);var _this=_super.call(this,(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},groupDefaults),options),cookie)||this;return _this.anonymousId=function(_id){},bindAll(_this),_this}return(0,tslib_es6.C6)(Group,_super),Group}(User),version=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/generated/version.js"),get_global=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/get-global.js"),global_analytics_helper=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/global-analytics-helper.js"),flushSyncAnalyticsCalls=function(name,analytics,buffer){buffer.getCalls(name).forEach((function(c){callAnalyticsMethod(analytics,c).catch(console.error)}))},flushAddSourceMiddleware=function(analytics,buffer){return(0,tslib_es6.sH)(void 0,void 0,void 0,(function(){var _i,_a,c;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:_i=0,_a=buffer.getCalls("addSourceMiddleware"),_b.label=1;case 1:return _i<_a.length?(c=_a[_i],[4,callAnalyticsMethod(analytics,c).catch(console.error)]):[3,4];case 2:_b.sent(),_b.label=3;case 3:return _i++,[3,1];case 4:return[2]}}))}))},flushOn=flushSyncAnalyticsCalls.bind(void 0,"on"),flushSetAnonymousID=flushSyncAnalyticsCalls.bind(void 0,"setAnonymousId"),flushAnalyticsCallsInNewTask=function(analytics,buffer){buffer.toArray().forEach((function(m){setTimeout((function(){callAnalyticsMethod(analytics,m).catch(console.error)}),0)}))},popPageContext=function(args){if(hasBufferedPageContextAsLastArg(args)){var ctx=args.pop();return createPageContext(ctx)}},hasBufferedPageContextAsLastArg=function(args){return function isBufferedPageContext(bufferedPageCtx){if(!(0,helpers.Qd)(bufferedPageCtx))return!1;if("bpc"!==bufferedPageCtx.__t)return!1;for(var k in bufferedPageCtx)if(!BUFFERED_PAGE_CONTEXT_KEYS.includes(k))return!1;return!0}(args[args.length-1])},PreInitMethodCall=function PreInitMethodCall(method,args,resolve,reject){void 0===resolve&&(resolve=function(){}),void 0===reject&&(reject=console.error),this.method=method,this.resolve=resolve,this.reject=reject,this.called=!1,this.args=args},PreInitMethodCallBuffer=function(){function PreInitMethodCallBuffer(){for(var calls=[],_i=0;_i<arguments.length;_i++)calls[_i]=arguments[_i];this._callMap={},this.push.apply(this,calls)}return Object.defineProperty(PreInitMethodCallBuffer.prototype,"calls",{get:function(){return this._pushSnippetWindowBuffer(),this._callMap},set:function(calls){this._callMap=calls},enumerable:!1,configurable:!0}),PreInitMethodCallBuffer.prototype.getCalls=function(methodName){var _a;return null!==(_a=this.calls[methodName])&&void 0!==_a?_a:[]},PreInitMethodCallBuffer.prototype.push=function(){for(var _this=this,calls=[],_i=0;_i<arguments.length;_i++)calls[_i]=arguments[_i];calls.forEach((function(call){["track","screen","alias","group","page","identify"].includes(call.method)&&!hasBufferedPageContextAsLastArg(call.args)&&(call.args=(0,tslib_es6.fX)((0,tslib_es6.fX)([],call.args,!0),[getDefaultBufferedPageContext()],!1)),_this.calls[call.method]?_this.calls[call.method].push(call):_this.calls[call.method]=[call]}))},PreInitMethodCallBuffer.prototype.clear=function(){this._pushSnippetWindowBuffer(),this.calls={}},PreInitMethodCallBuffer.prototype.toArray=function(){var _a;return(_a=[]).concat.apply(_a,Object.values(this.calls))},PreInitMethodCallBuffer.prototype._pushSnippetWindowBuffer=function(){var wa=(0,global_analytics_helper.kJ)();if(Array.isArray(wa)){var calls=wa.splice(0,wa.length).map((function(_a){var methodName=_a[0],args=_a.slice(1);return new PreInitMethodCall(methodName,args)}));this.push.apply(this,calls)}},PreInitMethodCallBuffer}();function callAnalyticsMethod(analytics,call){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var result,err_1;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return _a.trys.push([0,3,,4]),call.called?[2,void 0]:(call.called=!0,result=analytics[call.method].apply(analytics,call.args),"object"==typeof(value=result)&&null!==value&&"then"in value&&"function"==typeof value.then?[4,result]:[3,2]);case 1:_a.sent(),_a.label=2;case 2:return call.resolve(result),[3,4];case 3:return err_1=_a.sent(),call.reject(err_1),[3,4];case 4:return[2]}var value}))}))}var AnalyticsBuffered=function(){function AnalyticsBuffered(loader){var _this=this;this.trackSubmit=this._createMethod("trackSubmit"),this.trackClick=this._createMethod("trackClick"),this.trackLink=this._createMethod("trackLink"),this.pageView=this._createMethod("pageview"),this.identify=this._createMethod("identify"),this.reset=this._createMethod("reset"),this.group=this._createMethod("group"),this.track=this._createMethod("track"),this.ready=this._createMethod("ready"),this.alias=this._createMethod("alias"),this.debug=this._createChainableMethod("debug"),this.page=this._createMethod("page"),this.once=this._createChainableMethod("once"),this.off=this._createChainableMethod("off"),this.on=this._createChainableMethod("on"),this.addSourceMiddleware=this._createMethod("addSourceMiddleware"),this.setAnonymousId=this._createMethod("setAnonymousId"),this.addDestinationMiddleware=this._createMethod("addDestinationMiddleware"),this.screen=this._createMethod("screen"),this.register=this._createMethod("register"),this.deregister=this._createMethod("deregister"),this.user=this._createMethod("user"),this.VERSION=version.r,this._preInitBuffer=new PreInitMethodCallBuffer,this._promise=loader(this._preInitBuffer),this._promise.then((function(_a){var ajs=_a[0],ctx=_a[1];_this.instance=ajs,_this.ctx=ctx})).catch((function(){}))}return AnalyticsBuffered.prototype.then=function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(_a=this._promise).then.apply(_a,args)},AnalyticsBuffered.prototype.catch=function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(_a=this._promise).catch.apply(_a,args)},AnalyticsBuffered.prototype.finally=function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(_a=this._promise).finally.apply(_a,args)},AnalyticsBuffered.prototype._createMethod=function(methodName){var _this=this;return function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];if(_this.instance){var result=(_a=_this.instance)[methodName].apply(_a,args);return Promise.resolve(result)}return new Promise((function(resolve,reject){_this._preInitBuffer.push(new PreInitMethodCall(methodName,args,resolve,reject))}))}},AnalyticsBuffered.prototype._createChainableMethod=function(methodName){var _this=this;return function(){for(var _a,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return _this.instance?((_a=_this.instance)[methodName].apply(_a,args),_this):(_this._preInitBuffer.push(new PreInitMethodCall(methodName,args)),_this)}},AnalyticsBuffered}(),deprecationWarning="This is being deprecated and will be not be available in future releases of Analytics JS",global=(0,get_global.m)(),_analytics=null==global?void 0:global.analytics;var AnalyticsInstanceSettings=function AnalyticsInstanceSettings(settings){var _a;this.timeout=300,this.writeKey=settings.writeKey,this.cdnSettings=null!==(_a=settings.cdnSettings)&&void 0!==_a?_a:{integrations:{}}};function _stub(){console.warn(deprecationWarning)}var cookieOptions,Analytics=function(_super){function Analytics(settings,options,queue,user,group){var _a,_b,_this=this;(_this=_super.call(this)||this)._debug=!1,_this.initialized=!1,_this.user=function(){return _this._user},_this.init=_this.initialize.bind(_this),_this.log=_stub,_this.addIntegrationMiddleware=_stub,_this.listeners=_stub,_this.addEventListener=_stub,_this.removeAllListeners=_stub,_this.removeListener=_stub,_this.removeEventListener=_stub,_this.hasListeners=_stub,_this.add=_stub,_this.addIntegration=_stub;var cookieOptions=null==options?void 0:options.cookie,disablePersistance=null!==(_a=null==options?void 0:options.disableClientPersistence)&&void 0!==_a&&_a;_this.settings=new AnalyticsInstanceSettings(settings),_this.queue=null!=queue?queue:function createDefaultQueue(name,retryQueue,disablePersistance){void 0===retryQueue&&(retryQueue=!1),void 0===disablePersistance&&(disablePersistance=!1);var maxAttempts=retryQueue?10:1,priorityQueue=disablePersistance?new priority_queue.M(maxAttempts,[]):new persisted.x(maxAttempts,name);return new EventQueue(priorityQueue)}("".concat(settings.writeKey,":event-queue"),null==options?void 0:options.retryQueue,disablePersistance);var storageSetting=null==options?void 0:options.storage;return _this._universalStorage=_this.createStore(disablePersistance,storageSetting,cookieOptions),_this._user=null!=user?user:new User((0,tslib_es6.Cl)({persist:!disablePersistance,storage:null==options?void 0:options.storage},null==options?void 0:options.user),cookieOptions).load(),_this._group=null!=group?group:new Group((0,tslib_es6.Cl)({persist:!disablePersistance,storage:null==options?void 0:options.storage},null==options?void 0:options.group),cookieOptions).load(),_this.eventFactory=new EventFactory(_this._user),_this.integrations=null!==(_b=null==options?void 0:options.integrations)&&void 0!==_b?_b:{},_this.options=null!=options?options:{},bindAll(_this),_this}return(0,tslib_es6.C6)(Analytics,_super),Analytics.prototype.createStore=function(disablePersistance,storageSetting,cookieOptions){return disablePersistance?new UniversalStorage([new MemoryStorage]):storageSetting&&isArrayOfStoreType(storageSetting)?new UniversalStorage(initializeStorages(applyCookieOptions(storageSetting.stores,cookieOptions))):new UniversalStorage(initializeStorages([StoreType.LocalStorage,{name:StoreType.Cookie,settings:cookieOptions},StoreType.Memory]))},Object.defineProperty(Analytics.prototype,"storage",{get:function(){return this._universalStorage},enumerable:!1,configurable:!0}),Analytics.prototype.track=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var pageCtx,_a,name,data,opts,cb,segmentEvent,_this=this;return(0,tslib_es6.YH)(this,(function(_b){return pageCtx=popPageContext(args),_a=resolveArguments.apply(void 0,args),name=_a[0],data=_a[1],opts=_a[2],cb=_a[3],segmentEvent=this.eventFactory.track(name,data,opts,this.integrations,pageCtx),[2,this._dispatch(segmentEvent,cb).then((function(ctx){return _this.emit("track",name,ctx.event.properties,ctx.event.options),ctx}))]}))}))},Analytics.prototype.page=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var pageCtx,_a,category,page,properties,options,callback,segmentEvent,_this=this;return(0,tslib_es6.YH)(this,(function(_b){return pageCtx=popPageContext(args),_a=resolvePageArguments.apply(void 0,args),category=_a[0],page=_a[1],properties=_a[2],options=_a[3],callback=_a[4],segmentEvent=this.eventFactory.page(category,page,properties,options,this.integrations,pageCtx),[2,this._dispatch(segmentEvent,callback).then((function(ctx){return _this.emit("page",category,page,ctx.event.properties,ctx.event.options),ctx}))]}))}))},Analytics.prototype.identify=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var pageCtx,_a,id,_traits,options,callback,segmentEvent,_this=this;return(0,tslib_es6.YH)(this,(function(_b){return pageCtx=popPageContext(args),_a=resolveUserArguments(this._user).apply(void 0,args),id=_a[0],_traits=_a[1],options=_a[2],callback=_a[3],this._user.identify(id,_traits),segmentEvent=this.eventFactory.identify(this._user.id(),this._user.traits(),options,this.integrations,pageCtx),[2,this._dispatch(segmentEvent,callback).then((function(ctx){return _this.emit("identify",ctx.event.userId,ctx.event.traits,ctx.event.options),ctx}))]}))}))},Analytics.prototype.group=function(){for(var _this=this,args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var pageCtx=popPageContext(args);if(0===args.length)return this._group;var _a=resolveUserArguments(this._group).apply(void 0,args),id=_a[0],_traits=_a[1],options=_a[2],callback=_a[3];this._group.identify(id,_traits);var groupId=this._group.id(),groupTraits=this._group.traits(),segmentEvent=this.eventFactory.group(groupId,groupTraits,options,this.integrations,pageCtx);return this._dispatch(segmentEvent,callback).then((function(ctx){return _this.emit("group",ctx.event.groupId,ctx.event.traits,ctx.event.options),ctx}))},Analytics.prototype.alias=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var pageCtx,_a,to,from,options,callback,segmentEvent,_this=this;return(0,tslib_es6.YH)(this,(function(_b){return pageCtx=popPageContext(args),_a=resolveAliasArguments.apply(void 0,args),to=_a[0],from=_a[1],options=_a[2],callback=_a[3],segmentEvent=this.eventFactory.alias(to,from,options,this.integrations,pageCtx),[2,this._dispatch(segmentEvent,callback).then((function(ctx){return _this.emit("alias",to,from,ctx.event.options),ctx}))]}))}))},Analytics.prototype.screen=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var pageCtx,_a,category,page,properties,options,callback,segmentEvent,_this=this;return(0,tslib_es6.YH)(this,(function(_b){return pageCtx=popPageContext(args),_a=resolvePageArguments.apply(void 0,args),category=_a[0],page=_a[1],properties=_a[2],options=_a[3],callback=_a[4],segmentEvent=this.eventFactory.screen(category,page,properties,options,this.integrations,pageCtx),[2,this._dispatch(segmentEvent,callback).then((function(ctx){return _this.emit("screen",category,page,ctx.event.properties,ctx.event.options),ctx}))]}))}))},Analytics.prototype.trackClick=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var autotrack,_a;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:return[4,__webpack_require__.e(248).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js"))];case 1:return autotrack=_b.sent(),[2,(_a=autotrack.link).call.apply(_a,(0,tslib_es6.fX)([this],args,!1))]}}))}))},Analytics.prototype.trackLink=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var autotrack,_a;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:return[4,__webpack_require__.e(248).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js"))];case 1:return autotrack=_b.sent(),[2,(_a=autotrack.link).call.apply(_a,(0,tslib_es6.fX)([this],args,!1))]}}))}))},Analytics.prototype.trackSubmit=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var autotrack,_a;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:return[4,__webpack_require__.e(248).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js"))];case 1:return autotrack=_b.sent(),[2,(_a=autotrack.form).call.apply(_a,(0,tslib_es6.fX)([this],args,!1))]}}))}))},Analytics.prototype.trackForm=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var autotrack,_a;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:return[4,__webpack_require__.e(248).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/auto-track.js"))];case 1:return autotrack=_b.sent(),[2,(_a=autotrack.form).call.apply(_a,(0,tslib_es6.fX)([this],args,!1))]}}))}))},Analytics.prototype.register=function(){for(var plugins=[],_i=0;_i<arguments.length;_i++)plugins[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var ctx,registrations,_this=this;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return ctx=context.o.system(),registrations=plugins.map((function(xt){return _this.queue.register(ctx,xt,_this)})),[4,Promise.all(registrations)];case 1:return _a.sent(),[2,ctx]}}))}))},Analytics.prototype.deregister=function(){for(var plugins=[],_i=0;_i<arguments.length;_i++)plugins[_i]=arguments[_i];return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var ctx,deregistrations,_this=this;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return ctx=context.o.system(),deregistrations=plugins.map((function(pl){var plugin=_this.queue.plugins.find((function(p){return p.name===pl}));if(plugin)return _this.queue.deregister(ctx,plugin,_this);ctx.log("warn","plugin ".concat(pl," not found"))})),[4,Promise.all(deregistrations)];case 1:return _a.sent(),[2,ctx]}}))}))},Analytics.prototype.debug=function(toggle){return!1===toggle&&localStorage.getItem("debug")&&localStorage.removeItem("debug"),this._debug=toggle,this},Analytics.prototype.reset=function(){this._user.reset(),this._group.reset(),this.emit("reset")},Analytics.prototype.timeout=function(timeout){this.settings.timeout=timeout},Analytics.prototype._dispatch=function(event,callback){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var ctx;return(0,tslib_es6.YH)(this,(function(_a){return ctx=new context.o(event),(0,connection.a)()&&!this.options.retryQueue?[2,ctx]:[2,dispatch(ctx,this.queue,this,{callback,debug:this._debug,timeout:this.settings.timeout})]}))}))},Analytics.prototype.addSourceMiddleware=function(fn){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var _this=this;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,this.queue.criticalTasks.run((function(){return(0,tslib_es6.sH)(_this,void 0,void 0,(function(){var sourceMiddlewarePlugin,integrations,plugin;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/plugins/middleware/index.js"))];case 1:return sourceMiddlewarePlugin=_a.sent().sourceMiddlewarePlugin,integrations={},this.queue.plugins.forEach((function(plugin){if("destination"===plugin.type)return integrations[plugin.name]=!0})),plugin=sourceMiddlewarePlugin(fn,integrations),[4,this.register(plugin)];case 2:return _a.sent(),[2]}}))}))}))];case 1:return _a.sent(),[2,this]}}))}))},Analytics.prototype.addDestinationMiddleware=function(integrationName){for(var middlewares=[],_i=1;_i<arguments.length;_i++)middlewares[_i-1]=arguments[_i];return this.queue.plugins.filter(isDestinationPluginWithAddMiddleware).forEach((function(p){"*"!==integrationName&&p.name.toLowerCase()!==integrationName.toLowerCase()||p.addMiddleware.apply(p,middlewares)})),Promise.resolve(this)},Analytics.prototype.setAnonymousId=function(id){return this._user.anonymousId(id)},Analytics.prototype.queryString=function(query){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return!1===this.options.useQueryString?[2,[]]:[4,__webpack_require__.e(538).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/query-string/index.js"))];case 1:return[2,(0,_a.sent().queryString)(this,query)]}}))}))},Analytics.prototype.use=function(legacyPluginFactory){return legacyPluginFactory(this),this},Analytics.prototype.ready=function(callback){return void 0===callback&&(callback=function(res){return res}),(0,tslib_es6.sH)(this,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){return[2,Promise.all(this.queue.plugins.map((function(i){return i.ready?i.ready():Promise.resolve()}))).then((function(res){return callback(res),res}))]}))}))},Analytics.prototype.noConflict=function(){return console.warn(deprecationWarning),(0,global_analytics_helper.Ud)(null!=_analytics?_analytics:this),this},Analytics.prototype.normalize=function(msg){return console.warn(deprecationWarning),this.eventFactory.normalize(msg)},Object.defineProperty(Analytics.prototype,"failedInitializations",{get:function(){return console.warn(deprecationWarning),this.queue.failedInitializations},enumerable:!1,configurable:!0}),Object.defineProperty(Analytics.prototype,"VERSION",{get:function(){return version.r},enumerable:!1,configurable:!0}),Analytics.prototype.initialize=function(_settings,_options){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){return console.warn(deprecationWarning),[2,Promise.resolve(this)]}))}))},Analytics.prototype.pageview=function(url){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return console.warn(deprecationWarning),[4,this.page({path:url})];case 1:return _a.sent(),[2,this]}}))}))},Object.defineProperty(Analytics.prototype,"plugins",{get:function(){var _a;return console.warn(deprecationWarning),null!==(_a=this._plugins)&&void 0!==_a?_a:{}},enumerable:!1,configurable:!0}),Object.defineProperty(Analytics.prototype,"Integrations",{get:function(){return console.warn(deprecationWarning),this.queue.plugins.filter((function(plugin){return"destination"===plugin.type})).reduce((function(acc,plugin){var name="".concat(plugin.name.toLowerCase().replace(".","").split(" ").join("-"),"Integration"),integration=window[name];if(!integration)return acc;var nested=integration.Integration;return nested?(acc[plugin.name]=nested,acc):(acc[plugin.name]=integration,acc)}),{})},enumerable:!1,configurable:!0}),Analytics.prototype.push=function(args){var method=args.shift();method&&!this[method]||this[method].apply(this,args)},Analytics}(emitter.v),NullAnalytics=function(_super){function NullAnalytics(){var _this=_super.call(this,{writeKey:""},{disableClientPersistence:!0})||this;return _this.initialized=!0,_this}return(0,tslib_es6.C6)(NullAnalytics,_super),NullAnalytics}(Analytics),merged_options=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/merged-options.js"),create_deferred=__webpack_require__("./node_modules/.pnpm/@segment+analytics-generic-utils@1.2.0/node_modules/@segment/analytics-generic-utils/dist/esm/create-deferred/create-deferred.js"),version_type=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/version-type.js"),gracefulDecodeURIComponent=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/query-string/gracefulDecodeURIComponent.js");function clientHints(hints){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var userAgentData;return(0,tslib_es6.YH)(this,(function(_a){return(userAgentData=navigator.userAgentData)?hints?[2,userAgentData.getHighEntropyValues(hints).catch((function(){return userAgentData.toJSON()}))]:[2,userAgentData.toJSON()]:[2,void 0]}))}))}function getCookieOptions(){if(cookieOptions)return cookieOptions;var domain=tld(window.location.href);return cookieOptions={expires:31536e6,secure:!1,path:"/"},domain&&(cookieOptions.domain=domain),cookieOptions}var EnvironmentEnrichmentPlugin=function EnvironmentEnrichmentPlugin(){var _this=this;this.name="Page Enrichment",this.type="before",this.version="0.1.0",this.isLoaded=function(){return!0},this.load=function(_ctx,instance){return(0,tslib_es6.sH)(_this,void 0,void 0,(function(){var _a;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:this.instance=instance,_b.label=1;case 1:return _b.trys.push([1,3,,4]),_a=this,[4,clientHints(this.instance.options.highEntropyValuesClientHints)];case 2:return _a.userAgentData=_b.sent(),[3,4];case 3:return _b.sent(),[3,4];case 4:return[2,Promise.resolve()]}}))}))},this.enrich=function(ctx){var _a,_b,evtCtx=ctx.event.context,search=evtCtx.page.search||"",query="object"==typeof search?function(obj){try{var searchParams_1=new URLSearchParams;return Object.entries(obj).forEach((function(_a){var k=_a[0],v=_a[1];Array.isArray(v)?v.forEach((function(value){return searchParams_1.append(k,value)})):searchParams_1.append(k,v)})),searchParams_1.toString()}catch(_a){return""}}(search):search;evtCtx.userAgent=navigator.userAgent,evtCtx.userAgentData=_this.userAgentData;var locale=navigator.userLanguage||navigator.language;void 0===evtCtx.locale&&void 0!==locale&&(evtCtx.locale=locale),null!==(_a=evtCtx.library)&&void 0!==_a||(evtCtx.library={name:"analytics.js",version:"".concat("web"===(0,version_type.X)()?"next":"npm:next","-").concat(version.r)}),query&&!evtCtx.campaign&&(evtCtx.campaign=function utm(query){return query.startsWith("?")&&(query=query.substring(1)),(query=query.replace(/\?/g,"&")).split("&").reduce((function(acc,str){var _a=str.split("="),k=_a[0],_b=_a[1],v=void 0===_b?"":_b;if(k.includes("utm_")&&k.length>4){var utmParam=k.slice(4);"campaign"===utmParam&&(utmParam="name"),acc[utmParam]=(0,gracefulDecodeURIComponent.p)(v)}return acc}),{})}(query));var amp=function ampId(){var ampId=js_cookie.get("_ga");if(ampId&&ampId.startsWith("amp"))return ampId}();amp&&(evtCtx.amp={id:amp}),function referrerId(query,ctx,disablePersistance){var _a,storage=new UniversalStorage(disablePersistance?[]:[new CookieStorage(getCookieOptions())]),stored=storage.get("s:context.referrer"),ad=null!==(_a=function ads(query){var queryIds={btid:"dataxu",urid:"millennial-media"};query.startsWith("?")&&(query=query.substring(1));for(var _i=0,parts_1=(query=query.replace(/\?/g,"&")).split("&");_i<parts_1.length;_i++){var _a=parts_1[_i].split("="),k=_a[0],v=_a[1];if(queryIds[k])return{id:v,type:queryIds[k]}}}(query))&&void 0!==_a?_a:stored;ad&&(ctx&&(ctx.referrer=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},ctx.referrer),ad)),storage.set("s:context.referrer",ad))}(query,evtCtx,null!==(_b=_this.instance.options.disableClientPersistence)&&void 0!==_b&&_b);try{evtCtx.timezone=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(_){}return ctx},this.track=this.enrich,this.identify=this.enrich,this.page=this.enrich,this.group=this.enrich,this.alias=this.enrich,this.screen=this.enrich},envEnrichment=new EnvironmentEnrichmentPlugin,load_script=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/load-script.js"),middleware=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/plugins/middleware/index.js"),metric_helpers=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/stats/metric-helpers.js"),ActionDestination=function(){function ActionDestination(name,action){this.version="1.0.0",this.alternativeNames=[],this.loadPromise=(0,create_deferred.u)(),this.middleware=[],this.alias=this._createMethod("alias"),this.group=this._createMethod("group"),this.identify=this._createMethod("identify"),this.page=this._createMethod("page"),this.screen=this._createMethod("screen"),this.track=this._createMethod("track"),this.action=action,this.name=name,this.type=action.type,this.alternativeNames.push(action.name)}return ActionDestination.prototype.addMiddleware=function(){for(var _a,fn=[],_i=0;_i<arguments.length;_i++)fn[_i]=arguments[_i];"destination"===this.type&&(_a=this.middleware).push.apply(_a,fn)},ActionDestination.prototype.transform=function(ctx){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var modifiedEvent;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,(0,middleware.applyDestinationMiddleware)(this.name,ctx.event,this.middleware)];case 1:return null===(modifiedEvent=_a.sent())&&ctx.cancel(new esm_context.d({retry:!1,reason:"dropped by destination middleware"})),[2,new context.o(modifiedEvent)]}}))}))},ActionDestination.prototype._createMethod=function(methodName){var _this=this;return function(ctx){return(0,tslib_es6.sH)(_this,void 0,void 0,(function(){var transformedContext,error_1;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return this.action[methodName]?(transformedContext=ctx,"destination"!==this.type?[3,2]:[4,this.transform(ctx)]):[2,ctx];case 1:transformedContext=_a.sent(),_a.label=2;case 2:return _a.trys.push([2,5,,6]),[4,this.ready()];case 3:if(!_a.sent())throw new Error("Something prevented the destination from getting ready");return(0,metric_helpers.y)(ctx,{integrationName:this.action.name,methodName,type:"action"}),[4,this.action[methodName](transformedContext)];case 4:return _a.sent(),[3,6];case 5:throw error_1=_a.sent(),(0,metric_helpers.y)(ctx,{integrationName:this.action.name,methodName,type:"action",didError:!0}),error_1;case 6:return[2,ctx]}}))}))}},ActionDestination.prototype.isLoaded=function(){return this.action.isLoaded()},ActionDestination.prototype.ready=function(){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.loadPromise.promise];case 1:return _b.sent(),[2,!0];case 2:return _b.sent(),[2,!1];case 3:return[2]}}))}))},ActionDestination.prototype.load=function(ctx,analytics){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var loadP,_a,_b,error_2;return(0,tslib_es6.YH)(this,(function(_c){switch(_c.label){case 0:if(this.loadPromise.isSettled())return[2,this.loadPromise.promise];_c.label=1;case 1:return _c.trys.push([1,3,,4]),(0,metric_helpers.y)(ctx,{integrationName:this.action.name,methodName:"load",type:"action"}),loadP=this.action.load(ctx,analytics),_b=(_a=this.loadPromise).resolve,[4,loadP];case 2:return _b.apply(_a,[_c.sent()]),[2,loadP];case 3:throw error_2=_c.sent(),(0,metric_helpers.y)(ctx,{integrationName:this.action.name,methodName:"load",type:"action",didError:!0}),this.loadPromise.reject(error_2),error_2;case 4:return[2]}}))}))},ActionDestination.prototype.unload=function(ctx,analytics){var _a,_b;return null===(_b=(_a=this.action).unload)||void 0===_b?void 0:_b.call(_a,ctx,analytics)},ActionDestination}();function loadPluginFactory(remotePlugin,obfuscate){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var defaultCdn,cdn,urlSplit,name_1,obfuscatedURL;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:if(defaultCdn=new RegExp("https://cdn.segment.(com|build)"),cdn=(0,parse_cdn.I2)(),!obfuscate)return[3,6];urlSplit=remotePlugin.url.split("/"),name_1=urlSplit[urlSplit.length-2],obfuscatedURL=remotePlugin.url.replace(name_1,btoa(name_1).replace(/=/g,"")),_a.label=1;case 1:return _a.trys.push([1,3,,5]),[4,(0,load_script.k)(obfuscatedURL.replace(defaultCdn,cdn))];case 2:return _a.sent(),[3,5];case 3:return _a.sent(),[4,(0,load_script.k)(remotePlugin.url.replace(defaultCdn,cdn))];case 4:return _a.sent(),[3,5];case 5:return[3,8];case 6:return[4,(0,load_script.k)(remotePlugin.url.replace(defaultCdn,cdn))];case 7:_a.sent(),_a.label=8;case 8:return"function"==typeof window[remotePlugin.libraryName]?[2,window[remotePlugin.libraryName]]:[2]}}))}))}function remoteLoader(settings,userIntegrations,mergedIntegrations,options,routingMiddleware,pluginSources){var _a,_b,_c;return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var allPlugins,routingRules,pluginPromises,_this=this;return(0,tslib_es6.YH)(this,(function(_d){switch(_d.label){case 0:return allPlugins=[],routingRules=null!==(_b=null===(_a=settings.middlewareSettings)||void 0===_a?void 0:_a.routingRules)&&void 0!==_b?_b:[],pluginPromises=(null!==(_c=settings.remotePlugins)&&void 0!==_c?_c:[]).map((function(remotePlugin){return(0,tslib_es6.sH)(_this,void 0,void 0,(function(){var pluginFactory,_a,plugin,plugins,routing_1,error_4;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:if(function isPluginDisabled(userIntegrations,remotePlugin){var creationNameEnabled=userIntegrations[remotePlugin.creationName],currentNameEnabled=userIntegrations[remotePlugin.name];return!1===userIntegrations.All&&!creationNameEnabled&&!currentNameEnabled||!1===creationNameEnabled||!1===currentNameEnabled}(userIntegrations,remotePlugin))return[2];_b.label=1;case 1:return _b.trys.push([1,6,,7]),(_a=null==pluginSources?void 0:pluginSources.find((function(_a){return _a.pluginName===remotePlugin.name})))?[3,3]:[4,loadPluginFactory(remotePlugin,null==options?void 0:options.obfuscate)];case 2:_a=_b.sent(),_b.label=3;case 3:return(pluginFactory=_a)?[4,pluginFactory((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},remotePlugin.settings),mergedIntegrations[remotePlugin.name]))]:[3,5];case 4:plugin=_b.sent(),function validate(pluginLike){if(!Array.isArray(pluginLike))throw new Error("Not a valid list of plugins");var required=["load","isLoaded","name","version","type"];return pluginLike.forEach((function(plugin){required.forEach((function(method){var _a;if(void 0===plugin[method])throw new Error("Plugin: ".concat(null!==(_a=plugin.name)&&void 0!==_a?_a:"unknown"," missing required function ").concat(method))}))})),!0}(plugins=Array.isArray(plugin)?plugin:[plugin]),routing_1=routingRules.filter((function(rule){return rule.destinationName===remotePlugin.creationName})),plugins.forEach((function(plugin){var wrapper=new ActionDestination(remotePlugin.creationName,plugin);routing_1.length&&routingMiddleware&&wrapper.addMiddleware(routingMiddleware),allPlugins.push(wrapper)})),_b.label=5;case 5:return[3,7];case 6:return error_4=_b.sent(),console.warn("Failed to load Remote Plugin",error_4),[3,7];case 7:return[2]}}))}))})),[4,Promise.all(pluginPromises)];case 1:return _d.sent(),[2,allPlugins.filter(Boolean)]}}))}))}var to_facade=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/to-facade.js"),onPageChange=function(cb){var unloaded=!1;window.addEventListener("pagehide",(function(){unloaded||cb(unloaded=!0)})),document.addEventListener("visibilitychange",(function(){if("hidden"==document.visibilityState){if(unloaded)return;unloaded=!0}else unloaded=!1;cb(unloaded)}))},MAX_PAYLOAD_SIZE=500;function kilobytes(buffer){return(encodeURI(JSON.stringify(buffer)).split(/%..|./).length-1)/1024}function batch(apiHost,config){var _a,_b,schedule,buffer=[],pageUnloaded=!1,limit=null!==(_a=null==config?void 0:config.size)&&void 0!==_a?_a:10,timeout=null!==(_b=null==config?void 0:config.timeout)&&void 0!==_b?_b:5e3;function sendBatch(batch){var _a;if(0!==batch.length){var writeKey=null===(_a=batch[0])||void 0===_a?void 0:_a.writeKey,updatedBatch=batch.map((function(event){var _a=event;_a.sentAt;return(0,tslib_es6.Tt)(_a,["sentAt"])}));return(0,fetch.h)("https://".concat(apiHost,"/b"),{keepalive:pageUnloaded,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify({writeKey,batch:updatedBatch,sentAt:(new Date).toISOString()})})}}function flush(){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var batch_1;return(0,tslib_es6.YH)(this,(function(_a){return buffer.length?(batch_1=buffer,buffer=[],[2,sendBatch(batch_1)]):[2]}))}))}return onPageChange((function(unloaded){if((pageUnloaded=unloaded)&&buffer.length){var reqs=function chunks(batch){var result=[],index=0;return batch.forEach((function(item){kilobytes(result[index])>=64&&index++,result[index]?result[index].push(item):result[index]=[item]})),result}(buffer).map(sendBatch);Promise.all(reqs).catch(console.error)}})),{dispatch:function dispatch(_url,body){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var bufferOverflow;return(0,tslib_es6.YH)(this,(function(_a){return buffer.push(body),bufferOverflow=buffer.length>=limit||function approachingTrackingAPILimit(buffer){return kilobytes(buffer)>=MAX_PAYLOAD_SIZE-50}(buffer),[2,bufferOverflow||pageUnloaded?flush():void(schedule||(schedule=setTimeout((function(){schedule=void 0,flush().catch(console.error)}),timeout)))]}))}))}}}function normalize(analytics,json,settings,integrations){var _a,user=analytics.user();delete json.options,json.writeKey=null==settings?void 0:settings.apiKey,json.userId=json.userId||user.id(),json.anonymousId=json.anonymousId||user.anonymousId(),json.sentAt=new Date;var failed=analytics.queue.failedInitializations||[];failed.length>0&&(json._metadata={failedInitializations:failed});var bundled=[],unbundled=[];for(var key in integrations){var integration=integrations[key];"Segment.io"===key&&bundled.push(key),"bundled"===integration.bundlingStatus&&bundled.push(key),"unbundled"===integration.bundlingStatus&&unbundled.push(key)}for(var _i=0,_b=(null==settings?void 0:settings.unbundledIntegrations)||[];_i<_b.length;_i++){var settingsUnbundled=_b[_i];unbundled.includes(settingsUnbundled)||unbundled.push(settingsUnbundled)}var configIds=null!==(_a=null==settings?void 0:settings.maybeBundledConfigIds)&&void 0!==_a?_a:{},bundledConfigIds=[];return bundled.sort().forEach((function(name){var _a;(null!==(_a=configIds[name])&&void 0!==_a?_a:[]).forEach((function(id){bundledConfigIds.push(id)}))})),!1!==(null==settings?void 0:settings.addBundledMetadata)&&(json._metadata=(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},json._metadata),{bundled:bundled.sort(),unbundled:unbundled.sort(),bundledIds:bundledConfigIds})),json}var p_while=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/p-while.js");function flushQueue(xt,queue){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var failedQueue,_this=this;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return failedQueue=[],(0,connection.a)()?[2,queue]:[4,(0,p_while._)((function(){return queue.length>0&&!(0,connection.a)()}),(function(){return(0,tslib_es6.sH)(_this,void 0,void 0,(function(){var ctx,result;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return(ctx=queue.pop())?[4,(0,delivery.C)(ctx,xt)]:[2];case 1:return result=_a.sent(),result instanceof context.o||failedQueue.push(ctx),[2]}}))}))}))];case 1:return _a.sent(),failedQueue.map((function(failed){return queue.pushWithBackoff(failed)})),[2,queue]}}))}))}function scheduleFlush(flushing,buffer,xt,scheduleFlush){var _this=this;flushing||setTimeout((function(){return(0,tslib_es6.sH)(_this,void 0,void 0,(function(){var isFlushing,newBuffer;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return isFlushing=!0,[4,flushQueue(xt,buffer)];case 1:return newBuffer=_a.sent(),isFlushing=!1,buffer.todo>0&&scheduleFlush(isFlushing,newBuffer,xt,scheduleFlush),[2]}}))}))}),5e3*Math.random())}var _a,_b,constants=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/constants/index.js");function segmentio(analytics,settings,integrations){var _a,_b,_c;window.addEventListener("pagehide",(function(){buffer.push.apply(buffer,Array.from(inflightEvents)),inflightEvents.clear()}));var writeKey=null!==(_a=null==settings?void 0:settings.apiKey)&&void 0!==_a?_a:"",buffer=analytics.options.disableClientPersistence?new priority_queue.M(analytics.queue.queue.maxAttempts,[]):new persisted.x(analytics.queue.queue.maxAttempts,"".concat(writeKey,":dest-Segment.io")),inflightEvents=new Set,apiHost=null!==(_b=null==settings?void 0:settings.apiHost)&&void 0!==_b?_b:constants.a,protocol=null!==(_c=null==settings?void 0:settings.protocol)&&void 0!==_c?_c:"https",remote="".concat(protocol,"://").concat(apiHost),deliveryStrategy=null==settings?void 0:settings.deliveryStrategy,client="batching"===(null==deliveryStrategy?void 0:deliveryStrategy.strategy)?batch(apiHost,deliveryStrategy.config):function fetch_dispatcher(config){return{dispatch:function dispatch(url,body){return(0,fetch.h)(url,{keepalive:null==config?void 0:config.keepalive,headers:{"Content-Type":"text/plain"},method:"post",body:JSON.stringify(body)})}}}(null==deliveryStrategy?void 0:deliveryStrategy.config);function send(ctx){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var path,json;return(0,tslib_es6.YH)(this,(function(_a){return(0,connection.a)()?(buffer.push(ctx),scheduleFlush(false,buffer,segmentio,scheduleFlush),[2,ctx]):(inflightEvents.add(ctx),path=ctx.event.type.charAt(0),json=(0,to_facade.W)(ctx.event).json(),"track"===ctx.event.type&&delete json.traits,"alias"===ctx.event.type&&(json=function onAlias(analytics,json){var _a,_b,_c,_d,user=analytics.user();return json.previousId=null!==(_c=null!==(_b=null!==(_a=json.previousId)&&void 0!==_a?_a:json.from)&&void 0!==_b?_b:user.id())&&void 0!==_c?_c:user.anonymousId(),json.userId=null!==(_d=json.userId)&&void 0!==_d?_d:json.to,delete json.from,delete json.to,json}(analytics,json)),[2,client.dispatch("".concat(remote,"/").concat(path),normalize(analytics,json,settings,integrations)).then((function(){return ctx})).catch((function(){return buffer.pushWithBackoff(ctx),scheduleFlush(false,buffer,segmentio,scheduleFlush),ctx})).finally((function(){inflightEvents.delete(ctx)}))])}))}))}var segmentio={name:"Segment.io",type:"destination",version:"0.1.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:send,identify:send,page:send,alias:send,group:send,screen:send};return buffer.todo&&scheduleFlush(false,buffer,segmentio,scheduleFlush),segmentio}var inspectorHost=null!==(_a=(_b=(0,get_global.m)()).__SEGMENT_INSPECTOR__)&&void 0!==_a?_a:_b.__SEGMENT_INSPECTOR__={},stats=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/stats/index.js");function flushFinalBuffer(analytics,buffer){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return[4,flushAddSourceMiddleware(analytics,buffer)];case 1:return _a.sent(),flushAnalyticsCallsInNewTask(analytics,buffer),buffer.clear(),[2]}}))}))}function registerPlugins(writeKey,cdnSettings,analytics,options,pluginLikes,legacyIntegrationSources){var _a,_b,_c;return void 0===pluginLikes&&(pluginLikes=[]),(0,tslib_es6.sH)(this,void 0,void 0,(function(){var plugins,pluginSources,tsubMiddleware,_d,legacyDestinations,_e,schemaFilter,_f,mergedSettings,remotePlugins,toRegister,_g,_h,ctx,_this=this;return(0,tslib_es6.YH)(this,(function(_j){switch(_j.label){case 0:return plugins=null==pluginLikes?void 0:pluginLikes.filter((function(pluginLike){return"object"==typeof pluginLike})),pluginSources=null==pluginLikes?void 0:pluginLikes.filter((function(pluginLike){return"function"==typeof pluginLike&&"string"==typeof pluginLike.pluginName})),function hasTsubMiddleware(settings){var _a,_b,_c;return"test"!==getProcessEnv().NODE_ENV&&(null!==(_c=null===(_b=null===(_a=settings.middlewareSettings)||void 0===_a?void 0:_a.routingRules)||void 0===_b?void 0:_b.length)&&void 0!==_c?_c:0)>0}(cdnSettings)?[4,__webpack_require__.e(10).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/plugins/routing-middleware/index.js")).then((function(mod){return mod.tsubMiddleware(cdnSettings.middlewareSettings.routingRules)}))]:[3,2];case 1:return _d=_j.sent(),[3,3];case 2:_d=void 0,_j.label=3;case 3:return tsubMiddleware=_d,function hasLegacyDestinations(settings){return"test"!==getProcessEnv().NODE_ENV&&Object.keys(settings.integrations).length>1}(cdnSettings)||legacyIntegrationSources.length>0?[4,__webpack_require__.e(50).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/plugins/ajs-destination/index.js")).then((function(mod){return mod.ajsDestinations(writeKey,cdnSettings,analytics.integrations,options,tsubMiddleware,legacyIntegrationSources)}))]:[3,5];case 4:return _e=_j.sent(),[3,6];case 5:_e=[],_j.label=6;case 6:return legacyDestinations=_e,cdnSettings.legacyVideoPluginsEnabled?[4,__webpack_require__.e(694).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/plugins/legacy-video-plugins/index.js")).then((function(mod){return mod.loadLegacyVideoPlugins(analytics)}))]:[3,8];case 7:_j.sent(),_j.label=8;case 8:return(null===(_a=options.plan)||void 0===_a?void 0:_a.track)?[4,__webpack_require__.e(104).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/plugins/schema-filter/index.js")).then((function(mod){var _a;return mod.schemaFilter(null===(_a=options.plan)||void 0===_a?void 0:_a.track,cdnSettings)}))]:[3,10];case 9:return _f=_j.sent(),[3,11];case 10:_f=void 0,_j.label=11;case 11:return schemaFilter=_f,mergedSettings=(0,merged_options.J)(cdnSettings,options),[4,remoteLoader(cdnSettings,analytics.integrations,mergedSettings,options,tsubMiddleware,pluginSources).catch((function(){return[]}))];case 12:return remotePlugins=_j.sent(),toRegister=(0,tslib_es6.fX)((0,tslib_es6.fX)((0,tslib_es6.fX)([envEnrichment],plugins,!0),legacyDestinations,!0),remotePlugins,!0),schemaFilter&&toRegister.push(schemaFilter),!1===(null===(_b=options.integrations)||void 0===_b?void 0:_b.All)&&!options.integrations["Segment.io"]||options.integrations&&!1===options.integrations["Segment.io"]?[3,14]:(_h=(_g=toRegister).push,[4,segmentio(analytics,mergedSettings["Segment.io"],cdnSettings.integrations)]);case 13:_h.apply(_g,[_j.sent()]),_j.label=14;case 14:return[4,analytics.register.apply(analytics,toRegister)];case 15:return ctx=_j.sent(),Object.entries(null!==(_c=cdnSettings.enabledMiddleware)&&void 0!==_c?_c:{}).some((function(_a){return _a[1]}))?[4,__webpack_require__.e(521).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/plugins/remote-middleware/index.js")).then((function(_a){var remoteMiddlewares=_a.remoteMiddlewares;return(0,tslib_es6.sH)(_this,void 0,void 0,(function(){var middleware,promises;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:return[4,remoteMiddlewares(ctx,cdnSettings,options.obfuscate)];case 1:return middleware=_b.sent(),promises=middleware.map((function(mdw){return analytics.addSourceMiddleware(mdw)})),[2,Promise.all(promises)]}}))}))}))]:[3,17];case 16:_j.sent(),_j.label=17;case 17:return[2,ctx]}}))}))}function loadAnalytics(settings,options,preInitBuffer){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k;return void 0===options&&(options={}),(0,tslib_es6.sH)(this,void 0,void 0,(function(){var cdnSettings,_l,retryQueue,analytics,plugins,classicIntegrations,segmentLoadOptions,ctx,search,hash,term;return(0,tslib_es6.YH)(this,(function(_m){switch(_m.label){case 0:return!0===options.disable?[2,[new NullAnalytics,context.o.system()]]:(options.globalAnalyticsKey&&(0,global_analytics_helper.rY)(options.globalAnalyticsKey),settings.cdnURL&&(0,parse_cdn.qQ)(settings.cdnURL),options.initialPageview&&preInitBuffer.push(new PreInitMethodCall("page",[])),null===(_a=settings.cdnSettings)||void 0===_a?[3,1]:(_l=_a,[3,3]));case 1:return[4,(writeKey=settings.writeKey,cdnURL=settings.cdnURL,baseUrl=null!=cdnURL?cdnURL:(0,parse_cdn.I2)(),(0,fetch.h)("".concat(baseUrl,"/v1/projects/").concat(writeKey,"/settings")).then((function(res){return res.ok?res.json():res.text().then((function(errorResponseMessage){throw new Error(errorResponseMessage)}))})).catch((function(err){throw console.error(err.message),err})))];case 2:_l=_m.sent(),_m.label=3;case 3:return cdnSettings=_l,options.updateCDNSettings&&(cdnSettings=options.updateCDNSettings(cdnSettings)),"function"!=typeof options.disable?[3,5]:[4,options.disable(cdnSettings)];case 4:if(_m.sent())return[2,[new NullAnalytics,context.o.system()]];_m.label=5;case 5:return retryQueue=null===(_c=null===(_b=cdnSettings.integrations["Segment.io"])||void 0===_b?void 0:_b.retryQueue)||void 0===_c||_c,options=(0,tslib_es6.Cl)({retryQueue},options),function(analytics){var _a;null===(_a=inspectorHost.attach)||void 0===_a||_a.call(inspectorHost,analytics)}(analytics=new Analytics((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},settings),{cdnSettings}),options)),plugins=null!==(_d=settings.plugins)&&void 0!==_d?_d:[],classicIntegrations=null!==(_e=settings.classicIntegrations)&&void 0!==_e?_e:[],segmentLoadOptions=null===(_f=options.integrations)||void 0===_f?void 0:_f["Segment.io"],stats.U.initRemoteMetrics((0,tslib_es6.Cl)((0,tslib_es6.Cl)({},cdnSettings.metrics),{host:null!==(_g=null==segmentLoadOptions?void 0:segmentLoadOptions.apiHost)&&void 0!==_g?_g:null===(_h=cdnSettings.metrics)||void 0===_h?void 0:_h.host,protocol:null==segmentLoadOptions?void 0:segmentLoadOptions.protocol})),function flushPreBuffer(analytics,buffer){flushSetAnonymousID(analytics,buffer),flushOn(analytics,buffer)}(analytics,preInitBuffer),[4,registerPlugins(settings.writeKey,cdnSettings,analytics,options,plugins,classicIntegrations)];case 6:return ctx=_m.sent(),search=null!==(_j=window.location.search)&&void 0!==_j?_j:"",hash=null!==(_k=window.location.hash)&&void 0!==_k?_k:"",(term=search.length?search:hash.replace(/(?=#).*(?=\?)/,"")).includes("ajs_")?[4,analytics.queryString(term).catch(console.error)]:[3,8];case 7:_m.sent(),_m.label=8;case 8:return analytics.initialized=!0,analytics.emit("initialize",settings,options),[4,flushFinalBuffer(analytics,preInitBuffer)];case 9:return _m.sent(),[2,[analytics,ctx]]}var writeKey,cdnURL,baseUrl}))}))}var AnalyticsBrowser=function(_super){function AnalyticsBrowser(){var _this=this,_a=(0,create_deferred.u)(),loadStart=_a.promise,resolveLoadStart=_a.resolve;return _this=_super.call(this,(function(buffer){return loadStart.then((function(_a){return loadAnalytics(_a[0],_a[1],buffer)}))}))||this,_this._resolveLoadStart=function(settings,options){return resolveLoadStart([settings,options])},_this}return(0,tslib_es6.C6)(AnalyticsBrowser,_super),AnalyticsBrowser.prototype.load=function(settings,options){return void 0===options&&(options={}),this._resolveLoadStart(settings,options),this},AnalyticsBrowser.load=function(settings,options){return void 0===options&&(options={}),(new AnalyticsBrowser).load(settings,options)},AnalyticsBrowser.standalone=function(writeKey,options){return AnalyticsBrowser.load({writeKey},options).then((function(res){return res[0]}))},AnalyticsBrowser}(AnalyticsBuffered)},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/connection/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>isOffline,s:()=>isOnline});var _environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/environment/index.js");function isOnline(){return!(0,_environment__WEBPACK_IMPORTED_MODULE_0__.B)()||window.navigator.onLine}function isOffline(){return!isOnline()}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/constants/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>SEGMENT_API_HOST});var SEGMENT_API_HOST="api.segment.io/v1"},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>Context});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),_segment_analytics_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/context/index.js"),_stats__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/stats/index.js"),Context=function(_super){function Context(event,id){return _super.call(this,event,id,new _stats__WEBPACK_IMPORTED_MODULE_1__.U)||this}return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.C6)(Context,_super),Context.system=function(){return new this({type:"track",event:"system"})},Context}(_segment_analytics_core__WEBPACK_IMPORTED_MODULE_2__.j)},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/environment/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isBrowser(){return"undefined"!=typeof window}function isServer(){return!isBrowser()}__webpack_require__.d(__webpack_exports__,{B:()=>isBrowser,S:()=>isServer})},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/query-string/gracefulDecodeURIComponent.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function gracefulDecodeURIComponent(encodedURIComponent){try{return decodeURIComponent(encodedURIComponent.replace(/\+/g," "))}catch(_a){return encodedURIComponent}}__webpack_require__.d(__webpack_exports__,{p:()=>gracefulDecodeURIComponent})},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/stats/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{U:()=>Stats});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),stats=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/stats/index.js"),fetch=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js"),version=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/generated/version.js"),version_type=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/version-type.js"),constants=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/constants/index.js");function logError(err){console.error("Error sending segment performance metrics",err)}var remoteMetrics,RemoteMetrics=function(){function RemoteMetrics(options){var _a,_b,_c,_d,_e,_this=this;if(this.host=null!==(_a=null==options?void 0:options.host)&&void 0!==_a?_a:constants.a,this.sampleRate=null!==(_b=null==options?void 0:options.sampleRate)&&void 0!==_b?_b:1,this.flushTimer=null!==(_c=null==options?void 0:options.flushTimer)&&void 0!==_c?_c:3e4,this.maxQueueSize=null!==(_d=null==options?void 0:options.maxQueueSize)&&void 0!==_d?_d:20,this.protocol=null!==(_e=null==options?void 0:options.protocol)&&void 0!==_e?_e:"https",this.queue=[],this.sampleRate>0){var flushing_1=!1,run_1=function(){flushing_1||(flushing_1=!0,_this.flush().catch(logError),flushing_1=!1,setTimeout(run_1,_this.flushTimer))};run_1()}}return RemoteMetrics.prototype.increment=function(metric,tags){if(metric.includes("analytics_js.")&&0!==tags.length&&!(Math.random()>this.sampleRate||this.queue.length>=this.maxQueueSize)){var remoteMetric=function(metric,tags,versionType){var formattedTags=tags.reduce((function(acc,t){var _a=t.split(":"),k=_a[0],v=_a[1];return acc[k]=v,acc}),{});return{type:"Counter",metric,value:1,tags:(0,tslib_es6.Cl)((0,tslib_es6.Cl)({},formattedTags),{library:"analytics.js",library_version:"web"===versionType?"next-".concat(version.r):"npm:next-".concat(version.r)})}}(metric,tags,(0,version_type.X)());this.queue.push(remoteMetric),metric.includes("error")&&this.flush().catch(logError)}},RemoteMetrics.prototype.flush=function(){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var _this=this;return(0,tslib_es6.YH)(this,(function(_a){switch(_a.label){case 0:return this.queue.length<=0?[2]:[4,this.send().catch((function(error){logError(error),_this.sampleRate=0}))];case 1:return _a.sent(),[2]}}))}))},RemoteMetrics.prototype.send=function(){return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var payload,headers,url;return(0,tslib_es6.YH)(this,(function(_a){return payload={series:this.queue},this.queue=[],headers={"Content-Type":"text/plain"},url="".concat(this.protocol,"://").concat(this.host,"/m"),[2,(0,fetch.h)(url,{headers,body:JSON.stringify(payload),method:"POST"})]}))}))},RemoteMetrics}(),Stats=function(_super){function Stats(){return null!==_super&&_super.apply(this,arguments)||this}return(0,tslib_es6.C6)(Stats,_super),Stats.initRemoteMetrics=function(options){remoteMetrics=new RemoteMetrics(options)},Stats.prototype.increment=function(metric,by,tags){_super.prototype.increment.call(this,metric,by,tags),null==remoteMetrics||remoteMetrics.increment(metric,null!=tags?tags:[])},Stats}(stats.p)},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/stats/metric-helpers.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function recordIntegrationMetric(ctx,_a){var methodName=_a.methodName,integrationName=_a.integrationName,type=_a.type,_b=_a.didError,didError=void 0!==_b&&_b;ctx.stats.increment("analytics_js.integration.invoke".concat(didError?".error":""),1,["method:".concat(methodName),"integration_name:".concat(integrationName),"type:".concat(type)])}__webpack_require__.d(__webpack_exports__,{y:()=>recordIntegrationMetric})},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/generated/version.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{r:()=>version});var version="1.70.0"},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/fetch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function unfetch_module(e,n){return n=n||{},new Promise((function(t,r){var s=new XMLHttpRequest,o=[],u=[],i={},a=function(){return{ok:2==(s.status/100|0),statusText:s.statusText,status:s.status,url:s.responseURL,text:function(){return Promise.resolve(s.responseText)},json:function(){return Promise.resolve(s.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([s.response]))},clone:a,headers:{keys:function(){return o},entries:function(){return u},get:function(e){return i[e.toLowerCase()]},has:function(e){return e.toLowerCase()in i}}}};for(var l in s.open(n.method||"get",e,!0),s.onload=function(){s.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,n,t){o.push(n=n.toLowerCase()),u.push([n,t]),i[n]=i[n]?i[n]+","+t:t})),t(a())},s.onerror=r,s.withCredentials="include"==n.credentials,n.headers)s.setRequestHeader(l,n.headers[l]);s.send(n.body||null)}))}__webpack_require__.d(__webpack_exports__,{h:()=>fetch});var get_global=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/get-global.js"),fetch=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var global=(0,get_global.m)();return(global&&global.fetch||unfetch_module).apply(void 0,args)}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/get-global.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>getGlobal});var getGlobal=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:null}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/global-analytics-helper.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ud:()=>setGlobalAnalytics,kJ:()=>getGlobalAnalytics,rY:()=>setGlobalAnalyticsKey});var _globalAnalyticsKey="analytics";function getGlobalAnalytics(){return window[_globalAnalyticsKey]}function setGlobalAnalyticsKey(key){_globalAnalyticsKey=key}function setGlobalAnalytics(analytics){window[_globalAnalyticsKey]=analytics}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/load-script.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function findScript(src){return Array.prototype.slice.call(window.document.querySelectorAll("script")).find((function(s){return s.src===src}))}function loadScript(src,attributes){var found=findScript(src);if(void 0!==found){var status_1=null==found?void 0:found.getAttribute("status");if("loaded"===status_1)return Promise.resolve(found);if("loading"===status_1)return new Promise((function(resolve,reject){found.addEventListener("load",(function(){return resolve(found)})),found.addEventListener("error",(function(err){return reject(err)}))}))}return new Promise((function(resolve,reject){var _a,script=window.document.createElement("script");script.type="text/javascript",script.src=src,script.async=!0,script.setAttribute("status","loading");for(var _i=0,_b=Object.entries(null!=attributes?attributes:{});_i<_b.length;_i++){var _c=_b[_i],k=_c[0],v=_c[1];script.setAttribute(k,v)}script.onload=function(){script.onerror=script.onload=null,script.setAttribute("status","loaded"),resolve(script)},script.onerror=function(){script.onerror=script.onload=null,script.setAttribute("status","error"),reject(new Error("Failed to load ".concat(src)))};var tag=window.document.getElementsByTagName("script")[0];null===(_a=tag.parentElement)||void 0===_a||_a.insertBefore(script,tag)}))}function unloadScript(src){var found=findScript(src);return void 0!==found&&found.remove(),Promise.resolve()}__webpack_require__.d(__webpack_exports__,{d:()=>unloadScript,k:()=>loadScript})},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/merged-options.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>mergedOptions});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs");function mergedOptions(cdnSettings,options){var _a,optionOverrides=Object.entries(null!==(_a=options.integrations)&&void 0!==_a?_a:{}).reduce((function(overrides,_a){var _b,_c,integration=_a[0],options=_a[1];return"object"==typeof options?(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)({},overrides),((_b={})[integration]=options,_b)):(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)({},overrides),((_c={})[integration]={},_c))}),{});return Object.entries(cdnSettings.integrations).reduce((function(integrationSettings,_a){var _b,integration=_a[0],settings=_a[1];return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)({},integrationSettings),((_b={})[integration]=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)({},settings),optionOverrides[integration]),_b))}),{})}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/p-while.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>pWhile});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),pWhile=function(condition,action){return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.sH)(void 0,void 0,void 0,(function(){var loop;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.YH)(this,(function(_a){return loop=function(actionResult){return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.sH)(void 0,void 0,void 0,(function(){var _a;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.YH)(this,(function(_b){switch(_b.label){case 0:return condition(actionResult)?(_a=loop,[4,action()]):[3,2];case 1:return[2,_a.apply(void 0,[_b.sent()])];case 2:return[2]}}))}))},[2,loop(void 0)]}))}))}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/parse-cdn.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I2:()=>getCDN,YM:()=>getNextIntegrationsURL,qQ:()=>setGlobalCDNUrl});var _globalCDN,_global_analytics_helper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/global-analytics-helper.js"),analyticsScriptRegex=/(https:\/\/.*)\/analytics\.js\/v1\/(?:.*?)\/(?:platform|analytics.*)?/,setGlobalCDNUrl=function(cdn){var globalAnalytics=(0,_global_analytics_helper__WEBPACK_IMPORTED_MODULE_0__.kJ)();globalAnalytics&&(globalAnalytics._cdn=cdn),_globalCDN=cdn},getCDN=function(){var _a,globalCdnUrl=null!=_globalCDN?_globalCDN:null===(_a=(0,_global_analytics_helper__WEBPACK_IMPORTED_MODULE_0__.kJ)())||void 0===_a?void 0:_a._cdn;if(globalCdnUrl)return globalCdnUrl;var cdn,cdnFromScriptTag=(Array.prototype.slice.call(document.querySelectorAll("script")).forEach((function(s){var _a,src=null!==(_a=s.getAttribute("src"))&&void 0!==_a?_a:"",result=analyticsScriptRegex.exec(src);result&&result[1]&&(cdn=result[1])})),cdn);return cdnFromScriptTag||"https://cdn.segment.com"},getNextIntegrationsURL=function(){var cdn=getCDN();return"".concat(cdn,"/next-integrations")}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/priority-queue/persisted.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>PersistedPriorityQueue});var tslib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),___WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/priority-queue/index.js"),_core_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/context/index.js"),_core_environment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/environment/index.js"),loc={getItem:function(){},setItem:function(){},removeItem:function(){}};try{loc=(0,_core_environment__WEBPACK_IMPORTED_MODULE_0__.B)()&&window.localStorage?window.localStorage:loc}catch(err){console.warn("Unable to access localStorage",err)}function persisted(key){var items=loc.getItem(key);return(items?JSON.parse(items):[]).map((function(p){return new _core_context__WEBPACK_IMPORTED_MODULE_1__.o(p.event,p.id)}))}function seen(key){var stored=loc.getItem(key);return stored?JSON.parse(stored):{}}function remove(key){loc.removeItem(key)}function mutex(key,onUnlock,attempt){void 0===attempt&&(attempt=0);var lockKey="persisted-queue:v1:".concat(key,":lock"),rawLock=loc.getItem(lockKey),lock=rawLock?JSON.parse(rawLock):null,allowed=null===lock||function(lock){return(new Date).getTime()>lock}(lock);if(allowed)return loc.setItem(lockKey,JSON.stringify((new Date).getTime()+50)),onUnlock(),void loc.removeItem(lockKey);!allowed&&attempt<3?setTimeout((function(){mutex(key,onUnlock,attempt+1)}),50):console.error("Unable to retrieve lock")}var PersistedPriorityQueue=function(_super){function PersistedPriorityQueue(maxAttempts,key){var _this=_super.call(this,maxAttempts,[])||this,itemsKey="persisted-queue:v1:".concat(key,":items"),seenKey="persisted-queue:v1:".concat(key,":seen"),saved=[],lastSeen={};return mutex(key,(function(){try{saved=persisted(itemsKey),lastSeen=seen(seenKey),remove(itemsKey),remove(seenKey),_this.queue=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.fX)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.fX)([],saved,!0),_this.queue,!0),_this.seen=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({},lastSeen),_this.seen)}catch(err){console.error(err)}})),window.addEventListener("pagehide",(function(){if(_this.todo>0){var items_1=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.fX)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.fX)([],_this.queue,!0),_this.future,!0);try{mutex(key,(function(){!function persistItems(key,items){var existing=persisted(key),merged=(0,tslib__WEBPACK_IMPORTED_MODULE_2__.fX)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.fX)([],items,!0),existing,!0).reduce((function(acc,item){var _a;return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({},acc),((_a={})[item.id]=item,_a))}),{});loc.setItem(key,JSON.stringify(Object.values(merged)))}(itemsKey,items_1),function persistSeen(key,memory){var stored=seen(key);loc.setItem(key,JSON.stringify((0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_2__.Cl)({},stored),memory)))}(seenKey,_this.seen)}))}catch(err){console.error(err)}}})),_this}return(0,tslib__WEBPACK_IMPORTED_MODULE_2__.C6)(PersistedPriorityQueue,_super),PersistedPriorityQueue}(___WEBPACK_IMPORTED_MODULE_3__.M)},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/to-facade.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>toFacade});var _segment_facade__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/index.js");function toFacade(evt,options){var fcd=new _segment_facade__WEBPACK_IMPORTED_MODULE_0__.Facade(evt,options);return"track"===evt.type&&(fcd=new _segment_facade__WEBPACK_IMPORTED_MODULE_0__.Track(evt,options)),"identify"===evt.type&&(fcd=new _segment_facade__WEBPACK_IMPORTED_MODULE_0__.Identify(evt,options)),"page"===evt.type&&(fcd=new _segment_facade__WEBPACK_IMPORTED_MODULE_0__.Page(evt,options)),"alias"===evt.type&&(fcd=new _segment_facade__WEBPACK_IMPORTED_MODULE_0__.Alias(evt,options)),"group"===evt.type&&(fcd=new _segment_facade__WEBPACK_IMPORTED_MODULE_0__.Group(evt,options)),"screen"===evt.type&&(fcd=new _segment_facade__WEBPACK_IMPORTED_MODULE_0__.Screen(evt,options)),Object.defineProperty(fcd,"obj",{value:evt,writable:!0}),fcd}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/version-type.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>getVersionType});var _version="npm";function getVersionType(){return _version}},"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/plugins/middleware/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{applyDestinationMiddleware:()=>applyDestinationMiddleware,sourceMiddlewarePlugin:()=>sourceMiddlewarePlugin});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),_core_context__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/context/index.js"),_lib_to_facade__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/lib/to-facade.js");function applyDestinationMiddleware(destination,evt,middleware){return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.sH)(this,void 0,void 0,(function(){function applyMiddleware(event,fn){return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.sH)(this,void 0,void 0,(function(){var nextCalled,returnedEvent,_a;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.YH)(this,(function(_b){switch(_b.label){case 0:return nextCalled=!1,returnedEvent=null,[4,fn({payload:(0,_lib_to_facade__WEBPACK_IMPORTED_MODULE_1__.W)(event,{clone:!0,traverse:!1}),integration:destination,next:function(evt){nextCalled=!0,null===evt&&(returnedEvent=null),evt&&(returnedEvent=evt.obj)}})];case 1:return _b.sent(),nextCalled||null===returnedEvent||(returnedEvent.integrations=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cl)({},event.integrations),((_a={})[destination]=!1,_a))),[2,returnedEvent]}}))}))}var modifiedEvent,_i,middleware_1,md,result;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.YH)(this,(function(_a){switch(_a.label){case 0:modifiedEvent=(0,_lib_to_facade__WEBPACK_IMPORTED_MODULE_1__.W)(evt,{clone:!0,traverse:!1}).rawEvent(),_i=0,middleware_1=middleware,_a.label=1;case 1:return _i<middleware_1.length?(md=middleware_1[_i],[4,applyMiddleware(modifiedEvent,md)]):[3,4];case 2:if(null===(result=_a.sent()))return[2,null];modifiedEvent=result,_a.label=3;case 3:return _i++,[3,1];case 4:return[2,modifiedEvent]}}))}))}function sourceMiddlewarePlugin(fn,integrations){function apply(ctx){return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.sH)(this,void 0,void 0,(function(){var nextCalled;return(0,tslib__WEBPACK_IMPORTED_MODULE_0__.YH)(this,(function(_a){switch(_a.label){case 0:return nextCalled=!1,[4,fn({payload:(0,_lib_to_facade__WEBPACK_IMPORTED_MODULE_1__.W)(ctx.event,{clone:!0,traverse:!1}),integrations:null!=integrations?integrations:{},next:function(evt){nextCalled=!0,evt&&(ctx.event=evt.obj)}})];case 1:if(_a.sent(),!nextCalled)throw new _core_context__WEBPACK_IMPORTED_MODULE_2__.d({retry:!1,type:"middleware_cancellation",reason:"Middleware `next` function skipped"});return[2,ctx]}}))}))}return{name:"Source Middleware ".concat(fn.name),type:"before",version:"0.1.0",isLoaded:function(){return!0},load:function(ctx){return Promise.resolve(ctx)},track:apply,page:apply,identify:apply,alias:apply,group:apply}}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/address.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var obj_case_1=__importDefault(__webpack_require__("./node_modules/.pnpm/obj-case@0.2.1/node_modules/obj-case/index.js"));function trait(a,b){return function(){var traits=this.traits(),props=this.properties?this.properties():{};return obj_case_1.default(traits,"address."+a)||obj_case_1.default(traits,a)||(b?obj_case_1.default(traits,"address."+b):null)||(b?obj_case_1.default(traits,b):null)||obj_case_1.default(props,"address."+a)||obj_case_1.default(props,a)||(b?obj_case_1.default(props,"address."+b):null)||(b?obj_case_1.default(props,b):null)}}exports.default=function default_1(proto){proto.zip=trait("postalCode","zip"),proto.country=trait("country"),proto.street=trait("street"),proto.state=trait("state"),proto.city=trait("city"),proto.region=trait("region")}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/alias.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Alias=void 0;var inherits_1=__importDefault(__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")),facade_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/facade.js");function Alias(dictionary,opts){facade_1.Facade.call(this,dictionary,opts)}exports.Alias=Alias,inherits_1.default(Alias,facade_1.Facade),Alias.prototype.action=function(){return"alias"},Alias.prototype.type=Alias.prototype.action,Alias.prototype.previousId=function(){return this.field("previousId")||this.field("from")},Alias.prototype.from=Alias.prototype.previousId,Alias.prototype.userId=function(){return this.field("userId")||this.field("to")},Alias.prototype.to=Alias.prototype.userId},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/clone.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clone=void 0,exports.clone=function clone(properties){if("object"!=typeof properties)return properties;if("[object Object]"===Object.prototype.toString.call(properties)){var temp={};for(var key in properties)Object.prototype.hasOwnProperty.call(properties,key)&&(temp[key]=clone(properties[key]));return temp}return Array.isArray(properties)?properties.map(clone):properties}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/delete.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Delete=void 0;var inherits_1=__importDefault(__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")),facade_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/facade.js");function Delete(dictionary,opts){facade_1.Facade.call(this,dictionary,opts)}exports.Delete=Delete,inherits_1.default(Delete,facade_1.Facade),Delete.prototype.type=function(){return"delete"}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/facade.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Facade=void 0;var address_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/address.js")),clone_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/clone.js"),is_enabled_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/is-enabled.js")),new_date_1=__importDefault(__webpack_require__("./node_modules/.pnpm/new-date@1.0.3/node_modules/new-date/lib/index.js")),obj_case_1=__importDefault(__webpack_require__("./node_modules/.pnpm/obj-case@0.2.1/node_modules/obj-case/index.js")),isodate_traverse_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@segment+isodate-traverse@1.1.1/node_modules/@segment/isodate-traverse/lib/index.js"));function Facade(obj,opts){opts=opts||{},this.raw=clone_1.clone(obj),"clone"in opts||(opts.clone=!0),opts.clone&&(obj=clone_1.clone(obj)),"traverse"in opts||(opts.traverse=!0),obj.timestamp="timestamp"in obj?new_date_1.default(obj.timestamp):new Date,opts.traverse&&isodate_traverse_1.default(obj),this.opts=opts,this.obj=obj}exports.Facade=Facade;var f=Facade.prototype;function transform(obj){return clone_1.clone(obj)}f.proxy=function(field){var fields=field.split("."),obj=this[field=fields.shift()]||this.obj[field];return obj?("function"==typeof obj&&(obj=obj.call(this)||{}),0===fields.length||(obj=obj_case_1.default(obj,fields.join("."))),this.opts.clone?transform(obj):obj):obj},f.field=function(field){var obj=this.obj[field];return this.opts.clone?transform(obj):obj},Facade.proxy=function(field){return function(){return this.proxy(field)}},Facade.field=function(field){return function(){return this.field(field)}},Facade.multi=function(path){return function(){var multi=this.proxy(path+"s");if(Array.isArray(multi))return multi;var one=this.proxy(path);return one&&(one=[this.opts.clone?clone_1.clone(one):one]),one||[]}},Facade.one=function(path){return function(){var one=this.proxy(path);if(one)return one;var multi=this.proxy(path+"s");return Array.isArray(multi)?multi[0]:void 0}},f.json=function(){var ret=this.opts.clone?clone_1.clone(this.obj):this.obj;return this.type&&(ret.type=this.type()),ret},f.rawEvent=function(){return this.raw},f.options=function(integration){var obj=this.obj.options||this.obj.context||{},options=this.opts.clone?clone_1.clone(obj):obj;if(!integration)return options;if(this.enabled(integration)){var integrations=this.integrations(),value=integrations[integration]||obj_case_1.default(integrations,integration);return"object"!=typeof value&&(value=obj_case_1.default(this.options(),integration)),"object"==typeof value?value:{}}},f.context=f.options,f.enabled=function(integration){var allEnabled=this.proxy("options.providers.all");"boolean"!=typeof allEnabled&&(allEnabled=this.proxy("options.all")),"boolean"!=typeof allEnabled&&(allEnabled=this.proxy("integrations.all")),"boolean"!=typeof allEnabled&&(allEnabled=!0);var enabled=allEnabled&&is_enabled_1.default(integration),options=this.integrations();if(options.providers&&options.providers.hasOwnProperty(integration)&&(enabled=options.providers[integration]),options.hasOwnProperty(integration)){var settings=options[integration];enabled="boolean"!=typeof settings||settings}return!!enabled},f.integrations=function(){return this.obj.integrations||this.proxy("options.providers")||this.options()},f.active=function(){var active=this.proxy("options.active");return null==active&&(active=!0),active},f.anonymousId=function(){return this.field("anonymousId")||this.field("sessionId")},f.sessionId=f.anonymousId,f.groupId=Facade.proxy("options.groupId"),f.traits=function(aliases){var ret=this.proxy("options.traits")||{},id=this.userId();for(var alias in aliases=aliases||{},id&&(ret.id=id),aliases)if(Object.prototype.hasOwnProperty.call(aliases,alias)){var value=null==this[alias]?this.proxy("options.traits."+alias):this[alias]();if(null==value)continue;ret[aliases[alias]]=value,delete ret[alias]}return ret},f.library=function(){var library=this.proxy("options.library");return library?"string"==typeof library?{name:library,version:null}:library:{name:"unknown",version:null}},f.device=function(){var device=this.proxy("context.device");"object"==typeof device&&null!==device||(device={});var library=this.library().name;return device.type||(library.indexOf("ios")>-1&&(device.type="ios"),library.indexOf("android")>-1&&(device.type="android")),device},f.userAgent=Facade.proxy("context.userAgent"),f.timezone=Facade.proxy("context.timezone"),f.timestamp=Facade.field("timestamp"),f.channel=Facade.field("channel"),f.ip=Facade.proxy("context.ip"),f.userId=Facade.field("userId"),address_1.default(f)},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/group.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Group=void 0;var inherits_1=__importDefault(__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")),is_email_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/is-email.js")),new_date_1=__importDefault(__webpack_require__("./node_modules/.pnpm/new-date@1.0.3/node_modules/new-date/lib/index.js")),facade_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/facade.js");function Group(dictionary,opts){facade_1.Facade.call(this,dictionary,opts)}exports.Group=Group,inherits_1.default(Group,facade_1.Facade);var g=Group.prototype;g.action=function(){return"group"},g.type=g.action,g.groupId=facade_1.Facade.field("groupId"),g.created=function(){var created=this.proxy("traits.createdAt")||this.proxy("traits.created")||this.proxy("properties.createdAt")||this.proxy("properties.created");if(created)return new_date_1.default(created)},g.email=function(){var email=this.proxy("traits.email");if(email)return email;var groupId=this.groupId();return is_email_1.default(groupId)?groupId:void 0},g.traits=function(aliases){var ret=this.properties(),id=this.groupId();for(var alias in aliases=aliases||{},id&&(ret.id=id),aliases)if(Object.prototype.hasOwnProperty.call(aliases,alias)){var value=null==this[alias]?this.proxy("traits."+alias):this[alias]();if(null==value)continue;ret[aliases[alias]]=value,delete ret[alias]}return ret},g.name=facade_1.Facade.proxy("traits.name"),g.industry=facade_1.Facade.proxy("traits.industry"),g.employees=facade_1.Facade.proxy("traits.employees"),g.properties=function(){return this.field("traits")||this.field("properties")||{}}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/identify.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Identify=void 0;var facade_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/facade.js"),obj_case_1=__importDefault(__webpack_require__("./node_modules/.pnpm/obj-case@0.2.1/node_modules/obj-case/index.js")),inherits_1=__importDefault(__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")),is_email_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/is-email.js")),new_date_1=__importDefault(__webpack_require__("./node_modules/.pnpm/new-date@1.0.3/node_modules/new-date/lib/index.js")),trim=function(str){return str.trim()};function Identify(dictionary,opts){facade_1.Facade.call(this,dictionary,opts)}exports.Identify=Identify,inherits_1.default(Identify,facade_1.Facade);var i=Identify.prototype;i.action=function(){return"identify"},i.type=i.action,i.traits=function(aliases){var ret=this.field("traits")||{},id=this.userId();for(var alias in aliases=aliases||{},id&&(ret.id=id),aliases){var value=null==this[alias]?this.proxy("traits."+alias):this[alias]();null!=value&&(ret[aliases[alias]]=value,alias!==aliases[alias]&&delete ret[alias])}return ret},i.email=function(){var email=this.proxy("traits.email");if(email)return email;var userId=this.userId();return is_email_1.default(userId)?userId:void 0},i.created=function(){var created=this.proxy("traits.created")||this.proxy("traits.createdAt");if(created)return new_date_1.default(created)},i.companyCreated=function(){var created=this.proxy("traits.company.created")||this.proxy("traits.company.createdAt");if(created)return new_date_1.default(created)},i.companyName=function(){return this.proxy("traits.company.name")},i.name=function(){var name=this.proxy("traits.name");if("string"==typeof name)return trim(name);var firstName=this.firstName(),lastName=this.lastName();return firstName&&lastName?trim(firstName+" "+lastName):void 0},i.firstName=function(){var firstName=this.proxy("traits.firstName");if("string"==typeof firstName)return trim(firstName);var name=this.proxy("traits.name");return"string"==typeof name?trim(name).split(" ")[0]:void 0},i.lastName=function(){var lastName=this.proxy("traits.lastName");if("string"==typeof lastName)return trim(lastName);var name=this.proxy("traits.name");if("string"==typeof name){var space=trim(name).indexOf(" ");if(-1!==space)return trim(name.substr(space+1))}},i.uid=function(){return this.userId()||this.username()||this.email()},i.description=function(){return this.proxy("traits.description")||this.proxy("traits.background")},i.age=function(){var date=this.birthday(),age=obj_case_1.default(this.traits(),"age");return null!=age?age:date instanceof Date?(new Date).getFullYear()-date.getFullYear():void 0},i.avatar=function(){var traits=this.traits();return obj_case_1.default(traits,"avatar")||obj_case_1.default(traits,"photoUrl")||obj_case_1.default(traits,"avatarUrl")},i.position=function(){var traits=this.traits();return obj_case_1.default(traits,"position")||obj_case_1.default(traits,"jobTitle")},i.username=facade_1.Facade.proxy("traits.username"),i.website=facade_1.Facade.one("traits.website"),i.websites=facade_1.Facade.multi("traits.website"),i.phone=facade_1.Facade.one("traits.phone"),i.phones=facade_1.Facade.multi("traits.phone"),i.address=facade_1.Facade.proxy("traits.address"),i.gender=facade_1.Facade.proxy("traits.gender"),i.birthday=facade_1.Facade.proxy("traits.birthday")},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Delete=exports.Screen=exports.Page=exports.Track=exports.Identify=exports.Group=exports.Alias=exports.Facade=void 0;var facade_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/facade.js");Object.defineProperty(exports,"Facade",{enumerable:!0,get:function(){return facade_1.Facade}});var alias_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/alias.js");Object.defineProperty(exports,"Alias",{enumerable:!0,get:function(){return alias_1.Alias}});var group_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/group.js");Object.defineProperty(exports,"Group",{enumerable:!0,get:function(){return group_1.Group}});var identify_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/identify.js");Object.defineProperty(exports,"Identify",{enumerable:!0,get:function(){return identify_1.Identify}});var track_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/track.js");Object.defineProperty(exports,"Track",{enumerable:!0,get:function(){return track_1.Track}});var page_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/page.js");Object.defineProperty(exports,"Page",{enumerable:!0,get:function(){return page_1.Page}});var screen_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/screen.js");Object.defineProperty(exports,"Screen",{enumerable:!0,get:function(){return screen_1.Screen}});var delete_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/delete.js");Object.defineProperty(exports,"Delete",{enumerable:!0,get:function(){return delete_1.Delete}}),exports.default=__assign(__assign({},facade_1.Facade),{Alias:alias_1.Alias,Group:group_1.Group,Identify:identify_1.Identify,Track:track_1.Track,Page:page_1.Page,Screen:screen_1.Screen,Delete:delete_1.Delete})},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/is-email.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var matcher=/.+\@.+\..+/;exports.default=function isEmail(string){return matcher.test(string)}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/is-enabled.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var disabled={Salesforce:!0};exports.default=function default_1(integration){return!disabled[integration]}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/page.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Page=void 0;var inherits_1=__importDefault(__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")),facade_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/facade.js"),track_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/track.js"),is_email_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/is-email.js"));function Page(dictionary,opts){facade_1.Facade.call(this,dictionary,opts)}exports.Page=Page,inherits_1.default(Page,facade_1.Facade);var p=Page.prototype;p.action=function(){return"page"},p.type=p.action,p.category=facade_1.Facade.field("category"),p.name=facade_1.Facade.field("name"),p.title=facade_1.Facade.proxy("properties.title"),p.path=facade_1.Facade.proxy("properties.path"),p.url=facade_1.Facade.proxy("properties.url"),p.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},p.properties=function(aliases){var props=this.field("properties")||{},category=this.category(),name=this.name();for(var alias in aliases=aliases||{},category&&(props.category=category),name&&(props.name=name),aliases)if(Object.prototype.hasOwnProperty.call(aliases,alias)){var value=null==this[alias]?this.proxy("properties."+alias):this[alias]();if(null==value)continue;props[aliases[alias]]=value,alias!==aliases[alias]&&delete props[alias]}return props},p.email=function(){var email=this.proxy("context.traits.email")||this.proxy("properties.email");if(email)return email;var userId=this.userId();return is_email_1.default(userId)?userId:void 0},p.fullName=function(){var category=this.category(),name=this.name();return name&&category?category+" "+name:name},p.event=function(name){return name?"Viewed "+name+" Page":"Loaded a Page"},p.track=function(name){var json=this.json();return json.event=this.event(name),json.timestamp=this.timestamp(),json.properties=this.properties(),new track_1.Track(json,this.opts)}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/screen.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Screen=void 0;var inherits_1=__importDefault(__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")),page_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/page.js"),track_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/track.js");function Screen(dictionary,opts){page_1.Page.call(this,dictionary,opts)}exports.Screen=Screen,inherits_1.default(Screen,page_1.Page),Screen.prototype.action=function(){return"screen"},Screen.prototype.type=Screen.prototype.action,Screen.prototype.event=function(name){return name?"Viewed "+name+" Screen":"Loaded a Screen"},Screen.prototype.track=function(name){var json=this.json();return json.event=this.event(name),json.timestamp=this.timestamp(),json.properties=this.properties(),new track_1.Track(json,this.opts)}},"./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/track.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Track=void 0;var inherits_1=__importDefault(__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")),facade_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/facade.js"),identify_1=__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/identify.js"),is_email_1=__importDefault(__webpack_require__("./node_modules/.pnpm/@segment+facade@3.4.10/node_modules/@segment/facade/dist/is-email.js")),obj_case_1=__importDefault(__webpack_require__("./node_modules/.pnpm/obj-case@0.2.1/node_modules/obj-case/index.js"));function Track(dictionary,opts){facade_1.Facade.call(this,dictionary,opts)}exports.Track=Track,inherits_1.default(Track,facade_1.Facade);var t=Track.prototype;t.action=function(){return"track"},t.type=t.action,t.event=facade_1.Facade.field("event"),t.value=facade_1.Facade.proxy("properties.value"),t.category=facade_1.Facade.proxy("properties.category"),t.id=facade_1.Facade.proxy("properties.id"),t.productId=function(){return this.proxy("properties.product_id")||this.proxy("properties.productId")},t.promotionId=function(){return this.proxy("properties.promotion_id")||this.proxy("properties.promotionId")},t.cartId=function(){return this.proxy("properties.cart_id")||this.proxy("properties.cartId")},t.checkoutId=function(){return this.proxy("properties.checkout_id")||this.proxy("properties.checkoutId")},t.paymentId=function(){return this.proxy("properties.payment_id")||this.proxy("properties.paymentId")},t.couponId=function(){return this.proxy("properties.coupon_id")||this.proxy("properties.couponId")},t.wishlistId=function(){return this.proxy("properties.wishlist_id")||this.proxy("properties.wishlistId")},t.reviewId=function(){return this.proxy("properties.review_id")||this.proxy("properties.reviewId")},t.orderId=function(){return this.proxy("properties.id")||this.proxy("properties.order_id")||this.proxy("properties.orderId")},t.sku=facade_1.Facade.proxy("properties.sku"),t.tax=facade_1.Facade.proxy("properties.tax"),t.name=facade_1.Facade.proxy("properties.name"),t.price=facade_1.Facade.proxy("properties.price"),t.total=facade_1.Facade.proxy("properties.total"),t.repeat=facade_1.Facade.proxy("properties.repeat"),t.coupon=facade_1.Facade.proxy("properties.coupon"),t.shipping=facade_1.Facade.proxy("properties.shipping"),t.discount=facade_1.Facade.proxy("properties.discount"),t.shippingMethod=function(){return this.proxy("properties.shipping_method")||this.proxy("properties.shippingMethod")},t.paymentMethod=function(){return this.proxy("properties.payment_method")||this.proxy("properties.paymentMethod")},t.description=facade_1.Facade.proxy("properties.description"),t.plan=facade_1.Facade.proxy("properties.plan"),t.subtotal=function(){var subtotal=obj_case_1.default(this.properties(),"subtotal"),total=this.total()||this.revenue();if(subtotal)return subtotal;if(!total)return 0;if(this.total()){var n=this.tax();n&&(total-=n),(n=this.shipping())&&(total-=n),(n=this.discount())&&(total+=n)}return total},t.products=function(){var props=this.properties(),products=obj_case_1.default(props,"products");return Array.isArray(products)?products.filter((function(item){return null!==item})):[]},t.quantity=function(){return(this.obj.properties||{}).quantity||1},t.currency=function(){return(this.obj.properties||{}).currency||"USD"},t.referrer=function(){return this.proxy("context.referrer.url")||this.proxy("context.page.referrer")||this.proxy("properties.referrer")},t.query=facade_1.Facade.proxy("options.query"),t.properties=function(aliases){var ret=this.field("properties")||{};for(var alias in aliases=aliases||{})if(Object.prototype.hasOwnProperty.call(aliases,alias)){var value=null==this[alias]?this.proxy("properties."+alias):this[alias]();if(null==value)continue;ret[aliases[alias]]=value,delete ret[alias]}return ret},t.username=function(){return this.proxy("traits.username")||this.proxy("properties.username")||this.userId()||this.sessionId()},t.email=function(){var email=this.proxy("traits.email")||this.proxy("properties.email")||this.proxy("options.traits.email");if(email)return email;var userId=this.userId();return is_email_1.default(userId)?userId:void 0},t.revenue=function(){var revenue=this.proxy("properties.revenue"),event=this.event();return!revenue&&event&&event.match(/^[ _]?completed[ _]?order[ _]?|^[ _]?order[ _]?completed[ _]?$/i)&&(revenue=this.proxy("properties.total")),function currency(val){if(!val)return;if("number"==typeof val)return val;if("string"!=typeof val)return;if(val=val.replace(/\$/g,""),val=parseFloat(val),!isNaN(val))return val}(revenue)},t.cents=function(){var revenue=this.revenue();return"number"!=typeof revenue?this.value()||0:100*revenue},t.identify=function(){var json=this.json();return json.traits=this.traits(),new identify_1.Identify(json,this.opts)}},"./node_modules/.pnpm/@segment+isodate-traverse@1.1.1/node_modules/@segment/isodate-traverse/lib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isodate=__webpack_require__("./node_modules/.pnpm/@segment+isodate@1.0.3/node_modules/@segment/isodate/lib/index.js");function traverse(input,strict){return void 0===strict&&(strict=!0),input&&"object"==typeof input?function traverseObject(obj,strict){return Object.keys(obj).forEach((function(key){obj[key]=traverse(obj[key],strict)})),obj}(input,strict):Array.isArray(input)?function traverseArray(arr,strict){return arr.forEach((function(value,index){arr[index]=traverse(value,strict)})),arr}(input,strict):isodate.is(input,strict)?isodate.parse(input):input}module.exports=traverse},"./node_modules/.pnpm/@segment+isodate@1.0.3/node_modules/@segment/isodate/lib/index.js":(__unused_webpack_module,exports)=>{"use strict";var matcher=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;exports.parse=function(iso){var numericKeys=[1,5,6,7,11,12],arr=matcher.exec(iso),offset=0;if(!arr)return new Date(iso);for(var val,i=0;val=numericKeys[i];i++)arr[val]=parseInt(arr[val],10)||0;arr[2]=parseInt(arr[2],10)||1,arr[3]=parseInt(arr[3],10)||1,arr[2]--,arr[8]=arr[8]?(arr[8]+"00").substring(0,3):0," "===arr[4]?offset=(new Date).getTimezoneOffset():"Z"!==arr[9]&&arr[10]&&(offset=60*arr[11]+arr[12],"+"===arr[10]&&(offset=0-offset));var millis=Date.UTC(arr[1],arr[2],arr[3],arr[5],arr[6]+offset,arr[7],arr[8]);return new Date(millis)},exports.is=function(string,strict){return"string"==typeof string&&((!strict||!1!==/^\d{4}-\d{2}-\d{2}/.test(string))&&matcher.test(string))}},"./node_modules/.pnpm/@sentry+browser@8.26.0/node_modules/@sentry/browser/build/npm/esm/feedbackSync.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>feedbackSyncIntegration});const SDK_VERSION="8.26.0",GLOBAL_OBJ=globalThis;function getGlobalSingleton(name,creator,obj){const gbl=obj||GLOBAL_OBJ,__SENTRY__=gbl.__SENTRY__=gbl.__SENTRY__||{},versionedCarrier=__SENTRY__[SDK_VERSION]=__SENTRY__[SDK_VERSION]||{};return versionedCarrier[name]||(versionedCarrier[name]=creator())}function carrier_getMainCarrier(){return carrier_getSentryCarrier(GLOBAL_OBJ),GLOBAL_OBJ}function carrier_getSentryCarrier(carrier){const __SENTRY__=carrier.__SENTRY__=carrier.__SENTRY__||{};return __SENTRY__.version=__SENTRY__.version||SDK_VERSION,__SENTRY__[SDK_VERSION]=__SENTRY__[SDK_VERSION]||{}}const objectToString=Object.prototype.toString;function isBuiltin(wat,className){return objectToString.call(wat)===`[object ${className}]`}function isPlainObject(wat){return isBuiltin(wat,"Object")}function misc_uuid4(){const gbl=GLOBAL_OBJ,crypto=gbl.crypto||gbl.msCrypto;let getRandomByte=()=>16*Math.random();try{if(crypto&&crypto.randomUUID)return crypto.randomUUID().replace(/-/g,"");crypto&&crypto.getRandomValues&&(getRandomByte=()=>{const typedArray=new Uint8Array(1);return crypto.getRandomValues(typedArray),typedArray[0]})}catch(_){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(c=>(c^(15&getRandomByte())>>c/4).toString(16)))}function generatePropagationContext(){return{traceId:misc_uuid4(),spanId:misc_uuid4().substring(16)}}const ONE_SECOND_IN_MS=1e3;function dateTimestampInSeconds(){return Date.now()/ONE_SECOND_IN_MS}const time_timestampInSeconds=function createUnixTimestampInSecondsFunc(){const{performance}=GLOBAL_OBJ;if(!performance||!performance.now)return dateTimestampInSeconds;const approxStartingTimeOrigin=Date.now()-performance.now(),timeOrigin=null==performance.timeOrigin?approxStartingTimeOrigin:performance.timeOrigin;return()=>(timeOrigin+performance.now())/ONE_SECOND_IN_MS}();let _browserPerformanceTimeOriginMode;(()=>{const{performance}=GLOBAL_OBJ;if(!performance||!performance.now)return void(_browserPerformanceTimeOriginMode="none");const performanceNow=performance.now(),dateNow=Date.now(),timeOriginDelta=performance.timeOrigin?Math.abs(performance.timeOrigin+performanceNow-dateNow):36e5,timeOriginIsReliable=timeOriginDelta<36e5,navigationStart=performance.timing&&performance.timing.navigationStart,navigationStartDelta="number"==typeof navigationStart?Math.abs(navigationStart+performanceNow-dateNow):36e5;timeOriginIsReliable||navigationStartDelta<36e5?timeOriginDelta<=navigationStartDelta?(_browserPerformanceTimeOriginMode="timeOrigin",performance.timeOrigin):_browserPerformanceTimeOriginMode="navigationStart":_browserPerformanceTimeOriginMode="dateNow"})();const DEBUG_BUILD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,CONSOLE_LEVELS=["debug","info","warn","error","log","assert","trace"],originalConsoleMethods={};const logger=function makeLogger(){let enabled=!1;const logger={enable:()=>{enabled=!0},disable:()=>{enabled=!1},isEnabled:()=>enabled};return DEBUG_BUILD?CONSOLE_LEVELS.forEach((name=>{logger[name]=(...args)=>{enabled&&function consoleSandbox(callback){if(!("console"in GLOBAL_OBJ))return callback();const console=GLOBAL_OBJ.console,wrappedFuncs={},wrappedLevels=Object.keys(originalConsoleMethods);wrappedLevels.forEach((level=>{const originalConsoleMethod=originalConsoleMethods[level];wrappedFuncs[level]=console[level],console[level]=originalConsoleMethod}));try{return callback()}finally{wrappedLevels.forEach((level=>{console[level]=wrappedFuncs[level]}))}}((()=>{GLOBAL_OBJ.console[name](`Sentry Logger [${name}]:`,...args)}))}})):CONSOLE_LEVELS.forEach((name=>{logger[name]=()=>{}})),logger}();function updateSession(session,context={}){if(context.user&&(!session.ipAddress&&context.user.ip_address&&(session.ipAddress=context.user.ip_address),session.did||context.did||(session.did=context.user.id||context.user.email||context.user.username)),session.timestamp=context.timestamp||time_timestampInSeconds(),context.abnormal_mechanism&&(session.abnormal_mechanism=context.abnormal_mechanism),context.ignoreDuration&&(session.ignoreDuration=context.ignoreDuration),context.sid&&(session.sid=32===context.sid.length?context.sid:misc_uuid4()),void 0!==context.init&&(session.init=context.init),!session.did&&context.did&&(session.did=`${context.did}`),"number"==typeof context.started&&(session.started=context.started),session.ignoreDuration)session.duration=void 0;else if("number"==typeof context.duration)session.duration=context.duration;else{const duration=session.timestamp-session.started;session.duration=duration>=0?duration:0}context.release&&(session.release=context.release),context.environment&&(session.environment=context.environment),!session.ipAddress&&context.ipAddress&&(session.ipAddress=context.ipAddress),!session.userAgent&&context.userAgent&&(session.userAgent=context.userAgent),"number"==typeof context.errors&&(session.errors=context.errors),context.status&&(session.status=context.status)}function object_addNonEnumerableProperty(obj,name,value){try{Object.defineProperty(obj,name,{value,writable:!0,configurable:!0})}catch(o_O){DEBUG_BUILD&&logger.log(`Failed to add non-enumerable property "${name}" to object`,obj)}}function object_dropUndefinedKeys(inputValue){return _dropUndefinedKeys(inputValue,new Map)}function _dropUndefinedKeys(inputValue,memoizationMap){if(function isPojo(input){if(!isPlainObject(input))return!1;try{const name=Object.getPrototypeOf(input).constructor.name;return!name||"Object"===name}catch(e){return!0}}(inputValue)){const memoVal=memoizationMap.get(inputValue);if(void 0!==memoVal)return memoVal;const returnValue={};memoizationMap.set(inputValue,returnValue);for(const key of Object.keys(inputValue))void 0!==inputValue[key]&&(returnValue[key]=_dropUndefinedKeys(inputValue[key],memoizationMap));return returnValue}if(Array.isArray(inputValue)){const memoVal=memoizationMap.get(inputValue);if(void 0!==memoVal)return memoVal;const returnValue=[];return memoizationMap.set(inputValue,returnValue),inputValue.forEach((item=>{returnValue.push(_dropUndefinedKeys(item,memoizationMap))})),returnValue}return inputValue}function _setSpanForScope(scope,span){span?object_addNonEnumerableProperty(scope,"_sentrySpan",span):delete scope._sentrySpan}function _getSpanForScope(scope){return scope._sentrySpan}class ScopeClass{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=generatePropagationContext()}clone(){const newScope=new ScopeClass;return newScope._breadcrumbs=[...this._breadcrumbs],newScope._tags={...this._tags},newScope._extra={...this._extra},newScope._contexts={...this._contexts},newScope._user=this._user,newScope._level=this._level,newScope._session=this._session,newScope._transactionName=this._transactionName,newScope._fingerprint=this._fingerprint,newScope._eventProcessors=[...this._eventProcessors],newScope._requestSession=this._requestSession,newScope._attachments=[...this._attachments],newScope._sdkProcessingMetadata={...this._sdkProcessingMetadata},newScope._propagationContext={...this._propagationContext},newScope._client=this._client,newScope._lastEventId=this._lastEventId,_setSpanForScope(newScope,_getSpanForScope(this)),newScope}setClient(client){this._client=client}setLastEventId(lastEventId){this._lastEventId=lastEventId}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(callback){this._scopeListeners.push(callback)}addEventProcessor(callback){return this._eventProcessors.push(callback),this}setUser(user){return this._user=user||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&updateSession(this._session,{user}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(requestSession){return this._requestSession=requestSession,this}setTags(tags){return this._tags={...this._tags,...tags},this._notifyScopeListeners(),this}setTag(key,value){return this._tags={...this._tags,[key]:value},this._notifyScopeListeners(),this}setExtras(extras){return this._extra={...this._extra,...extras},this._notifyScopeListeners(),this}setExtra(key,extra){return this._extra={...this._extra,[key]:extra},this._notifyScopeListeners(),this}setFingerprint(fingerprint){return this._fingerprint=fingerprint,this._notifyScopeListeners(),this}setLevel(level){return this._level=level,this._notifyScopeListeners(),this}setTransactionName(name){return this._transactionName=name,this._notifyScopeListeners(),this}setContext(key,context){return null===context?delete this._contexts[key]:this._contexts[key]=context,this._notifyScopeListeners(),this}setSession(session){return session?this._session=session:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(captureContext){if(!captureContext)return this;const scopeToMerge="function"==typeof captureContext?captureContext(this):captureContext,[scopeInstance,requestSession]=scopeToMerge instanceof Scope?[scopeToMerge.getScopeData(),scopeToMerge.getRequestSession()]:isPlainObject(scopeToMerge)?[captureContext,captureContext.requestSession]:[],{tags,extra,user,contexts,level,fingerprint=[],propagationContext}=scopeInstance||{};return this._tags={...this._tags,...tags},this._extra={...this._extra,...extra},this._contexts={...this._contexts,...contexts},user&&Object.keys(user).length&&(this._user=user),level&&(this._level=level),fingerprint.length&&(this._fingerprint=fingerprint),propagationContext&&(this._propagationContext=propagationContext),requestSession&&(this._requestSession=requestSession),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,_setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=generatePropagationContext(),this._notifyScopeListeners(),this}addBreadcrumb(breadcrumb,maxBreadcrumbs){const maxCrumbs="number"==typeof maxBreadcrumbs?maxBreadcrumbs:100;if(maxCrumbs<=0)return this;const mergedBreadcrumb={timestamp:dateTimestampInSeconds(),...breadcrumb},breadcrumbs=this._breadcrumbs;return breadcrumbs.push(mergedBreadcrumb),this._breadcrumbs=breadcrumbs.length>maxCrumbs?breadcrumbs.slice(-maxCrumbs):breadcrumbs,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(attachment){return this._attachments.push(attachment),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:_getSpanForScope(this)}}setSDKProcessingMetadata(newData){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...newData},this}setPropagationContext(context){return this._propagationContext=context,this}getPropagationContext(){return this._propagationContext}captureException(exception,hint){const eventId=hint&&hint.event_id?hint.event_id:misc_uuid4();if(!this._client)return logger.warn("No client configured on scope - will not capture exception!"),eventId;const syntheticException=new Error("Sentry syntheticException");return this._client.captureException(exception,{originalException:exception,syntheticException,...hint,event_id:eventId},this),eventId}captureMessage(message,level,hint){const eventId=hint&&hint.event_id?hint.event_id:misc_uuid4();if(!this._client)return logger.warn("No client configured on scope - will not capture message!"),eventId;const syntheticException=new Error(message);return this._client.captureMessage(message,level,{originalException:message,syntheticException,...hint,event_id:eventId},this),eventId}captureEvent(event,hint){const eventId=hint&&hint.event_id?hint.event_id:misc_uuid4();return this._client?(this._client.captureEvent(event,{...hint,event_id:eventId},this),eventId):(logger.warn("No client configured on scope - will not capture event!"),eventId)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((callback=>{callback(this)})),this._notifyingListeners=!1)}}const Scope=ScopeClass;class AsyncContextStack{constructor(scope,isolationScope){let assignedScope,assignedIsolationScope;assignedScope=scope||new Scope,assignedIsolationScope=isolationScope||new Scope,this._stack=[{scope:assignedScope}],this._isolationScope=assignedIsolationScope}withScope(callback){const scope=this._pushScope();let maybePromiseResult;try{maybePromiseResult=callback(scope)}catch(e){throw this._popScope(),e}return function isThenable(wat){return Boolean(wat&&wat.then&&"function"==typeof wat.then)}(maybePromiseResult)?maybePromiseResult.then((res=>(this._popScope(),res)),(e=>{throw this._popScope(),e})):(this._popScope(),maybePromiseResult)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const scope=this.getScope().clone();return this._stack.push({client:this.getClient(),scope}),scope}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function getAsyncContextStack(){const sentry=carrier_getSentryCarrier(carrier_getMainCarrier());return sentry.stack=sentry.stack||new AsyncContextStack(function getDefaultCurrentScope(){return getGlobalSingleton("defaultCurrentScope",(()=>new Scope))}(),function getDefaultIsolationScope(){return getGlobalSingleton("defaultIsolationScope",(()=>new Scope))}())}function stackStrategy_withScope(callback){return getAsyncContextStack().withScope(callback)}function withSetScope(scope,callback){const stack=getAsyncContextStack();return stack.withScope((()=>(stack.getStackTop().scope=scope,callback(scope))))}function withIsolationScope(callback){return getAsyncContextStack().withScope((()=>callback(getAsyncContextStack().getIsolationScope())))}function asyncContext_getAsyncContextStrategy(carrier){const sentry=carrier_getSentryCarrier(carrier);return sentry.acs?sentry.acs:function getStackAsyncContextStrategy(){return{withIsolationScope,withScope:stackStrategy_withScope,withSetScope,withSetIsolationScope:(_isolationScope,callback)=>withIsolationScope(callback),getCurrentScope:()=>getAsyncContextStack().getScope(),getIsolationScope:()=>getAsyncContextStack().getIsolationScope()}}()}function getCurrentScope(){return asyncContext_getAsyncContextStrategy(carrier_getMainCarrier()).getCurrentScope()}function currentScopes_getClient(){return getCurrentScope().getClient()}const WINDOW=GLOBAL_OBJ;function getLocationHref(){try{return WINDOW.document.location.href}catch(oO){return""}}var node=__webpack_require__("./node_modules/.pnpm/@sentry+utils@8.26.0/node_modules/@sentry/utils/build/esm/node.js");function isBrowser(){return"undefined"!=typeof window&&(!(0,node.wD)()||function isElectronNodeRenderer(){return void 0!==GLOBAL_OBJ.process&&"renderer"===GLOBAL_OBJ.process.type}())}const esm_WINDOW=GLOBAL_OBJ,DOCUMENT=esm_WINDOW.document,NAVIGATOR=esm_WINDOW.navigator,FEEDBACK_WIDGET_SOURCE="widget",sendFeedback=(params,hint={includeReplay:!0})=>{if(!params.message)throw new Error("Unable to submit feedback with empty message");const client=currentScopes_getClient();if(!client)throw new Error("No client setup, cannot send feedback.");params.tags&&Object.keys(params.tags).length&&getCurrentScope().setTags(params.tags);const eventId=function captureFeedback(params,hint={},scope=getCurrentScope()){const{message,name,email,url,source,associatedEventId,tags}=params,feedbackEvent={contexts:{feedback:object_dropUndefinedKeys({contact_email:email,name,message,url,source,associated_event_id:associatedEventId})},type:"feedback",level:"info",tags},client=scope&&scope.getClient()||currentScopes_getClient();return client&&client.emit("beforeSendFeedback",feedbackEvent,hint),scope.captureEvent(feedbackEvent,hint)}({source:"api",url:getLocationHref(),...params},hint);return new Promise(((resolve,reject)=>{const timeout=setTimeout((()=>reject("Unable to determine if Feedback was correctly sent.")),5e3),cleanup=client.on("afterSendEvent",((event,response)=>{if(event.event_id===eventId)return clearTimeout(timeout),cleanup(),response&&"number"==typeof response.statusCode&&response.statusCode>=200&&response.statusCode<300&&resolve(eventId),response&&"number"==typeof response.statusCode&&0===response.statusCode?reject("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):reject("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")}))}))},esm_DEBUG_BUILD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function mergeOptions(defaultOptions,optionOverrides){return{...defaultOptions,...optionOverrides,tags:{...defaultOptions.tags,...optionOverrides.tags},onFormOpen:()=>{optionOverrides.onFormOpen&&optionOverrides.onFormOpen(),defaultOptions.onFormOpen&&defaultOptions.onFormOpen()},onFormClose:()=>{optionOverrides.onFormClose&&optionOverrides.onFormClose(),defaultOptions.onFormClose&&defaultOptions.onFormClose()},onSubmitSuccess:data=>{optionOverrides.onSubmitSuccess&&optionOverrides.onSubmitSuccess(data),defaultOptions.onSubmitSuccess&&defaultOptions.onSubmitSuccess(data)},onSubmitError:error=>{optionOverrides.onSubmitError&&optionOverrides.onSubmitError(error),defaultOptions.onSubmitError&&defaultOptions.onSubmitError(error)},onFormSubmitted:()=>{optionOverrides.onFormSubmitted&&optionOverrides.onFormSubmitted(),defaultOptions.onFormSubmitted&&defaultOptions.onFormSubmitted()},themeDark:{...defaultOptions.themeDark,...optionOverrides.themeDark},themeLight:{...defaultOptions.themeLight,...optionOverrides.themeLight}}}function setAttributesNS(el,attributes){return Object.entries(attributes).forEach((([key,val])=>{el.setAttributeNS(null,key,val)})),el}const SIZE=20,XMLNS$2="http://www.w3.org/2000/svg";function Actor({triggerLabel,triggerAriaLabel,shadow}){const el=DOCUMENT.createElement("button");if(el.type="button",el.className="widget__actor",el.ariaHidden="false",el.ariaLabel=triggerAriaLabel||triggerLabel||"Report a Bug",el.appendChild(function FeedbackIcon(){const createElementNS=tagName=>esm_WINDOW.document.createElementNS(XMLNS$2,tagName),svg=setAttributesNS(createElementNS("svg"),{width:`${SIZE}`,height:`${SIZE}`,viewBox:`0 0 ${SIZE} ${SIZE}`,fill:"var(--foreground)"}),g=setAttributesNS(createElementNS("g"),{clipPath:"url(#clip0_57_80)"}),path=setAttributesNS(createElementNS("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});svg.appendChild(g).appendChild(path);const speakerDefs=createElementNS("defs"),speakerClipPathDef=setAttributesNS(createElementNS("clipPath"),{id:"clip0_57_80"}),speakerRect=setAttributesNS(createElementNS("rect"),{width:`${SIZE}`,height:`${SIZE}`,fill:"white"});return speakerClipPathDef.appendChild(speakerRect),speakerDefs.appendChild(speakerClipPathDef),svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect),svg}()),triggerLabel){const label=DOCUMENT.createElement("span");label.appendChild(DOCUMENT.createTextNode(triggerLabel)),el.appendChild(label)}const style=function createActorStyles(){const style=DOCUMENT.createElement("style");return style.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',style}();return{el,appendToDom(){shadow.appendChild(style),shadow.appendChild(el)},removeFromDom(){shadow.removeChild(el),shadow.removeChild(style)},show(){el.ariaHidden="false"},hide(){el.ariaHidden="true"}}}const PURPLE="rgba(88, 74, 192, 1)",DEFAULT_LIGHT={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:PURPLE,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},DEFAULT_DARK={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:PURPLE,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function getThemedCssVariables(theme){return`\n  --foreground: ${theme.foreground};\n  --background: ${theme.background};\n  --accent-foreground: ${theme.accentForeground};\n  --accent-background: ${theme.accentBackground};\n  --success-color: ${theme.successColor};\n  --error-color: ${theme.errorColor};\n  --border: ${theme.border};\n  --box-shadow: ${theme.boxShadow};\n  --outline: ${theme.outline};\n  --interactive-filter: ${theme.interactiveFilter};\n  `}var n,l$1,u$1,i$1,o$1,r$1,f$1,c$1={},s$1=[],a$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h$1=Array.isArray;function v$1(n,l){for(var u in l)n[u]=l[u];return n}function p$1(n){var l=n.parentNode;l&&l.removeChild(n)}function y$1(l,u,t){var i,o,r,f={};for(r in u)"key"==r?i=u[r]:"ref"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),"function"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d$1(l,f,i,o,null)}function d$1(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u$1:r,__i:-1,__u:0};return null==r&&null!=l$1.vnode&&l$1.vnode(f),f}function g$1(n){return n.children}function b$1(n,l){this.props=n,this.context=l}function m$1(n,l){if(null==l)return n.__?m$1(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?m$1(n):null}function w$1(n,u,t){var i,o=n.__v,r=o.__e,f=n.__P;if(f)return(i=v$1({},o)).__v=o.__v+1,l$1.vnode&&l$1.vnode(i),M(f,i,o,n.__n,void 0!==f.ownerSVGElement,32&o.__u?[r]:null,u,null==r?m$1(o):r,!!(32&o.__u),t),i.__.__k[i.__i]=i,i.__d=void 0,i.__e!=r&&k$1(i),i}function k$1(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k$1(n)}}function x$1(n){(!n.__d&&(n.__d=!0)&&i$1.push(n)&&!C$1.__r++||o$1!==l$1.debounceRendering)&&((o$1=l$1.debounceRendering)||r$1)(C$1)}function C$1(){var n,u,t,o=[],r=[];for(i$1.sort(f$1);n=i$1.shift();)n.__d&&(t=i$1.length,u=w$1(n,o,r)||u,0===t||i$1.length>t?(j$1(o,u,r),r.length=o.length=0,u=void 0,i$1.sort(f$1)):u&&l$1.__c&&l$1.__c(u,s$1));u&&j$1(o,u,r),C$1.__r=0}function P$1(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s$1,b=l.length;for(u.__d=e,function S(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?d$1(null,i,null,null,i):h$1(i)?d$1(g$1,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d$1(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=I(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,"function"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m$1(o)),O(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&!(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m$1(o)),O(o,o))}(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&"boolean"!=typeof y&&"function"!=typeof y&&(p=-1===y.__i?c$1:g[y.__i]||c$1,y.__i=v,M(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&N(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=$(y,e,n):"function"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function $(n,l,u){var t,i;if("function"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=$(t[i],l,u));return l}n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8===l.nodeType);return l}function I(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null==e||131072&e.__u?0:1))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&!(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&!(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function T$1(n,l,u){"-"===l[0]?n.setProperty(l,null==u?"":u):n[l]=null==u?"":"number"!=typeof u||a$1.test(l)?u:u+"px"}function A$1(n,l,u,t,i){var o;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof t&&(n.style.cssText=t=""),t)for(l in t)u&&l in u||T$1(n.style,l,"");if(u)for(l in u)t&&u[l]===t[l]||T$1(n.style,l,u[l])}else if("o"===l[0]&&"n"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/i,"$1")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?L:D$1,o)):n.removeEventListener(l,o?L:D$1,o);else{if(i)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==l&&"height"!==l&&"href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&"rowSpan"!==l&&"colSpan"!==l&&"role"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null==u||!1===u&&"-"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function D$1(n){if(this.l){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l$1.event?l$1.event(n):n)}}function L(n){if(this.l)return this.l[n.type+!0](l$1.event?l$1.event(n):n)}function M(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,w,k,x,C,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l$1.__b)&&a(u);n:if("function"==typeof A)try{if(k=u.props,x=(a=A.contextType)&&i[a.__c],C=a?x?x.props.value:a.__:i,t.__c?w=(p=u.__c=t.__c).__=p.__E:("prototype"in A&&A.prototype.render?u.__c=p=new A(k,C):(u.__c=p=new b$1(k,C),p.constructor=A,p.render=q$1),x&&x.sub(p),p.props=k,p.state||(p.state={}),p.context=C,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v$1({},p.__s)),v$1(p.__s,A.getDerivedStateFromProps(k,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&k!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(k,C),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(k,p.__s,C)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=k,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach((function(n){n&&(n.__=u)})),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(k,p.__s,C),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(d,_,m)}))}if(p.context=C,p.props=k,p.__P=n,p.__e=!1,$=l$1.__r,H=0,"prototype"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v$1(v$1({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),P$1(n,h$1(T=null!=a&&a.type===g$1&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),w&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l$1.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=z$1(t.__e,u,t,i,o,r,f,c,s);(a=l$1.diffed)&&a(u)}function j$1(n,u,t){for(var i=0;i<t.length;i++)N(t[i],t[++i],t[++i]);l$1.__c&&l$1.__c(u,n),n.some((function(u){try{n=u.__h,u.__h=[],n.some((function(n){n.call(u)}))}catch(n){l$1.__e(n,u.__v)}}))}function z$1(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,w=t.props,k=u.props,x=u.type;if("svg"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&"setAttribute"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(k);l=o?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,k.is&&k),r=null,e=!1}if(null===x)w===k||e&&l.data===k||(l.data=k);else{if(r=r&&n.call(l.childNodes),w=t.props||c$1,!e&&null!=r)for(w={},a=0;a<l.attributes.length;a++)w[(_=l.attributes[a]).name]=_.value;for(a in w)_=w[a],"children"==a||("dangerouslySetInnerHTML"==a?y=_:"key"===a||a in k||A$1(l,a,null,_,o));for(a in k)_=k[a],"children"==a?d=_:"dangerouslySetInnerHTML"==a?v=_:"value"==a?g=_:"checked"==a?b=_:"key"===a||e&&"function"!=typeof _||w[a]===_||A$1(l,a,_,w[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=""),P$1(l,h$1(d)?d:[d],u,t,i,o&&"foreignObject"!==x,r,f,r?r[0]:t.__k&&m$1(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p$1(r[a]);e||(a="value",void 0!==g&&(g!==l[a]||"progress"===x&&!g||"option"===x&&g!==w[a])&&A$1(l,a,g,w[a],!1),a="checked",void 0!==b&&b!==l[a]&&A$1(l,a,b,w[a],!1))}return l}function N(n,u,t){try{"function"==typeof n?n(u):n.current=u}catch(n){l$1.__e(n,t)}}function O(n,u,t){var i,o;if(l$1.unmount&&l$1.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||N(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l$1.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&O(i[o],u,t||"function"!=typeof n.type);t||null==n.__e||p$1(n.__e),n.__=n.__e=n.__d=void 0}function q$1(n,l,u){return this.constructor(n,u)}n=s$1.slice,l$1={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u$1=0,b$1.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v$1({},this.state),"function"==typeof n&&(n=n(v$1({},u),this.props)),n&&v$1(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),x$1(this))},b$1.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),x$1(this))},b$1.prototype.render=g$1,i$1=[],r$1="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f$1=function(n,l){return n.__v.__b-l.__v.__b},C$1.__r=0;var t,r,u,i,o=0,f=[],c=[],e=l$1,a=e.__b,v=e.__r,l=e.diffed,m=e.__c,s=e.unmount,d=e.__;function h(n,t){e.__h&&e.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({__V:c}),u.__[n]}function p(n){return o=1,y(D,n)}function y(n,u,i){var o=h(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter((function(n){return!!n.__c}));if(u.every((function(n){return!n.__N})))return!c||c.call(this,n,t,r);var i=!1;return u.forEach((function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}})),!(!i&&o.__c.props===n)&&(!c||c.call(this,n,t,r))};r.u=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function A(n,u){var i=h(t++,4);!e.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__h.push(i))}function q(n,r){var u=h(t++,7);return C(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function x(n,t){return o=8,q((function(){return n}),t)}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],e.__e(t,n.__v)}}e.__b=function(n){r=null,a&&a(n)},e.__=function(n,t){t.__k&&t.__k.__m&&(n.__m=t.__k.__m),d&&d(n,t)},e.__r=function(n){v&&v(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach((function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0}))):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},e.diffed=function(n){l&&l(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===e.requestAnimationFrame||((i=e.requestAnimationFrame)||w)(j)),t.__H.__.forEach((function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c}))),u=r=null},e.__c=function(n,t){t.some((function(n){try{n.__h.forEach(z),n.__h=n.__h.filter((function(n){return!n.__||B(n)}))}catch(r){t.some((function(n){n.__h&&(n.__h=[])})),t=[],e.__e(r,n.__v)}})),m&&m(n,t)},e.unmount=function(n){s&&s(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach((function(n){try{z(n)}catch(n){t=n}})),r.__H=void 0,t&&e.__e(t,r.__v))};var k="function"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some((function(t,r){return t!==n[r]}))}function D(n,t){return"function"==typeof t?t(n):t}const hooks={__proto__:null,useCallback:x,useContext:function P(n){var u=r.context[n.__c],i=h(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__},useDebugValue:function V(n,t){e.useDebugValue&&e.useDebugValue(t?t(n):n)},useEffect:function _(n,u){var i=h(t++,3);!e.__s&&C(i.__H,u)&&(i.__=n,i.i=u,r.__H.__h.push(i))},useErrorBoundary:function b(n){var u=h(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]},useId:function g(){var n=h(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__="P"+i[0]+"-"+i[1]++}return n.__},useImperativeHandle:function T(n,t,r){o=6,A((function(){return"function"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0}),null==r?r:r.concat(n))},useLayoutEffect:A,useMemo:q,useReducer:y,useRef:function F(n){return o=5,q((function(){return{current:n}}),[])},useState:p},XMLNS$1="http://www.w3.org/2000/svg";function SentryLogo(){const createElementNS=tagName=>DOCUMENT.createElementNS(XMLNS$1,tagName),svg=setAttributesNS(createElementNS("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),path=setAttributesNS(createElementNS("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return svg.appendChild(path),svg}const _jsxFileName$5="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function DialogHeader({options}){const logoHtml=q((()=>({__html:SentryLogo().outerHTML})),[]);return y$1("h2",{class:"dialog__header",__self:this,__source:{fileName:_jsxFileName$5,lineNumber:16}},options.formTitle,options.showBranding?y$1("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:logoHtml,__self:this,__source:{fileName:_jsxFileName$5,lineNumber:19}}):null)}const _jsxFileName$4="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function retrieveStringValue(formData,key){const value=formData.get(key);return"string"==typeof value?value.trim():""}function Form({options,defaultEmail,defaultName,onFormClose,onSubmit,onSubmitSuccess,onSubmitError,showEmail,showName,screenshotInput}){const{tags,addScreenshotButtonLabel,removeScreenshotButtonLabel,cancelButtonLabel,emailLabel,emailPlaceholder,isEmailRequired,isNameRequired,messageLabel,messagePlaceholder,nameLabel,namePlaceholder,submitButtonLabel,isRequiredLabel}=options,[error,setError]=p(null),[showScreenshotInput,setShowScreenshotInput]=p(!1),ScreenshotInputComponent=screenshotInput&&screenshotInput.input,[screenshotError,setScreenshotError]=p(null),onScreenshotError=x((error=>{setScreenshotError(error),setShowScreenshotInput(!1)}),[]),hasAllRequiredFields=x((data=>{const missingFields=function getMissingFields(feedback,props){const emptyFields=[];return props.isNameRequired&&!feedback.name&&emptyFields.push(props.nameLabel),props.isEmailRequired&&!feedback.email&&emptyFields.push(props.emailLabel),feedback.message||emptyFields.push(props.messageLabel),emptyFields}(data,{emailLabel,isEmailRequired,isNameRequired,messageLabel,nameLabel});return missingFields.length>0?setError(`Please enter in the following required fields: ${missingFields.join(", ")}`):setError(null),0===missingFields.length}),[emailLabel,isEmailRequired,isNameRequired,messageLabel,nameLabel]),handleSubmit=x((async e=>{try{if(e.preventDefault(),!(e.target instanceof HTMLFormElement))return;const formData=new FormData(e.target),attachment=await(screenshotInput&&showScreenshotInput?screenshotInput.value():void 0),data={name:retrieveStringValue(formData,"name"),email:retrieveStringValue(formData,"email"),message:retrieveStringValue(formData,"message"),attachments:attachment?[attachment]:void 0};if(!hasAllRequiredFields(data))return;try{await onSubmit({name:data.name,email:data.email,message:data.message,source:FEEDBACK_WIDGET_SOURCE,tags},{attachments:data.attachments}),onSubmitSuccess(data)}catch(error){esm_DEBUG_BUILD&&logger.error(error),setError(error),onSubmitError(error)}}catch(e2){}}),[screenshotInput&&showScreenshotInput,onSubmitSuccess,onSubmitError]);return y$1("form",{class:"form",onSubmit:handleSubmit,__self:this,__source:{fileName:_jsxFileName$4,lineNumber:144}},ScreenshotInputComponent&&showScreenshotInput?y$1(ScreenshotInputComponent,{onError:onScreenshotError,__self:this,__source:{fileName:_jsxFileName$4,lineNumber:146}}):null,y$1("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:_jsxFileName$4,lineNumber:149}},y$1("div",{class:"form__top",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:150}},error?y$1("div",{class:"form__error-container",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:151}},error):null,showName?y$1("label",{for:"name",class:"form__label",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:154}},y$1(LabelText,{label:nameLabel,isRequiredLabel,isRequired:isNameRequired,__self:this,__source:{fileName:_jsxFileName$4,lineNumber:155}}),y$1("input",{class:"form__input",defaultValue:defaultName,id:"name",name:"name",placeholder:namePlaceholder,required:isNameRequired,type:"text",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:156}})):y$1("input",{"aria-hidden":!0,value:defaultName,name:"name",type:"hidden",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:167}}),showEmail?y$1("label",{for:"email",class:"form__label",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:171}},y$1(LabelText,{label:emailLabel,isRequiredLabel,isRequired:isEmailRequired,__self:this,__source:{fileName:_jsxFileName$4,lineNumber:172}}),y$1("input",{class:"form__input",defaultValue:defaultEmail,id:"email",name:"email",placeholder:emailPlaceholder,required:isEmailRequired,type:"email",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:173}})):y$1("input",{"aria-hidden":!0,value:defaultEmail,name:"email",type:"hidden",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:184}}),y$1("label",{for:"message",class:"form__label",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:187}},y$1(LabelText,{label:messageLabel,isRequiredLabel,isRequired:!0,__self:this,__source:{fileName:_jsxFileName$4,lineNumber:188}}),y$1("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:messagePlaceholder,required:!0,rows:5,__self:this,__source:{fileName:_jsxFileName$4,lineNumber:189}})),ScreenshotInputComponent?y$1("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:201}},y$1("button",{class:"btn btn--default",type:"button",onClick:()=>{setScreenshotError(null),setShowScreenshotInput((prev=>!prev))},__self:this,__source:{fileName:_jsxFileName$4,lineNumber:202}},showScreenshotInput?removeScreenshotButtonLabel:addScreenshotButtonLabel),screenshotError?y$1("div",{class:"form__error-container",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:212}},screenshotError.message):null):null),y$1("div",{class:"btn-group",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:216}},y$1("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:217}},submitButtonLabel),y$1("button",{class:"btn btn--default",type:"button",onClick:onFormClose,__self:this,__source:{fileName:_jsxFileName$4,lineNumber:220}},cancelButtonLabel))))}function LabelText({label,isRequired,isRequiredLabel}){return y$1("span",{class:"form__label__text",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:239}},label,isRequired&&y$1("span",{class:"form__label__text--required",__self:this,__source:{fileName:_jsxFileName$4,lineNumber:241}},isRequiredLabel))}const WIDTH=16,HEIGHT=17,XMLNS="http://www.w3.org/2000/svg";function SuccessIcon(){const createElementNS=tagName=>esm_WINDOW.document.createElementNS(XMLNS,tagName),svg=setAttributesNS(createElementNS("svg"),{width:`${WIDTH}`,height:`${HEIGHT}`,viewBox:`0 0 ${WIDTH} ${HEIGHT}`,fill:"inherit"}),g=setAttributesNS(createElementNS("g"),{clipPath:"url(#clip0_57_156)"}),path2=setAttributesNS(createElementNS("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),path=setAttributesNS(createElementNS("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});svg.appendChild(g).append(path,path2);const speakerDefs=createElementNS("defs"),speakerClipPathDef=setAttributesNS(createElementNS("clipPath"),{id:"clip0_57_156"}),speakerRect=setAttributesNS(createElementNS("rect"),{width:`${WIDTH}`,height:`${WIDTH}`,fill:"white",transform:"translate(0 0.5)"});return speakerClipPathDef.appendChild(speakerRect),speakerDefs.appendChild(speakerClipPathDef),svg.appendChild(speakerDefs).appendChild(speakerClipPathDef).appendChild(speakerRect),svg}const _jsxFileName$3="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function Dialog({open,onFormSubmitted,...props}){const options=props.options,successIconHtml=q((()=>({__html:SuccessIcon().outerHTML})),[]),[timeoutId,setTimeoutId]=p(null),handleOnSuccessClick=x((()=>{timeoutId&&(clearTimeout(timeoutId),setTimeoutId(null)),onFormSubmitted()}),[timeoutId]),onSubmitSuccess=x((data=>{props.onSubmitSuccess(data),setTimeoutId(setTimeout((()=>{onFormSubmitted(),setTimeoutId(null)}),5e3))}),[onFormSubmitted]);return y$1(g$1,{__self:this,__source:{fileName:_jsxFileName$3,lineNumber:48}},timeoutId?y$1("div",{class:"success__position",onClick:handleOnSuccessClick,__self:this,__source:{fileName:_jsxFileName$3,lineNumber:50}},y$1("div",{class:"success__content",__self:this,__source:{fileName:_jsxFileName$3,lineNumber:51}},options.successMessageText,y$1("span",{class:"success__icon",dangerouslySetInnerHTML:successIconHtml,__self:this,__source:{fileName:_jsxFileName$3,lineNumber:53}}))):y$1("dialog",{class:"dialog",onClick:options.onFormClose,open,__self:this,__source:{fileName:_jsxFileName$3,lineNumber:57}},y$1("div",{class:"dialog__position",__self:this,__source:{fileName:_jsxFileName$3,lineNumber:58}},y$1("div",{class:"dialog__content",onClick:e=>{e.stopPropagation()},__self:this,__source:{fileName:_jsxFileName$3,lineNumber:59}},y$1(DialogHeader,{options,__self:this,__source:{fileName:_jsxFileName$3,lineNumber:66}}),y$1(Form,{...props,onSubmitSuccess,__self:this,__source:{fileName:_jsxFileName$3,lineNumber:67}})))))}function getUser(){const currentUser=getCurrentScope().getUser(),isolationUser=function getIsolationScope(){return asyncContext_getAsyncContextStrategy(carrier_getMainCarrier()).getIsolationScope()}().getUser(),globalUser=function getGlobalScope(){return getGlobalSingleton("globalScope",(()=>new Scope))}().getUser();return currentUser&&Object.keys(currentUser).length?currentUser:isolationUser&&Object.keys(isolationUser).length?isolationUser:globalUser}const feedbackModalIntegration=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options,screenshotIntegration,sendFeedback,shadow})=>{const shadowRoot=shadow,userKey=options.useSentryUser,user=getUser(),el=DOCUMENT.createElement("div"),style=function createDialogStyles(){const style=DOCUMENT.createElement("style");return style.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n\n\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form__right {\n  flex: 0 0 var(--form-width, 272px);\n  width: var(--form-width, 272px);\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n}\n\n@media (max-width: 600px) {\n  .form__right {\n    width: auto;\n  }\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n\n\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n\n",style}();let originalOverflow="";const dialog={get el(){return el},appendToDom(){shadowRoot.contains(style)||shadowRoot.contains(el)||(shadowRoot.appendChild(style),shadowRoot.appendChild(el))},removeFromDom(){shadowRoot.removeChild(el),shadowRoot.removeChild(style),DOCUMENT.body.style.overflow=originalOverflow},open(){renderContent(!0),options.onFormOpen&&options.onFormOpen(),originalOverflow=DOCUMENT.body.style.overflow,DOCUMENT.body.style.overflow="hidden"},close(){renderContent(!1),DOCUMENT.body.style.overflow=originalOverflow}},screenshotInput=screenshotIntegration&&screenshotIntegration.createInput({h:y$1,hooks,dialog,options}),renderContent=open=>{!function B$1(u,t,i){var o,r,f,e;l$1.__&&l$1.__(u,t),r=(o="function"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],M(t,u=(!o&&i||t).__k=y$1(g$1,null,[u]),r||c$1,c$1,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),u.__d=void 0,j$1(f,u,e)}(y$1(Dialog,{options,screenshotInput,showName:options.showName||options.isNameRequired,showEmail:options.showEmail||options.isEmailRequired,defaultName:userKey&&user&&user[userKey.name]||"",defaultEmail:userKey&&user&&user[userKey.email]||"",onFormClose:()=>{renderContent(!1),options.onFormClose&&options.onFormClose()},onSubmit:sendFeedback,onSubmitSuccess:data=>{renderContent(!1),options.onSubmitSuccess&&options.onSubmitSuccess(data)},onSubmitError:error=>{options.onSubmitError&&options.onSubmitError(error)},onFormSubmitted:()=>{options.onFormSubmitted&&options.onFormSubmitted()},open,__self:void 0,__source:{fileName:"/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx",lineNumber:67}}),el)};return dialog}}),_jsxFileName$1="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/CropCorner.tsx";function createScreenshotInputStyles(){const style=DOCUMENT.createElement("style");return style.textContent="\n.editor {\n  padding: 10px;\n  padding-top: 65px;\n  padding-bottom: 65px;\n  flex-grow: 1;\n\n  background-color: #1A141F;\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      #1A141F 8px,\n      #1A141F 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      #302735 15px,\n      #302735 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container canvas {\n  object-fit: contain;\n  position: relative;\n}\n\n.editor__crop-btn-group {\n  padding: 8px;\n  gap: 8px;\n  border-radius: var(--menu-border-radius, 6px);\n  background: var(--button-primary-background, var(--background));\n  width: 175px;\n  position: absolute;\n}\n\n.editor__crop-corner {\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  background: none;\n  border: 3px solid #ffffff;\n}\n\n.editor__crop-corner--top-left {\n  cursor: nwse-resize;\n  border-right: none;\n  border-bottom: none;\n}\n.editor__crop-corner--top-right {\n  cursor: nesw-resize;\n  border-left: none;\n  border-bottom: none;\n}\n.editor__crop-corner--bottom-left {\n  cursor: nesw-resize;\n  border-right: none;\n  border-top: none;\n}\n.editor__crop-corner--bottom-right {\n  cursor: nwse-resize;\n  border-left: none;\n  border-top: none;\n}\n",style}const _jsxFileName="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",DPI=esm_WINDOW.devicePixelRatio,constructRect=box=>({x:Math.min(box.startX,box.endX),y:Math.min(box.startY,box.endY),width:Math.abs(box.startX-box.endX),height:Math.abs(box.startY-box.endY)}),getContainedSize=img=>{const imgClientHeight=img.clientHeight,imgClientWidth=img.clientWidth,ratio=img.width/img.height;let width=imgClientHeight*ratio,height=imgClientHeight;width>imgClientWidth&&(width=imgClientWidth,height=imgClientWidth/ratio);const x=(imgClientWidth-width)/2,y=(imgClientHeight-height)/2;return{startX:x,startY:y,endX:width+x,endY:height+y}};function ScreenshotEditorFactory({h,hooks,imageBuffer,dialog,options}){const useTakeScreenshot=function useTakeScreenshotFactory({hooks}){return function useTakeScreenshot({onBeforeScreenshot,onScreenshot,onAfterScreenshot,onError}){hooks.useEffect((()=>{(async()=>{onBeforeScreenshot();const stream=await NAVIGATOR.mediaDevices.getDisplayMedia({video:{width:esm_WINDOW.innerWidth*esm_WINDOW.devicePixelRatio,height:esm_WINDOW.innerHeight*esm_WINDOW.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),video=DOCUMENT.createElement("video");await new Promise(((resolve,reject)=>{video.srcObject=stream,video.onloadedmetadata=()=>{onScreenshot(video),stream.getTracks().forEach((track=>track.stop())),resolve()},video.play().catch(reject)})),onAfterScreenshot()})().catch(onError)}),[])}}({hooks});return function ScreenshotEditor({onError}){const styles=hooks.useMemo((()=>({__html:createScreenshotInputStyles().innerText})),[]),CropCorner=function CropCornerFactory({h}){return function CropCorner({top,left,corner,onGrabButton}){return h("button",{class:`editor__crop-corner editor__crop-corner--${corner} `,style:{top,left},onMouseDown:e=>{e.preventDefault(),onGrabButton(e,corner)},onClick:e=>{e.preventDefault()},__self:this,__source:{fileName:_jsxFileName$1,lineNumber:22}})}}({h}),canvasContainerRef=hooks.useRef(null),cropContainerRef=hooks.useRef(null),croppingRef=hooks.useRef(null),[croppingRect,setCroppingRect]=hooks.useState({startX:0,startY:0,endX:0,endY:0}),[confirmCrop,setConfirmCrop]=hooks.useState(!1),[isResizing,setIsResizing]=hooks.useState(!1);function resizeCropper(){const cropper=croppingRef.current,imageDimensions=constructRect(getContainedSize(imageBuffer));if(cropper){cropper.width=imageDimensions.width*DPI,cropper.height=imageDimensions.height*DPI,cropper.style.width=`${imageDimensions.width}px`,cropper.style.height=`${imageDimensions.height}px`;const ctx=cropper.getContext("2d");ctx&&ctx.scale(DPI,DPI)}const cropButton=cropContainerRef.current;cropButton&&(cropButton.style.width=`${imageDimensions.width}px`,cropButton.style.height=`${imageDimensions.height}px`),setCroppingRect({startX:0,startY:0,endX:imageDimensions.width,endY:imageDimensions.height})}function onGrabButton(e,corner){setConfirmCrop(!1),setIsResizing(!0);const handleMouseMove=makeHandleMouseMove(corner),handleMouseUp=()=>{DOCUMENT.removeEventListener("mousemove",handleMouseMove),DOCUMENT.removeEventListener("mouseup",handleMouseUp),setConfirmCrop(!0),setIsResizing(!1)};DOCUMENT.addEventListener("mouseup",handleMouseUp),DOCUMENT.addEventListener("mousemove",handleMouseMove)}hooks.useEffect((()=>{esm_WINDOW.addEventListener("resize",resizeCropper,!1)}),[]),hooks.useEffect((()=>{const cropper=croppingRef.current;if(!cropper)return;const ctx=cropper.getContext("2d");if(!ctx)return;const imageDimensions=constructRect(getContainedSize(imageBuffer)),croppingBox=constructRect(croppingRect);ctx.clearRect(0,0,imageDimensions.width,imageDimensions.height),ctx.fillStyle="rgba(0, 0, 0, 0.5)",ctx.fillRect(0,0,imageDimensions.width,imageDimensions.height),ctx.clearRect(croppingBox.x,croppingBox.y,croppingBox.width,croppingBox.height),ctx.strokeStyle="#ffffff",ctx.lineWidth=3,ctx.strokeRect(croppingBox.x+1,croppingBox.y+1,croppingBox.width-2,croppingBox.height-2),ctx.strokeStyle="#000000",ctx.lineWidth=1,ctx.strokeRect(croppingBox.x+3,croppingBox.y+3,croppingBox.width-6,croppingBox.height-6)}),[croppingRect]);const makeHandleMouseMove=hooks.useCallback((corner=>function(e){if(!croppingRef.current)return;const cropCanvas=croppingRef.current,cropBoundingRect=cropCanvas.getBoundingClientRect(),mouseX=e.clientX-cropBoundingRect.x,mouseY=e.clientY-cropBoundingRect.y;switch(corner){case"top-left":setCroppingRect((prev=>({...prev,startX:Math.min(Math.max(0,mouseX),prev.endX-33),startY:Math.min(Math.max(0,mouseY),prev.endY-33)})));break;case"top-right":setCroppingRect((prev=>({...prev,endX:Math.max(Math.min(mouseX,cropCanvas.width/DPI),prev.startX+33),startY:Math.min(Math.max(0,mouseY),prev.endY-33)})));break;case"bottom-left":setCroppingRect((prev=>({...prev,startX:Math.min(Math.max(0,mouseX),prev.endX-33),endY:Math.max(Math.min(mouseY,cropCanvas.height/DPI),prev.startY+33)})));break;case"bottom-right":setCroppingRect((prev=>({...prev,endX:Math.max(Math.min(mouseX,cropCanvas.width/DPI),prev.startX+33),endY:Math.max(Math.min(mouseY,cropCanvas.height/DPI),prev.startY+33)})))}}),[]),initialPositionRef=hooks.useRef({initialX:0,initialY:0});return useTakeScreenshot({onBeforeScreenshot:hooks.useCallback((()=>{dialog.el.style.display="none"}),[]),onScreenshot:hooks.useCallback((imageSource=>{const context=imageBuffer.getContext("2d");if(!context)throw new Error("Could not get canvas context");imageBuffer.width=imageSource.videoWidth,imageBuffer.height=imageSource.videoHeight,imageBuffer.style.width="100%",imageBuffer.style.height="100%",context.drawImage(imageSource,0,0)}),[imageBuffer]),onAfterScreenshot:hooks.useCallback((()=>{dialog.el.style.display="block";const container=canvasContainerRef.current;container&&container.appendChild(imageBuffer),resizeCropper()}),[]),onError:hooks.useCallback((error=>{dialog.el.style.display="block",onError(error)}),[])}),h("div",{class:"editor",__self:this,__source:{fileName:_jsxFileName,lineNumber:315}},h("style",{dangerouslySetInnerHTML:styles,__self:this,__source:{fileName:_jsxFileName,lineNumber:316}}),h("div",{class:"editor__canvas-container",ref:canvasContainerRef,__self:this,__source:{fileName:_jsxFileName,lineNumber:317}},h("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:cropContainerRef,__self:this,__source:{fileName:_jsxFileName,lineNumber:318}},h("canvas",{onMouseDown:function onDragStart(e){if(isResizing)return;initialPositionRef.current={initialX:e.clientX,initialY:e.clientY};const handleMouseMove=moveEvent=>{const cropCanvas=croppingRef.current;if(!cropCanvas)return;const deltaX=moveEvent.clientX-initialPositionRef.current.initialX,deltaY=moveEvent.clientY-initialPositionRef.current.initialY;setCroppingRect((prev=>{const newStartX=Math.max(0,Math.min(prev.startX+deltaX,cropCanvas.width/DPI-(prev.endX-prev.startX))),newStartY=Math.max(0,Math.min(prev.startY+deltaY,cropCanvas.height/DPI-(prev.endY-prev.startY))),newEndX=newStartX+(prev.endX-prev.startX),newEndY=newStartY+(prev.endY-prev.startY);return initialPositionRef.current.initialX=moveEvent.clientX,initialPositionRef.current.initialY=moveEvent.clientY,{startX:newStartX,startY:newStartY,endX:newEndX,endY:newEndY}}))},handleMouseUp=()=>{DOCUMENT.removeEventListener("mousemove",handleMouseMove),DOCUMENT.removeEventListener("mouseup",handleMouseUp)};DOCUMENT.addEventListener("mousemove",handleMouseMove),DOCUMENT.addEventListener("mouseup",handleMouseUp)},style:{position:"absolute",cursor:confirmCrop?"move":"auto"},ref:croppingRef,__self:this,__source:{fileName:_jsxFileName,lineNumber:319}}),h(CropCorner,{left:croppingRect.startX-3,top:croppingRect.startY-3,onGrabButton,corner:"top-left",__self:this,__source:{fileName:_jsxFileName,lineNumber:324}}),h(CropCorner,{left:croppingRect.endX-30+3,top:croppingRect.startY-3,onGrabButton,corner:"top-right",__self:this,__source:{fileName:_jsxFileName,lineNumber:330}}),h(CropCorner,{left:croppingRect.startX-3,top:croppingRect.endY-30+3,onGrabButton,corner:"bottom-left",__self:this,__source:{fileName:_jsxFileName,lineNumber:336}}),h(CropCorner,{left:croppingRect.endX-30+3,top:croppingRect.endY-30+3,onGrabButton,corner:"bottom-right",__self:this,__source:{fileName:_jsxFileName,lineNumber:342}}),h("div",{style:{left:Math.max(0,croppingRect.endX-191),top:Math.max(0,croppingRect.endY+8),display:confirmCrop?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:_jsxFileName,lineNumber:348}},h("button",{onClick:e=>{e.preventDefault(),croppingRef.current&&setCroppingRect({startX:0,startY:0,endX:croppingRef.current.width/DPI,endY:croppingRef.current.height/DPI}),setConfirmCrop(!1)},class:"btn btn--default",__self:this,__source:{fileName:_jsxFileName,lineNumber:356}},options.cancelButtonLabel),h("button",{onClick:e=>{e.preventDefault(),function submit(){const cutoutCanvas=DOCUMENT.createElement("canvas"),imageBox=constructRect(getContainedSize(imageBuffer)),croppingBox=constructRect(croppingRect);cutoutCanvas.width=croppingBox.width*DPI,cutoutCanvas.height=croppingBox.height*DPI;const cutoutCtx=cutoutCanvas.getContext("2d");cutoutCtx&&imageBuffer&&cutoutCtx.drawImage(imageBuffer,croppingBox.x/imageBox.width*imageBuffer.width,croppingBox.y/imageBox.height*imageBuffer.height,croppingBox.width/imageBox.width*imageBuffer.width,croppingBox.height/imageBox.height*imageBuffer.height,0,0,cutoutCanvas.width,cutoutCanvas.height);const ctx=imageBuffer.getContext("2d");ctx&&(ctx.clearRect(0,0,imageBuffer.width,imageBuffer.height),imageBuffer.width=cutoutCanvas.width,imageBuffer.height=cutoutCanvas.height,imageBuffer.style.width=`${croppingBox.width}px`,imageBuffer.style.height=`${croppingBox.height}px`,ctx.drawImage(cutoutCanvas,0,0),resizeCropper())}(),setConfirmCrop(!1)},class:"btn btn--primary",__self:this,__source:{fileName:_jsxFileName,lineNumber:373}},options.confirmButtonLabel)))))}}const feedbackScreenshotIntegration=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h,hooks,dialog,options})=>{const imageBuffer=DOCUMENT.createElement("canvas");return{input:ScreenshotEditorFactory({h,hooks,imageBuffer,dialog,options}),value:async()=>{const blob=await new Promise((resolve=>{imageBuffer.toBlob(resolve,"image/png")}));if(blob){return{data:new Uint8Array(await blob.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}}),helpers_WINDOW=GLOBAL_OBJ;const LazyLoadableIntegrations={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},WindowWithMaybeIntegration=helpers_WINDOW;const feedbackSyncIntegration=(({lazyLoadIntegration,getModalIntegration,getScreenshotIntegration})=>({id="sentry-feedback",autoInject=!0,showBranding=!0,isEmailRequired=!1,isNameRequired=!1,showEmail=!0,showName=!0,enableScreenshot=!0,useSentryUser={email:"email",name:"username"},tags,colorScheme="system",themeLight={},themeDark={},addScreenshotButtonLabel="Add a screenshot",cancelButtonLabel="Cancel",confirmButtonLabel="Confirm",emailLabel="Email",emailPlaceholder="your.email@example.org",formTitle="Report a Bug",isRequiredLabel="(required)",messageLabel="Description",messagePlaceholder="What's the bug? What did you expect?",nameLabel="Name",namePlaceholder="Your Name",removeScreenshotButtonLabel="Remove screenshot",submitButtonLabel="Send Bug Report",successMessageText="Thank you for your report!",triggerLabel="Report a Bug",triggerAriaLabel="",onFormOpen,onFormClose,onSubmitSuccess,onSubmitError,onFormSubmitted}={})=>{const _options={id,autoInject,showBranding,isEmailRequired,isNameRequired,showEmail,showName,enableScreenshot,useSentryUser,tags,colorScheme,themeDark,themeLight,triggerLabel,triggerAriaLabel,cancelButtonLabel,submitButtonLabel,confirmButtonLabel,formTitle,emailLabel,emailPlaceholder,messageLabel,messagePlaceholder,nameLabel,namePlaceholder,successMessageText,isRequiredLabel,addScreenshotButtonLabel,removeScreenshotButtonLabel,onFormClose,onFormOpen,onSubmitError,onSubmitSuccess,onFormSubmitted};let _shadow=null,_subscriptions=[];const _createShadow=options=>{if(!_shadow){const host=DOCUMENT.createElement("div");host.id=String(options.id),DOCUMENT.body.appendChild(host),_shadow=host.attachShadow({mode:"open"}),_shadow.appendChild(function createMainStyles({colorScheme,themeDark,themeLight}){const style=DOCUMENT.createElement("style");return style.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${"system"!==colorScheme?"color-scheme: only light;":""}\n\n  ${getThemedCssVariables("dark"===colorScheme?{...DEFAULT_DARK,...themeDark}:{...DEFAULT_LIGHT,...themeLight})}\n}\n\n${"system"===colorScheme?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${getThemedCssVariables({...DEFAULT_DARK,...themeDark})}\n  }\n}`:""}\n}\n`,style}(options))}return _shadow},_findIntegration=async(integrationName,getter,functionMethodName)=>{const client=currentScopes_getClient(),existing=client&&client.getIntegrationByName(integrationName);if(existing)return existing;const integration=(getter&&getter()||await lazyLoadIntegration(functionMethodName))();return client&&client.addIntegration(integration),integration},_loadAndRenderDialog=async options=>{const screenshotRequired=options.enableScreenshot&&function isScreenshotSupported(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(NAVIGATOR.userAgent)||/Macintosh/i.test(NAVIGATOR.userAgent)&&NAVIGATOR.maxTouchPoints&&NAVIGATOR.maxTouchPoints>1||!isSecureContext)}(),[modalIntegration,screenshotIntegration]=await Promise.all([_findIntegration("FeedbackModal",getModalIntegration,"feedbackModalIntegration"),screenshotRequired?_findIntegration("FeedbackScreenshot",getScreenshotIntegration,"feedbackScreenshotIntegration"):void 0]);if(!modalIntegration)throw esm_DEBUG_BUILD&&logger.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");screenshotRequired&&!screenshotIntegration&&esm_DEBUG_BUILD&&logger.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.");const dialog=modalIntegration.createDialog({options:{...options,onFormClose:()=>{dialog&&dialog.close(),options.onFormClose&&options.onFormClose()},onFormSubmitted:()=>{dialog&&dialog.close(),options.onFormSubmitted&&options.onFormSubmitted()}},screenshotIntegration:screenshotRequired?screenshotIntegration:void 0,sendFeedback,shadow:_createShadow(options)});return dialog},_attachTo=(el,optionOverrides={})=>{const mergedOptions=mergeOptions(_options,optionOverrides),targetEl="string"==typeof el?DOCUMENT.querySelector(el):"function"==typeof el.addEventListener?el:null;if(!targetEl)throw esm_DEBUG_BUILD&&logger.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let dialog=null;const handleClick=async()=>{dialog||(dialog=await _loadAndRenderDialog({...mergedOptions,onFormSubmitted:()=>{dialog&&dialog.removeFromDom(),mergedOptions.onFormSubmitted&&mergedOptions.onFormSubmitted()}})),dialog.appendToDom(),dialog.open()};targetEl.addEventListener("click",handleClick);const unsubscribe=()=>{_subscriptions=_subscriptions.filter((sub=>sub!==unsubscribe)),dialog&&dialog.removeFromDom(),dialog=null,targetEl.removeEventListener("click",handleClick)};return _subscriptions.push(unsubscribe),unsubscribe},_createActor=(optionOverrides={})=>{const mergedOptions=mergeOptions(_options,optionOverrides),shadow=_createShadow(mergedOptions),actor=Actor({triggerLabel:mergedOptions.triggerLabel,triggerAriaLabel:mergedOptions.triggerAriaLabel,shadow});return _attachTo(actor.el,{...mergedOptions,onFormOpen(){actor.hide()},onFormClose(){actor.show()},onFormSubmitted(){actor.show()}}),actor};return{name:"Feedback",setupOnce(){isBrowser()&&_options.autoInject&&("loading"===DOCUMENT.readyState?DOCUMENT.addEventListener("DOMContentLoaded",(()=>_createActor().appendToDom())):_createActor().appendToDom())},attachTo:_attachTo,createWidget(optionOverrides={}){const actor=_createActor(mergeOptions(_options,optionOverrides));return actor.appendToDom(),actor},createForm:async(optionOverrides={})=>_loadAndRenderDialog(mergeOptions(_options,optionOverrides)),remove(){_shadow&&(_shadow.parentElement&&_shadow.parentElement.remove(),_shadow=null),_subscriptions.forEach((sub=>sub())),_subscriptions=[]}}})({lazyLoadIntegration:async function lazyLoadIntegration(name){const bundle=LazyLoadableIntegrations[name],sentryOnWindow=WindowWithMaybeIntegration.Sentry=WindowWithMaybeIntegration.Sentry||{};if(!bundle)throw new Error(`Cannot lazy load integration: ${name}`);const existing=sentryOnWindow[name];if("function"==typeof existing&&!("_isShim"in existing))return existing;const url=function getScriptURL(bundle){const client=currentScopes_getClient(),options=client&&client.getOptions(),baseURL=options&&options.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${SDK_VERSION}/${bundle}.min.js`,baseURL).toString()}(bundle),script=helpers_WINDOW.document.createElement("script");script.src=url,script.crossOrigin="anonymous",script.referrerPolicy="origin";const waitForLoad=new Promise(((resolve,reject)=>{script.addEventListener("load",(()=>resolve())),script.addEventListener("error",reject)}));helpers_WINDOW.document.body.appendChild(script);try{await waitForLoad}catch(e){throw new Error(`Error when loading integration: ${name}`)}const integrationFn=sentryOnWindow[name];if("function"!=typeof integrationFn)throw new Error(`Could not load integration: ${name}`);return integrationFn},getModalIntegration:()=>feedbackModalIntegration,getScreenshotIntegration:()=>feedbackScreenshotIntegration})},"./node_modules/.pnpm/@sentry+utils@8.26.0/node_modules/@sentry/utils/build/esm/node.js":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{wD:()=>isNodeEnv}),module=__webpack_require__.hmd(module);var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");function isNodeEnv(){return!function isBrowserBundle(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call(void 0!==process?process:0)}},"./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/config.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>config});const config={network:{layer1:"placeholder"},logLevel:"debug"}},"./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ChainID,TransactionVersion,PeerNetworkID;__webpack_require__.d(__webpack_exports__,{Fw:()=>PRIVATE_KEY_COMPRESSED_LENGTH,J_:()=>TransactionVersion,c7:()=>PeerNetworkID,i4:()=>PRIVATE_KEY_UNCOMPRESSED_LENGTH,n_:()=>ChainID,zB:()=>BLOCKSTACK_DEFAULT_GAIA_HUB_URL}),function(ChainID){ChainID[ChainID.Testnet=2147483648]="Testnet",ChainID[ChainID.Mainnet=1]="Mainnet"}(ChainID||(ChainID={})),function(TransactionVersion){TransactionVersion[TransactionVersion.Mainnet=0]="Mainnet",TransactionVersion[TransactionVersion.Testnet=128]="Testnet"}(TransactionVersion||(TransactionVersion={})),function(PeerNetworkID){PeerNetworkID[PeerNetworkID.Mainnet=385875968]="Mainnet",PeerNetworkID[PeerNetworkID.Testnet=4278190080]="Testnet"}(PeerNetworkID||(PeerNetworkID={}));const PRIVATE_KEY_COMPRESSED_LENGTH=33,PRIVATE_KEY_UNCOMPRESSED_LENGTH=32,BLOCKSTACK_DEFAULT_GAIA_HUB_URL="https://hub.blockstack.org"},"./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{BLOCKSTACK_DEFAULT_GAIA_HUB_URL:()=>constants.zB,BLOCKSTACK_HANDLER:()=>utils.H7,BadPathError:()=>BadPathError,BlockstackError:()=>BlockstackError,ChainID:()=>constants.n_,ConflictError:()=>ConflictError,DoesNotExist:()=>DoesNotExist,ERROR_CODES:()=>ERROR_CODES,FailedDecryptionError:()=>FailedDecryptionError,GaiaHubError:()=>GaiaHubError,InvalidAmountError:()=>InvalidAmountError,InvalidDIDError:()=>InvalidDIDError,InvalidParameterError:()=>InvalidParameterError,InvalidStateError:()=>InvalidStateError,Logger:()=>logger.V,LoginFailedError:()=>LoginFailedError,MissingParameterError:()=>MissingParameterError,NoSessionDataError:()=>NoSessionDataError,NotEnoughFundsError:()=>NotEnoughFundsError,NotEnoughProofError:()=>NotEnoughProofError,PRIVATE_KEY_COMPRESSED_LENGTH:()=>constants.Fw,PRIVATE_KEY_UNCOMPRESSED_LENGTH:()=>constants.i4,PayloadTooLargeError:()=>PayloadTooLargeError,PeerNetworkID:()=>constants.c7,PreconditionFailedError:()=>PreconditionFailedError,RemoteServiceError:()=>RemoteServiceError,SignatureVerificationError:()=>SignatureVerificationError,TransactionVersion:()=>constants.J_,ValidationError:()=>ValidationError,alloc:()=>alloc,asciiToBytes:()=>utils.Mh,bigIntToBytes:()=>utils.CZ,bytesToAscii:()=>utils.qu,bytesToHex:()=>utils.My,bytesToUtf8:()=>utils.AE,concatArray:()=>utils.yB,concatBytes:()=>utils.Id,config:()=>config.$,equals:()=>equals,fromTwos:()=>utils.ST,getAesCbcOutputLength:()=>utils.R6,getBase64OutputLength:()=>utils.pC,getGlobalObject:()=>utils.VZ,getGlobalObjects:()=>utils.Gu,getGlobalScope:()=>utils.m6,hexToBigInt:()=>utils.uU,hexToBytes:()=>utils.aT,hexToInt:()=>utils.od,intToBigInt:()=>utils.WI,intToBytes:()=>utils.m5,intToHex:()=>utils.y6,isInstance:()=>utils.Qs,isLaterVersion:()=>utils.F$,isSameOriginAbsoluteUrl:()=>utils.LF,makeUUID4:()=>utils.Gy,megabytesToBytes:()=>utils.OR,nextHour:()=>utils.wU,nextMonth:()=>utils.wc,nextYear:()=>utils.le,octetsToBytes:()=>utils.Hu,parseRecoverableSignatureVrs:()=>parseRecoverableSignatureVrs,privateKeyToBytes:()=>privateKeyToBytes,readUInt16BE:()=>readUInt16BE,readUInt16LE:()=>readUInt16LE,readUInt32BE:()=>readUInt32BE,readUInt32LE:()=>readUInt32LE,readUInt8:()=>readUInt8,signatureRsvToVrs:()=>signatureRsvToVrs,signatureVrsToRsv:()=>signatureVrsToRsv,toTwos:()=>utils.JJ,updateQueryStringParameter:()=>utils.K,utf8ToBytes:()=>utils.AI,with0x:()=>utils.fz,writeUInt16BE:()=>writeUInt16BE,writeUInt16LE:()=>writeUInt16LE,writeUInt32BE:()=>writeUInt32BE,writeUInt32LE:()=>writeUInt32LE,writeUInt8:()=>writeUInt8});var config=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/config.js");const ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(ERROR_CODES);class BlockstackError extends Error{constructor(error){super();let message=error.message,bugDetails=`Error Code: ${error.code}`,stack=this.stack;if(stack)bugDetails+=`Stack Trace:\n${stack}`;else try{throw new Error}catch(e){stack=e.stack}message+=`\nIf you believe this exception is caused by a bug in stacks.js,\n      please file a bug report: https://github.com/blockstack/stacks.js/issues\n\n${bugDetails}`,this.message=message,this.code=error.code,this.parameter=error.parameter?error.parameter:void 0}toString(){return`${super.toString()}\n    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class InvalidParameterError extends BlockstackError{constructor(parameter,message=""){super({code:ERROR_CODES.MISSING_PARAMETER,message,parameter}),this.name="MissingParametersError"}}class MissingParameterError extends BlockstackError{constructor(parameter,message=""){super({code:ERROR_CODES.MISSING_PARAMETER,message,parameter}),this.name="MissingParametersError"}}class RemoteServiceError extends BlockstackError{constructor(response,message=""){super({code:ERROR_CODES.REMOTE_SERVICE_ERROR,message}),this.response=response}}class InvalidDIDError extends BlockstackError{constructor(message=""){super({code:ERROR_CODES.INVALID_DID_ERROR,message}),this.name="InvalidDIDError"}}class NotEnoughFundsError extends BlockstackError{constructor(leftToFund){const message=`Not enough UTXOs to fund. Left to fund: ${leftToFund}`;super({code:ERROR_CODES.NOT_ENOUGH_FUNDS_ERROR,message}),this.leftToFund=leftToFund,this.name="NotEnoughFundsError",this.message=message}}class InvalidAmountError extends BlockstackError{constructor(fees,specifiedAmount){const message=`Not enough coin to fund fees transaction fees. Fees would be ${fees}, specified spend is  ${specifiedAmount}`;super({code:ERROR_CODES.INVALID_AMOUNT_ERROR,message}),this.specifiedAmount=specifiedAmount,this.fees=fees,this.name="InvalidAmountError",this.message=message}}class LoginFailedError extends BlockstackError{constructor(reason){const message=`Failed to login: ${reason}`;super({code:ERROR_CODES.LOGIN_FAILED_ERROR,message}),this.message=message,this.name="LoginFailedError"}}class SignatureVerificationError extends BlockstackError{constructor(reason){const message=`Failed to verify signature: ${reason}`;super({code:ERROR_CODES.SIGNATURE_VERIFICATION_ERROR,message}),this.message=message,this.name="SignatureVerificationError"}}class FailedDecryptionError extends BlockstackError{constructor(message="Unable to decrypt cipher object."){super({code:ERROR_CODES.FAILED_DECRYPTION_ERROR,message}),this.message=message,this.name="FailedDecryptionError"}}class InvalidStateError extends BlockstackError{constructor(message){super({code:ERROR_CODES.INVALID_STATE,message}),this.message=message,this.name="InvalidStateError"}}class NoSessionDataError extends BlockstackError{constructor(message){super({code:ERROR_CODES.INVALID_STATE,message}),this.message=message,this.name="NoSessionDataError"}}class GaiaHubError extends BlockstackError{constructor(error,response){super(error),response&&(this.hubError={statusCode:response.status,statusText:response.statusText},"string"==typeof response.body?this.hubError.message=response.body:"object"==typeof response.body&&Object.assign(this.hubError,response.body))}}class DoesNotExist extends GaiaHubError{constructor(message,response){super({message,code:ERROR_CODES.DOES_NOT_EXIST},response),this.name="DoesNotExist"}}class ConflictError extends GaiaHubError{constructor(message,response){super({message,code:ERROR_CODES.CONFLICT_ERROR},response),this.name="ConflictError"}}class NotEnoughProofError extends GaiaHubError{constructor(message,response){super({message,code:ERROR_CODES.NOT_ENOUGH_PROOF_ERROR},response),this.name="NotEnoughProofError"}}class BadPathError extends GaiaHubError{constructor(message,response){super({message,code:ERROR_CODES.BAD_PATH_ERROR},response),this.name="BadPathError"}}class ValidationError extends GaiaHubError{constructor(message,response){super({message,code:ERROR_CODES.VALIDATION_ERROR},response),this.name="ValidationError"}}class PayloadTooLargeError extends GaiaHubError{constructor(message,response,maxUploadByteSize){super({message,code:ERROR_CODES.PAYLOAD_TOO_LARGE_ERROR},response),this.name="PayloadTooLargeError",this.maxUploadByteSize=maxUploadByteSize}}class PreconditionFailedError extends GaiaHubError{constructor(message,response){super({message,code:ERROR_CODES.PRECONDITION_FAILED_ERROR},response),this.name="PreconditionFailedError"}}var logger=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/logger.js"),utils=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/utils.js"),constants=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/constants.js");const COORDINATE_BYTES=32;function parseRecoverableSignatureVrs(signature){if(signature.length<2*COORDINATE_BYTES*2+1)throw new Error("Invalid signature");const recoveryIdHex=signature.slice(0,2),r=signature.slice(2,2+2*COORDINATE_BYTES),s=signature.slice(2+2*COORDINATE_BYTES);return{recoveryId:(0,utils.od)(recoveryIdHex),r,s}}function signatureVrsToRsv(signature){return signature.slice(2)+signature.slice(0,2)}function signatureRsvToVrs(signature){return signature.slice(-2)+signature.slice(0,-2)}function privateKeyToBytes(privateKey){const privateKeyBuffer="string"==typeof privateKey?(0,utils.aT)(privateKey):privateKey;if(32!=privateKeyBuffer.length&&33!=privateKeyBuffer.length)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${privateKeyBuffer.length}`);if(33==privateKeyBuffer.length&&1!==privateKeyBuffer[32])throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return privateKeyBuffer}function equals(a,b){if(a.byteLength!==b.byteLength)return!1;for(let i=0;i<a.byteLength;i++)if(a[i]!==b[i])return!1;return!0}function alloc(length,value){const a=new Uint8Array(length);for(let i=0;i<length;i++)a[i]=value;return a}function readUInt16BE(source,offset){return(source[offset+0]<<8|source[offset+1])>>>0}function writeUInt16BE(destination,value,offset=0){return destination[offset+0]=value>>>8,destination[offset+1]=value>>>0,destination}function readUInt8(source,offset){return source[offset]}function writeUInt8(destination,value,offset=0){return destination[offset]=value,destination}function readUInt16LE(source,offset){return(source[offset+0]|0)>>>0|source[offset+1]<<8>>>0}function writeUInt16LE(destination,value,offset=0){return destination[offset+0]=255&value,value>>>=8,destination[offset+1]=255&value,destination}function readUInt32BE(source,offset){return source[offset]*2**24+65536*source[offset+1]+256*source[offset+2]+source[offset+3]}function writeUInt32BE(destination,value,offset=0){return destination[offset+3]=value,value>>>=8,destination[offset+2]=value,value>>>=8,destination[offset+1]=value,value>>>=8,destination[offset]=value,destination}function readUInt32LE(source,offset){return(source[offset+0]|0)>>>0|source[offset+1]<<8>>>0|source[offset+2]<<16>>>0|source[offset+3]<<24>>>0}function writeUInt32LE(destination,value,offset=0){return destination[offset+0]=255&value,value>>>=8,destination[offset+1]=255&value,value>>>=8,destination[offset+2]=255&value,value>>>=8,destination[offset+3]=255&value,destination}},"./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/logger.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>Logger});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/config.js");const levels=["debug","info","warn","error","none"],levelToInt={},intToLevel={};for(let index=0;index<levels.length;index++){const level=levels[index];levelToInt[level]=index,intToLevel[index]=level}class Logger{static error(message){this.shouldLog("error")&&console.error(this.logMessage("error",message))}static warn(message){this.shouldLog("warn")&&console.warn(this.logMessage("warn",message))}static info(message){this.shouldLog("info")&&console.log(this.logMessage("info",message))}static debug(message){this.shouldLog("debug")&&console.log(this.logMessage("debug",message))}static logMessage(level,message){return`[${level.toUpperCase()}] ${message}`}static shouldLog(level){return levelToInt[_config__WEBPACK_IMPORTED_MODULE_0__.$.logLevel]<=levelToInt[level]}}},"./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AE:()=>bytesToUtf8,AI:()=>utf8ToBytes,CZ:()=>bigIntToBytes,F$:()=>isLaterVersion,Gu:()=>getGlobalObjects,Gy:()=>makeUUID4,H7:()=>BLOCKSTACK_HANDLER,Hu:()=>octetsToBytes,Id:()=>concatBytes,JJ:()=>toTwos,K:()=>updateQueryStringParameter,LF:()=>isSameOriginAbsoluteUrl,Mh:()=>asciiToBytes,My:()=>bytesToHex,OR:()=>megabytesToBytes,Qs:()=>isInstance,R6:()=>getAesCbcOutputLength,ST:()=>fromTwos,VZ:()=>getGlobalObject,WI:()=>intToBigInt,aT:()=>hexToBytes,fz:()=>with0x,le:()=>nextYear,m5:()=>intToBytes,m6:()=>getGlobalScope,od:()=>hexToInt,pC:()=>getBase64OutputLength,qu:()=>bytesToAscii,uU:()=>hexToBigInt,wU:()=>nextHour,wc:()=>nextMonth,y6:()=>intToHex,yB:()=>concatArray});var _logger__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/logger.js");const BLOCKSTACK_HANDLER="blockstack";function nextYear(){return new Date((new Date).setFullYear((new Date).getFullYear()+1))}function nextMonth(){return new Date((new Date).setMonth((new Date).getMonth()+1))}function nextHour(){return new Date((new Date).setHours((new Date).getHours()+1))}function megabytesToBytes(megabytes){return Number.isFinite(megabytes)?Math.floor(1024*megabytes*1024):0}function getAesCbcOutputLength(inputByteLength){return 16*(Math.floor(inputByteLength/16)+1)}function getBase64OutputLength(inputByteLength){return 4*Math.ceil(inputByteLength/3)}function updateQueryStringParameter(uri,key,value){const re=new RegExp(`([?&])${key}=.*?(&|$)`,"i"),separator=-1!==uri.indexOf("?")?"&":"?";return uri.match(re)?uri.replace(re,`$1${key}=${value}$2`):`${uri}${separator}${key}=${value}`}function isLaterVersion(v1,v2){void 0!==v1&&""!==v1||(v1="0.0.0"),void 0!==v2&&""!==v1||(v2="0.0.0");const v1tuple=v1.split(".").map((x=>parseInt(x,10))),v2tuple=v2.split(".").map((x=>parseInt(x,10)));for(let index=0;index<v2.length;index++)if(index>=v1.length&&v2tuple.push(0),v1tuple[index]<v2tuple[index])return!1;return!0}function makeUUID4(){let d=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(d+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(c=>{const r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"===c?r:3&r|8).toString(16)}))}function isSameOriginAbsoluteUrl(uri1,uri2){try{const parsedUri1=new URL(uri1),parsedUri2=new URL(uri2),port1=0|parseInt(parsedUri1.port||"0",10)||("https:"===parsedUri1.protocol?443:80),port2=0|parseInt(parsedUri2.port||"0",10)||("https:"===parsedUri2.protocol?443:80),match={scheme:parsedUri1.protocol===parsedUri2.protocol,hostname:parsedUri1.hostname===parsedUri2.hostname,port:port1===port2,absolute:(uri1.includes("http://")||uri1.includes("https://"))&&(uri2.includes("http://")||uri2.includes("https://"))};return match.scheme&&match.hostname&&match.port&&match.absolute}catch(error){return console.log(error),console.log("Parsing error in same URL origin check"),!1}}function getGlobalScope(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}function getAPIUsageErrorMessage(scopeObject,apiName,usageDesc){return usageDesc?`Use of '${usageDesc}' requires \`${apiName}\` which is unavailable on the '${scopeObject}' object within the currently executing environment.`:`\`${apiName}\` is unavailable on the '${scopeObject}' object within the currently executing environment.`}function getGlobalObject(name,{throwIfUnavailable,usageDesc,returnEmptyObject}={}){let globalScope;try{if(globalScope=getGlobalScope(),globalScope){const obj=globalScope[name];if(obj)return obj}}catch(error){_logger__WEBPACK_IMPORTED_MODULE_0__.V.error(`Error getting object '${name}' from global scope '${globalScope}': ${error}`)}if(throwIfUnavailable){const errMsg=getAPIUsageErrorMessage(globalScope,name.toString(),usageDesc);throw _logger__WEBPACK_IMPORTED_MODULE_0__.V.error(errMsg),new Error(errMsg)}if(returnEmptyObject)return{}}function getGlobalObjects(names,{throwIfUnavailable,usageDesc,returnEmptyObject}={}){let globalScope;try{globalScope=getGlobalScope()}catch(error){if(_logger__WEBPACK_IMPORTED_MODULE_0__.V.error(`Error getting global scope: ${error}`),throwIfUnavailable){const errMsg=getAPIUsageErrorMessage(globalScope,names[0].toString(),usageDesc);throw _logger__WEBPACK_IMPORTED_MODULE_0__.V.error(errMsg),errMsg}returnEmptyObject&&(globalScope={})}const result={};for(let i=0;i<names.length;i++){const name=names[i];try{if(globalScope){const obj=globalScope[name];if(obj)result[name]=obj;else{if(throwIfUnavailable){const errMsg=getAPIUsageErrorMessage(globalScope,name.toString(),usageDesc);throw _logger__WEBPACK_IMPORTED_MODULE_0__.V.error(errMsg),new Error(errMsg)}returnEmptyObject&&(result[name]={})}}}catch(error){if(throwIfUnavailable){const errMsg=getAPIUsageErrorMessage(globalScope,name.toString(),usageDesc);throw _logger__WEBPACK_IMPORTED_MODULE_0__.V.error(errMsg),new Error(errMsg)}}}return result}function intToBytes(value,signed,byteLength){return bigIntToBytes(intToBigInt(value,signed),byteLength)}function intToBigInt(value,signed){let parsedValue=value;if("number"==typeof parsedValue){if(!Number.isInteger(parsedValue))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(parsedValue>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(parsedValue)}if("string"==typeof parsedValue)if(parsedValue.toLowerCase().startsWith("0x")){let hex=parsedValue.slice(2);hex=hex.padStart(hex.length+hex.length%2,"0"),parsedValue=hexToBytes(hex)}else try{return BigInt(parsedValue)}catch(error){if(error instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${parsedValue}' is not finite.`)}if("bigint"==typeof parsedValue)return parsedValue;if(parsedValue instanceof Uint8Array){if(signed){const bn=fromTwos(BigInt(`0x${bytesToHex(parsedValue)}`),BigInt(8*parsedValue.byteLength));return BigInt(bn.toString())}return BigInt(`0x${bytesToHex(parsedValue)}`)}if(null!=parsedValue&&"object"==typeof parsedValue&&"BN"===parsedValue.constructor.name)return BigInt(parsedValue.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}function with0x(value){return value.startsWith("0x")?value:`0x${value}`}function hexToBigInt(hex){if("string"!=typeof hex)throw new TypeError("hexToBigInt: expected string, got "+typeof hex);return BigInt(`0x${hex}`)}function intToHex(integer,lengthBytes=8){return("bigint"==typeof integer?integer:intToBigInt(integer,!1)).toString(16).padStart(2*lengthBytes,"0")}function hexToInt(hex){return parseInt(hex,16)}function bigIntToBytes(value,length=16){return hexToBytes(intToHex(value,length))}function toTwos(value,width){if(value<-(BigInt(1)<<width-BigInt(1))||(BigInt(1)<<width-BigInt(1))-BigInt(1)<value)throw`Unable to represent integer in width: ${width}`;return value>=BigInt(0)?BigInt(value):value+(BigInt(1)<<width)}function fromTwos(value,width){return function nthBit(value,n){return value&BigInt(1)<<n}(value,width-BigInt(1))?value-(BigInt(1)<<width):value}const hexes=Array.from({length:256},((_,i)=>i.toString(16).padStart(2,"0")));function bytesToHex(uint8a){if(!(uint8a instanceof Uint8Array))throw new Error("Uint8Array expected");let hex="";for(const u of uint8a)hex+=hexes[u];return hex}function hexToBytes(hex){if("string"!=typeof hex)throw new TypeError("hexToBytes: expected string, got "+typeof hex);const paddedHex=hex.length%2?`0${hex}`:hex,array=new Uint8Array(paddedHex.length/2);for(let i=0;i<array.length;i++){const j=2*i,hexByte=paddedHex.slice(j,j+2),byte=Number.parseInt(hexByte,16);if(Number.isNaN(byte)||byte<0)throw new Error("Invalid byte sequence");array[i]=byte}return array}function utf8ToBytes(str){return(new TextEncoder).encode(str)}function bytesToUtf8(arr){return(new TextDecoder).decode(arr)}function asciiToBytes(str){const byteArray=[];for(let i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return new Uint8Array(byteArray)}function bytesToAscii(arr){return String.fromCharCode.apply(null,arr)}function isNotOctet(octet){return!Number.isInteger(octet)||octet<0||octet>255}function octetsToBytes(numbers){if(numbers.some(isNotOctet))throw new Error("Some values are invalid bytes.");return new Uint8Array(numbers)}function concatBytes(...arrays){if(!arrays.every((a=>a instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===arrays.length)return arrays[0];const length=arrays.reduce(((a,arr)=>a+arr.length),0),result=new Uint8Array(length);for(let i=0,pad=0;i<arrays.length;i++){const arr=arrays[i];result.set(arr,pad),pad+=arr.length}return result}function concatArray(elements){return concatBytes(...elements.map((e=>"number"==typeof e?octetsToBytes([e]):e instanceof Array?octetsToBytes(e):e)))}function isInstance(object,type){return object instanceof type||object?.constructor?.name?.toLowerCase()===type.name}},"./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/buffer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function readUInt16BE(source,offset){return(source[offset+0]<<8|source[offset+1])>>>0}function writeUInt16BE(destination,value,offset=0){return destination[offset+0]=value>>>8,destination[offset+1]=value>>>0,destination}function readUInt8(source,offset){return source[offset]}function writeUInt8(destination,value,offset=0){return destination[offset]=value,destination}function readUInt32BE(source,offset){return source[offset]*2**24+65536*source[offset+1]+256*source[offset+2]+source[offset+3]}function writeUInt32BE(destination,value,offset=0){return destination[offset+3]=value,value>>>=8,destination[offset+2]=value,value>>>=8,destination[offset+1]=value,value>>>=8,destination[offset]=value,destination}__webpack_require__.d(__webpack_exports__,{Gs:()=>writeUInt8,Sw:()=>writeUInt32BE,bb:()=>readUInt32BE,bc:()=>readUInt16BE,ml:()=>writeUInt16BE,pJ:()=>readUInt8})},"./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ChainID,TransactionVersion,PeerNetworkID;__webpack_require__.d(__webpack_exports__,{Fw:()=>PRIVATE_KEY_COMPRESSED_LENGTH,J_:()=>TransactionVersion,n_:()=>ChainID}),function(ChainID){ChainID[ChainID.Testnet=2147483648]="Testnet",ChainID[ChainID.Mainnet=1]="Mainnet"}(ChainID||(ChainID={})),function(TransactionVersion){TransactionVersion[TransactionVersion.Mainnet=0]="Mainnet",TransactionVersion[TransactionVersion.Testnet=128]="Testnet"}(TransactionVersion||(TransactionVersion={})),function(PeerNetworkID){PeerNetworkID[PeerNetworkID.Mainnet=385875968]="Mainnet",PeerNetworkID[PeerNetworkID.Testnet=4278190080]="Testnet"}(PeerNetworkID||(PeerNetworkID={}));const PRIVATE_KEY_COMPRESSED_LENGTH=33},"./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AE:()=>bytesToUtf8,AI:()=>utf8ToBytes,CZ:()=>bigIntToBytes,Id:()=>concatBytes,JJ:()=>toTwos,Mh:()=>asciiToBytes,My:()=>bytesToHex,WI:()=>intToBigInt,aT:()=>hexToBytes,fz:()=>with0x,m5:()=>intToBytes,od:()=>hexToInt,qu:()=>bytesToAscii,uU:()=>hexToBigInt,y6:()=>intToHex,yB:()=>concatArray});function intToBytes(value,signed,byteLength){return bigIntToBytes(intToBigInt(value,signed),byteLength)}function intToBigInt(value,signed){let parsedValue=value;if("number"==typeof parsedValue){if(!Number.isInteger(parsedValue))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(parsedValue>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(parsedValue)}if("string"==typeof parsedValue)if(parsedValue.toLowerCase().startsWith("0x")){let hex=parsedValue.slice(2);hex=hex.padStart(hex.length+hex.length%2,"0"),parsedValue=hexToBytes(hex)}else try{return BigInt(parsedValue)}catch(error){if(error instanceof SyntaxError)throw new RangeError(`Invalid value. String integer '${parsedValue}' is not finite.`)}if("bigint"==typeof parsedValue)return parsedValue;if(parsedValue instanceof Uint8Array){if(signed){const bn=function fromTwos(value,width){if(function nthBit(value,n){return value&BigInt(1)<<n}(value,width-BigInt(1)))return value-(BigInt(1)<<width);return value}(BigInt(`0x${bytesToHex(parsedValue)}`),BigInt(8*parsedValue.byteLength));return BigInt(bn.toString())}return BigInt(`0x${bytesToHex(parsedValue)}`)}if(null!=parsedValue&&"object"==typeof parsedValue&&"BN"===parsedValue.constructor.name)return BigInt(parsedValue.toString());throw new TypeError("Invalid value type. Must be a number, bigint, integer-string, hex-string, or Uint8Array.")}function with0x(value){return value.startsWith("0x")?value:`0x${value}`}function hexToBigInt(hex){if("string"!=typeof hex)throw new TypeError("hexToBigInt: expected string, got "+typeof hex);return BigInt(`0x${hex}`)}function intToHex(integer,lengthBytes=8){return("bigint"==typeof integer?integer:intToBigInt(integer,!1)).toString(16).padStart(2*lengthBytes,"0")}function hexToInt(hex){return parseInt(hex,16)}function bigIntToBytes(value,length=16){return hexToBytes(intToHex(value,length))}function toTwos(value,width){if(value<-(BigInt(1)<<width-BigInt(1))||(BigInt(1)<<width-BigInt(1))-BigInt(1)<value)throw`Unable to represent integer in width: ${width}`;return value>=BigInt(0)?BigInt(value):value+(BigInt(1)<<width)}const hexes=Array.from({length:256},((_,i)=>i.toString(16).padStart(2,"0")));function bytesToHex(uint8a){if(!(uint8a instanceof Uint8Array))throw new Error("Uint8Array expected");let hex="";for(const u of uint8a)hex+=hexes[u];return hex}function hexToBytes(hex){if("string"!=typeof hex)throw new TypeError("hexToBytes: expected string, got "+typeof hex);const paddedHex=(hex=hex.startsWith("0x")||hex.startsWith("0X")?hex.slice(2):hex).length%2?`0${hex}`:hex,array=new Uint8Array(paddedHex.length/2);for(let i=0;i<array.length;i++){const j=2*i,hexByte=paddedHex.slice(j,j+2),byte=Number.parseInt(hexByte,16);if(Number.isNaN(byte)||byte<0)throw new Error("Invalid byte sequence");array[i]=byte}return array}function utf8ToBytes(str){return(new TextEncoder).encode(str)}function bytesToUtf8(arr){return(new TextDecoder).decode(arr)}function asciiToBytes(str){const byteArray=[];for(let i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return new Uint8Array(byteArray)}function bytesToAscii(arr){return String.fromCharCode.apply(null,arr)}function isNotOctet(octet){return!Number.isInteger(octet)||octet<0||octet>255}function octetsToBytes(numbers){if(numbers.some(isNotOctet))throw new Error("Some values are invalid bytes.");return new Uint8Array(numbers)}function concatBytes(...arrays){if(!arrays.every((a=>a instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===arrays.length)return arrays[0];const length=arrays.reduce(((a,arr)=>a+arr.length),0),result=new Uint8Array(length);for(let i=0,pad=0;i<arrays.length;i++){const arr=arrays[i];result.set(arr,pad),pad+=arr.length}return result}function concatArray(elements){return concatBytes(...elements.map((e=>"number"==typeof e?octetsToBytes([e]):e instanceof Array?octetsToBytes(e):e)))}},"./node_modules/.pnpm/@stacks+connect-ui@6.5.0/node_modules/@stacks/connect-ui/dist/esm/index-f9076013.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>bootstrapLazy,g:()=>getElement,h:()=>h,p:()=>promiseResolve,r:()=>registerInstance});let scopeId,hostTagName,isSvgMode=!1,queuePending=!1;const EMPTY_OBJ={},isComplexType=o=>"object"===(o=typeof o)||"function"===o;function queryNonceMetaTagContent(doc){var _a,_b,_c;return null!==(_c=null===(_b=null===(_a=doc.head)||void 0===_a?void 0:_a.querySelector('meta[name="csp-nonce"]'))||void 0===_b?void 0:_b.getAttribute("content"))&&void 0!==_c?_c:void 0}const h=(nodeName,vnodeData,...children)=>{let child=null,simple=!1,lastSimple=!1;const vNodeChildren=[],walk=c=>{for(let i=0;i<c.length;i++)child=c[i],Array.isArray(child)?walk(child):null!=child&&"boolean"!=typeof child&&((simple="function"!=typeof nodeName&&!isComplexType(child))&&(child=String(child)),simple&&lastSimple?vNodeChildren[vNodeChildren.length-1].$text$+=child:vNodeChildren.push(simple?newVNode(null,child):child),lastSimple=simple)};if(walk(children),vnodeData){const classData=vnodeData.className||vnodeData.class;classData&&(vnodeData.class="object"!=typeof classData?classData:Object.keys(classData).filter((k=>classData[k])).join(" "))}const vnode=newVNode(nodeName,null);return vnode.$attrs$=vnodeData,vNodeChildren.length>0&&(vnode.$children$=vNodeChildren),vnode},newVNode=(tag,text)=>{const vnode={$flags$:0,$tag$:tag,$text$:text,$elm$:null,$children$:null,$attrs$:null};return vnode},Host={},getElement=ref=>getHostRef(ref).$hostElement$,rootAppliedStyles=new WeakMap,attachStyles=hostRef=>{const cmpMeta=hostRef.$cmpMeta$,elm=hostRef.$hostElement$,flags=cmpMeta.$flags$,endAttachStyles=(cmpMeta.$tagName$,()=>{}),scopeId=((styleContainerNode,cmpMeta)=>{var _a;let scopeId=getScopeId(cmpMeta);const style=styles.get(scopeId);if(styleContainerNode=11===styleContainerNode.nodeType?styleContainerNode:doc,style)if("string"==typeof style){styleContainerNode=styleContainerNode.head||styleContainerNode;let styleElm,appliedStyles=rootAppliedStyles.get(styleContainerNode);if(appliedStyles||rootAppliedStyles.set(styleContainerNode,appliedStyles=new Set),!appliedStyles.has(scopeId)){{styleElm=doc.createElement("style"),styleElm.innerHTML=style;const nonce=null!==(_a=plt.$nonce$)&&void 0!==_a?_a:queryNonceMetaTagContent(doc);null!=nonce&&styleElm.setAttribute("nonce",nonce),styleContainerNode.insertBefore(styleElm,styleContainerNode.querySelector("link"))}appliedStyles&&appliedStyles.add(scopeId)}}else styleContainerNode.adoptedStyleSheets.includes(style)||(styleContainerNode.adoptedStyleSheets=[...styleContainerNode.adoptedStyleSheets,style]);return scopeId})(elm.shadowRoot?elm.shadowRoot:elm.getRootNode(),cmpMeta);10&flags&&(elm["s-sc"]=scopeId,elm.classList.add(scopeId+"-h")),endAttachStyles()},getScopeId=(cmp,mode)=>"sc-"+cmp.$tagName$,setAccessor=(elm,memberName,oldValue,newValue,isSvg,flags)=>{if(oldValue!==newValue){let isProp=isMemberInElement(elm,memberName),ln=memberName.toLowerCase();if("class"===memberName){const classList=elm.classList,oldClasses=parseClassList(oldValue),newClasses=parseClassList(newValue);classList.remove(...oldClasses.filter((c=>c&&!newClasses.includes(c)))),classList.add(...newClasses.filter((c=>c&&!oldClasses.includes(c))))}else if(isProp||"o"!==memberName[0]||"n"!==memberName[1]){const isComplex=isComplexType(newValue);if((isProp||isComplex&&null!==newValue)&&!isSvg)try{if(elm.tagName.includes("-"))elm[memberName]=newValue;else{const n=null==newValue?"":newValue;"list"===memberName?isProp=!1:null!=oldValue&&elm[memberName]==n||(elm[memberName]=n)}}catch(e){}null==newValue||!1===newValue?!1===newValue&&""!==elm.getAttribute(memberName)||elm.removeAttribute(memberName):(!isProp||4&flags||isSvg)&&!isComplex&&(newValue=!0===newValue?"":newValue,elm.setAttribute(memberName,newValue))}else memberName="-"===memberName[2]?memberName.slice(3):isMemberInElement(win,ln)?ln.slice(2):ln[2]+memberName.slice(3),oldValue&&plt.rel(elm,memberName,oldValue,!1),newValue&&plt.ael(elm,memberName,newValue,!1)}},parseClassListRegex=/\s/,parseClassList=value=>value?value.split(parseClassListRegex):[],updateElement=(oldVnode,newVnode,isSvgMode,memberName)=>{const elm=11===newVnode.$elm$.nodeType&&newVnode.$elm$.host?newVnode.$elm$.host:newVnode.$elm$,oldVnodeAttrs=oldVnode&&oldVnode.$attrs$||EMPTY_OBJ,newVnodeAttrs=newVnode.$attrs$||EMPTY_OBJ;for(memberName in oldVnodeAttrs)memberName in newVnodeAttrs||setAccessor(elm,memberName,oldVnodeAttrs[memberName],void 0,isSvgMode,newVnode.$flags$);for(memberName in newVnodeAttrs)setAccessor(elm,memberName,oldVnodeAttrs[memberName],newVnodeAttrs[memberName],isSvgMode,newVnode.$flags$)},createElm=(oldParentVNode,newParentVNode,childIndex,parentElm)=>{const newVNode=newParentVNode.$children$[childIndex];let elm,childNode,i=0;if(null!==newVNode.$text$)elm=newVNode.$elm$=doc.createTextNode(newVNode.$text$);else{if(isSvgMode||(isSvgMode="svg"===newVNode.$tag$),elm=newVNode.$elm$=doc.createElementNS(isSvgMode?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",newVNode.$tag$),isSvgMode&&"foreignObject"===newVNode.$tag$&&(isSvgMode=!1),updateElement(null,newVNode,isSvgMode),null!=scopeId&&elm["s-si"]!==scopeId&&elm.classList.add(elm["s-si"]=scopeId),newVNode.$children$)for(i=0;i<newVNode.$children$.length;++i)childNode=createElm(oldParentVNode,newVNode,i),childNode&&elm.appendChild(childNode);"svg"===newVNode.$tag$?isSvgMode=!1:"foreignObject"===elm.tagName&&(isSvgMode=!0)}return elm},addVnodes=(parentElm,before,parentVNode,vnodes,startIdx,endIdx)=>{let childNode,containerElm=parentElm;for(containerElm.shadowRoot&&containerElm.tagName===hostTagName&&(containerElm=containerElm.shadowRoot);startIdx<=endIdx;++startIdx)vnodes[startIdx]&&(childNode=createElm(null,parentVNode,startIdx),childNode&&(vnodes[startIdx].$elm$=childNode,containerElm.insertBefore(childNode,before)))},removeVnodes=(vnodes,startIdx,endIdx,vnode,elm)=>{for(;startIdx<=endIdx;++startIdx)(vnode=vnodes[startIdx])&&vnode.$elm$.remove()},isSameVnode=(leftVNode,rightVNode)=>leftVNode.$tag$===rightVNode.$tag$,patch=(oldVNode,newVNode)=>{const elm=newVNode.$elm$=oldVNode.$elm$,oldChildren=oldVNode.$children$,newChildren=newVNode.$children$,tag=newVNode.$tag$,text=newVNode.$text$;null===text?(isSvgMode="svg"===tag||"foreignObject"!==tag&&isSvgMode,updateElement(oldVNode,newVNode,isSvgMode),null!==oldChildren&&null!==newChildren?((parentElm,oldCh,newVNode,newCh)=>{let node,oldStartIdx=0,newStartIdx=0,oldEndIdx=oldCh.length-1,oldStartVnode=oldCh[0],oldEndVnode=oldCh[oldEndIdx],newEndIdx=newCh.length-1,newStartVnode=newCh[0],newEndVnode=newCh[newEndIdx];for(;oldStartIdx<=oldEndIdx&&newStartIdx<=newEndIdx;)null==oldStartVnode?oldStartVnode=oldCh[++oldStartIdx]:null==oldEndVnode?oldEndVnode=oldCh[--oldEndIdx]:null==newStartVnode?newStartVnode=newCh[++newStartIdx]:null==newEndVnode?newEndVnode=newCh[--newEndIdx]:isSameVnode(oldStartVnode,newStartVnode)?(patch(oldStartVnode,newStartVnode),oldStartVnode=oldCh[++oldStartIdx],newStartVnode=newCh[++newStartIdx]):isSameVnode(oldEndVnode,newEndVnode)?(patch(oldEndVnode,newEndVnode),oldEndVnode=oldCh[--oldEndIdx],newEndVnode=newCh[--newEndIdx]):isSameVnode(oldStartVnode,newEndVnode)?(patch(oldStartVnode,newEndVnode),parentElm.insertBefore(oldStartVnode.$elm$,oldEndVnode.$elm$.nextSibling),oldStartVnode=oldCh[++oldStartIdx],newEndVnode=newCh[--newEndIdx]):isSameVnode(oldEndVnode,newStartVnode)?(patch(oldEndVnode,newStartVnode),parentElm.insertBefore(oldEndVnode.$elm$,oldStartVnode.$elm$),oldEndVnode=oldCh[--oldEndIdx],newStartVnode=newCh[++newStartIdx]):(node=createElm(oldCh&&oldCh[newStartIdx],newVNode,newStartIdx),newStartVnode=newCh[++newStartIdx],node&&oldStartVnode.$elm$.parentNode.insertBefore(node,oldStartVnode.$elm$));oldStartIdx>oldEndIdx?addVnodes(parentElm,null==newCh[newEndIdx+1]?null:newCh[newEndIdx+1].$elm$,newVNode,newCh,newStartIdx,newEndIdx):newStartIdx>newEndIdx&&removeVnodes(oldCh,oldStartIdx,oldEndIdx)})(elm,oldChildren,newVNode,newChildren):null!==newChildren?(null!==oldVNode.$text$&&(elm.textContent=""),addVnodes(elm,null,newVNode,newChildren,0,newChildren.length-1)):null!==oldChildren&&removeVnodes(oldChildren,0,oldChildren.length-1),isSvgMode&&"svg"===tag&&(isSvgMode=!1)):oldVNode.$text$!==text&&(elm.data=text)},renderVdom=(hostRef,renderFnResults)=>{const hostElm=hostRef.$hostElement$,oldVNode=hostRef.$vnode$||newVNode(null,null),rootVnode=(node=renderFnResults)&&node.$tag$===Host?renderFnResults:h(null,null,renderFnResults);var node;hostTagName=hostElm.tagName,rootVnode.$tag$=null,rootVnode.$flags$|=4,hostRef.$vnode$=rootVnode,rootVnode.$elm$=oldVNode.$elm$=hostElm.shadowRoot||hostElm,scopeId=hostElm["s-sc"],patch(oldVNode,rootVnode)},attachToAncestor=(hostRef,ancestorComponent)=>{ancestorComponent&&!hostRef.$onRenderResolve$&&ancestorComponent["s-p"]&&ancestorComponent["s-p"].push(new Promise((r=>hostRef.$onRenderResolve$=r)))},scheduleUpdate=(hostRef,isInitialLoad)=>{if(hostRef.$flags$|=16,4&hostRef.$flags$)return void(hostRef.$flags$|=512);attachToAncestor(hostRef,hostRef.$ancestorComponent$);return writeTask((()=>dispatchHooks(hostRef,isInitialLoad)))},dispatchHooks=(hostRef,isInitialLoad)=>{const endSchedule=(hostRef.$cmpMeta$.$tagName$,()=>{}),instance=hostRef.$lazyInstance$;return endSchedule(),then(undefined,(()=>updateComponent(hostRef,instance,isInitialLoad)))},updateComponent=async(hostRef,instance,isInitialLoad)=>{const elm=hostRef.$hostElement$,endUpdate=(hostRef.$cmpMeta$.$tagName$,()=>{}),rc=elm["s-rc"];isInitialLoad&&attachStyles(hostRef);const endRender=(hostRef.$cmpMeta$.$tagName$,()=>{});callRender(hostRef,instance),rc&&(rc.map((cb=>cb())),elm["s-rc"]=void 0),endRender(),endUpdate();{const childrenPromises=elm["s-p"],postUpdate=()=>postUpdateComponent(hostRef);0===childrenPromises.length?postUpdate():(Promise.all(childrenPromises).then(postUpdate),hostRef.$flags$|=4,childrenPromises.length=0)}},callRender=(hostRef,instance,elm)=>{try{instance=instance.render(),hostRef.$flags$&=-17,hostRef.$flags$|=2,renderVdom(hostRef,instance)}catch(e){consoleError(e,hostRef.$hostElement$)}return null},postUpdateComponent=hostRef=>{hostRef.$cmpMeta$.$tagName$;const elm=hostRef.$hostElement$,endPostUpdate=()=>{},ancestorComponent=hostRef.$ancestorComponent$;64&hostRef.$flags$?endPostUpdate():(hostRef.$flags$|=64,addHydratedFlag(elm),endPostUpdate(),hostRef.$onReadyResolve$(elm),ancestorComponent||appDidLoad()),hostRef.$onRenderResolve$&&(hostRef.$onRenderResolve$(),hostRef.$onRenderResolve$=void 0),512&hostRef.$flags$&&nextTick((()=>scheduleUpdate(hostRef,!1))),hostRef.$flags$&=-517},appDidLoad=who=>{addHydratedFlag(doc.documentElement),nextTick((()=>((elm,name,opts)=>{const ev=plt.ce(name,opts);return elm.dispatchEvent(ev),ev})(win,"appload",{detail:{namespace:"connect-ui"}})))},then=(promise,thenFn)=>promise&&promise.then?promise.then(thenFn):thenFn(),addHydratedFlag=elm=>elm.classList.add("hydrated"),setValue=(ref,propName,newVal,cmpMeta)=>{const hostRef=getHostRef(ref),oldVal=hostRef.$instanceValues$.get(propName),flags=hostRef.$flags$,instance=hostRef.$lazyInstance$;var propValue,propType;propValue=newVal,propType=cmpMeta.$members$[propName][0],newVal=null==propValue||isComplexType(propValue)?propValue:4&propType?"false"!==propValue&&(""===propValue||!!propValue):propValue;const areBothNaN=Number.isNaN(oldVal)&&Number.isNaN(newVal);8&flags&&void 0!==oldVal||!(newVal!==oldVal&&!areBothNaN)||(hostRef.$instanceValues$.set(propName,newVal),instance&&2==(18&flags)&&scheduleUpdate(hostRef,!1))},proxyComponent=(Cstr,cmpMeta,flags)=>{if(cmpMeta.$members$){const members=Object.entries(cmpMeta.$members$),prototype=Cstr.prototype;if(members.map((([memberName,[memberFlags]])=>{(31&memberFlags||2&flags&&32&memberFlags)&&Object.defineProperty(prototype,memberName,{get(){return propName=memberName,getHostRef(this).$instanceValues$.get(propName);var propName},set(newValue){setValue(this,memberName,newValue,cmpMeta)},configurable:!0,enumerable:!0})})),1&flags){const attrNameToPropName=new Map;prototype.attributeChangedCallback=function(attrName,_oldValue,newValue){plt.jmp((()=>{const propName=attrNameToPropName.get(attrName);if(this.hasOwnProperty(propName))newValue=this[propName],delete this[propName];else if(prototype.hasOwnProperty(propName)&&"number"==typeof this[propName]&&this[propName]==newValue)return;this[propName]=(null!==newValue||"boolean"!=typeof this[propName])&&newValue}))},Cstr.observedAttributes=members.filter((([_,m])=>15&m[0])).map((([propName,m])=>{const attrName=m[1]||propName;return attrNameToPropName.set(attrName,propName),attrName}))}}return Cstr},initializeComponent=async(elm,hostRef,cmpMeta,hmrVersionId,Cstr)=>{if(!(32&hostRef.$flags$)){{if(hostRef.$flags$|=32,(Cstr=loadModule(cmpMeta)).then){const endLoad=()=>{};Cstr=await Cstr,endLoad()}Cstr.isProxied||(proxyComponent(Cstr,cmpMeta,2),Cstr.isProxied=!0);const endNewInstance=(cmpMeta.$tagName$,()=>{});hostRef.$flags$|=8;try{new Cstr(hostRef)}catch(e){consoleError(e)}hostRef.$flags$&=-9,endNewInstance()}if(Cstr.style){let style=Cstr.style;const scopeId=getScopeId(cmpMeta);if(!styles.has(scopeId)){const endRegisterStyles=(cmpMeta.$tagName$,()=>{});((scopeId,cssText,allowCS)=>{let style=styles.get(scopeId);supportsConstructableStylesheets&&allowCS?(style=style||new CSSStyleSheet,"string"==typeof style?style=cssText:style.replaceSync(cssText)):style=cssText,styles.set(scopeId,style)})(scopeId,style,!!(1&cmpMeta.$flags$)),endRegisterStyles()}}}const ancestorComponent=hostRef.$ancestorComponent$,schedule=()=>scheduleUpdate(hostRef,!0);ancestorComponent&&ancestorComponent["s-rc"]?ancestorComponent["s-rc"].push(schedule):schedule()},bootstrapLazy=(lazyBundles,options={})=>{var _a;const endBootstrap=()=>{},cmpTags=[],exclude=options.exclude||[],customElements=win.customElements,head=doc.head,metaCharset=head.querySelector("meta[charset]"),visibilityStyle=doc.createElement("style"),deferredConnectedCallbacks=[];let appLoadFallback,isBootstrapping=!0;Object.assign(plt,options),plt.$resourcesUrl$=new URL(options.resourcesUrl||"./",doc.baseURI).href,lazyBundles.map((lazyBundle=>{lazyBundle[1].map((compactMeta=>{const cmpMeta={$flags$:compactMeta[0],$tagName$:compactMeta[1],$members$:compactMeta[2],$listeners$:compactMeta[3]};cmpMeta.$members$=compactMeta[2];const tagName=cmpMeta.$tagName$,HostElement=class extends HTMLElement{constructor(self){super(self),registerHost(self=this,cmpMeta),1&cmpMeta.$flags$&&self.attachShadow({mode:"open"})}connectedCallback(){appLoadFallback&&(clearTimeout(appLoadFallback),appLoadFallback=null),isBootstrapping?deferredConnectedCallbacks.push(this):plt.jmp((()=>(elm=>{if(!(1&plt.$flags$)){const hostRef=getHostRef(elm),cmpMeta=hostRef.$cmpMeta$,endConnected=(cmpMeta.$tagName$,()=>{});if(!(1&hostRef.$flags$)){hostRef.$flags$|=1;{let ancestorComponent=elm;for(;ancestorComponent=ancestorComponent.parentNode||ancestorComponent.host;)if(ancestorComponent["s-p"]){attachToAncestor(hostRef,hostRef.$ancestorComponent$=ancestorComponent);break}}cmpMeta.$members$&&Object.entries(cmpMeta.$members$).map((([memberName,[memberFlags]])=>{if(31&memberFlags&&elm.hasOwnProperty(memberName)){const value=elm[memberName];delete elm[memberName],elm[memberName]=value}})),initializeComponent(0,hostRef,cmpMeta)}endConnected()}})(this)))}disconnectedCallback(){plt.jmp((()=>{return elm=this,void(1&plt.$flags$||getHostRef(elm));var elm}))}componentOnReady(){return getHostRef(this).$onReadyPromise$}};cmpMeta.$lazyBundleId$=lazyBundle[0],exclude.includes(tagName)||customElements.get(tagName)||(cmpTags.push(tagName),customElements.define(tagName,proxyComponent(HostElement,cmpMeta,1)))}))}));{visibilityStyle.innerHTML=cmpTags+"{visibility:hidden}.hydrated{visibility:inherit}",visibilityStyle.setAttribute("data-styles","");const nonce=null!==(_a=plt.$nonce$)&&void 0!==_a?_a:queryNonceMetaTagContent(doc);null!=nonce&&visibilityStyle.setAttribute("nonce",nonce),head.insertBefore(visibilityStyle,metaCharset?metaCharset.nextSibling:head.firstChild)}isBootstrapping=!1,deferredConnectedCallbacks.length?deferredConnectedCallbacks.map((host=>host.connectedCallback())):plt.jmp((()=>appLoadFallback=setTimeout(appDidLoad,30))),endBootstrap()},hostRefs=new WeakMap,getHostRef=ref=>hostRefs.get(ref),registerInstance=(lazyInstance,hostRef)=>hostRefs.set(hostRef.$lazyInstance$=lazyInstance,hostRef),registerHost=(elm,cmpMeta)=>{const hostRef={$flags$:0,$hostElement$:elm,$cmpMeta$:cmpMeta,$instanceValues$:new Map};return hostRef.$onReadyPromise$=new Promise((r=>hostRef.$onReadyResolve$=r)),elm["s-p"]=[],elm["s-rc"]=[],hostRefs.set(elm,hostRef)},isMemberInElement=(elm,memberName)=>memberName in elm,consoleError=(e,el)=>(0,console.error)(e,el),cmpModules=new Map,loadModule=(cmpMeta,hostRef,hmrVersionId)=>{const exportName=cmpMeta.$tagName$.replace(/-/g,"_"),bundleId=cmpMeta.$lazyBundleId$,module=cmpModules.get(bundleId);if(module)return module[exportName];if(!hmrVersionId||!BUILD.hotModuleReplacement){const processMod=importedModule=>(cmpModules.set(bundleId,importedModule),importedModule[exportName]);if("connect-modal"===bundleId)return __webpack_require__.e(445).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/@stacks+connect-ui@6.5.0/node_modules/@stacks/connect-ui/dist/esm/connect-modal.entry.js")).then(processMod,consoleError)}return __webpack_require__("./node_modules/.pnpm/@stacks+connect-ui@6.5.0/node_modules/@stacks/connect-ui/dist/esm lazy recursive ^\\.\\/.*\\.entry\\.js$ include: \\.entry\\.js$ exclude: \\.system\\.entry\\.js$")(`./${bundleId}.entry.js`).then((importedModule=>(cmpModules.set(bundleId,importedModule),importedModule[exportName])),consoleError)},styles=new Map,win="undefined"!=typeof window?window:{},doc=win.document||{head:{}},plt={$flags$:0,$resourcesUrl$:"",jmp:h=>h(),raf:h=>requestAnimationFrame(h),ael:(el,eventName,listener,opts)=>el.addEventListener(eventName,listener,opts),rel:(el,eventName,listener,opts)=>el.removeEventListener(eventName,listener,opts),ce:(eventName,opts)=>new CustomEvent(eventName,opts)},promiseResolve=v=>Promise.resolve(v),supportsConstructableStylesheets=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1})(),queueDomReads=[],queueDomWrites=[],queueTask=(queue,write)=>cb=>{queue.push(cb),queuePending||(queuePending=!0,write&&4&plt.$flags$?nextTick(flush):plt.raf(flush))},consume=queue=>{for(let i=0;i<queue.length;i++)try{queue[i](performance.now())}catch(e){consoleError(e)}queue.length=0},flush=()=>{consume(queueDomReads),consume(queueDomWrites),(queuePending=queueDomReads.length>0)&&plt.raf(flush)},nextTick=cb=>promiseResolve().then(cb),writeTask=queueTask(queueDomWrites,!0)},"./node_modules/.pnpm/@stacks+connect-ui@6.5.0/node_modules/@stacks/connect-ui/dist/esm/session-9db1cb8a.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>getInstalledProviders,b:()=>getProviderFromId,c:()=>getSelectedProviderId,d:()=>clearSelectedProviderId,s:()=>setSelectedProviderId});const getInstalledProviders=(defaultProviders=[])=>{if("undefined"==typeof window)return[];const registeredProviders="undefined"==typeof window?[]:window.webbtc_stx_providers?window.webbtc_stx_providers:[],additionalInstalledProviders=defaultProviders.filter((defaultProvider=>{if(registeredProviders.find((rp=>rp.id===defaultProvider.id)))return!1;return!!getProviderFromId(defaultProvider.id)}));return registeredProviders.concat(additionalInstalledProviders)},getProviderFromId=id=>null==id?void 0:id.split(".").reduce(((acc,part)=>null==acc?void 0:acc[part]),window),getSelectedProviderId=()=>"undefined"==typeof window?null:window.localStorage.getItem("STX_PROVIDER"),setSelectedProviderId=provider=>{"undefined"!=typeof window&&window.localStorage.setItem("STX_PROVIDER",provider)},clearSelectedProviderId=()=>{"undefined"!=typeof window&&window.localStorage.removeItem("STX_PROVIDER")}},"./node_modules/.pnpm/@stacks+connect@7.9.0_encoding@0.1.13/node_modules/@stacks/connect/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AppConfig:()=>AppConfig,BLOCKSTACK_APP_PRIVATE_KEY_LABEL:()=>BLOCKSTACK_APP_PRIVATE_KEY_LABEL,BLOCKSTACK_HANDLER:()=>BLOCKSTACK_HANDLER,BLOCKSTACK_STORAGE_LABEL:()=>BLOCKSTACK_STORAGE_LABEL,ContractCallArgumentType:()=>gt,DEFAULT_BLOCKSTACK_HOST:()=>DEFAULT_BLOCKSTACK_HOST,DEFAULT_CORE_NODE:()=>DEFAULT_CORE_NODE,DEFAULT_PROFILE:()=>DEFAULT_PROFILE,DEFAULT_PROVIDERS:()=>$,DEFAULT_SCOPE:()=>DEFAULT_SCOPE,LOCALSTORAGE_SESSION_KEY:()=>LOCALSTORAGE_SESSION_KEY,NAME_LOOKUP_PATH:()=>NAME_LOOKUP_PATH,SignatureHash:()=>oe,TransactionTypes:()=>dt,UserSession:()=>UserSession,authenticate:()=>U,clearSelectedProviderId:()=>session_9db1cb8a.d,decryptPrivateKey:()=>decryptPrivateKey,defaultAuthURL:()=>Ie,disconnect:()=>hn,doPublicKeysMatchIssuer:()=>doPublicKeysMatchIssuer,doSignaturesMatchPublicKeys:()=>doSignaturesMatchPublicKeys,fetchAppManifest:()=>fetchAppManifest,getAddressFromDID:()=>getAddressFromDID,getAuthRequestFromURL:()=>getAuthRequestFromURL,getDIDType:()=>getDIDType,getDefaultProfileUpdateRequestOptions:()=>$t,getDefaultPsbtRequestOptions:()=>ht,getDefaultSignatureRequestOptions:()=>m,getKeys:()=>S,getNameInfo:()=>getNameInfo,getOrCreateUserSession:()=>b,getSelectedProviderId:()=>session_9db1cb8a.c,getStacksProvider:()=>d,getStxAddress:()=>At,getUserData:()=>je,getUserSession:()=>D,hasAppPrivateKey:()=>M,isExpirationDateValid:()=>isExpirationDateValid,isIssuanceDateValid:()=>isIssuanceDateValid,isManifestUriValid:()=>isManifestUriValid,isMobile:()=>lt,isRedirectUriValid:()=>isRedirectUriValid,isStacksWalletInstalled:()=>ge,legacyNetworkFromConnectNetwork:()=>y,lookupProfile:()=>lookupProfile,makeAuthRequest:()=>makeAuthRequest,makeAuthRequestToken:()=>makeAuthRequestToken,makeAuthResponse:()=>makeAuthResponse,makeContractCallToken:()=>ft,makeContractDeployToken:()=>wt,makeDIDFromAddress:()=>makeDIDFromAddress,makeDIDFromPublicKey:()=>makeDIDFromPublicKey,makeProfileUpdateToken:()=>ee,makePsbtToken:()=>bt,makeSTXTransferToken:()=>Pt,makeSignTransaction:()=>mt,openContractCall:()=>Y,openContractDeploy:()=>B,openProfileUpdateRequestPopup:()=>H,openPsbtRequestPopup:()=>F,openSTXTransfer:()=>G,openSignTransaction:()=>q,openSignatureRequestPopup:()=>W,openStructuredDataSignatureRequestPopup:()=>J,setSelectedProviderId:()=>session_9db1cb8a.s,shouldUsePopup:()=>Ce,showBlockstackConnect:()=>zn,showConnect:()=>ce,showContractCall:()=>fn,showContractDeploy:()=>wn,showProfileUpdate:()=>On,showPsbt:()=>mn,showSTXTransfer:()=>Nn,showSignMessage:()=>kn,showSignStructuredMessage:()=>En,showSignTransaction:()=>Pn,signMessage:()=>Gt,signStructuredMessage:()=>Xt,verifyAuthRequest:()=>verifyAuthRequest,verifyAuthRequestAndLoadManifest:()=>verifyAuthRequestAndLoadManifest,verifyAuthResponse:()=>verifyAuthResponse});const BLOCKSTACK_HANDLER="blockstack",BLOCKSTACK_STORAGE_LABEL="blockstack",DEFAULT_BLOCKSTACK_HOST="https://browser.blockstack.org/auth",DEFAULT_PROFILE={"@type":"Person","@context":"http://schema.org"},DEFAULT_SCOPE=["store_write"],BLOCKSTACK_APP_PRIVATE_KEY_LABEL="blockstack-transit-private-key",DEFAULT_CORE_NODE="https://api.hiro.so",NAME_LOOKUP_PATH="/v1/names",LOCALSTORAGE_SESSION_KEY="blockstack-session",config_logLevel="debug",levels=["debug","info","warn","error","none"],levelToInt={},intToLevel={};for(let index=0;index<levels.length;index++){const level=levels[index];levelToInt[level]=index,intToLevel[index]=level}class logger_Logger{static error(message){this.shouldLog("error")&&console.error(this.logMessage("error",message))}static warn(message){this.shouldLog("warn")&&console.warn(this.logMessage("warn",message))}static info(message){this.shouldLog("info")&&console.log(this.logMessage("info",message))}static debug(message){this.shouldLog("debug")&&console.log(this.logMessage("debug",message))}static logMessage(level,message){return`[${level.toUpperCase()}] ${message}`}static shouldLog(level){return levelToInt[config_logLevel]<=levelToInt[level]}}const utils_BLOCKSTACK_HANDLER="blockstack";function nextMonth(){return new Date((new Date).setMonth((new Date).getMonth()+1))}function isLaterVersion(v1,v2){void 0!==v1&&""!==v1||(v1="0.0.0"),void 0!==v2&&""!==v1||(v2="0.0.0");const v1tuple=v1.split(".").map((x=>parseInt(x,10))),v2tuple=v2.split(".").map((x=>parseInt(x,10)));for(let index=0;index<v2.length;index++)if(index>=v1.length&&v2tuple.push(0),v1tuple[index]<v2tuple[index])return!1;return!0}function makeUUID4(){let d=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(d+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(c=>{const r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"===c?r:3&r|8).toString(16)}))}function isSameOriginAbsoluteUrl(uri1,uri2){try{const parsedUri1=new URL(uri1),parsedUri2=new URL(uri2),port1=0|parseInt(parsedUri1.port||"0",10)||("https:"===parsedUri1.protocol?443:80),port2=0|parseInt(parsedUri2.port||"0",10)||("https:"===parsedUri2.protocol?443:80),match={scheme:parsedUri1.protocol===parsedUri2.protocol,hostname:parsedUri1.hostname===parsedUri2.hostname,port:port1===port2,absolute:(uri1.includes("http://")||uri1.includes("https://"))&&(uri2.includes("http://")||uri2.includes("https://"))};return match.scheme&&match.hostname&&match.port&&match.absolute}catch(error){return console.log(error),console.log("Parsing error in same URL origin check"),!1}}function getGlobalScope(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw new Error("Unexpected runtime environment - no supported global scope (`window`, `self`, `global`) available")}function getAPIUsageErrorMessage(scopeObject,apiName,usageDesc){return usageDesc?`Use of '${usageDesc}' requires \`${apiName}\` which is unavailable on the '${scopeObject}' object within the currently executing environment.`:`\`${apiName}\` is unavailable on the '${scopeObject}' object within the currently executing environment.`}function getGlobalObject(name,{throwIfUnavailable,usageDesc,returnEmptyObject}={}){let globalScope;try{if(globalScope=getGlobalScope(),globalScope){const obj=globalScope[name];if(obj)return obj}}catch(error){logger_Logger.error(`Error getting object '${name}' from global scope '${globalScope}': ${error}`)}if(throwIfUnavailable){const errMsg=getAPIUsageErrorMessage(globalScope,name.toString(),usageDesc);throw logger_Logger.error(errMsg),new Error(errMsg)}if(returnEmptyObject)return{}}function intToBytes(value,byteLength){return utils_bigIntToBytes(utils_intToBigInt(value),byteLength)}function utils_intToBigInt(value){if("bigint"==typeof value)return value;if("string"==typeof value)return BigInt(value);if("number"==typeof value){if(!Number.isInteger(value))throw new RangeError("Invalid value. Values of type 'number' must be an integer.");if(value>Number.MAX_SAFE_INTEGER)throw new RangeError(`Invalid value. Values of type 'number' must be less than or equal to ${Number.MAX_SAFE_INTEGER}. For larger values, try using a BigInt instead.`);return BigInt(value)}if(isInstance(value,Uint8Array))return BigInt(`0x${utils_bytesToHex(value)}`);throw new TypeError("intToBigInt: Invalid value type. Must be a number, bigint, BigInt-compatible string, or Uint8Array.")}function without0x(value){return/^0x/i.test(value)?value.slice(2):value}function utils_hexToBigInt(hex){if("string"!=typeof hex)throw new TypeError("hexToBigInt: expected string, got "+typeof hex);return BigInt(`0x${hex}`)}function intToHex(integer,byteLength=8){return("bigint"==typeof integer?integer:utils_intToBigInt(integer)).toString(16).padStart(2*byteLength,"0")}function hexToInt(hex){return parseInt(hex,16)}function utils_bigIntToBytes(value,length=16){return utils_hexToBytes(intToHex(value,length))}function bytesToTwosBigInt(bytes){return function fromTwos(value,width){if(function nthBit(value,n){return value&BigInt(1)<<n}(value,width-BigInt(1)))return value-(BigInt(1)<<width);return value}(BigInt(`0x${utils_bytesToHex(bytes)}`),BigInt(8*bytes.byteLength))}const hexes=Array.from({length:256},((_,i)=>i.toString(16).padStart(2,"0")));function utils_bytesToHex(uint8a){if(!(uint8a instanceof Uint8Array))throw new Error("Uint8Array expected");let hex="";for(const u of uint8a)hex+=hexes[u];return hex}function utils_hexToBytes(hex){if("string"!=typeof hex)throw new TypeError("hexToBytes: expected string, got "+typeof hex);hex=(hex=without0x(hex)).length%2?`0${hex}`:hex;const array=new Uint8Array(hex.length/2);for(let i=0;i<array.length;i++){const j=2*i,hexByte=hex.slice(j,j+2),byte=Number.parseInt(hexByte,16);if(Number.isNaN(byte)||byte<0)throw new Error("Invalid byte sequence");array[i]=byte}return array}function utils_utf8ToBytes(str){return(new TextEncoder).encode(str)}function bytesToUtf8(arr){return(new TextDecoder).decode(arr)}function isNotOctet(octet){return!Number.isInteger(octet)||octet<0||octet>255}function octetsToBytes(numbers){if(numbers.some(isNotOctet))throw new Error("Some values are invalid bytes.");return new Uint8Array(numbers)}function concatBytes(...arrays){if(!arrays.every((a=>a instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===arrays.length)return arrays[0];const length=arrays.reduce(((a,arr)=>a+arr.length),0),result=new Uint8Array(length);for(let i=0,pad=0;i<arrays.length;i++){const arr=arrays[i];result.set(arr,pad),pad+=arr.length}return result}function concatArray(elements){return concatBytes(...elements.map((e=>"number"==typeof e?octetsToBytes([e]):e instanceof Array?octetsToBytes(e):e)))}function isInstance(object,clazz){return object instanceof clazz||object?.constructor?.name?.toLowerCase()===clazz.name}class AppConfig{constructor(scopes=DEFAULT_SCOPE.slice(),appDomain=getGlobalObject("location",{returnEmptyObject:!0})?.origin,redirectPath="",manifestPath="/manifest.json",coreNode=void 0,authenticatorURL=DEFAULT_BLOCKSTACK_HOST){this.appDomain=appDomain,this.scopes=scopes,this.redirectPath=redirectPath,this.manifestPath=manifestPath,this.coreNode=coreNode,this.authenticatorURL=authenticatorURL}redirectURI(){return`${this.appDomain}${this.redirectPath}`}manifestURI(){return`${this.appDomain}${this.manifestPath}`}}const ERROR_CODES={MISSING_PARAMETER:"missing_parameter",REMOTE_SERVICE_ERROR:"remote_service_error",INVALID_STATE:"invalid_state",NO_SESSION_DATA:"no_session_data",DOES_NOT_EXIST:"does_not_exist",FAILED_DECRYPTION_ERROR:"failed_decryption_error",INVALID_DID_ERROR:"invalid_did_error",NOT_ENOUGH_FUNDS_ERROR:"not_enough_error",INVALID_AMOUNT_ERROR:"invalid_amount_error",LOGIN_FAILED_ERROR:"login_failed",SIGNATURE_VERIFICATION_ERROR:"signature_verification_failure",CONFLICT_ERROR:"conflict_error",NOT_ENOUGH_PROOF_ERROR:"not_enough_proof_error",BAD_PATH_ERROR:"bad_path_error",VALIDATION_ERROR:"validation_error",PAYLOAD_TOO_LARGE_ERROR:"payload_too_large_error",PRECONDITION_FAILED_ERROR:"precondition_failed_error",UNKNOWN:"unknown"};Object.freeze(ERROR_CODES);class BlockstackError extends Error{constructor(error){super();let message=error.message,bugDetails=`Error Code: ${error.code}`,stack=this.stack;if(stack)bugDetails+=`Stack Trace:\n${stack}`;else try{throw new Error}catch(e){stack=e.stack}message+=`\nIf you believe this exception is caused by a bug in stacks.js,\n      please file a bug report: https://github.com/blockstack/stacks.js/issues\n\n${bugDetails}`,this.message=message,this.code=error.code,this.parameter=error.parameter?error.parameter:void 0}toString(){return`${super.toString()}\n    code: ${this.code} param: ${this.parameter?this.parameter:"n/a"}`}}class MissingParameterError extends BlockstackError{constructor(parameter,message=""){super({code:ERROR_CODES.MISSING_PARAMETER,message,parameter}),this.name="MissingParametersError"}}class InvalidDIDError extends BlockstackError{constructor(message=""){super({code:ERROR_CODES.INVALID_DID_ERROR,message}),this.name="InvalidDIDError"}}class LoginFailedError extends BlockstackError{constructor(reason){const message=`Failed to login: ${reason}`;super({code:ERROR_CODES.LOGIN_FAILED_ERROR,message}),this.message=message,this.name="LoginFailedError"}}class FailedDecryptionError extends BlockstackError{constructor(message="Unable to decrypt cipher object."){super({code:ERROR_CODES.FAILED_DECRYPTION_ERROR,message}),this.message=message,this.name="FailedDecryptionError"}}class InvalidStateError extends BlockstackError{constructor(message){super({code:ERROR_CODES.INVALID_STATE,message}),this.message=message,this.name="InvalidStateError"}}class NoSessionDataError extends BlockstackError{constructor(message){super({code:ERROR_CODES.INVALID_STATE,message}),this.message=message,this.name="NoSessionDataError"}}class SessionData{constructor(options){this.version="1.0.0",this.userData=options.userData,this.transitKey=options.transitKey,this.etags=options.etags?options.etags:{}}static fromJSON(json){if("1.0.0"!==json.version)throw new InvalidStateError(`JSON data version ${json.version} not supported by SessionData`);const options={coreNode:json.coreNode,userData:json.userData,transitKey:json.transitKey,etags:json.etags};return new SessionData(options)}toString(){return JSON.stringify(this)}}class SessionDataStore{constructor(sessionOptions){if(sessionOptions){const newSessionData=new SessionData(sessionOptions);this.setSessionData(newSessionData)}}getSessionData(){throw new Error("Abstract class")}setSessionData(_session){throw new Error("Abstract class")}deleteSessionData(){throw new Error("Abstract class")}}class InstanceDataStore extends SessionDataStore{constructor(sessionOptions){super(sessionOptions),this.sessionData||this.setSessionData(new SessionData({}))}getSessionData(){if(!this.sessionData)throw new NoSessionDataError("No session data was found.");return this.sessionData}setSessionData(session){return this.sessionData=session,!0}deleteSessionData(){return this.setSessionData(new SessionData({})),!0}}class LocalStorageStore extends SessionDataStore{constructor(sessionOptions){super(sessionOptions),sessionOptions&&sessionOptions.storeOptions&&sessionOptions.storeOptions.localStorageKey&&"string"==typeof sessionOptions.storeOptions.localStorageKey?this.key=sessionOptions.storeOptions.localStorageKey:this.key=LOCALSTORAGE_SESSION_KEY;if(!localStorage.getItem(this.key)){const sessionData=new SessionData({});this.setSessionData(sessionData)}}getSessionData(){const data=localStorage.getItem(this.key);if(!data)throw new NoSessionDataError("No session data was found in localStorage");const dataJSON=JSON.parse(data);return SessionData.fromJSON(dataJSON)}setSessionData(session){return localStorage.setItem(this.key,session.toString()),!0}deleteSessionData(){return localStorage.removeItem(this.key),this.setSessionData(new SessionData({})),!0}}var lib=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/index.js"),hmac=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/hmac.js"),esm_sha256=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/sha256.js"),esm=__webpack_require__("./node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/esm/index.js");function keys_privateKeyToBytes(privateKey){const privateKeyBuffer="string"==typeof privateKey?utils_hexToBytes(privateKey):privateKey;if(32!=privateKeyBuffer.length&&33!=privateKeyBuffer.length)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${privateKeyBuffer.length}`);if(33==privateKeyBuffer.length&&1!==privateKeyBuffer[32])throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return privateKeyBuffer}var bs58=__webpack_require__("./node_modules/.pnpm/bs58@5.0.0/node_modules/bs58/index.js"),bs58_default=__webpack_require__.n(bs58),ripemd160=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/ripemd160.js");var sha512=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/sha512.js");function sha2Hash_hashSha256Sync(data){return(0,esm_sha256.s)(data)}function hashSha512Sync(data){return(0,sha512.Zf)(data)}const BITCOIN_PUBKEYHASH=0;function base58CheckEncode(version,hash){return function base58Encode(hash){const checksum=(0,esm_sha256.s)((0,esm_sha256.s)(hash));return bs58_default().encode(concatBytes(hash,checksum).slice(0,hash.length+4))}(concatBytes(new Uint8Array([version]),hash.slice(0,20)))}function publicKeyToBtcAddress(publicKey,version=BITCOIN_PUBKEYHASH){return base58CheckEncode(version,function hashRipemd160(data){return(0,ripemd160.H)(data)}(sha2Hash_hashSha256Sync("string"==typeof publicKey?utils_hexToBytes(publicKey):publicKey)))}function getPublicKeyFromPrivate(privateKey){const privateKeyBytes=keys_privateKeyToBytes(privateKey);return utils_bytesToHex((0,esm.lG)(privateKeyBytes.slice(0,32),!0))}function makeDIDFromAddress(address){return`did:btc-addr:${address}`}function makeDIDFromPublicKey(publicKey){return`did:ecdsa-pub:${publicKey}`}function getDIDType(decentralizedID){const didParts=decentralizedID.split(":");if(3!==didParts.length)throw new InvalidDIDError("Decentralized IDs must have 3 parts");if("did"!==didParts[0].toLowerCase())throw new InvalidDIDError('Decentralized IDs must start with "did"');return didParts[1].toLowerCase()}function getAddressFromDID(decentralizedID){if(decentralizedID){return"btc-addr"===getDIDType(decentralizedID)?decentralizedID.split(":")[2]:void 0}}esm.Wp.hmacSha256Sync=(key,...msgs)=>{const h=hmac.w.create(esm_sha256.s,key);return msgs.forEach((msg=>h.update(msg))),h.digest()};const defaultFetchOpts={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function fetchWrapper(input,init){const fetchOpts={};Object.assign(fetchOpts,defaultFetchOpts,init);return await fetch(input,fetchOpts)}function createFetchFn(...args){const{fetchLib,middlewares}=function argsForCreateFetchFn(args){let fetchLib=fetchWrapper,middlewares=[];return args.length>0&&"function"==typeof args[0]&&(fetchLib=args.shift()),args.length>0&&(middlewares=args),{fetchLib,middlewares}}(args);return async(url,init)=>{let fetchParams={url,init:init??{}};for(const middleware of middlewares)if("function"==typeof middleware.pre){fetchParams=await Promise.resolve(middleware.pre({fetch:fetchLib,...fetchParams}))??fetchParams}let response=await fetchLib(fetchParams.url,fetchParams.init);for(const middleware of middlewares)if("function"==typeof middleware.post){const result=await Promise.resolve(middleware.post({fetch:fetchLib,url:fetchParams.url,init:fetchParams.init,response:response?.clone()??response}));response=result??response}return response}}function getAuthRequestFromURL(){const location=getGlobalObject("location",{throwIfUnavailable:!0,usageDesc:"getAuthRequestFromURL"}),params=new URLSearchParams(location?.search);return params.get("authRequest")?.replaceAll(`${utils_BLOCKSTACK_HANDLER}:`,"")??null}async function fetchAppManifest(authRequest,fetchFn=createFetchFn()){if(!authRequest)throw new Error("Invalid auth request");const payload=(0,lib.decodeToken)(authRequest).payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");const manifestURI=payload.manifest_uri;try{const response=await fetchFn(manifestURI),responseText=await response.text();return{...JSON.parse(responseText),manifestURI}}catch(error){throw console.log(error),new Error("Could not fetch manifest.json")}}function doSignaturesMatchPublicKeys(token){const payload=(0,lib.decodeToken)(token).payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");const publicKeys=payload.public_keys;if(1!==publicKeys.length)throw new Error("Multiple public keys are not supported");{const publicKey=publicKeys[0];try{return new lib.TokenVerifier("ES256k",publicKey).verify(token)}catch(e){return!1}}}function doPublicKeysMatchIssuer(token){const payload=(0,lib.decodeToken)(token).payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");const publicKeys=payload.public_keys,addressFromIssuer=getAddressFromDID(payload.iss);if(1!==publicKeys.length)throw new Error("Multiple public keys are not supported");if(publicKeyToBtcAddress(publicKeys[0])===addressFromIssuer)return!0;return!1}function isIssuanceDateValid(token){const payload=(0,lib.decodeToken)(token).payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");if(payload.iat){if("number"!=typeof payload.iat)return!1;const issuedAt=new Date(1e3*payload.iat);return!((new Date).getTime()<issuedAt.getTime())}return!0}function isExpirationDateValid(token){const payload=(0,lib.decodeToken)(token).payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");if(payload.exp){if("number"!=typeof payload.exp)return!1;const expiresAt=new Date(1e3*payload.exp);return!((new Date).getTime()>expiresAt.getTime())}return!0}function isManifestUriValid(token){const payload=(0,lib.decodeToken)(token).payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");return isSameOriginAbsoluteUrl(payload.domain_name,payload.manifest_uri)}function isRedirectUriValid(token){const payload=(0,lib.decodeToken)(token).payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");return isSameOriginAbsoluteUrl(payload.domain_name,payload.redirect_uri)}async function verifyAuthRequest(token){if("none"===(0,lib.decodeToken)(token).header.alg)throw new Error("Token must be signed in order to be verified");return(await Promise.all([isExpirationDateValid(token),isIssuanceDateValid(token),doSignaturesMatchPublicKeys(token),doPublicKeysMatchIssuer(token),isManifestUriValid(token),isRedirectUriValid(token)])).every((val=>val))}async function verifyAuthRequestAndLoadManifest(token){if(!await verifyAuthRequest(token))throw new Error("Token is an invalid auth request");return fetchAppManifest(token)}async function verifyAuthResponse(token){return(await Promise.all([isExpirationDateValid(token),isIssuanceDateValid(token),doSignaturesMatchPublicKeys(token),doPublicKeysMatchIssuer(token)])).every((val=>val))}var base64_js=__webpack_require__("./node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js");const NO_CRYPTO_LIB='Crypto lib not found. Either the WebCrypto "crypto.subtle" or Node.js "crypto" module must be available.';async function cryptoUtils_getCryptoLib(){if(function isSubtleCryptoAvailable(){return"undefined"!=typeof crypto&&void 0!==crypto.subtle}())return{lib:crypto.subtle,name:"subtleCrypto"};try{return{lib:__webpack_require__("?4771"),name:"nodeCrypto"}}catch(error){throw new Error(NO_CRYPTO_LIB)}}class NodeCryptoAesCipher{constructor(createCipher,createDecipher){this.createCipher=createCipher,this.createDecipher=createDecipher}async encrypt(algorithm,key,iv,data){if("aes-128-cbc"!==algorithm&&"aes-256-cbc"!==algorithm)throw new Error(`Unsupported cipher algorithm "${algorithm}"`);const cipher=this.createCipher(algorithm,key,iv),result=new Uint8Array(concatBytes(cipher.update(data),cipher.final()));return Promise.resolve(result)}async decrypt(algorithm,key,iv,data){if("aes-128-cbc"!==algorithm&&"aes-256-cbc"!==algorithm)throw new Error(`Unsupported cipher algorithm "${algorithm}"`);const cipher=this.createDecipher(algorithm,key,iv),result=new Uint8Array(concatBytes(cipher.update(data),cipher.final()));return Promise.resolve(result)}}class WebCryptoAesCipher{constructor(subtleCrypto){this.subtleCrypto=subtleCrypto}async encrypt(algorithm,key,iv,data){let algo,length;if("aes-128-cbc"===algorithm)algo="AES-CBC",length=128;else{if("aes-256-cbc"!==algorithm)throw new Error(`Unsupported cipher algorithm "${algorithm}"`);algo="AES-CBC",length=256}const cryptoKey=await this.subtleCrypto.importKey("raw",key,{name:algo,length},!1,["encrypt"]),result=await this.subtleCrypto.encrypt({name:algo,iv},cryptoKey,data);return new Uint8Array(result)}async decrypt(algorithm,key,iv,data){let algo,length;if("aes-128-cbc"===algorithm)algo="AES-CBC",length=128;else{if("aes-256-cbc"!==algorithm)throw new Error(`Unsupported cipher algorithm "${algorithm}"`);algo="AES-CBC",length=256}const cryptoKey=await this.subtleCrypto.importKey("raw",key,{name:algo,length},!1,["decrypt"]),result=await this.subtleCrypto.decrypt({name:algo,iv},cryptoKey,data);return new Uint8Array(result)}}async function createCipher(){const cryptoLib=await cryptoUtils_getCryptoLib();return"subtleCrypto"===cryptoLib.name?new WebCryptoAesCipher(cryptoLib.lib):new NodeCryptoAesCipher(cryptoLib.lib.createCipheriv,cryptoLib.lib.createDecipheriv)}var InvalidPublicKeyReason;function hmacSha256(key,content){return(0,hmac.w)(esm_sha256.s,key,content)}function sharedSecretToKeys(sharedSecret){const hashedSecret=hashSha512Sync(sharedSecret);return{encryptionKey:hashedSecret.slice(0,32),hmacKey:hashedSecret.slice(32)}}async function encryptECIES(publicKey,content,wasString,cipherTextEncoding){const validity=function isValidPublicKey(pub){const invalidFormat={result:!1,reason_data:"Invalid public key format",reason:InvalidPublicKeyReason.InvalidFormat},invalidPoint={result:!1,reason_data:"Public key is not a point",reason:InvalidPublicKeyReason.IsNotPoint};if(66!==pub.length&&130!==pub.length)return invalidFormat;const firstByte=pub.slice(0,2);if(130===pub.length&&"04"!==firstByte)return invalidFormat;if(66===pub.length&&"02"!==firstByte&&"03"!==firstByte)return invalidFormat;if(!function allHexChars(maybe){return null!==maybe.match(/^[0-9a-f]+$/i)}(pub))return invalidFormat;try{return esm.bR.fromHex(pub).assertValidity(),{result:!0,reason_data:null,reason:null}}catch(e){return invalidPoint}}(publicKey);if(!validity.result)throw validity;const ephemeralPrivateKey=esm.Wp.randomPrivateKey(),ephemeralPublicKey=(0,esm.lG)(ephemeralPrivateKey,!0);let sharedSecret=(0,esm.CH)(ephemeralPrivateKey,publicKey,!0);sharedSecret=sharedSecret.slice(1);const sharedKeys=sharedSecretToKeys(sharedSecret),initializationVector=esm.Wp.randomBytes(16),cipherText=await async function aes256CbcEncrypt(iv,key,plaintext){const cipher=await createCipher();return await cipher.encrypt("aes-256-cbc",key,iv,plaintext)}(initializationVector,sharedKeys.encryptionKey,content),macData=concatBytes(initializationVector,ephemeralPublicKey,cipherText),mac=hmacSha256(sharedKeys.hmacKey,macData);let cipherTextString;if(cipherTextEncoding&&"hex"!==cipherTextEncoding){if("base64"!==cipherTextEncoding)throw new Error(`Unexpected cipherTextEncoding "${cipherTextEncoding}"`);cipherTextString=(0,base64_js.fromByteArray)(cipherText)}else cipherTextString=utils_bytesToHex(cipherText);const result={iv:utils_bytesToHex(initializationVector),ephemeralPK:utils_bytesToHex(ephemeralPublicKey),cipherText:cipherTextString,mac:utils_bytesToHex(mac),wasString};return cipherTextEncoding&&"hex"!==cipherTextEncoding&&(result.cipherTextEncoding=cipherTextEncoding),result}async function decryptECIES(privateKey,cipherObject){if(!cipherObject.ephemeralPK)throw new FailedDecryptionError("Unable to get public key from cipher object. You might be trying to decrypt an unencrypted object.");const ephemeralPK=cipherObject.ephemeralPK;let sharedSecret=(0,esm.CH)(privateKey,ephemeralPK,!0);sharedSecret=sharedSecret.slice(1);const sharedKeys=sharedSecretToKeys(sharedSecret),ivBytes=utils_hexToBytes(cipherObject.iv);let cipherTextBytes;if(cipherObject.cipherTextEncoding&&"hex"!==cipherObject.cipherTextEncoding){if("base64"!==cipherObject.cipherTextEncoding)throw new Error(`Unexpected cipherTextEncoding "${cipherObject.cipherText}"`);cipherTextBytes=(0,base64_js.toByteArray)(cipherObject.cipherText)}else cipherTextBytes=utils_hexToBytes(cipherObject.cipherText);const macData=concatBytes(ivBytes,utils_hexToBytes(ephemeralPK),cipherTextBytes),actualMac=hmacSha256(sharedKeys.hmacKey,macData);if(!function equalsConstTime(a,b){if(a.length!==b.length)return!1;let res=0;for(let i=0;i<a.length;i++)res|=a[i]^b[i];return 0===res}(utils_hexToBytes(cipherObject.mac),actualMac))throw new FailedDecryptionError("Decryption failed: failure in MAC check");const plainText=await async function aes256CbcDecrypt(iv,key,ciphertext){const cipher=await createCipher();return await cipher.decrypt("aes-256-cbc",key,iv,ciphertext)}(ivBytes,sharedKeys.encryptionKey,cipherTextBytes);return cipherObject.wasString?bytesToUtf8(plainText):plainText}esm.Wp.hmacSha256Sync=(key,...msgs)=>{const h=hmac.w.create(esm_sha256.s,key);return msgs.forEach((msg=>h.update(msg))),h.digest()},function(InvalidPublicKeyReason){InvalidPublicKeyReason.InvalidFormat="InvalidFormat",InvalidPublicKeyReason.IsNotPoint="IsNotPoint"}(InvalidPublicKeyReason||(InvalidPublicKeyReason={}));const VERSION="1.4.0";function generateTransitKey(){return function makeECPrivateKey(){return utils_bytesToHex(esm.Wp.randomPrivateKey())}()}const makeAuthRequest=makeAuthRequestToken;function makeAuthRequestToken(transitPrivateKey,redirectURI,manifestURI,scopes=DEFAULT_SCOPE.slice(),appDomain,expiresAt=nextMonth().getTime(),extraParams={}){const getWindowOrigin=paramName=>{const location=getGlobalObject("location",{throwIfUnavailable:!0,usageDesc:`makeAuthRequest([${paramName}=undefined])`});return location?.origin};redirectURI||(redirectURI=`${getWindowOrigin("redirectURI")}/`),manifestURI||(manifestURI=`${getWindowOrigin("manifestURI")}/manifest.json`),appDomain||(appDomain=getWindowOrigin("appDomain"));const payload=Object.assign({},extraParams,{jti:makeUUID4(),iat:Math.floor((new Date).getTime()/1e3),exp:Math.floor(expiresAt/1e3),iss:null,public_keys:[],domain_name:appDomain,manifest_uri:manifestURI,redirect_uri:redirectURI,version:VERSION,do_not_include_profile:!0,supports_hub_url:!0,scopes}),publicKey=lib.SECP256K1Client.derivePublicKey(transitPrivateKey);payload.public_keys=[publicKey];const address=publicKeyToBtcAddress(publicKey);payload.iss=makeDIDFromAddress(address);return new lib.TokenSigner("ES256k",transitPrivateKey).sign(payload)}async function encryptPrivateKey(publicKey,privateKey){const encryptedObj=await encryptECIES(publicKey,utils_utf8ToBytes(privateKey),!0);return utils_bytesToHex(utils_utf8ToBytes(JSON.stringify(encryptedObj)))}async function decryptPrivateKey(privateKey,hexedEncrypted){const unhexedString=bytesToUtf8(utils_hexToBytes(hexedEncrypted)),encryptedObj=JSON.parse(unhexedString),decrypted=await decryptECIES(privateKey,encryptedObj);if("string"!=typeof decrypted)throw new Error("Unable to correctly decrypt private key");return decrypted}async function makeAuthResponse(privateKey,profile={},metadata,coreToken=null,appPrivateKey=null,expiresAt=nextMonth().getTime(),transitPublicKey=null,hubUrl=null,blockstackAPIUrl=null,associationToken=null,appPrivateKeyFromWalletSalt=null){const publicKey=lib.SECP256K1Client.derivePublicKey(privateKey),address=publicKeyToBtcAddress(publicKey);let privateKeyPayload=appPrivateKey,coreTokenPayload=coreToken,additionalProperties={};null!=appPrivateKey&&(null!=transitPublicKey&&(privateKeyPayload=await encryptPrivateKey(transitPublicKey,appPrivateKey),null!=coreToken&&(coreTokenPayload=await encryptPrivateKey(transitPublicKey,coreToken))),additionalProperties={email:metadata?.email?metadata.email:null,profile_url:metadata?.profileUrl?metadata.profileUrl:null,hubUrl,blockstackAPIUrl,associationToken,version:VERSION});const payload=Object.assign({},{jti:makeUUID4(),iat:Math.floor((new Date).getTime()/1e3),exp:Math.floor(expiresAt/1e3),iss:makeDIDFromAddress(address),private_key:privateKeyPayload,public_keys:[publicKey],appPrivateKeyFromWalletSalt,profile,core_token:coreTokenPayload},additionalProperties);return new lib.TokenSigner("ES256k",privateKey).sign(payload)}async function encryptContent(content,options){const opts=Object.assign({},options);let privateKey;if(!opts.publicKey){if(!opts.privateKey)throw new Error("Either public key or private key must be supplied for encryption.");opts.publicKey=getPublicKeyFromPrivate(opts.privateKey)}const wasString="boolean"==typeof opts.wasString?opts.wasString:"string"==typeof content,contentBytes="string"==typeof content?utils_utf8ToBytes(content):content,cipherObject=await encryptECIES(opts.publicKey,contentBytes,wasString,opts.cipherTextEncoding);let cipherPayload=JSON.stringify(cipherObject);if(opts.sign){"string"==typeof opts.sign?privateKey=opts.sign:privateKey||(privateKey=opts.privateKey);const signatureObject=function signECDSA(privateKey,content){const contentBytes="string"==typeof content?utils_utf8ToBytes(content):content,publicKey=getPublicKeyFromPrivate(privateKey),contentHash=sha2Hash_hashSha256Sync(contentBytes);return{signature:utils_bytesToHex((0,esm.HU)(contentHash,privateKey)),publicKey}}(privateKey,cipherPayload),signedCipherObject={signature:signatureObject.signature,publicKey:signatureObject.publicKey,cipherText:cipherPayload};cipherPayload=JSON.stringify(signedCipherObject)}return cipherPayload}const constants_PRIVATE_KEY_BYTES_COMPRESSED=33,COORDINATE_BYTES=32;var ChainId,PeerNetworkId;!function(ChainId){ChainId[ChainId.Mainnet=1]="Mainnet",ChainId[ChainId.Testnet=2147483648]="Testnet"}(ChainId||(ChainId={})),function(PeerNetworkId){PeerNetworkId[PeerNetworkId.Mainnet=385875968]="Mainnet",PeerNetworkId[PeerNetworkId.Testnet=4278190080]="Testnet"}(PeerNetworkId||(PeerNetworkId={}));ChainId.Mainnet;var constants_TransactionVersion,AddressVersion;!function(TransactionVersion){TransactionVersion[TransactionVersion.Mainnet=0]="Mainnet",TransactionVersion[TransactionVersion.Testnet=128]="Testnet"}(constants_TransactionVersion||(constants_TransactionVersion={})),function(AddressVersion){AddressVersion[AddressVersion.MainnetSingleSig=22]="MainnetSingleSig",AddressVersion[AddressVersion.MainnetMultiSig=20]="MainnetMultiSig",AddressVersion[AddressVersion.TestnetSingleSig=26]="TestnetSingleSig",AddressVersion[AddressVersion.TestnetMultiSig=21]="TestnetMultiSig"}(AddressVersion||(AddressVersion={}));constants_TransactionVersion.Mainnet;const network_STACKS_MAINNET={chainId:ChainId.Mainnet,transactionVersion:constants_TransactionVersion.Mainnet,peerNetworkId:PeerNetworkId.Mainnet,magicBytes:"X2",bootAddress:"SP000000000000000000002Q6VF78",addressVersion:{singleSig:AddressVersion.MainnetSingleSig,multiSig:AddressVersion.MainnetMultiSig},client:{baseUrl:"https://api.mainnet.hiro.so"}},network_STACKS_TESTNET={chainId:ChainId.Testnet,transactionVersion:constants_TransactionVersion.Testnet,peerNetworkId:PeerNetworkId.Testnet,magicBytes:"T2",bootAddress:"ST000000000000000000002AMW42H",addressVersion:{singleSig:AddressVersion.TestnetSingleSig,multiSig:AddressVersion.TestnetMultiSig},client:{baseUrl:"https://api.testnet.hiro.so"}},STACKS_DEVNET={...network_STACKS_TESTNET,addressVersion:{...network_STACKS_TESTNET.addressVersion},magicBytes:"id",client:{baseUrl:"http://localhost:3999"}},STACKS_MOCKNET={...STACKS_DEVNET,addressVersion:{...STACKS_DEVNET.addressVersion},client:{...STACKS_DEVNET.client}};function network_networkFrom(network){return"string"==typeof network?function networkFromName(name){switch(name){case"mainnet":return network_STACKS_MAINNET;case"testnet":return network_STACKS_TESTNET;case"devnet":return STACKS_DEVNET;case"mocknet":return STACKS_MOCKNET;default:throw new Error(`Unknown network name: ${name}`)}}(network):network}function clientFromNetwork(network){return network.client.fetch?network.client:{...network.client,fetch:createFetchFn()}}var c32check_lib=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/index.js");const MAX_STRING_LENGTH_BYTES=128,CLARITY_INT_SIZE=128,CLARITY_INT_BYTE_SIZE=16,COINBASE_BYTES_LENGTH=32,VRF_PROOF_BYTES_LENGTH=80,constants_RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=65,COMPRESSED_PUBKEY_LENGTH_BYTES=32,UNCOMPRESSED_PUBKEY_LENGTH_BYTES=64,MEMO_MAX_LENGTH_BYTES=34;var constants_PayloadType,ClarityVersion,AnchorMode;!function(PayloadType){PayloadType[PayloadType.TokenTransfer=0]="TokenTransfer",PayloadType[PayloadType.SmartContract=1]="SmartContract",PayloadType[PayloadType.VersionedSmartContract=6]="VersionedSmartContract",PayloadType[PayloadType.ContractCall=2]="ContractCall",PayloadType[PayloadType.PoisonMicroblock=3]="PoisonMicroblock",PayloadType[PayloadType.Coinbase=4]="Coinbase",PayloadType[PayloadType.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",PayloadType[PayloadType.TenureChange=7]="TenureChange",PayloadType[PayloadType.NakamotoCoinbase=8]="NakamotoCoinbase"}(constants_PayloadType||(constants_PayloadType={})),function(ClarityVersion){ClarityVersion[ClarityVersion.Clarity1=1]="Clarity1",ClarityVersion[ClarityVersion.Clarity2=2]="Clarity2",ClarityVersion[ClarityVersion.Clarity3=3]="Clarity3"}(ClarityVersion||(ClarityVersion={})),function(AnchorMode){AnchorMode[AnchorMode.OnChainOnly=1]="OnChainOnly",AnchorMode[AnchorMode.OffChainOnly=2]="OffChainOnly",AnchorMode[AnchorMode.Any=3]="Any"}(AnchorMode||(AnchorMode={}));const AnchorModeNames=["onChainOnly","offChainOnly","any"];AnchorModeNames[0],AnchorMode.OnChainOnly,AnchorModeNames[1],AnchorMode.OffChainOnly,AnchorModeNames[2],AnchorMode.Any,AnchorMode.OnChainOnly,AnchorMode.OnChainOnly,AnchorMode.OffChainOnly,AnchorMode.OffChainOnly,AnchorMode.Any,AnchorMode.Any;var constants_PostConditionMode,PostConditionType,constants_AuthType,constants_AddressHashMode,constants_PubKeyEncoding,FungibleConditionCode,NonFungibleConditionCode,PostConditionPrincipalId,AssetType,TenureChangeCause,AuthFieldType,TxRejectedReason;!function(PostConditionMode){PostConditionMode[PostConditionMode.Allow=1]="Allow",PostConditionMode[PostConditionMode.Deny=2]="Deny"}(constants_PostConditionMode||(constants_PostConditionMode={})),function(PostConditionType){PostConditionType[PostConditionType.STX=0]="STX",PostConditionType[PostConditionType.Fungible=1]="Fungible",PostConditionType[PostConditionType.NonFungible=2]="NonFungible"}(PostConditionType||(PostConditionType={})),function(AuthType){AuthType[AuthType.Standard=4]="Standard",AuthType[AuthType.Sponsored=5]="Sponsored"}(constants_AuthType||(constants_AuthType={})),function(AddressHashMode){AddressHashMode[AddressHashMode.P2PKH=0]="P2PKH",AddressHashMode[AddressHashMode.P2SH=1]="P2SH",AddressHashMode[AddressHashMode.P2WPKH=2]="P2WPKH",AddressHashMode[AddressHashMode.P2WSH=3]="P2WSH",AddressHashMode[AddressHashMode.P2SHNonSequential=5]="P2SHNonSequential",AddressHashMode[AddressHashMode.P2WSHNonSequential=7]="P2WSHNonSequential"}(constants_AddressHashMode||(constants_AddressHashMode={})),function(PubKeyEncoding){PubKeyEncoding[PubKeyEncoding.Compressed=0]="Compressed",PubKeyEncoding[PubKeyEncoding.Uncompressed=1]="Uncompressed"}(constants_PubKeyEncoding||(constants_PubKeyEncoding={})),function(FungibleConditionCode){FungibleConditionCode[FungibleConditionCode.Equal=1]="Equal",FungibleConditionCode[FungibleConditionCode.Greater=2]="Greater",FungibleConditionCode[FungibleConditionCode.GreaterEqual=3]="GreaterEqual",FungibleConditionCode[FungibleConditionCode.Less=4]="Less",FungibleConditionCode[FungibleConditionCode.LessEqual=5]="LessEqual"}(FungibleConditionCode||(FungibleConditionCode={})),function(NonFungibleConditionCode){NonFungibleConditionCode[NonFungibleConditionCode.Sends=16]="Sends",NonFungibleConditionCode[NonFungibleConditionCode.DoesNotSend=17]="DoesNotSend"}(NonFungibleConditionCode||(NonFungibleConditionCode={})),function(PostConditionPrincipalId){PostConditionPrincipalId[PostConditionPrincipalId.Origin=1]="Origin",PostConditionPrincipalId[PostConditionPrincipalId.Standard=2]="Standard",PostConditionPrincipalId[PostConditionPrincipalId.Contract=3]="Contract"}(PostConditionPrincipalId||(PostConditionPrincipalId={})),function(AssetType){AssetType[AssetType.STX=0]="STX",AssetType[AssetType.Fungible=1]="Fungible",AssetType[AssetType.NonFungible=2]="NonFungible"}(AssetType||(AssetType={})),function(TenureChangeCause){TenureChangeCause[TenureChangeCause.BlockFound=0]="BlockFound",TenureChangeCause[TenureChangeCause.Extended=1]="Extended"}(TenureChangeCause||(TenureChangeCause={})),function(AuthFieldType){AuthFieldType[AuthFieldType.PublicKeyCompressed=0]="PublicKeyCompressed",AuthFieldType[AuthFieldType.PublicKeyUncompressed=1]="PublicKeyUncompressed",AuthFieldType[AuthFieldType.SignatureCompressed=2]="SignatureCompressed",AuthFieldType[AuthFieldType.SignatureUncompressed=3]="SignatureUncompressed"}(AuthFieldType||(AuthFieldType={})),function(TxRejectedReason){TxRejectedReason.Serialization="Serialization",TxRejectedReason.Deserialization="Deserialization",TxRejectedReason.SignatureValidation="SignatureValidation",TxRejectedReason.FeeTooLow="FeeTooLow",TxRejectedReason.BadNonce="BadNonce",TxRejectedReason.NotEnoughFunds="NotEnoughFunds",TxRejectedReason.NoSuchContract="NoSuchContract",TxRejectedReason.NoSuchPublicFunction="NoSuchPublicFunction",TxRejectedReason.BadFunctionArgument="BadFunctionArgument",TxRejectedReason.ContractAlreadyExists="ContractAlreadyExists",TxRejectedReason.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",TxRejectedReason.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",TxRejectedReason.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",TxRejectedReason.BadAddressVersionByte="BadAddressVersionByte",TxRejectedReason.NoCoinbaseViaMempool="NoCoinbaseViaMempool",TxRejectedReason.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",TxRejectedReason.ServerFailureDatabase="ServerFailureDatabase",TxRejectedReason.ServerFailureOther="ServerFailureOther"}(TxRejectedReason||(TxRejectedReason={}));var lodash_clonedeep=__webpack_require__("./node_modules/.pnpm/lodash.clonedeep@4.5.0/node_modules/lodash.clonedeep/index.js"),lodash_clonedeep_default=__webpack_require__.n(lodash_clonedeep);const leftPadHex=hexString=>hexString.length%2?`0${hexString}`:hexString,rightPadHexToLength=(hexString,length)=>hexString.padEnd(length,"0"),exceedsMaxLengthBytes=(string,maxLengthBytes)=>!!string&&utils_utf8ToBytes(string).length>maxLengthBytes;function cloneDeep(obj){return lodash_clonedeep_default()(obj)}const utils_hash160=input=>(0,ripemd160.H)((0,esm_sha256.s)(input)),txidFromData=data=>utils_bytesToHex((0,sha512.DP)(data)),hashP2PKH=input=>utils_bytesToHex(utils_hash160(input)),hashP2WPKH=input=>{const keyHash=utils_hash160(input),redeemScript=concatBytes(new Uint8Array([0]),new Uint8Array([keyHash.length]),keyHash);return utils_bytesToHex(utils_hash160(redeemScript))},hashP2SH=(numSigs,pubKeys)=>{if(numSigs>15||pubKeys.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");const bytesArray=[];bytesArray.push(80+numSigs),pubKeys.forEach((pubKey=>{bytesArray.push(pubKey.length),bytesArray.push(pubKey)})),bytesArray.push(80+pubKeys.length),bytesArray.push(174);const redeemScript=concatArray(bytesArray);return utils_bytesToHex(utils_hash160(redeemScript))},hashP2WSH=(numSigs,pubKeys)=>{if(numSigs>15||pubKeys.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");const scriptArray=[];scriptArray.push(80+numSigs),pubKeys.forEach((pubKey=>{scriptArray.push(pubKey.length),scriptArray.push(pubKey)})),scriptArray.push(80+pubKeys.length),scriptArray.push(174);const script=concatArray(scriptArray),digest=(0,esm_sha256.s)(script),bytesArray=[];bytesArray.push(0),bytesArray.push(digest.length),bytesArray.push(digest);const redeemScript=concatArray(bytesArray);return utils_bytesToHex(utils_hash160(redeemScript))};var constants_ClarityType,ClarityWireType,types_StacksWireType;function clarityTypeToByte(type){return ClarityWireType[type]}function principalCV(principal){if(principal.includes(".")){const[address,contractName]=principal.split(".");return function contractPrincipalCV(addressString,contractName){const addr=createAddress(addressString),lengthPrefixedContractName=createLPString(contractName);return contractPrincipalCVFromAddress(addr,lengthPrefixedContractName)}(address,contractName)}return function standardPrincipalCV(addressString){const addr=createAddress(addressString);return{type:constants_ClarityType.PrincipalStandard,value:addressToString(addr)}}(principal)}function contractPrincipalCVFromAddress(address,contractName){if(utils_utf8ToBytes(contractName.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:constants_ClarityType.PrincipalContract,value:`${addressToString(address)}.${contractName.content}`}}function createMemoString(content){if(content&&exceedsMaxLengthBytes(content,MEMO_MAX_LENGTH_BYTES))throw new Error(`Memo exceeds maximum length of ${MEMO_MAX_LENGTH_BYTES} bytes`);return{type:types_StacksWireType.MemoString,content}}function createLPList(values,lengthPrefixBytes){return{type:types_StacksWireType.LengthPrefixedList,lengthPrefixBytes:lengthPrefixBytes||4,values}}function createMessageSignature(signature){if(utils_hexToBytes(signature).byteLength!=constants_RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)throw Error("Invalid signature");return{type:types_StacksWireType.MessageSignature,data:signature}}function createSmartContractPayload(contractName,codeBody,clarityVersion){return"string"==typeof contractName&&(contractName=createLPString(contractName)),"string"==typeof codeBody&&(codeBody=function codeBodyString(content){return createLPString(content,4,1e5)}(codeBody)),"number"==typeof clarityVersion?{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.VersionedSmartContract,clarityVersion,contractName,codeBody}:{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.SmartContract,contractName,codeBody}}function createCoinbasePayload(coinbaseBytes,altRecipient){if(coinbaseBytes.byteLength!=COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${COINBASE_BYTES_LENGTH} bytes`);return null!=altRecipient?{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.CoinbaseToAltRecipient,coinbaseBytes,recipient:altRecipient}:{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.Coinbase,coinbaseBytes}}function createLPString(content,lengthPrefixBytes,maxLengthBytes){const prefixLength=lengthPrefixBytes||1,maxLength=maxLengthBytes||MAX_STRING_LENGTH_BYTES;if(exceedsMaxLengthBytes(content,maxLength))throw new Error(`String length exceeds maximum bytes ${maxLength}`);return{type:types_StacksWireType.LengthPrefixedString,content,lengthPrefixBytes:prefixLength,maxLengthBytes:maxLength}}function createAddress(c32AddressString){const addressData=(0,c32check_lib.ns)(c32AddressString);return{type:types_StacksWireType.Address,version:addressData[0],hash160:addressData[1]}}function createTransactionAuthField(pubKeyEncoding,contents){return{pubKeyEncoding,type:types_StacksWireType.TransactionAuthField,contents}}function writeUInt32BE(destination,value,offset=0){return destination[offset+3]=value,value>>>=8,destination[offset+2]=value,value>>>=8,destination[offset+1]=value,value>>>=8,destination[offset]=value,destination}!function(ClarityType){ClarityType.Int="int",ClarityType.UInt="uint",ClarityType.Buffer="buffer",ClarityType.BoolTrue="true",ClarityType.BoolFalse="false",ClarityType.PrincipalStandard="address",ClarityType.PrincipalContract="contract",ClarityType.ResponseOk="ok",ClarityType.ResponseErr="err",ClarityType.OptionalNone="none",ClarityType.OptionalSome="some",ClarityType.List="list",ClarityType.Tuple="tuple",ClarityType.StringASCII="ascii",ClarityType.StringUTF8="utf8"}(constants_ClarityType||(constants_ClarityType={})),function(ClarityWireType){ClarityWireType[ClarityWireType.int=0]="int",ClarityWireType[ClarityWireType.uint=1]="uint",ClarityWireType[ClarityWireType.buffer=2]="buffer",ClarityWireType[ClarityWireType.true=3]="true",ClarityWireType[ClarityWireType.false=4]="false",ClarityWireType[ClarityWireType.address=5]="address",ClarityWireType[ClarityWireType.contract=6]="contract",ClarityWireType[ClarityWireType.ok=7]="ok",ClarityWireType[ClarityWireType.err=8]="err",ClarityWireType[ClarityWireType.none=9]="none",ClarityWireType[ClarityWireType.some=10]="some",ClarityWireType[ClarityWireType.list=11]="list",ClarityWireType[ClarityWireType.tuple=12]="tuple",ClarityWireType[ClarityWireType.ascii=13]="ascii",ClarityWireType[ClarityWireType.utf8=14]="utf8"}(ClarityWireType||(ClarityWireType={})),function(StacksWireType){StacksWireType[StacksWireType.Address=0]="Address",StacksWireType[StacksWireType.Principal=1]="Principal",StacksWireType[StacksWireType.LengthPrefixedString=2]="LengthPrefixedString",StacksWireType[StacksWireType.MemoString=3]="MemoString",StacksWireType[StacksWireType.Asset=4]="Asset",StacksWireType[StacksWireType.PostCondition=5]="PostCondition",StacksWireType[StacksWireType.PublicKey=6]="PublicKey",StacksWireType[StacksWireType.LengthPrefixedList=7]="LengthPrefixedList",StacksWireType[StacksWireType.Payload=8]="Payload",StacksWireType[StacksWireType.MessageSignature=9]="MessageSignature",StacksWireType[StacksWireType.StructuredDataSignature=10]="StructuredDataSignature",StacksWireType[StacksWireType.TransactionAuthField=11]="TransactionAuthField"}(types_StacksWireType||(types_StacksWireType={}));const enumCheckFunctions=new Map;function isEnum(enumVariable,value){const checker=enumCheckFunctions.get(enumVariable);if(void 0!==checker)return checker(value);const newChecker=function createEnumChecker(enumVariable){const enumValues=Object.values(enumVariable).filter((v=>"number"==typeof v)),enumValueSet=new Set(enumValues);return value=>enumValueSet.has(value)}(enumVariable);return enumCheckFunctions.set(enumVariable,newChecker),isEnum(enumVariable,value)}class BytesReader{constructor(bytes){this.consumed=0,this.source="string"==typeof bytes?utils_hexToBytes(bytes):bytes}readBytes(length){const view=this.source.subarray(this.consumed,this.consumed+length);return this.consumed+=length,view}readUInt32BE(){return function readUInt32BE(source,offset){return source[offset]*2**24+65536*source[offset+1]+256*source[offset+2]+source[offset+3]}(this.readBytes(4),0)}readUInt8(){return function buffer_readUInt8(source,offset){return source[offset]}(this.readBytes(1),0)}readUInt16BE(){return function readUInt16BE(source,offset){return(source[offset+0]<<8|source[offset+1])>>>0}(this.readBytes(2),0)}readBigUIntLE(length){const hex=utils_bytesToHex(this.readBytes(length).slice().reverse());return BigInt(`0x${hex}`)}readBigUIntBE(length){const hex=utils_bytesToHex(this.readBytes(length));return BigInt(`0x${hex}`)}get readOffset(){return this.consumed}set readOffset(val){this.consumed=val}get internalBytes(){return this.source}readUInt8Enum(enumVariable,invalidEnumErrorFormatter){const num=this.readUInt8();if(isEnum(enumVariable,num))return num;throw invalidEnumErrorFormatter(num)}}class TransactionError extends Error{constructor(message){super(message),this.message=message,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class SerializationError extends TransactionError{constructor(message){super(message)}}class errors_DeserializationError extends TransactionError{constructor(message){super(message)}}class SigningError extends TransactionError{constructor(message){super(message)}}class VerificationError extends TransactionError{constructor(message){super(message)}}function bytesWithTypeID(typeId,bytes){return concatArray([clarityTypeToByte(typeId),bytes])}function serializeIntCV(cv){const bytes=utils_bigIntToBytes(function toTwos(value,width){if(value<-(BigInt(1)<<width-BigInt(1))||(BigInt(1)<<width-BigInt(1))-BigInt(1)<value)throw`Unable to represent integer in width: ${width}`;return value>=BigInt(0)?BigInt(value):value+(BigInt(1)<<width)}(BigInt(cv.value),BigInt(CLARITY_INT_SIZE)),CLARITY_INT_BYTE_SIZE);return bytesWithTypeID(cv.type,bytes)}function serializeContractPrincipalCV(cv){const[address,name]=function parseContractId(contractId){const[address,name]=contractId.split(".");if(!address||!name)throw new Error(`Invalid contract identifier: ${contractId}`);return[address,name]}(cv.value);return bytesWithTypeID(cv.type,concatBytes(serializeAddressBytes(createAddress(address)),serializeLPStringBytes(createLPString(name))))}function serializeStringCV(cv,encoding){const bytesArray=[],str="ascii"==encoding?function asciiToBytes(str){const byteArray=[];for(let i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return new Uint8Array(byteArray)}(cv.value):utils_utf8ToBytes(cv.value),len=new Uint8Array(4);return writeUInt32BE(len,str.length,0),bytesArray.push(len),bytesArray.push(str),bytesWithTypeID(cv.type,concatArray(bytesArray))}function serialize_serializeCV(value){return utils_bytesToHex(serializeCVBytes(value))}function serializeCVBytes(value){switch(value.type){case constants_ClarityType.BoolTrue:case constants_ClarityType.BoolFalse:return function serializeBoolCV(value){return new Uint8Array([clarityTypeToByte(value.type)])}(value);case constants_ClarityType.OptionalNone:case constants_ClarityType.OptionalSome:return function serializeOptionalCV(cv){return cv.type===constants_ClarityType.OptionalNone?new Uint8Array([clarityTypeToByte(cv.type)]):bytesWithTypeID(cv.type,serializeCVBytes(cv.value))}(value);case constants_ClarityType.Buffer:return function serializeBufferCV(cv){const length=new Uint8Array(4);return writeUInt32BE(length,Math.ceil(cv.value.length/2),0),bytesWithTypeID(cv.type,concatBytes(length,utils_hexToBytes(cv.value)))}(value);case constants_ClarityType.UInt:return function serializeUIntCV(cv){const bytes=utils_bigIntToBytes(BigInt(cv.value),CLARITY_INT_BYTE_SIZE);return bytesWithTypeID(cv.type,bytes)}(value);case constants_ClarityType.Int:return serializeIntCV(value);case constants_ClarityType.PrincipalStandard:return function serializeStandardPrincipalCV(cv){return bytesWithTypeID(cv.type,serializeAddressBytes(createAddress(cv.value)))}(value);case constants_ClarityType.PrincipalContract:return serializeContractPrincipalCV(value);case constants_ClarityType.ResponseOk:case constants_ClarityType.ResponseErr:return function serializeResponseCV(cv){return bytesWithTypeID(cv.type,serializeCVBytes(cv.value))}(value);case constants_ClarityType.List:return function serializeListCV(cv){const bytesArray=[],length=new Uint8Array(4);writeUInt32BE(length,cv.value.length,0),bytesArray.push(length);for(const value of cv.value){const serializedValue=serializeCVBytes(value);bytesArray.push(serializedValue)}return bytesWithTypeID(cv.type,concatArray(bytesArray))}(value);case constants_ClarityType.Tuple:return function serializeTupleCV(cv){const bytesArray=[],length=new Uint8Array(4);writeUInt32BE(length,Object.keys(cv.value).length,0),bytesArray.push(length);const lexicographicOrder=Object.keys(cv.value).sort(((a,b)=>a.localeCompare(b)));for(const key of lexicographicOrder){const nameWithLength=createLPString(key);bytesArray.push(serializeLPStringBytes(nameWithLength));const serializedValue=serializeCVBytes(cv.value[key]);bytesArray.push(serializedValue)}return bytesWithTypeID(cv.type,concatArray(bytesArray))}(value);case constants_ClarityType.StringASCII:return function serializeStringAsciiCV(cv){return serializeStringCV(cv,"ascii")}(value);case constants_ClarityType.StringUTF8:return function serializeStringUtf8CV(cv){return serializeStringCV(cv,"utf8")}(value);default:throw new SerializationError("Unable to serialize. Invalid Clarity Value.")}}const MAX_U128=BigInt("0xffffffffffffffffffffffffffffffff"),MIN_U128=BigInt(0),MAX_I128=BigInt("0x7fffffffffffffffffffffffffffffff"),MIN_I128=BigInt("-170141183460469231731687303715884105728"),intCV=value=>{"string"==typeof value&&value.toLowerCase().startsWith("0x")&&(value=bytesToTwosBigInt(utils_hexToBytes(value))),isInstance(value,Uint8Array)&&(value=bytesToTwosBigInt(value));const bigInt=utils_intToBigInt(value);if(bigInt>MAX_I128)throw new RangeError(`Cannot construct clarity integer from value greater than ${MAX_I128}`);if(bigInt<MIN_I128)throw new RangeError(`Cannot construct clarity integer form value less than ${MIN_I128}`);return{type:constants_ClarityType.Int,value:bigInt}},uintCV=value=>{const bigInt=utils_intToBigInt(value);if(bigInt<MIN_U128)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(bigInt>MAX_U128)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${MAX_U128}`);return{type:constants_ClarityType.UInt,value:bigInt}},bufferCV=buffer=>{if(buffer.byteLength>1048576)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:constants_ClarityType.Buffer,value:utils_bytesToHex(buffer)}},trueCV=()=>({type:constants_ClarityType.BoolTrue}),falseCV=()=>({type:constants_ClarityType.BoolFalse});function noneCV(){return{type:constants_ClarityType.OptionalNone}}function someCV(value){return{type:constants_ClarityType.OptionalSome,value}}const stringAsciiCV=data=>({type:constants_ClarityType.StringASCII,value:data}),stringUtf8CV=data=>({type:constants_ClarityType.StringUTF8,value:data});function deserialize_deserializeCV(serializedClarityValue){let bytesReader;if("string"==typeof serializedClarityValue){const hasHexPrefix="0x"===serializedClarityValue.slice(0,2).toLowerCase();bytesReader=new BytesReader(utils_hexToBytes(hasHexPrefix?serializedClarityValue.slice(2):serializedClarityValue))}else bytesReader=serializedClarityValue instanceof Uint8Array?new BytesReader(serializedClarityValue):serializedClarityValue;switch(bytesReader.readUInt8Enum(ClarityWireType,(n=>{throw new errors_DeserializationError(`Cannot recognize Clarity Type: ${n}`)}))){case ClarityWireType.int:return intCV(bytesToTwosBigInt(bytesReader.readBytes(16)));case ClarityWireType.uint:return uintCV(bytesReader.readBytes(16));case ClarityWireType.buffer:const bufferLength=bytesReader.readUInt32BE();return bufferCV(bytesReader.readBytes(bufferLength));case ClarityWireType.true:return trueCV();case ClarityWireType.false:return falseCV();case ClarityWireType.address:return function standardPrincipalCVFromAddress(address){return{type:constants_ClarityType.PrincipalStandard,value:addressToString(address)}}(deserializeAddress(bytesReader));case ClarityWireType.contract:return contractPrincipalCVFromAddress(deserializeAddress(bytesReader),deserializeLPString(bytesReader));case ClarityWireType.ok:return function responseOkCV(value){return{type:constants_ClarityType.ResponseOk,value}}(deserialize_deserializeCV(bytesReader));case ClarityWireType.err:return function responseErrorCV(value){return{type:constants_ClarityType.ResponseErr,value}}(deserialize_deserializeCV(bytesReader));case ClarityWireType.none:return noneCV();case ClarityWireType.some:return someCV(deserialize_deserializeCV(bytesReader));case ClarityWireType.list:const listLength=bytesReader.readUInt32BE(),listContents=[];for(let i=0;i<listLength;i++)listContents.push(deserialize_deserializeCV(bytesReader));return function listCV(values){return{type:constants_ClarityType.List,value:values}}(listContents);case ClarityWireType.tuple:const tupleLength=bytesReader.readUInt32BE(),tupleContents={};for(let i=0;i<tupleLength;i++){const clarityName=deserializeLPString(bytesReader).content;if(void 0===clarityName)throw new errors_DeserializationError('"content" is undefined');tupleContents[clarityName]=deserialize_deserializeCV(bytesReader)}return function tupleCV(data){for(const key in data)if(!(/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(name=key)&&name.length<128))throw new Error(`"${key}" is not a valid Clarity name`);var name;return{type:constants_ClarityType.Tuple,value:data}}(tupleContents);case ClarityWireType.ascii:const asciiStrLen=bytesReader.readUInt32BE(),asciiStr=function bytesToAscii(arr){return String.fromCharCode.apply(null,arr)}(bytesReader.readBytes(asciiStrLen));return stringAsciiCV(asciiStr);case ClarityWireType.utf8:const utf8StrLen=bytesReader.readUInt32BE(),utf8Str=bytesToUtf8(bytesReader.readBytes(utf8StrLen));return stringUtf8CV(utf8Str);default:throw new errors_DeserializationError("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}function serializeStacksWireBytes(wire){switch(wire.type){case types_StacksWireType.Address:return serializeAddressBytes(wire);case types_StacksWireType.Principal:return serializePrincipalBytes(wire);case types_StacksWireType.LengthPrefixedString:return serializeLPStringBytes(wire);case types_StacksWireType.MemoString:return serializeMemoStringBytes(wire);case types_StacksWireType.Asset:return serializeAssetBytes(wire);case types_StacksWireType.PostCondition:return serializePostConditionWireBytes(wire);case types_StacksWireType.PublicKey:return serializePublicKeyBytes(wire);case types_StacksWireType.LengthPrefixedList:return serializeLPListBytes(wire);case types_StacksWireType.Payload:return serializePayloadBytes(wire);case types_StacksWireType.TransactionAuthField:return serializeTransactionAuthFieldBytes(wire);case types_StacksWireType.MessageSignature:return serializeMessageSignatureBytes(wire)}}function serializeAddressBytes(address){const bytesArray=[];return bytesArray.push(utils_hexToBytes(intToHex(address.version,1))),bytesArray.push(utils_hexToBytes(address.hash160)),concatArray(bytesArray)}function deserializeAddress(serialized){const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized),version=hexToInt(utils_bytesToHex(bytesReader.readBytes(1))),data=utils_bytesToHex(bytesReader.readBytes(20));return{type:types_StacksWireType.Address,version,hash160:data}}function serializePrincipalBytes(principal){const bytesArray=[];return bytesArray.push(principal.prefix),principal.prefix!==PostConditionPrincipalId.Standard&&principal.prefix!==PostConditionPrincipalId.Contract||bytesArray.push(serializeAddressBytes(principal.address)),principal.prefix===PostConditionPrincipalId.Contract&&bytesArray.push(serializeLPStringBytes(principal.contractName)),concatArray(bytesArray)}function deserializePrincipal(serialized){const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized),prefix=bytesReader.readUInt8Enum(PostConditionPrincipalId,(n=>{throw new errors_DeserializationError(`Unexpected Principal payload type: ${n}`)}));if(prefix===PostConditionPrincipalId.Origin)return{type:types_StacksWireType.Principal,prefix};const address=deserializeAddress(bytesReader);if(prefix===PostConditionPrincipalId.Standard)return{type:types_StacksWireType.Principal,prefix,address};const contractName=deserializeLPString(bytesReader);return{type:types_StacksWireType.Principal,prefix,address,contractName}}function serializeLPStringBytes(lps){const bytesArray=[],contentBytes=utils_utf8ToBytes(lps.content),length=contentBytes.byteLength;return bytesArray.push(utils_hexToBytes(intToHex(length,lps.lengthPrefixBytes))),bytesArray.push(contentBytes),concatArray(bytesArray)}function deserializeLPString(serialized,prefixBytes,maxLength){prefixBytes=prefixBytes||1;const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized),length=hexToInt(utils_bytesToHex(bytesReader.readBytes(prefixBytes)));return createLPString(bytesToUtf8(bytesReader.readBytes(length)),prefixBytes,maxLength??128)}function serializeMemoStringBytes(memoString){const bytesArray=[],contentBytes=utils_utf8ToBytes(memoString.content),paddedContent=rightPadHexToLength(utils_bytesToHex(contentBytes),2*MEMO_MAX_LENGTH_BYTES);return bytesArray.push(utils_hexToBytes(paddedContent)),concatArray(bytesArray)}function deserializeMemoString(serialized){let content=bytesToUtf8((isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized)).readBytes(MEMO_MAX_LENGTH_BYTES));return content=content.replace(/\u0000*$/,""),{type:types_StacksWireType.MemoString,content}}function serializeAssetBytes(info){const bytesArray=[];return bytesArray.push(serializeAddressBytes(info.address)),bytesArray.push(serializeLPStringBytes(info.contractName)),bytesArray.push(serializeLPStringBytes(info.assetName)),concatArray(bytesArray)}function deserializeAsset(serialized){const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized);return{type:types_StacksWireType.Asset,address:deserializeAddress(bytesReader),contractName:deserializeLPString(bytesReader),assetName:deserializeLPString(bytesReader)}}function serializeLPListBytes(lpList){const list=lpList.values,bytesArray=[];bytesArray.push(utils_hexToBytes(intToHex(list.length,lpList.lengthPrefixBytes)));for(const l of list)bytesArray.push(serializeStacksWireBytes(l));return concatArray(bytesArray)}function deserializeLPList(serialized,type,lengthPrefixBytes){const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized),length=hexToInt(utils_bytesToHex(bytesReader.readBytes(lengthPrefixBytes||4))),l=[];for(let index=0;index<length;index++)switch(type){case types_StacksWireType.Address:l.push(deserializeAddress(bytesReader));break;case types_StacksWireType.LengthPrefixedString:l.push(deserializeLPString(bytesReader));break;case types_StacksWireType.MemoString:l.push(deserializeMemoString(bytesReader));break;case types_StacksWireType.Asset:l.push(deserializeAsset(bytesReader));break;case types_StacksWireType.PostCondition:l.push(deserializePostConditionWire(bytesReader));break;case types_StacksWireType.PublicKey:l.push(deserializePublicKey(bytesReader));break;case types_StacksWireType.TransactionAuthField:l.push(deserializeTransactionAuthField(bytesReader))}return createLPList(l,lengthPrefixBytes)}function serializePostConditionWireBytes(postCondition){const bytesArray=[];if(bytesArray.push(postCondition.conditionType),bytesArray.push(serializePrincipalBytes(postCondition.principal)),postCondition.conditionType!==PostConditionType.Fungible&&postCondition.conditionType!==PostConditionType.NonFungible||bytesArray.push(serializeAssetBytes(postCondition.asset)),postCondition.conditionType===PostConditionType.NonFungible&&bytesArray.push(serializeCVBytes(postCondition.assetName)),bytesArray.push(postCondition.conditionCode),postCondition.conditionType===PostConditionType.STX||postCondition.conditionType===PostConditionType.Fungible){if(postCondition.amount>BigInt("0xffffffffffffffff"))throw new SerializationError("The post-condition amount may not be larger than 8 bytes");bytesArray.push(intToBytes(postCondition.amount,8))}return concatArray(bytesArray)}function deserializePostConditionWire(serialized){const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized),postConditionType=bytesReader.readUInt8Enum(PostConditionType,(n=>{throw new errors_DeserializationError(`Could not read ${n} as PostConditionType`)})),principal=deserializePrincipal(bytesReader);let conditionCode,asset,amount;switch(postConditionType){case PostConditionType.STX:return conditionCode=bytesReader.readUInt8Enum(FungibleConditionCode,(n=>{throw new errors_DeserializationError(`Could not read ${n} as FungibleConditionCode`)})),amount=BigInt(`0x${utils_bytesToHex(bytesReader.readBytes(8))}`),{type:types_StacksWireType.PostCondition,conditionType:PostConditionType.STX,principal,conditionCode,amount};case PostConditionType.Fungible:return asset=deserializeAsset(bytesReader),conditionCode=bytesReader.readUInt8Enum(FungibleConditionCode,(n=>{throw new errors_DeserializationError(`Could not read ${n} as FungibleConditionCode`)})),amount=BigInt(`0x${utils_bytesToHex(bytesReader.readBytes(8))}`),{type:types_StacksWireType.PostCondition,conditionType:PostConditionType.Fungible,principal,conditionCode,amount,asset};case PostConditionType.NonFungible:asset=deserializeAsset(bytesReader);const assetName=deserialize_deserializeCV(bytesReader);return conditionCode=bytesReader.readUInt8Enum(NonFungibleConditionCode,(n=>{throw new errors_DeserializationError(`Could not read ${n} as FungibleConditionCode`)})),{type:types_StacksWireType.PostCondition,conditionType:PostConditionType.NonFungible,principal,conditionCode,asset,assetName}}}function serializePayloadBytes(payload){const bytesArray=[];switch(bytesArray.push(payload.payloadType),payload.payloadType){case constants_PayloadType.TokenTransfer:bytesArray.push(serializeCVBytes(payload.recipient)),bytesArray.push(intToBytes(payload.amount,8)),bytesArray.push(serializeStacksWireBytes(payload.memo));break;case constants_PayloadType.ContractCall:bytesArray.push(serializeStacksWireBytes(payload.contractAddress)),bytesArray.push(serializeStacksWireBytes(payload.contractName)),bytesArray.push(serializeStacksWireBytes(payload.functionName));const numArgs=new Uint8Array(4);writeUInt32BE(numArgs,payload.functionArgs.length,0),bytesArray.push(numArgs),payload.functionArgs.forEach((arg=>{bytesArray.push(serializeCVBytes(arg))}));break;case constants_PayloadType.SmartContract:bytesArray.push(serializeStacksWireBytes(payload.contractName)),bytesArray.push(serializeStacksWireBytes(payload.codeBody));break;case constants_PayloadType.VersionedSmartContract:bytesArray.push(payload.clarityVersion),bytesArray.push(serializeStacksWireBytes(payload.contractName)),bytesArray.push(serializeStacksWireBytes(payload.codeBody));break;case constants_PayloadType.PoisonMicroblock:break;case constants_PayloadType.Coinbase:bytesArray.push(payload.coinbaseBytes);break;case constants_PayloadType.CoinbaseToAltRecipient:bytesArray.push(payload.coinbaseBytes),bytesArray.push(serializeCVBytes(payload.recipient));break;case constants_PayloadType.NakamotoCoinbase:bytesArray.push(payload.coinbaseBytes),bytesArray.push(serializeCVBytes(payload.recipient?someCV(payload.recipient):noneCV())),bytesArray.push(payload.vrfProof);break;case constants_PayloadType.TenureChange:bytesArray.push(utils_hexToBytes(payload.tenureHash)),bytesArray.push(utils_hexToBytes(payload.previousTenureHash)),bytesArray.push(utils_hexToBytes(payload.burnViewHash)),bytesArray.push(utils_hexToBytes(payload.previousTenureEnd)),bytesArray.push(writeUInt32BE(new Uint8Array(4),payload.previousTenureBlocks)),bytesArray.push(function writeUInt8(destination,value,offset=0){return destination[offset]=value,destination}(new Uint8Array(1),payload.cause)),bytesArray.push(utils_hexToBytes(payload.publicKeyHash))}return concatArray(bytesArray)}function deserializePayload(serialized){const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized);switch(bytesReader.readUInt8Enum(constants_PayloadType,(n=>{throw new Error(`Cannot recognize PayloadType: ${n}`)}))){case constants_PayloadType.TokenTransfer:return function createTokenTransferPayload(recipient,amount,memo){return"string"==typeof recipient&&(recipient=principalCV(recipient)),"string"==typeof memo&&(memo=createMemoString(memo)),{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.TokenTransfer,recipient,amount:utils_intToBigInt(amount),memo:memo??createMemoString("")}}(deserialize_deserializeCV(bytesReader),utils_intToBigInt(bytesReader.readBytes(8)),deserializeMemoString(bytesReader));case constants_PayloadType.ContractCall:const contractAddress=deserializeAddress(bytesReader),contractCallName=deserializeLPString(bytesReader),functionName=deserializeLPString(bytesReader),functionArgs=[],numberOfArgs=bytesReader.readUInt32BE();for(let i=0;i<numberOfArgs;i++){const clarityValue=deserialize_deserializeCV(bytesReader);functionArgs.push(clarityValue)}return function createContractCallPayload(contractAddress,contractName,functionName,functionArgs){return"string"==typeof contractName&&(contractName=createLPString(contractName)),"string"==typeof functionName&&(functionName=createLPString(functionName)),{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.ContractCall,contractAddress:"string"==typeof contractAddress?createAddress(contractAddress):contractAddress,contractName,functionName,functionArgs}}(contractAddress,contractCallName,functionName,functionArgs);case constants_PayloadType.SmartContract:return createSmartContractPayload(deserializeLPString(bytesReader),deserializeLPString(bytesReader,4,1e5));case constants_PayloadType.VersionedSmartContract:{const clarityVersion=bytesReader.readUInt8Enum(ClarityVersion,(n=>{throw new Error(`Cannot recognize ClarityVersion: ${n}`)}));return createSmartContractPayload(deserializeLPString(bytesReader),deserializeLPString(bytesReader,4,1e5),clarityVersion)}case constants_PayloadType.PoisonMicroblock:return function createPoisonPayload(){return{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.PoisonMicroblock}}();case constants_PayloadType.Coinbase:return createCoinbasePayload(bytesReader.readBytes(COINBASE_BYTES_LENGTH));case constants_PayloadType.CoinbaseToAltRecipient:return createCoinbasePayload(bytesReader.readBytes(COINBASE_BYTES_LENGTH),deserialize_deserializeCV(bytesReader));case constants_PayloadType.NakamotoCoinbase:return function createNakamotoCoinbasePayload(coinbaseBytes,recipient,vrfProof){if(coinbaseBytes.byteLength!=COINBASE_BYTES_LENGTH)throw Error(`Coinbase buffer size must be ${COINBASE_BYTES_LENGTH} bytes`);if(vrfProof.byteLength!=VRF_PROOF_BYTES_LENGTH)throw Error(`VRF proof buffer size must be ${VRF_PROOF_BYTES_LENGTH} bytes`);return{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.NakamotoCoinbase,coinbaseBytes,recipient:recipient.type===constants_ClarityType.OptionalSome?recipient.value:void 0,vrfProof}}(bytesReader.readBytes(COINBASE_BYTES_LENGTH),deserialize_deserializeCV(bytesReader),bytesReader.readBytes(VRF_PROOF_BYTES_LENGTH));case constants_PayloadType.TenureChange:return function createTenureChangePayload(tenureHash,previousTenureHash,burnViewHash,previousTenureEnd,previousTenureBlocks,cause,publicKeyHash){return{type:types_StacksWireType.Payload,payloadType:constants_PayloadType.TenureChange,tenureHash,previousTenureHash,burnViewHash,previousTenureEnd,previousTenureBlocks,cause,publicKeyHash}}(utils_bytesToHex(bytesReader.readBytes(20)),utils_bytesToHex(bytesReader.readBytes(20)),utils_bytesToHex(bytesReader.readBytes(20)),utils_bytesToHex(bytesReader.readBytes(32)),bytesReader.readUInt32BE(),bytesReader.readUInt8Enum(TenureChangeCause,(n=>{throw new Error(`Cannot recognize TenureChangeCause: ${n}`)})),utils_bytesToHex(bytesReader.readBytes(20)))}}function deserializeMessageSignature(serialized){return createMessageSignature(utils_bytesToHex((isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized)).readBytes(constants_RECOVERABLE_ECDSA_SIG_LENGTH_BYTES)))}function deserializeTransactionAuthField(serialized){const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized),authFieldType=bytesReader.readUInt8Enum(AuthFieldType,(n=>{throw new errors_DeserializationError(`Could not read ${n} as AuthFieldType`)}));switch(authFieldType){case AuthFieldType.PublicKeyCompressed:return createTransactionAuthField(constants_PubKeyEncoding.Compressed,deserializePublicKey(bytesReader));case AuthFieldType.PublicKeyUncompressed:return createTransactionAuthField(constants_PubKeyEncoding.Uncompressed,keys_createStacksPublicKey(function uncompressPublicKey(publicKey){return esm.bR.fromHex(publicKeyToHex(publicKey)).toHex(!1)}(deserializePublicKey(bytesReader).data)));case AuthFieldType.SignatureCompressed:return createTransactionAuthField(constants_PubKeyEncoding.Compressed,deserializeMessageSignature(bytesReader));case AuthFieldType.SignatureUncompressed:return createTransactionAuthField(constants_PubKeyEncoding.Uncompressed,deserializeMessageSignature(bytesReader));default:throw new Error(`Unknown auth field type: ${JSON.stringify(authFieldType)}`)}}function serializeMessageSignatureBytes(messageSignature){return utils_hexToBytes(messageSignature.data)}function serializeTransactionAuthFieldBytes(field){const bytesArray=[];switch(field.contents.type){case types_StacksWireType.PublicKey:bytesArray.push(field.pubKeyEncoding===constants_PubKeyEncoding.Compressed?AuthFieldType.PublicKeyCompressed:AuthFieldType.PublicKeyUncompressed),bytesArray.push(utils_hexToBytes(function compressPublicKey(publicKey){return esm.bR.fromHex(publicKeyToHex(publicKey)).toHex(!0)}(field.contents.data)));break;case types_StacksWireType.MessageSignature:bytesArray.push(field.pubKeyEncoding===constants_PubKeyEncoding.Compressed?AuthFieldType.SignatureCompressed:AuthFieldType.SignatureUncompressed),bytesArray.push(serializeMessageSignatureBytes(field.contents))}return concatArray(bytesArray)}function serializePublicKeyBytes(key){return key.data.slice()}function deserializePublicKey(serialized){const bytesReader=isInstance(serialized,BytesReader)?serialized:new BytesReader(serialized),fieldId=bytesReader.readUInt8(),keyLength=4===fieldId?UNCOMPRESSED_PUBKEY_LENGTH_BYTES:COMPRESSED_PUBKEY_LENGTH_BYTES;return keys_createStacksPublicKey(concatArray([fieldId,bytesReader.readBytes(keyLength)]))}function helpers_addressFromPublicKeys(version,hashMode,numSigs,publicKeys){if(0===publicKeys.length)throw Error("Invalid number of public keys");if(!(hashMode!==constants_AddressHashMode.P2PKH&&hashMode!==constants_AddressHashMode.P2WPKH||1===publicKeys.length&&1===numSigs))throw Error("Invalid number of public keys or signatures");if((hashMode===constants_AddressHashMode.P2WPKH||hashMode===constants_AddressHashMode.P2WSH||hashMode===constants_AddressHashMode.P2WSHNonSequential)&&!publicKeys.map((p=>p.data)).every(publicKeyIsCompressed))throw Error("Public keys must be compressed for segwit");switch(hashMode){case constants_AddressHashMode.P2PKH:return addressFromVersionHash(version,hashP2PKH(publicKeys[0].data));case constants_AddressHashMode.P2WPKH:return addressFromVersionHash(version,hashP2WPKH(publicKeys[0].data));case constants_AddressHashMode.P2SH:case constants_AddressHashMode.P2SHNonSequential:return addressFromVersionHash(version,hashP2SH(numSigs,publicKeys.map(serializePublicKeyBytes)));case constants_AddressHashMode.P2WSH:case constants_AddressHashMode.P2WSHNonSequential:return addressFromVersionHash(version,hashP2WSH(numSigs,publicKeys.map(serializePublicKeyBytes)))}}function addressFromVersionHash(version,hash){return{type:types_StacksWireType.Address,version,hash160:hash}}function addressToString(address){return(0,c32check_lib.bJ)(address.version,address.hash160)}function parseAssetString(id){const[assetAddress,assetContractName,assetTokenName]=id.split(/\.|::/);return function createAsset(addressString,contractName,assetName){return{type:types_StacksWireType.Asset,address:createAddress(addressString),contractName:createLPString(contractName),assetName:createLPString(assetName)}}(assetAddress,assetContractName,assetTokenName)}function parsePrincipalString(principalString){if(principalString.includes(".")){const[address,contractName]=principalString.split(".");return function createContractPrincipal(addressString,contractName){const addr=createAddress(addressString),name=createLPString(contractName);return{type:types_StacksWireType.Principal,prefix:PostConditionPrincipalId.Contract,address:addr,contractName:name}}(address,contractName)}return function createStandardPrincipal(addressString){const addr=createAddress(addressString);return{type:types_StacksWireType.Principal,prefix:PostConditionPrincipalId.Standard,address:addr}}(principalString)}function getAddressFromPublicKey(publicKey,network="mainnet"){network=network_networkFrom(network),publicKey="string"==typeof publicKey?utils_hexToBytes(publicKey):publicKey;const addrVer=function addressHashModeToVersion(hashMode,network){switch(network=network_networkFrom(network??network_STACKS_MAINNET),hashMode){case constants_AddressHashMode.P2PKH:switch(network.transactionVersion){case constants_TransactionVersion.Mainnet:return AddressVersion.MainnetSingleSig;case constants_TransactionVersion.Testnet:return AddressVersion.TestnetSingleSig;default:throw new Error(`Unexpected transactionVersion ${network.transactionVersion} for hashMode ${hashMode}`)}case constants_AddressHashMode.P2SH:case constants_AddressHashMode.P2SHNonSequential:case constants_AddressHashMode.P2WPKH:case constants_AddressHashMode.P2WSH:case constants_AddressHashMode.P2WSHNonSequential:switch(network.transactionVersion){case constants_TransactionVersion.Mainnet:return AddressVersion.MainnetMultiSig;case constants_TransactionVersion.Testnet:return AddressVersion.TestnetMultiSig;default:throw new Error(`Unexpected transactionVersion ${network.transactionVersion} for hashMode ${hashMode}`)}default:throw new Error(`Unexpected hashMode ${hashMode}`)}}(constants_AddressHashMode.P2PKH,network);return addressToString(addressFromVersionHash(addrVer,hashP2PKH(publicKey)))}function keys_createStacksPublicKey(publicKey){return publicKey="string"==typeof publicKey?utils_hexToBytes(publicKey):publicKey,{type:types_StacksWireType.PublicKey,data:publicKey}}function publicKeyFromSignatureVrs(messageHash,messageSignature,pubKeyEncoding=constants_PubKeyEncoding.Compressed){const parsedSignature=function signatures_parseRecoverableSignatureVrs(signature){if(signature.length<2*COORDINATE_BYTES*2+1)throw new Error("Invalid signature");const recoveryIdHex=signature.slice(0,2),r=signature.slice(2,2+2*COORDINATE_BYTES),s=signature.slice(2+2*COORDINATE_BYTES);return{recoveryId:hexToInt(recoveryIdHex),r,s}}(messageSignature),signature=new esm.to(utils_hexToBigInt(parsedSignature.r),utils_hexToBigInt(parsedSignature.s)),point=esm.bR.fromSignature(messageHash,signature,parsedSignature.recoveryId),compressed=pubKeyEncoding===constants_PubKeyEncoding.Compressed;return point.toHex(compressed)}function privateKeyToHex(publicKey){return"string"==typeof publicKey?publicKey:utils_bytesToHex(publicKey)}esm.Wp.hmacSha256Sync=(key,...msgs)=>{const h=hmac.w.create(esm_sha256.s,key);return msgs.forEach((msg=>h.update(msg))),h.digest()};const publicKeyToHex=privateKeyToHex;function privateKeyIsCompressed(privateKey){return("string"==typeof privateKey?privateKey.length/2:privateKey.byteLength)===constants_PRIVATE_KEY_BYTES_COMPRESSED}function publicKeyIsCompressed(publicKey){return!publicKeyToHex(publicKey).startsWith("04")}function privateKeyToPublic(privateKey){const isCompressed=privateKeyIsCompressed(privateKey=keys_privateKeyToBytes(privateKey));return utils_bytesToHex((0,esm.lG)(privateKey.slice(0,32),isCompressed))}function signWithKey(privateKey,messageHash){privateKey=keys_privateKeyToBytes(privateKey);const[rawSignature,recoveryId]=(0,esm.HU)(messageHash,privateKey.slice(0,32),{canonical:!0,recovered:!0});if(null==recoveryId)throw new Error("No signature recoveryId received");return intToHex(recoveryId,1)+esm.to.fromHex(rawSignature).toCompactHex()}function signProfileToken(profile,privateKey,subject,issuer,signingAlgorithm="ES256K",issuedAt=new Date,expiresAt=function nextYear(){return new Date((new Date).setFullYear((new Date).getFullYear()+1))}()){if("ES256K"!==signingAlgorithm)throw new Error("Signing algorithm not supported");const publicKey=lib.SECP256K1Client.derivePublicKey(privateKey);subject||(subject={publicKey}),issuer||(issuer={publicKey});const tokenSigner=new lib.TokenSigner(signingAlgorithm,privateKey),payload={jti:makeUUID4(),iat:issuedAt.toISOString(),exp:expiresAt.toISOString(),subject,issuer,claim:profile};return tokenSigner.sign(payload)}function extractProfile(token,publicKeyOrAddress=null){let decodedToken;decodedToken=publicKeyOrAddress?function verifyProfileToken(token,publicKeyOrAddress){const decodedToken=(0,lib.decodeToken)(token),payload=decodedToken.payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");if(!payload.hasOwnProperty("subject")||!payload.subject)throw new Error("Token doesn't have a subject");if(!payload.subject.hasOwnProperty("publicKey"))throw new Error("Token doesn't have a subject public key");if(!payload.hasOwnProperty("issuer")||!payload.issuer)throw new Error("Token doesn't have an issuer");if(!payload.issuer.hasOwnProperty("publicKey"))throw new Error("Token doesn't have an issuer public key");if(!payload.hasOwnProperty("claim"))throw new Error("Token doesn't have a claim");const issuerPublicKey=payload.issuer.publicKey,address=getAddressFromPublicKey(issuerPublicKey);if(publicKeyOrAddress===issuerPublicKey);else if(publicKeyOrAddress!==address)throw new Error("Token issuer public key does not match the verifying value");const tokenVerifier=new lib.TokenVerifier(decodedToken.header.alg,issuerPublicKey);if(!tokenVerifier)throw new Error("Invalid token verifier");if(!tokenVerifier.verify(token))throw new Error("Token verification failed");return decodedToken}(token,publicKeyOrAddress):(0,lib.decodeToken)(token);let profile={};if(decodedToken.hasOwnProperty("payload")){const payload=decodedToken.payload;if("string"==typeof payload)throw new Error("Unexpected token payload type of string");payload.hasOwnProperty("claim")&&(profile=payload.claim)}return profile}function protocolEchoReplyDetection(){let globalScope;if("undefined"!=typeof self)globalScope=self;else{if("undefined"==typeof window)return!1;globalScope=window}if(!globalScope.location||!globalScope.localStorage)return!1;const existingDetection=globalScope._blockstackDidCheckEchoReply;if("boolean"==typeof existingDetection)return existingDetection;const searchParams=function getQueryStringParams(query){return query?(/^[?#]/.test(query)?query.slice(1):query).split("&").reduce(((params,param)=>{const[key,value]=param.split("=");return params[key]=value?decodeURIComponent(value.replace(/\+/g," ")):"",params}),{}):{}}(globalScope.location.search),echoReplyParam=searchParams.echoReply;if(echoReplyParam){globalScope._blockstackDidCheckEchoReply=!0;const echoReplyKey=`echo-reply-${echoReplyParam}`;return globalScope.localStorage.setItem(echoReplyKey,"success"),globalScope.setTimeout((()=>{const authContinuationParam=searchParams.authContinuation;globalScope.location.href=authContinuationParam}),10),!0}return!1}class UserSession{constructor(options){let runningInBrowser=!0;if("undefined"==typeof window&&"undefined"==typeof self&&(runningInBrowser=!1),options&&options.appConfig)this.appConfig=options.appConfig;else{if(!runningInBrowser)throw new MissingParameterError("You need to specify options.appConfig");this.appConfig=new AppConfig}options&&options.sessionStore?this.store=options.sessionStore:this.store=runningInBrowser?options?new LocalStorageStore(options.sessionOptions):new LocalStorageStore:options?new InstanceDataStore(options.sessionOptions):new InstanceDataStore}makeAuthRequestToken(transitKey,redirectURI,manifestURI,scopes,appDomain,expiresAt=function nextHour(){return new Date((new Date).setHours((new Date).getHours()+1))}().getTime(),extraParams={}){const appConfig=this.appConfig;if(!appConfig)throw new InvalidStateError("Missing AppConfig");return makeAuthRequestToken(transitKey=transitKey||this.generateAndStoreTransitKey(),redirectURI=redirectURI||appConfig.redirectURI(),manifestURI=manifestURI||appConfig.manifestURI(),scopes=scopes||appConfig.scopes,appDomain=appDomain||appConfig.appDomain,expiresAt,extraParams)}generateAndStoreTransitKey(){const sessionData=this.store.getSessionData(),transitKey=generateTransitKey();return sessionData.transitKey=transitKey,this.store.setSessionData(sessionData),transitKey}getAuthResponseToken(){const search=getGlobalObject("location",{throwIfUnavailable:!0,usageDesc:"getAuthResponseToken"})?.search;return new URLSearchParams(search).get("authResponse")??""}isSignInPending(){try{if(protocolEchoReplyDetection())return logger_Logger.info("protocolEchoReply detected from isSignInPending call, the page is about to redirect."),!0}catch(error){logger_Logger.error(`Error checking for protocol echo reply isSignInPending: ${error}`)}return!!this.getAuthResponseToken()}isUserSignedIn(){return!!this.store.getSessionData().userData}async handlePendingSignIn(authResponseToken=this.getAuthResponseToken(),fetchFn=createFetchFn()){const sessionData=this.store.getSessionData();if(sessionData.userData)throw new LoginFailedError("Existing user session found.");const transitKey=this.store.getSessionData().transitKey;let coreNode=this.appConfig&&this.appConfig.coreNode;coreNode||(coreNode="https://api.mainnet.hiro.so");const tokenPayload=(0,lib.decodeToken)(authResponseToken).payload;if("string"==typeof tokenPayload)throw new Error("Unexpected token payload type of string");if(!await verifyAuthResponse(authResponseToken))throw new LoginFailedError("Invalid authentication response.");let appPrivateKey=tokenPayload.private_key,coreSessionToken=tokenPayload.core_token;if(isLaterVersion(tokenPayload.version,"1.1.0")){if(void 0===transitKey||null==transitKey)throw new LoginFailedError("Authenticating with protocol > 1.1.0 requires transit key, and none found.");if(void 0!==tokenPayload.private_key&&null!==tokenPayload.private_key)try{appPrivateKey=await decryptPrivateKey(transitKey,tokenPayload.private_key)}catch(e){if(logger_Logger.warn("Failed decryption of appPrivateKey, will try to use as given"),!esm.Wp.isValidPrivateKey(tokenPayload.private_key))throw new LoginFailedError("Failed decrypting appPrivateKey. Usually means that the transit key has changed during login.")}if(null!=coreSessionToken)try{coreSessionToken=await decryptPrivateKey(transitKey,coreSessionToken)}catch(e){logger_Logger.info("Failed decryption of coreSessionToken, will try to use as given")}}let gaiaAssociationToken,hubUrl="https://hub.blockstack.org";isLaterVersion(tokenPayload.version,"1.2.0")&&null!==tokenPayload.hubUrl&&void 0!==tokenPayload.hubUrl&&(hubUrl=tokenPayload.hubUrl),isLaterVersion(tokenPayload.version,"1.3.0")&&null!==tokenPayload.associationToken&&void 0!==tokenPayload.associationToken&&(gaiaAssociationToken=tokenPayload.associationToken);const userData={profile:tokenPayload.profile,email:tokenPayload.email,decentralizedID:tokenPayload.iss,identityAddress:getAddressFromDID(tokenPayload.iss),appPrivateKey,coreSessionToken,authResponseToken,hubUrl,appPrivateKeyFromWalletSalt:tokenPayload.appPrivateKeyFromWalletSalt,coreNode:tokenPayload.blockstackAPIUrl,gaiaAssociationToken},profileURL=tokenPayload.profile_url;if(!userData.profile&&profileURL){const response=await fetchFn(profileURL);if(response.ok){const responseText=await response.text(),wrappedProfile=JSON.parse(responseText);userData.profile=extractProfile(wrappedProfile[0].token)}else userData.profile=Object.assign({},DEFAULT_PROFILE)}else userData.profile=tokenPayload.profile;return sessionData.userData=userData,this.store.setSessionData(sessionData),userData}loadUserData(){const userData=this.store.getSessionData().userData;if(!userData)throw new InvalidStateError("No user data found. Did the user sign in?");return userData}encryptContent(content,options){const opts=Object.assign({},options);return opts.privateKey||(opts.privateKey=this.loadUserData().appPrivateKey),encryptContent(content,opts)}decryptContent(content,options){const opts=Object.assign({},options);return opts.privateKey||(opts.privateKey=this.loadUserData().appPrivateKey),function decryptContent(content,options){const opts=Object.assign({},options);if(!opts.privateKey)throw new Error("Private key is required for decryption.");try{const cipherObject=JSON.parse(content);return decryptECIES(opts.privateKey,cipherObject)}catch(err){throw err instanceof SyntaxError?new Error("Failed to parse encrypted content JSON. The content may not be encrypted. If using getFile, try passing { decrypt: false }."):err}}(content,opts)}signUserOut(redirectURL){this.store.deleteSessionData(),redirectURL&&"undefined"!=typeof location&&location.href&&(location.href=redirectURL)}}function formatAccount(serviceName,data){let proofUrl;return data.proof&&data.proof.url&&(proofUrl=data.proof.url),{"@type":"Account",service:serviceName,identifier:data.username,proofType:"http",proofUrl}}UserSession.prototype.makeAuthRequest=UserSession.prototype.makeAuthRequestToken;var dist=__webpack_require__("./node_modules/.pnpm/zone-file@2.0.0-beta.3/node_modules/zone-file/dist/index.js"),schema_inspector=__webpack_require__("./node_modules/.pnpm/schema-inspector@2.0.2/node_modules/schema-inspector/index.js");const schemaDefinition={type:"object",properties:{"@context":{type:"string",optional:!0},"@type":{type:"string"}}};class Profile{constructor(profile={}){this._profile=Object.assign({},{"@context":"http://schema.org/"},profile)}toJSON(){return Object.assign({},this._profile)}toToken(privateKey){return signProfileToken(this.toJSON(),privateKey)}static validateSchema(profile,strict=!1){return schemaDefinition.strict=strict,schema_inspector.validate(schemaDefinition,profile)}static fromToken(token,publicKeyOrAddress=null){const profile=extractProfile(token,publicKeyOrAddress);return new Profile(profile)}static makeZoneFile(domainName,tokenFileURL){return function makeProfileZoneFile(origin,tokenFileUrl){if(!tokenFileUrl.includes("://"))throw new Error("Invalid token file url");const urlScheme=tokenFileUrl.split("://")[0],urlParts=tokenFileUrl.split("://")[1].split("/"),domain=urlParts[0],pathname=`/${urlParts.slice(1).join("/")}`,zoneFile={$origin:origin,$ttl:3600,uri:[{name:"_http._tcp",priority:10,weight:1,target:`${urlScheme}://${domain}${pathname}`}]},zoneFileTemplate="{$origin}\n{$ttl}\n{uri}\n";return(0,dist.makeZoneFile)(zoneFile,zoneFileTemplate)}(domainName,tokenFileURL)}}const personSchemaDefinition={type:"object",strict:!1,properties:{"@context":{type:"string",optional:!0},"@type":{type:"string"},"@id":{type:"string",optional:!0},name:{type:"string",optional:!0},givenName:{type:"string",optional:!0},familyName:{type:"string",optional:!0},description:{type:"string",optional:!0},image:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},name:{type:"string",optional:!0},contentUrl:{type:"string",optional:!0}}}},website:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},url:{type:"string",optional:!0}}}},account:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},service:{type:"string",optional:!0},identifier:{type:"string",optional:!0},proofType:{type:"string",optional:!0},proofUrl:{type:"string",optional:!0},proofMessage:{type:"string",optional:!0},proofSignature:{type:"string",optional:!0}}}},worksFor:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},"@id":{type:"string",optional:!0}}}},knows:{type:"array",optional:!0,items:{type:"object",properties:{"@type":{type:"string"},"@id":{type:"string",optional:!0}}}},address:{type:"object",optional:!0,properties:{"@type":{type:"string"},streetAddress:{type:"string",optional:!0},addressLocality:{type:"string",optional:!0},postalCode:{type:"string",optional:!0},addressCountry:{type:"string",optional:!0}}},birthDate:{type:"string",optional:!0},taxID:{type:"string",optional:!0}}};class Person extends Profile{constructor(profile={"@type":"Person"}){super(profile),this._profile=Object.assign({},{"@type":"Person"},this._profile)}static validateSchema(profile,strict=!1){return personSchemaDefinition.strict=strict,schema_inspector.validate(schemaDefinition,profile)}static fromToken(token,publicKeyOrAddress=null){const profile=extractProfile(token,publicKeyOrAddress);return new Person(profile)}static fromLegacyFormat(legacyProfile){const profile=function getPersonFromLegacyFormat(profile){const profileData={"@type":"Person"};if(profile){profile.name&&profile.name.formatted&&(profileData.name=profile.name.formatted),profile.bio&&(profileData.description=profile.bio),profile.location&&profile.location.formatted&&(profileData.address={"@type":"PostalAddress",addressLocality:profile.location.formatted});const images=[];profile.avatar&&profile.avatar.url&&images.push({"@type":"ImageObject",name:"avatar",contentUrl:profile.avatar.url}),profile.cover&&profile.cover.url&&images.push({"@type":"ImageObject",name:"cover",contentUrl:profile.cover.url}),images.length&&(profileData.image=images),profile.website&&(profileData.website=[{"@type":"WebSite",url:profile.website}]);const accounts=[];profile.bitcoin&&profile.bitcoin.address&&accounts.push({"@type":"Account",role:"payment",service:"bitcoin",identifier:profile.bitcoin.address}),profile.twitter&&profile.twitter.username&&accounts.push(formatAccount("twitter",profile.twitter)),profile.facebook&&profile.facebook.username&&accounts.push(formatAccount("facebook",profile.facebook)),profile.github&&profile.github.username&&accounts.push(formatAccount("github",profile.github)),profile.auth&&profile.auth.length>0&&profile.auth[0]&&profile.auth[0].publicKeychain&&accounts.push({"@type":"Account",role:"key",service:"bip32",identifier:profile.auth[0].publicKeychain}),profile.pgp&&profile.pgp.url&&accounts.push({"@type":"Account",role:"key",service:"pgp",identifier:profile.pgp.fingerprint,contentUrl:profile.pgp.url}),profileData.account=accounts}return profileData}(legacyProfile);return new Person(profile)}toJSON(){return{profile:this.profile(),name:this.name(),givenName:this.givenName(),familyName:this.familyName(),description:this.description(),avatarUrl:this.avatarUrl(),verifiedAccounts:this.verifiedAccounts(),address:this.address(),birthDate:this.birthDate(),connections:this.connections(),organizations:this.organizations()}}profile(){return Object.assign({},this._profile)}name(){return function getName(profile){if(!profile)return null;let name=null;return profile.name?name=profile.name:(profile.givenName||profile.familyName)&&(name="",profile.givenName&&(name=profile.givenName),profile.familyName&&(name+=` ${profile.familyName}`)),name}(this.profile())}givenName(){return function getGivenName(profile){if(!profile)return null;let givenName=null;profile.givenName?givenName=profile.givenName:profile.name&&(givenName=profile.name.split(" ").slice(0,-1).join(" "));return givenName}(this.profile())}familyName(){return function getFamilyName(profile){if(!profile)return null;let familyName=null;profile.familyName?familyName=profile.familyName:profile.name&&(familyName=profile.name.split(" ").pop());return familyName}(this.profile())}description(){return function getDescription(profile){if(!profile)return null;let description=null;return profile.description&&(description=profile.description),description}(this.profile())}avatarUrl(){return function getAvatarUrl(profile){if(!profile)return null;let avatarContentUrl=null;return profile.image&&profile.image.map((image=>"avatar"===image.name?(avatarContentUrl=image.contentUrl,avatarContentUrl):null)),avatarContentUrl}(this.profile())}verifiedAccounts(verifications){return function getVerifiedAccounts(profile,verifications){if(!profile)return null;const filteredAccounts=[];return profile.hasOwnProperty("account")&&verifications&&profile.account.map((account=>{let accountIsValid=!1,proofUrl=null;return verifications.map((verification=>(verification.hasOwnProperty("proof_url")&&(verification.proofUrl=verification.proof_url),!(!verification.valid||verification.service!==account.service||verification.identifier!==account.identifier||!verification.proofUrl||(accountIsValid=!0,proofUrl=verification.proofUrl,0))))),accountIsValid?(account.proofUrl=proofUrl,filteredAccounts.push(account),account):null})),filteredAccounts}(this.profile(),verifications)}address(){return function getAddress(profile){if(!profile)return null;let addressString=null;if(profile.hasOwnProperty("address")){const addressParts=[];profile.address.hasOwnProperty("streetAddress")&&addressParts.push(profile.address.streetAddress),profile.address.hasOwnProperty("addressLocality")&&addressParts.push(profile.address.addressLocality),profile.address.hasOwnProperty("postalCode")&&addressParts.push(profile.address.postalCode),profile.address.hasOwnProperty("addressCountry")&&addressParts.push(profile.address.addressCountry),addressParts.length&&(addressString=addressParts.join(", "))}return addressString}(this.profile())}birthDate(){return function getBirthDate(profile){if(!profile)return null;const monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];let birthDateString=null;if(profile.hasOwnProperty("birthDate")){const date=new Date(profile.birthDate);birthDateString=`${monthNames[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`}return birthDateString}(this.profile())}connections(){return function getConnections(profile){if(!profile)return null;let connections=[];return profile.hasOwnProperty("knows")&&(connections=profile.knows),connections}(this.profile())}organizations(){return function getOrganizations(profile){return profile?profile.hasOwnProperty("worksFor")?profile.worksFor:[]:null}(this.profile())}}function resolveZoneFileToProfile(opts){const network=network_networkFrom(opts.network??"mainnet"),client=Object.assign({},clientFromNetwork(network),opts.client);return new Promise(((resolve,reject)=>{let zoneFileJson=null;try{zoneFileJson=(0,dist.parseZoneFile)(opts.zoneFile),zoneFileJson.hasOwnProperty("$origin")||(zoneFileJson=null)}catch(e){reject(e)}let tokenFileUrl=null;if(zoneFileJson&&Object.keys(zoneFileJson).length>0)tokenFileUrl=function getTokenFileUrl(zoneFileJson){if(!zoneFileJson.hasOwnProperty("uri"))return null;if(!Array.isArray(zoneFileJson.uri))return null;if(zoneFileJson.uri.length<1)return null;const validRecords=zoneFileJson.uri.filter((record=>record.hasOwnProperty("target")&&"_http._tcp"===record.name));if(validRecords.length<1)return null;const firstValidRecord=validRecords[0];if(!firstValidRecord.hasOwnProperty("target"))return null;let tokenFileUrl=firstValidRecord.target;return tokenFileUrl.startsWith("https")||tokenFileUrl.startsWith("http")||(tokenFileUrl=`https://${tokenFileUrl}`),tokenFileUrl}(zoneFileJson);else try{return resolve(Person.fromLegacyFormat(JSON.parse(opts.zoneFile)).profile())}catch(error){return reject(error)}tokenFileUrl?client.fetch(tokenFileUrl).then((response=>response.text())).then((responseText=>JSON.parse(responseText))).then((responseJson=>{const profile=extractProfile(responseJson[0].token,opts.publicKeyOrAddress);resolve(profile)})).catch((error=>{logger_Logger.error(`resolveZoneFileToProfile: error fetching token file ${tokenFileUrl}: ${error}`),reject(error)})):(logger_Logger.debug("Token file url not found. Resolving to blank profile."),resolve({}))}))}function lookupProfile(options){if(!options.username)return Promise.reject(new Error("No username provided"));const network=network_networkFrom(options.network??"mainnet"),client=Object.assign({},clientFromNetwork(network),options.client);let lookupPromise;if(options.zoneFileLookupURL){const url=`${options.zoneFileLookupURL.replace(/\/$/,"")}/${options.username}`;lookupPromise=client.fetch(url).then((response=>response.json()))}else lookupPromise=getNameInfo({name:options.username});return lookupPromise.then((responseJSON=>{if(responseJSON.hasOwnProperty("zonefile")&&responseJSON.hasOwnProperty("address"))return resolveZoneFileToProfile({zoneFile:responseJSON.zonefile,publicKeyOrAddress:responseJSON.address,client});throw new Error("Invalid zonefile lookup response: did not contain `address` or `zonefile` field")}))}function getNameInfo(opts){const network=network_networkFrom(opts.network??"mainnet"),client=Object.assign({},clientFromNetwork(network),opts.client),nameLookupURL=`${client.baseUrl}/v1/names/${opts.name}`;return client.fetch(nameLookupURL).then((resp=>{if(404===resp.status)throw new Error("Name not found");if(200!==resp.status)throw new Error(`Bad response status: ${resp.status}`);return resp.json()})).then((nameInfo=>nameInfo.address?Object.assign({},nameInfo,{address:nameInfo.address}):nameInfo))}var session_9db1cb8a=__webpack_require__("./node_modules/.pnpm/@stacks+connect-ui@6.5.0/node_modules/@stacks/connect-ui/dist/esm/session-9db1cb8a.js"),network=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.17.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/network.js");const FUNGIBLE_COMPARATOR_MAPPING={eq:FungibleConditionCode.Equal,gt:FungibleConditionCode.Greater,lt:FungibleConditionCode.Less,gte:FungibleConditionCode.GreaterEqual,lte:FungibleConditionCode.LessEqual},NON_FUNGIBLE_COMPARATOR_MAPPING={sent:NonFungibleConditionCode.Sends,"not-sent":NonFungibleConditionCode.DoesNotSend};function postConditionToHex(postcondition){const wire=function postConditionToWire(postcondition){switch(postcondition.type){case"stx-postcondition":return{type:types_StacksWireType.PostCondition,conditionType:PostConditionType.STX,principal:"origin"===postcondition.address?{type:types_StacksWireType.Principal,prefix:PostConditionPrincipalId.Origin}:parsePrincipalString(postcondition.address),conditionCode:FUNGIBLE_COMPARATOR_MAPPING[postcondition.condition],amount:BigInt(postcondition.amount)};case"ft-postcondition":return{type:types_StacksWireType.PostCondition,conditionType:PostConditionType.Fungible,principal:"origin"===postcondition.address?{type:types_StacksWireType.Principal,prefix:PostConditionPrincipalId.Origin}:parsePrincipalString(postcondition.address),conditionCode:FUNGIBLE_COMPARATOR_MAPPING[postcondition.condition],amount:BigInt(postcondition.amount),asset:parseAssetString(postcondition.asset)};case"nft-postcondition":return{type:types_StacksWireType.PostCondition,conditionType:PostConditionType.NonFungible,principal:"origin"===postcondition.address?{type:types_StacksWireType.Principal,prefix:PostConditionPrincipalId.Origin}:parsePrincipalString(postcondition.address),conditionCode:NON_FUNGIBLE_COMPARATOR_MAPPING[postcondition.condition],asset:parseAssetString(postcondition.asset),assetName:postcondition.assetId};default:throw new Error("Invalid post condition type")}}(postcondition);return function serializePostConditionWire(postCondition){return utils_bytesToHex(serializePostConditionWireBytes(postCondition))}(wire)}function emptyMessageSignature(){return{type:types_StacksWireType.MessageSignature,data:utils_bytesToHex(new Uint8Array(constants_RECOVERABLE_ECDSA_SIG_LENGTH_BYTES))}}function createSingleSigSpendingCondition(hashMode,pubKey,nonce,fee){const signer=helpers_addressFromPublicKeys(0,hashMode,1,[keys_createStacksPublicKey(pubKey)]).hash160,keyEncoding=publicKeyIsCompressed(pubKey)?constants_PubKeyEncoding.Compressed:constants_PubKeyEncoding.Uncompressed;return{hashMode,signer,nonce:utils_intToBigInt(nonce),fee:utils_intToBigInt(fee),keyEncoding,signature:emptyMessageSignature()}}function isSingleSig(condition){return"signature"in condition}function isSequentialMultiSig(hashMode){return hashMode===constants_AddressHashMode.P2SH||hashMode===constants_AddressHashMode.P2WSH}function clearCondition(condition){const cloned=cloneDeep(condition);return cloned.nonce=0,cloned.fee=0,isSingleSig(cloned)?cloned.signature=emptyMessageSignature():cloned.fields=[],{...cloned,nonce:BigInt(0),fee:BigInt(0)}}function serializeSingleSigSpendingConditionBytes(condition){return concatArray([condition.hashMode,utils_hexToBytes(condition.signer),intToBytes(condition.nonce,8),intToBytes(condition.fee,8),condition.keyEncoding,serializeMessageSignatureBytes(condition.signature)])}function serializeMultiSigSpendingConditionBytes(condition){const bytesArray=[condition.hashMode,utils_hexToBytes(condition.signer),intToBytes(condition.nonce,8),intToBytes(condition.fee,8)],fields=createLPList(condition.fields);bytesArray.push(serializeLPListBytes(fields));const numSigs=new Uint8Array(2);return function writeUInt16BE(destination,value,offset=0){return destination[offset+0]=value>>>8,destination[offset+1]=value>>>0,destination}(numSigs,condition.signaturesRequired,0),bytesArray.push(numSigs),concatArray(bytesArray)}function serializeSpendingConditionBytes(condition){return isSingleSig(condition)?serializeSingleSigSpendingConditionBytes(condition):serializeMultiSigSpendingConditionBytes(condition)}function deserializeSpendingCondition(bytesReader){const hashMode=bytesReader.readUInt8Enum(constants_AddressHashMode,(n=>{throw new errors_DeserializationError(`Could not parse ${n} as AddressHashMode`)}));return hashMode===constants_AddressHashMode.P2PKH||hashMode===constants_AddressHashMode.P2WPKH?function deserializeSingleSigSpendingCondition(hashMode,bytesReader){const signer=utils_bytesToHex(bytesReader.readBytes(20)),nonce=BigInt(`0x${utils_bytesToHex(bytesReader.readBytes(8))}`),fee=BigInt(`0x${utils_bytesToHex(bytesReader.readBytes(8))}`),keyEncoding=bytesReader.readUInt8Enum(constants_PubKeyEncoding,(n=>{throw new errors_DeserializationError(`Could not parse ${n} as PubKeyEncoding`)}));if(hashMode===constants_AddressHashMode.P2WPKH&&keyEncoding!=constants_PubKeyEncoding.Compressed)throw new errors_DeserializationError("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");return{hashMode,signer,nonce,fee,keyEncoding,signature:deserializeMessageSignature(bytesReader)}}(hashMode,bytesReader):function deserializeMultiSigSpendingCondition(hashMode,bytesReader){const signer=utils_bytesToHex(bytesReader.readBytes(20)),nonce=BigInt("0x"+utils_bytesToHex(bytesReader.readBytes(8))),fee=BigInt("0x"+utils_bytesToHex(bytesReader.readBytes(8))),fields=deserializeLPList(bytesReader,types_StacksWireType.TransactionAuthField).values;let haveUncompressed=!1,numSigs=0;for(const field of fields)switch(field.contents.type){case types_StacksWireType.PublicKey:publicKeyIsCompressed(field.contents.data)||(haveUncompressed=!0);break;case types_StacksWireType.MessageSignature:if(field.pubKeyEncoding===constants_PubKeyEncoding.Uncompressed&&(haveUncompressed=!0),numSigs+=1,65536===numSigs)throw new VerificationError("Failed to parse multisig spending condition: too many signatures")}const signaturesRequired=bytesReader.readUInt16BE();if(haveUncompressed&&(hashMode===constants_AddressHashMode.P2WSH||hashMode===constants_AddressHashMode.P2WSHNonSequential))throw new VerificationError("Uncompressed keys are not allowed in this hash mode");return{hashMode,signer,nonce,fee,fields,signaturesRequired}}(hashMode,bytesReader)}function sigHashPreSign(curSigHash,authType,fee,nonce){const sigHash=curSigHash+utils_bytesToHex(new Uint8Array([authType]))+utils_bytesToHex(intToBytes(fee,8))+utils_bytesToHex(intToBytes(nonce,8));if(49!==utils_hexToBytes(sigHash).byteLength)throw Error("Invalid signature hash length");return txidFromData(utils_hexToBytes(sigHash))}function sigHashPostSign(curSigHash,pubKey,signature){const hashLength=33+constants_RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,pubKeyEncoding=publicKeyIsCompressed(pubKey.data)?constants_PubKeyEncoding.Compressed:constants_PubKeyEncoding.Uncompressed,sigHashBytes=utils_hexToBytes(curSigHash+leftPadHex(pubKeyEncoding.toString(16))+signature);if(sigHashBytes.byteLength>hashLength)throw Error("Invalid signature hash length");return txidFromData(sigHashBytes)}function nextVerification(initialSigHash,authType,fee,nonce,pubKeyEncoding,signature){const sigHashPre=sigHashPreSign(initialSigHash,authType,fee,nonce),publicKey=keys_createStacksPublicKey(publicKeyFromSignatureVrs(sigHashPre,signature,pubKeyEncoding));return{pubKey:publicKey,nextSigHash:sigHashPostSign(sigHashPre,publicKey,signature)}}function newInitialSigHash(){const spendingCondition=createSingleSigSpendingCondition(constants_AddressHashMode.P2PKH,"",0,0);return spendingCondition.signer=function createEmptyAddress(){return{type:types_StacksWireType.Address,version:AddressVersion.MainnetSingleSig,hash160:"0".repeat(40)}}().hash160,spendingCondition.keyEncoding=constants_PubKeyEncoding.Compressed,spendingCondition.signature=emptyMessageSignature(),spendingCondition}function authorization_verify(condition,initialSigHash,authType){return isSingleSig(condition)?function verifySingleSig(condition,initialSigHash,authType){const{pubKey,nextSigHash}=nextVerification(initialSigHash,authType,condition.fee,condition.nonce,condition.keyEncoding,condition.signature.data),addrBytes=helpers_addressFromPublicKeys(0,condition.hashMode,1,[pubKey]).hash160;if(addrBytes!==condition.signer)throw new VerificationError(`Signer hash does not equal hash of public key(s): ${addrBytes} != ${condition.signer}`);return nextSigHash}(condition,initialSigHash,authType):function verifyMultiSig(condition,initialSigHash,authType){const publicKeys=[];let curSigHash=initialSigHash,haveUncompressed=!1,numSigs=0;for(const field of condition.fields)switch(field.contents.type){case types_StacksWireType.PublicKey:publicKeyIsCompressed(field.contents.data)||(haveUncompressed=!0),publicKeys.push(field.contents);break;case types_StacksWireType.MessageSignature:field.pubKeyEncoding===constants_PubKeyEncoding.Uncompressed&&(haveUncompressed=!0);const{pubKey,nextSigHash}=nextVerification(curSigHash,authType,condition.fee,condition.nonce,field.pubKeyEncoding,field.contents.data);if(isSequentialMultiSig(condition.hashMode)&&(curSigHash=nextSigHash),publicKeys.push(pubKey),numSigs+=1,65536===numSigs)throw new VerificationError("Too many signatures")}if(isSequentialMultiSig(condition.hashMode)&&numSigs!==condition.signaturesRequired||function isNonSequentialMultiSig(hashMode){return hashMode===constants_AddressHashMode.P2SHNonSequential||hashMode===constants_AddressHashMode.P2WSHNonSequential}(condition.hashMode)&&numSigs<condition.signaturesRequired)throw new VerificationError("Incorrect number of signatures");if(haveUncompressed&&(condition.hashMode===constants_AddressHashMode.P2WSH||condition.hashMode===constants_AddressHashMode.P2WSHNonSequential))throw new VerificationError("Uncompressed keys are not allowed in this hash mode");const addrBytes=helpers_addressFromPublicKeys(0,condition.hashMode,condition.signaturesRequired,publicKeys).hash160;if(addrBytes!==condition.signer)throw new VerificationError(`Signer hash does not equal hash of public key(s): ${addrBytes} != ${condition.signer}`);return curSigHash}(condition,initialSigHash,authType)}function createStandardAuth(spendingCondition){return{authType:constants_AuthType.Standard,spendingCondition}}function createSponsoredAuth(spendingCondition,sponsorSpendingCondition){return{authType:constants_AuthType.Sponsored,spendingCondition,sponsorSpendingCondition:sponsorSpendingCondition||createSingleSigSpendingCondition(constants_AddressHashMode.P2PKH,"0".repeat(66),0,0)}}function intoInitialSighashAuth(auth){if(auth.spendingCondition)switch(auth.authType){case constants_AuthType.Standard:return createStandardAuth(clearCondition(auth.spendingCondition));case constants_AuthType.Sponsored:return createSponsoredAuth(clearCondition(auth.spendingCondition),newInitialSigHash());default:throw new SigningError("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}function serializeAuthorizationBytes(auth){const bytesArray=[];switch(bytesArray.push(auth.authType),auth.authType){case constants_AuthType.Standard:bytesArray.push(serializeSpendingConditionBytes(auth.spendingCondition));break;case constants_AuthType.Sponsored:bytesArray.push(serializeSpendingConditionBytes(auth.spendingCondition)),bytesArray.push(serializeSpendingConditionBytes(auth.sponsorSpendingCondition))}return concatArray(bytesArray)}class StacksTransactionWire{constructor({auth,payload,postConditions=createLPList([]),postConditionMode=constants_PostConditionMode.Deny,transactionVersion,chainId,network="mainnet"}){network=network_networkFrom(network),this.transactionVersion=transactionVersion??network.transactionVersion,this.chainId=chainId??network.chainId,this.auth=auth,this.payload="amount"in payload?{...payload,amount:utils_intToBigInt(payload.amount)}:payload,this.postConditionMode=postConditionMode,this.postConditions=postConditions,this.anchorMode=AnchorMode.Any}signBegin(){const tx=cloneDeep(this);return tx.auth=intoInitialSighashAuth(tx.auth),tx.txid()}verifyBegin(){const tx=cloneDeep(this);return tx.auth=intoInitialSighashAuth(tx.auth),tx.txid()}verifyOrigin(){return function verifyOrigin(auth,initialSigHash){switch(auth.authType){case constants_AuthType.Standard:case constants_AuthType.Sponsored:return authorization_verify(auth.spendingCondition,initialSigHash,constants_AuthType.Standard);default:throw new SigningError("Invalid origin auth type")}}(this.auth,this.verifyBegin())}signNextOrigin(sigHash,privateKey){if(void 0===this.auth.spendingCondition)throw new Error('"auth.spendingCondition" is undefined');if(void 0===this.auth.authType)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,sigHash,constants_AuthType.Standard,privateKey)}signNextSponsor(sigHash,privateKey){if(this.auth.authType===constants_AuthType.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,sigHash,constants_AuthType.Sponsored,privateKey);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(publicKey){const wire="object"==typeof publicKey&&"type"in publicKey?publicKey:keys_createStacksPublicKey(publicKey),cond=this.auth.spendingCondition;if(!cond||isSingleSig(cond))throw new Error("Can't append public key to a singlesig condition");{const compressed=publicKeyIsCompressed(wire.data);cond.fields.push(createTransactionAuthField(compressed?constants_PubKeyEncoding.Compressed:constants_PubKeyEncoding.Uncompressed,wire))}}signAndAppend(condition,curSigHash,authType,privateKey){const{nextSig,nextSigHash}=function nextSignature(curSigHash,authType,fee,nonce,privateKey){const sigHashPre=sigHashPreSign(curSigHash,authType,fee,nonce),signature=signWithKey(privateKey,sigHashPre);return{nextSig:signature,nextSigHash:sigHashPostSign(sigHashPre,keys_createStacksPublicKey(privateKeyToPublic(privateKey)),signature)}}(curSigHash,authType,condition.fee,condition.nonce,privateKey);if(isSingleSig(condition))condition.signature=createMessageSignature(nextSig);else{const compressed=privateKeyIsCompressed(privateKey);condition.fields.push(createTransactionAuthField(compressed?constants_PubKeyEncoding.Compressed:constants_PubKeyEncoding.Uncompressed,createMessageSignature(nextSig)))}return nextSigHash}txid(){const serialized=this.serializeBytes();return txidFromData(serialized)}setSponsor(sponsorSpendingCondition){if(this.auth.authType!=constants_AuthType.Sponsored)throw new SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=function setSponsor(auth,sponsorSpendingCondition){return{...auth,sponsorSpendingCondition:{...sponsorSpendingCondition,nonce:utils_intToBigInt(sponsorSpendingCondition.nonce),fee:utils_intToBigInt(sponsorSpendingCondition.fee)}}}(this.auth,sponsorSpendingCondition)}setFee(amount){this.auth=function setFee(auth,amount){switch(auth.authType){case constants_AuthType.Standard:const spendingCondition={...auth.spendingCondition,fee:utils_intToBigInt(amount)};return{...auth,spendingCondition};case constants_AuthType.Sponsored:const sponsorSpendingCondition={...auth.sponsorSpendingCondition,fee:utils_intToBigInt(amount)};return{...auth,sponsorSpendingCondition}}}(this.auth,amount)}setNonce(nonce){this.auth=function setNonce(auth,nonce){const spendingCondition={...auth.spendingCondition,nonce:utils_intToBigInt(nonce)};return{...auth,spendingCondition}}(this.auth,nonce)}setSponsorNonce(nonce){if(this.auth.authType!=constants_AuthType.Sponsored)throw new SigningError("Cannot sponsor sign a non-sponsored transaction");this.auth=function setSponsorNonce(auth,nonce){const sponsorSpendingCondition={...auth.sponsorSpendingCondition,nonce:utils_intToBigInt(nonce)};return{...auth,sponsorSpendingCondition}}(this.auth,nonce)}serialize(){return utils_bytesToHex(this.serializeBytes())}serializeBytes(){if(void 0===this.transactionVersion)throw new SerializationError('"transactionVersion" is undefined');if(void 0===this.chainId)throw new SerializationError('"chainId" is undefined');if(void 0===this.auth)throw new SerializationError('"auth" is undefined');if(void 0===this.payload)throw new SerializationError('"payload" is undefined');const bytesArray=[];bytesArray.push(this.transactionVersion);const chainIdBytes=new Uint8Array(4);return writeUInt32BE(chainIdBytes,this.chainId,0),bytesArray.push(chainIdBytes),bytesArray.push(serializeAuthorizationBytes(this.auth)),bytesArray.push(this.anchorMode),bytesArray.push(this.postConditionMode),bytesArray.push(serializeLPListBytes(this.postConditions)),bytesArray.push(serializePayloadBytes(this.payload)),concatArray(bytesArray)}}function deserializeTransaction(tx){const bytesReader=isInstance(tx,BytesReader)?tx:new BytesReader(tx),transactionVersion=bytesReader.readUInt8Enum(constants_TransactionVersion,(n=>{throw new Error(`Could not parse ${n} as TransactionVersion`)})),chainId=bytesReader.readUInt32BE(),auth=function deserializeAuthorization(bytesReader){let spendingCondition;switch(bytesReader.readUInt8Enum(constants_AuthType,(n=>{throw new errors_DeserializationError(`Could not parse ${n} as AuthType`)}))){case constants_AuthType.Standard:return spendingCondition=deserializeSpendingCondition(bytesReader),createStandardAuth(spendingCondition);case constants_AuthType.Sponsored:return spendingCondition=deserializeSpendingCondition(bytesReader),createSponsoredAuth(spendingCondition,deserializeSpendingCondition(bytesReader))}}(bytesReader),anchorMode=bytesReader.readUInt8Enum(AnchorMode,(n=>{throw new Error(`Could not parse ${n} as AnchorMode`)})),postConditionMode=bytesReader.readUInt8Enum(constants_PostConditionMode,(n=>{throw new Error(`Could not parse ${n} as PostConditionMode`)})),postConditions=deserializeLPList(bytesReader,types_StacksWireType.PostCondition),payload=deserializePayload(bytesReader),transaction=new StacksTransactionWire({transactionVersion,chainId,auth,payload,postConditions,postConditionMode});return transaction.anchorMode=anchorMode,transaction}var types=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js"),serialize=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/serialize.js"),index_f9076013=__webpack_require__("./node_modules/.pnpm/@stacks+connect-ui@6.5.0/node_modules/@stacks/connect-ui/dist/esm/index-f9076013.js");const defineCustomElements=(win,options)=>"undefined"==typeof window?Promise.resolve():(0,index_f9076013.p)().then((()=>(0,index_f9076013.b)([["connect-modal",[[1,"connect-modal",{defaultProviders:[16],installedProviders:[16],persistSelection:[4,"persist-selection"],callback:[16],cancelCallback:[16]}]]]],options)));!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var a=HTMLElement;window.HTMLElement=function(){return Reflect.construct(a,[],this.constructor)},HTMLElement.prototype=a.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,a)}}();var et=Object.defineProperty,nt=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,O=(e,t,n)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s=(e,t)=>{for(var n in t||(t={}))k.call(t,n)&&O(e,n,t[n]);if(x)for(var n of x(t))E.call(t,n)&&O(e,n,t[n]);return e},u=(e,t)=>nt(e,ot(t)),g=(e,t)=>{var n={};for(var o in e)k.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&x)for(var o of x(e))t.indexOf(o)<0&&E.call(e,o)&&(n[o]=e[o]);return n};function d(){return(0,session_9db1cb8a.b)((0,session_9db1cb8a.c)())||window.StacksProvider||window.BlockstackProvider}function ge(){return!!d()}function y(e){return e?"string"==typeof e?network.Wf.fromName(e):"version"in e?e:"url"in e?new network.ig({url:e.url}):e.transactionVersion===constants_TransactionVersion.Mainnet?new network.ig({url:e.client.baseUrl}):new network.tf({url:e.client.baseUrl}):new network.tf}var Ie="https://app.blockstack.org";"undefined"!=typeof window&&(window.__CONNECT_VERSION__="__VERSION__");var r,o,lt=()=>{let e=navigator.userAgent;return!(!/android/i.test(e)&&!/iPad|iPhone|iPod/.test(e))||/windows phone/i.test(e)},Ce=()=>!lt(),b=e=>{if(!e){let t=new AppConfig(["store_write"],document.location.href);e=new UserSession({appConfig:t})}return e},U=async(e,t=d())=>{if(!t)throw new Error("[Connect] No installed Stacks wallet found");let{redirectTo:n="/",manifestPath:o,onFinish:a,onCancel:r,sendToSignIn:i=!1,userSession:l,appDetails:p}=e,c=b(l);c.isUserSignedIn()&&c.signUserOut();let C=c.generateAndStoreTransitKey(),A=c.makeAuthRequest(C,`${document.location.origin}${n}`,`${document.location.origin}${o}`,c.appConfig.scopes,void 0,void 0,{sendToSignIn:i,appDetails:p,connectVersion:"__VERSION__"});try{let j=await t.authenticationRequest(A);await c.handlePendingSignIn(j);let T=(0,lib.decodeToken)(j),tt=null==T?void 0:T.payload;null==a||a({authResponse:j,authResponsePayload:tt,userSession:c})}catch(j){console.error("[Connect] Error during auth request",j),null==r||r()}},je=async e=>(e=b(e)).isUserSignedIn()?e.loadUserData():e.isSignInPending()?e.handlePendingSignIn():null,dt=((o=dt||{}).ContractCall="contract_call",o.ContractDeploy="smart_contract",o.STXTransfer="token_transfer",o),gt=((r=gt||{}).BUFFER="buffer",r.UINT="uint",r.INT="int",r.PRINCIPAL="principal",r.BOOL="bool",r),D=e=>{let t=e;if(!t){let n=new AppConfig(["store_write"],document.location.href);t=new UserSession({appConfig:n})}return t};function M(e){try{return D(e).loadUserData().appPrivateKey}catch(t){return!1}}var S=e=>{let n=D(e).loadUserData().appPrivateKey;return{privateKey:n,publicKey:lib.SECP256K1Client.derivePublicKey(n)}};function At(e){var p;let{stxAddress:t,userSession:n,network:o}=e;if(t)return t;if(!n||!o)return;let a=null==(p=null==n?void 0:n.loadUserData().profile)?void 0:p.stxAddress,r={[ChainId.Mainnet]:"mainnet",[ChainId.Testnet]:"testnet"},i=y(o);return null==a?void 0:a[r[i.chainId]]}async function N(e,t){let{postConditions:n}=e;return n&&n.length>0&&"string"!=typeof n[0]&&(n="string"==typeof n[0].type?n.map(postConditionToHex):n.map((a=>utils_bytesToHex((0,types.g5)(a))))),new lib.TokenSigner("ES256k",t).signAsync(u(s({},e),{postConditions:n}))}function f(e){let{postConditions:t}=e;return t&&t.length>0&&"string"!=typeof t[0]&&(t="string"==typeof t[0].type?t.map(postConditionToHex):t.map((n=>utils_bytesToHex((0,types.g5)(n))))),(0,lib.createUnsecuredToken)(u(s({},e),{postConditions:t}))}var Nt=async({token:e,options:t},n)=>{var o,a,r;try{let i=await n.transactionRequest(e),{txRaw:l}=i,c=deserializeTransaction(utils_hexToBytes(l.replace(/^0x/,"")));if("sponsored"in t&&t.sponsored)return void(null==(o=t.onFinish)||o.call(t,u(s({},i),{stacksTransaction:c})));null==(a=t.onFinish)||a.call(t,u(s({},i),{stacksTransaction:c}))}catch(i){console.error("[Connect] Error during transaction request",i),null==(r=t.onCancel)||r.call(t)}},ft=async e=>{let l=e,{functionArgs:t,appDetails:n,userSession:o}=l,a=g(l,["functionArgs","appDetails","userSession"]),r=t.map((p=>"string"==typeof p?p:"string"==typeof p.type?serialize_serializeCV(p):utils_bytesToHex((0,serialize.G)(p))));if(M(o)){let{privateKey:p,publicKey:c}=S(o),C=u(s({},a),{functionArgs:r,txType:"contract_call",publicKey:c});return n&&(C.appDetails=n),N(C,p)}let i=u(s({},a),{functionArgs:r,txType:"contract_call"});return n&&(i.appDetails=n),f(i)},wt=async e=>{let r=e,{appDetails:t,userSession:n}=r,o=g(r,["appDetails","userSession"]);if(M(n)){let{privateKey:i,publicKey:l}=S(n),p=u(s({},o),{publicKey:l,txType:"smart_contract"});return t&&(p.appDetails=t),N(p,i)}let a=u(s({},o),{txType:"smart_contract"});return t&&(a.appDetails=t),f(a)},Pt=async e=>{let i=e,{amount:t,appDetails:n,userSession:o}=i,a=g(i,["amount","appDetails","userSession"]);if(M(o)){let{privateKey:l,publicKey:p}=S(o),c=u(s({},a),{amount:t.toString(10),publicKey:p,txType:"token_transfer"});return n&&(c.appDetails=n),N(c,l)}let r=u(s({},a),{amount:t.toString(10),txType:"token_transfer"});return n&&(r.appDetails=n),f(r)},mt=async e=>{let i=e,{txHex:t,appDetails:n,userSession:o}=i,a=g(i,["txHex","appDetails","userSession"]);if(M(o)){let{privateKey:l,publicKey:p}=S(o),c=u(s({},a),{txHex:t,publicKey:p});return n&&(c.appDetails=n),N(c,l)}let r=u(s({},a),{txHex:t});return n&&(r.appDetails=n),f(r)};async function w(e,t,n){let o=await t(u(s(s({},function xt(e){let t=y(e.network),n=D(e.userSession),o=u(s({},e),{network:t,userSession:n});return s({stxAddress:At(o)},o)}(e)),e),{network:y(e.network)}));return Nt({token:o,options:e},n)}function Y(e,t=d()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return w(e,ft,t)}function B(e,t=d()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return w(e,wt,t)}function G(e,t=d()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return w(e,Pt,t)}function q(e,t=d()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return w(e,mt,t)}function ht(e){let t=y(e.network),n=D(e.userSession),o=u(s({},e),{network:t,userSession:n});return s({},o)}var bt=async e=>{let l=e,{allowedSighash:t,hex:n,signAtIndex:o,userSession:a}=l,r=g(l,["allowedSighash","hex","signAtIndex","userSession"]);if(M(a)){let{privateKey:p,publicKey:c}=S(a);return async function Et(e,t){return new lib.TokenSigner("ES256k",t).signAsync(s({},e))}(u(s({},r),{allowedSighash:t,hex:n,signAtIndex:o,publicKey:c}),p)}let i=s({},r);return(0,lib.createUnsecuredToken)(i)};async function Ut(e,t,n){return async function zt({token:e,options:t},n){var o,a;if(!n)throw new Error("[Connect] No installed Stacks wallet found");try{let r=await n.psbtRequest(e);null==(o=t.onFinish)||o.call(t,r)}catch(r){console.error("[Connect] Error during psbt request",r),null==(a=t.onCancel)||a.call(t)}}({token:await t(s(s({},ht(e)),e)),options:e},n)}function F(e,t=d()){return Ut(e,bt,t)}function Qt(e){var l;let{userSession:t,network:n}=e;if(!t||!n)return;let o=null==(l=null==t?void 0:t.loadUserData().profile)?void 0:l.stxAddress,a={[ChainId.Mainnet]:"mainnet",[ChainId.Testnet]:"testnet"},r=y(n);return null==o?void 0:o[a[r.chainId]]}function m(e){let t=y(e.network),n=D(e.userSession),o=u(s({},e),{network:t,userSession:n});return s({stxAddress:Qt(o)},o)}var Gt=async e=>{let a=e,{userSession:t}=a,n=g(a,["userSession"]);if(M(t)){let{privateKey:r,publicKey:i}=S(t);return async function Yt(e,t){return new lib.TokenSigner("ES256k",t).signAsync(s({},e))}(u(s({},n),{publicKey:i}),r)}let o=s({},n);return(0,lib.createUnsecuredToken)(o)};async function qt(e,t,n){return async function Bt({token:e,options:t},n){var o,a;try{let r=await n.signatureRequest(e);null==(o=t.onFinish)||o.call(t,r)}catch(r){console.error("[Connect] Error during signature request",r),null==(a=t.onCancel)||a.call(t)}}({token:await t(s(s({},m(e)),e)),options:e},n)}function W(e,t=d()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return qt(e,Gt,t)}async function Wt(e,t,n){return async function Kt({token:e,options:t},n){var o,a;try{let r=await n.structuredDataSignatureRequest(e);null==(o=t.onFinish)||o.call(t,r)}catch(r){console.error("[Connect] Error during signature request",r),null==(a=t.onCancel)||a.call(t)}}({token:await t(s(s({},m(e)),e)),options:e},n)}function _(e){let{message:t,domain:n}=e;return"string"==typeof t.type&&"string"==typeof n.type?u(s({},e),{message:serialize_serializeCV(t),domain:serialize_serializeCV(n)}):u(s({},e),{message:utils_bytesToHex((0,serialize.G)(t)),domain:utils_bytesToHex((0,serialize.G)(n))})}async function Xt(e){let o=e,{userSession:t}=o,n=g(o,["userSession"]);if(M(t)){let{privateKey:a,publicKey:r}=S(t);return async function Vt(e,t){return new lib.TokenSigner("ES256k",t).signAsync(_(e))}(u(s({},n),{publicKey:r}),a)}return(0,lib.createUnsecuredToken)(_(e))}function J(e,t=d()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return Wt(e,Xt,t)}function $t(e){let t=y(e.network),n=D(e.userSession),o=u(s({},e),{network:t,userSession:n});return s({},o)}var ee=async e=>{let r=e,{userSession:t,profile:n}=r,o=g(r,["userSession","profile"]);if(M(t)){let{privateKey:i,publicKey:l}=S(t);return async function Ht(e,t){return new lib.TokenSigner("ES256k",t).signAsync(s({},e))}(u(s({},o),{profile:n,publicKey:l}),i)}let a=s({},o);return(0,lib.createUnsecuredToken)(a)};async function ne(e,t,n){return async function te({token:e,options:t},n){var o,a;try{let r=await n.profileUpdateRequest(e);null==(o=t.onFinish)||o.call(t,r)}catch(r){console.error("[Connect] Error during signature request",r),null==(a=t.onCancel)||a.call(t)}}({token:await t(s(s({},$t(e)),e)),options:e},n)}function H(e,t=d()){if(!t)throw new Error("[Connect] No installed Stacks wallet found");return ne(e,ee,t)}var oe=(r=>(r[r.DEFAULT=0]="DEFAULT",r[r.ALL=1]="ALL",r[r.NONE=2]="NONE",r[r.SINGLE=3]="SINGLE",r[r.ANYONECANPAY=128]="ANYONECANPAY",r))(oe||{}),$=[{id:"LeatherProvider",name:"Leather",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iMjYuODM4NyIgZmlsbD0iIzEyMTAwRiIvPgo8cGF0aCBkPSJNNzQuOTE3MSA1Mi43MTE0QzgyLjQ3NjYgNTEuNTQwOCA5My40MDg3IDQzLjU4MDQgOTMuNDA4NyAzNy4zNzYxQzkzLjQwODcgMzUuNTAzMSA5MS44OTY4IDM0LjIxNTQgODkuNjg3MSAzNC4yMTU0Qzg1LjUwMDQgMzQuMjE1NCA3OC40MDYxIDQwLjUzNjggNzQuOTE3MSA1Mi43MTE0Wk0zOS45MTEgODMuNDk5MUMzMC4wMjU2IDgzLjQ5OTEgMjkuMjExNSA5My4zMzI0IDM5LjA5NjkgOTMuMzMyNEM0My41MTYzIDkzLjMzMjQgNDguODY2MSA5MS41NzY0IDUxLjY1NzMgODguNDE1N0M0Ny41ODY4IDg0LjkwMzggNDQuMjE0MSA4My40OTkxIDM5LjkxMSA4My40OTkxWk0xMDIuODI5IDc5LjI4NDhDMTAzLjQxIDk1Ljc5MDcgOTUuMDM2OSAxMDUuMDM5IDgwLjg0ODQgMTA1LjAzOUM3Mi40NzQ4IDEwNS4wMzkgNjguMjg4MSAxMDEuODc4IDU5LjMzMyA5Ni4wMjQ5QzU0LjY4MSAxMDEuMTc2IDQ1Ljg0MjMgMTA1LjAzOSAzOC41MTU0IDEwNS4wMzlDMTMuMjc4NSAxMDUuMDM5IDE0LjMyNTIgNzIuODQ2MyA0MC4wMjczIDcyLjg0NjNDNDUuMzc3MSA3Mi44NDYzIDQ5LjkxMjggNzQuMjUxMSA1NS43Mjc3IDc3Ljg4TDU5LjU2NTYgNjQuNDE3N0M0My43NDg5IDYwLjA4NjQgMzUuODQwNSA0Ny45MTE4IDQzLjYzMjYgMzAuNDY5M0g1Ni4xOTI5QzQ5LjIxNSA0Mi4wNTg2IDUzLjk4MzIgNTEuNjU3OCA2Mi44MjIgNTIuNzExNEM2Ny41OTAzIDM1LjczNzIgNzcuODI0NiAyMi41MDkgOTEuNDMxNiAyMi41MDlDOTkuMTA3NCAyMi41MDkgMTA1LjE1NSAyNy41NDI4IDEwNS4xNTUgMzYuNjczN0MxMDUuMTU1IDUxLjMwNjYgODYuMDgxOSA2My4yNDcxIDcxLjY2MDcgNjQuNDE3N0w2NS43Mjk1IDg1LjM3MjFDNzIuNDc0OCA5My4yMTUzIDkxLjE5OSAxMDAuODI0IDkxLjE5OSA3OS4yODQ4SDEwMi44MjlaIiBmaWxsPSIjRjVGMUVEIi8+Cjwvc3ZnPgo=",webUrl:"https://leather.io",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj",mozillaAddOnsUrl:"https://leather.io/install-extension"},{id:"XverseProviders.StacksProvider",name:"Xverse Wallet",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iNjAwIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGZpbGw9IiMxNzE3MTciIGQ9Ik0wIDBoNjAwdjYwMEgweiIvPjxwYXRoIGZpbGw9IiNGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTQ0MCA0MzUuNHYtNTFjMC0yLS44LTMuOS0yLjItNS4zTDIyMCAxNjIuMmE3LjYgNy42IDAgMCAwLTUuNC0yLjJoLTUxLjFjLTIuNSAwLTQuNiAyLTQuNiA0LjZ2NDcuM2MwIDIgLjggNCAyLjIgNS40bDc4LjIgNzcuOGE0LjYgNC42IDAgMCAxIDAgNi41bC03OSA3OC43Yy0xIC45LTEuNCAyLTEuNCAzLjJ2NTJjMCAyLjQgMiA0LjUgNC42IDQuNUgyNDljMi42IDAgNC42LTIgNC42LTQuNlY0MDVjMC0xLjIuNS0yLjQgMS40LTMuM2w0Mi40LTQyLjJhNC42IDQuNiAwIDAgMSA2LjQgMGw3OC43IDc4LjRhNy42IDcuNiAwIDAgMCA1LjQgMi4yaDQ3LjVjMi41IDAgNC42LTIgNC42LTQuNloiLz48cGF0aCBmaWxsPSIjRUU3QTMwIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0zMjUuNiAyMjcuMmg0Mi44YzIuNiAwIDQuNiAyLjEgNC42IDQuNnY0Mi42YzAgNCA1IDYuMSA4IDMuMmw1OC43LTU4LjVjLjgtLjggMS4zLTIgMS4zLTMuMnYtNTEuMmMwLTIuNi0yLTQuNi00LjYtNC42TDM4NCAxNjBjLTEuMiAwLTIuNC41LTMuMyAxLjNsLTU4LjQgNTguMWE0LjYgNC42IDAgMCAwIDMuMiA3LjhaIi8+PC9nPjwvc3ZnPg==",webUrl:"https://xverse.app",chromeWebStoreUrl:"https://chrome.google.com/webstore/detail/xverse-wallet/idnnbdplmphpflfnlkomgpfbpcgelopg",googlePlayStoreUrl:"https://play.google.com/store/apps/details?id=com.secretkeylabs.xverse",iOSAppStoreUrl:"https://apps.apple.com/app/xverse-bitcoin-web3-wallet/id1552272513",mozillaAddOnsUrl:"https://www.xverse.app/download"},{id:"AsignaProvider",name:"Asigna",icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMDEwMCIgZD0iTTAgMGgzMnYzMkgweiIvPjxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0xNS4xMSA1LjU1YTMgMyAwIDAgMC0xLjgyIDEuM2wtLjA1LjA4LS40My43Mi0uMDcuMTEtLjUuODUtLjA1LjA5LTEuMjkgMi4xOC0uMDQuMDctLjQ3LjgtLjA2LjEtLjQ2Ljc4LS4wNy4xMS0xLjYzIDIuNzYtLjA3LjExLS4zOC42Ni0uMDUuMDgtLjczIDEuMjQtLjM1LjYtLjQuNjctLjA1LjA5TDUuMSAyMC43bC0uMTEuMTgtLjE0LjIzLS4wNy4xMy0uMzMuNTUtLjA0LjA3di4wMWExLjI2IDEuMjYgMCAwIDAtLjE0LjQ3IDEuMzEgMS4zMSAwIDAgMCAxLjI0IDEuNGgxLjVsLjA1LS4wNi4wNC0uMDYuODctMS4yMS4wNS0uMDguNzctMS4wNy4wNS0uMDcuNC0uNTcuMDUtLjA2LjI0LS4zNGExLjUyIDEuNTIgMCAwIDEgMS4zOS0uNjIgMS41IDEuNSAwIDAgMSAuNjQuMiAxLjQ3IDEuNDcgMCAwIDEgLjczIDEuMjcgMS40NCAxLjQ0IDAgMCAxLS4yNy44NGwtLjYzLjg4LS4wNS4wNy0uMzIuNDUtLjA2LjA4LS4wOC4xMi0uMTIuMTYtLjA1LjA4aDIuMTNhMi4zMiAyLjMyIDAgMCAwIDEuNzctLjk2bDEuMTgtMS42My43Ny0xLjA4IDEuMy0xLjhhMS4yNCAxLjI0IDAgMCAxIC41NS0uNDNsLjA4LS4wM2ExLjMgMS4zIDAgMCAxIC4zLS4wNiAxLjI4IDEuMjggMCAwIDEgMS4xNS41NGwuMTEuMmExLjEzIDEuMTMgMCAwIDEgLjEuNDEgMS4xOSAxLjE5IDAgMCAxLS4yMy43N2wtLjAzLjA1LS41Ny44LS43Ljk4LS4yNy4zN2ExLjIyIDEuMjIgMCAwIDAtLjIuNSAxLjA1IDEuMDUgMCAwIDAtLjAyLjIzdi4wNmExLjE3IDEuMTcgMCAwIDAgLjE0LjQzbC4wMi4wNS4wNy4xYTEuNDQgMS40NCAwIDAgMCAuMS4xMWwuMDUuMDYuMDEuMDFhMS44IDEuOCAwIDAgMCAuMTQuMWMwIC4wMi4wMi4wMy4wNC4wM2ExIDEgMCAwIDAgLjA4LjA1bC4wNy4wNGExLjI1IDEuMjUgMCAwIDAgLjUuMWg2LjljLjEgMCAuMi0uMDEuMjktLjAzbC4wNi0uMDJhMS4yNyAxLjI3IDAgMCAwIC4yNy0uMS41Ny41NyAwIDAgMCAuMDctLjAzIDEuMjEgMS4yMSAwIDAgMCAuMjYtLjE5bC4wOC0uMDdhLjkyLjkyIDAgMCAwIC4xNS0uMTkgMS41NSAxLjU1IDAgMCAwIC4wOS0uMTdsLjAyLS4wNWExLjIyIDEuMjIgMCAwIDAgLjA4LS4yNnYtLjA0bC4wMi0uMDh2LS4wOGExLjMyIDEuMzIgMCAwIDAtLjItLjc0bC0xLjYtMi42NC0uMDYtLjEtLjItLjMyLS4zMy0uNTR2LS4wMWwtLjA1LS4wOC0xLjMtMi4xNS0uMDctLjEtLjA0LS4wNi0uOC0xLjMyLS4wNC0uMDctLjItLjM0LS4xLS4xNC0uMS0uMTYtLjUzLS45LS4xMy0uMi0uMDktLjE0LTIuMTctMy41Ny0uMDQtLjA3LS43Mi0xLjE5LS4wNS0uMDctLjQtLjY1YTIuNjUgMi42NSAwIDAgMC0uMy0uNCAyLjk2IDIuOTYgMCAwIDAtLjk3LS43NCAzLjA0IDMuMDQgMCAwIDAtMS4zLS4zYy0uMjUgMC0uNS4wNC0uNzQuMVoiLz48cGF0aCBmaWxsPSJ1cmwoI2IpIiBkPSJNMTkgMTYuM2E1LjQ1IDUuNDUgMCAwIDAtLjgzIDEuNTZsLS4wNC4xNWExLjM2IDEuMzYgMCAwIDEgLjI4LS4xNiAxLjI0IDEuMjQgMCAwIDEgLjM4LS4wOGguMWExLjI4IDEuMjggMCAwIDEgMS4wNS41NGMuMDQuMDYuMDguMTMuMS4yYTEuMjQgMS4yNCAwIDAgMSAuMDkuMjcgMS4xOSAxLjE5IDAgMCAxLS4yLjkxbC0uMDQuMDUtLjU3Ljc5LS43Ljk5LS4yNy4zN2ExLjIzIDEuMjMgMCAwIDAtLjIuNDIgMS4wNiAxLjA2IDAgMCAwLS4wMi4zMXYuMDZhMS4xNyAxLjE3IDAgMCAwIC4xNi40Ny45My45MyAwIDAgMCAuMDcuMSAxLjUgMS41IDAgMCAwIC4xLjEybC4wNS4wNmguMDFhMS45NCAxLjk0IDAgMCAwIC4wOS4wOCAxIDEgMCAwIDAgLjE3LjFsLjA3LjA0YTEuMjUgMS4yNSAwIDAgMCAuNS4xaDYuOWMuMSAwIC4yIDAgLjI4LS4wMmwuMDctLjAyYTEuMzIgMS4zMiAwIDAgMCAuMzQtLjEzbC4xNi0uMS4wMy0uMDNhMS4yOSAxLjI5IDAgMCAwIC4yLS4yIDIuNDMgMi40MyAwIDAgMCAuMTItLjE3Yy4wMy0uMDMuMDUtLjA4LjA3LS4xMmwuMDItLjA1YTEuMjEgMS4yMSAwIDAgMCAuMDktLjN2LS4wOGwuMDEtLjA5YTEuMzIgMS4zMiAwIDAgMC0uMi0uNzNsLTEuNi0yLjY0LS4wNi0uMS0uMi0uMzItLjMzLS41NHYtLjAybC0uMDUtLjA3LTEuMy0yLjE1LS4xMi0uMDctLjA3LS4wNGE0Ljk0IDQuOTQgMCAwIDAtMi40Ni0uNjdjLTEuMDMgMC0xLjc2LjU3LTIuMjYgMS4yWiIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xMi4yOSAyMS4wOGMwIC4yOS0uMDkuNTgtLjI3Ljg0bC0xLjMxIDEuODRIN2wyLjUyLTMuNTNhMS41NCAxLjU0IDAgMCAxIDIuMS0uMzZjLjQzLjI4LjY2Ljc0LjY2IDEuMloiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTEuMTYgMjEuMjVhLjU2LjU2IDAgMCAxLS41Ny41NS41Ni41NiAwIDAgMS0uNTctLjU2LjU2LjU2IDAgMCAxIC41Ny0uNTUuNTYuNTYgMCAwIDEgLjU3LjU2WiIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9IjE1LjIzIiB4Mj0iMTkuMyIgeTE9IjI1Ljc4IiB5Mj0iNi4xMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM2NTIyRjQiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzlCNkJGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0E1ODVGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMjIuNTkiIHgyPSIyNC44IiB5MT0iMjQuNzEiIHkyPSIxNS41MyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiM0MjFGOEIiLz48c3RvcCBvZmZzZXQ9Ii41NSIgc3RvcC1jb2xvcj0iIzcyMzBGRiIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzk3NzNGRiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjwvc3ZnPg==",webUrl:"https://asigna.io",chromeWebStoreUrl:"https://chromewebstore.google.com/detail/asigna-multisig/gopddoinbenlokghakiafackadkbnlid"}];function I(e,t=!0){return function(o,a){var T;if(a)return e(o,a);let r=(0,session_9db1cb8a.c)(),i=d();if(r&&i)return e(o,i);if("undefined"==typeof window)return;defineCustomElements(window);let l=null!=(T=null==o?void 0:o.defaultProviders)?T:$,p=(0,session_9db1cb8a.a)(l),c=document.createElement("connect-modal");c.defaultProviders=l,c.installedProviders=p,c.persistSelection=t;let C=document.body.style.overflow;document.body.style.overflow="hidden";let A=()=>{c.remove(),document.body.style.overflow=C};c.callback=L=>{A(),e(o,L)},c.cancelCallback=()=>{var L;A(),null==(L=o.onCancel)||L.call(o)},document.body.appendChild(c);let j=L=>{"Escape"===L.key&&(document.removeEventListener("keydown",j),c.remove())};document.addEventListener("keydown",j)}}var ce=I(U,!1),Nn=I(G),fn=I(Y),wn=I(B),Pn=I(q),mn=I(F),On=I(H),kn=I(W),En=I(J),hn=session_9db1cb8a.d,zn=ce},"./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/fetch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Hq:()=>createFetchFn,MW:()=>fetchWrapper,NE:()=>getFetchOptions,_y:()=>hostMatches,kO:()=>createApiKeyMiddleware,pm:()=>setFetchOptions});__webpack_require__("./node_modules/.pnpm/cross-fetch@3.1.8_encoding@0.1.13/node_modules/cross-fetch/dist/browser-polyfill.js");const defaultFetchOpts={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}},getFetchOptions=()=>defaultFetchOpts,setFetchOptions=ops=>Object.assign(defaultFetchOpts,ops);async function fetchWrapper(input,init){const fetchOpts={};Object.assign(fetchOpts,defaultFetchOpts,init);return await fetch(input,fetchOpts)}function hostMatches(host,pattern){return"string"==typeof pattern?pattern===host:pattern.exec(host)}function createApiKeyMiddleware({apiKey,host=/(.*)api(.*)(\.stacks\.co|\.hiro\.so)$/i,httpHeader="x-api-key"}){return{pre:context=>{if(!hostMatches(new URL(context.url).host,host))return;const headers=new Headers(context.init.headers);headers.set(httpHeader,apiKey),context.init.headers=headers}}}function createFetchFn(...args){const{fetchLib,middlewares}=function argsForCreateFetchFn(args){let fetchLib=fetchWrapper,middlewares=[];return args.length>0&&"function"==typeof args[0]&&(fetchLib=args.shift()),args.length>0&&(middlewares=args),{fetchLib,middlewares}}(args);return async(url,init)=>{let fetchParams={url,init:init??{}};for(const middleware of middlewares)if("function"==typeof middleware.pre){fetchParams=await Promise.resolve(middleware.pre({fetch:fetchLib,...fetchParams}))??fetchParams}let response=await fetchLib(fetchParams.url,fetchParams.init);for(const middleware of middlewares)if("function"==typeof middleware.post){const result=await Promise.resolve(middleware.post({fetch:fetchLib,url:fetchParams.url,init:fetchParams.init,response:response?.clone()??response}));response=result??response}return response}}},"./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{HIRO_MAINNET_DEFAULT:()=>_network__WEBPACK_IMPORTED_MODULE_1__.sP,HIRO_MOCKNET_DEFAULT:()=>_network__WEBPACK_IMPORTED_MODULE_1__.D9,HIRO_TESTNET_DEFAULT:()=>_network__WEBPACK_IMPORTED_MODULE_1__.XQ,StacksDevnet:()=>_network__WEBPACK_IMPORTED_MODULE_1__.AG,StacksMainnet:()=>_network__WEBPACK_IMPORTED_MODULE_1__.ig,StacksMocknet:()=>_network__WEBPACK_IMPORTED_MODULE_1__.jz,StacksNetwork:()=>_network__WEBPACK_IMPORTED_MODULE_1__.Wf,StacksNetworks:()=>_network__WEBPACK_IMPORTED_MODULE_1__.t1,StacksTestnet:()=>_network__WEBPACK_IMPORTED_MODULE_1__.tf,createApiKeyMiddleware:()=>_fetch__WEBPACK_IMPORTED_MODULE_0__.kO,createFetchFn:()=>_fetch__WEBPACK_IMPORTED_MODULE_0__.Hq,fetchWrapper:()=>_fetch__WEBPACK_IMPORTED_MODULE_0__.MW,getFetchOptions:()=>_fetch__WEBPACK_IMPORTED_MODULE_0__.NE,hostMatches:()=>_fetch__WEBPACK_IMPORTED_MODULE_0__._y,setFetchOptions:()=>_fetch__WEBPACK_IMPORTED_MODULE_0__.pm});var _fetch__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/fetch.js"),_network__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/network.js")},"./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/network.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AG:()=>StacksDevnet,D9:()=>HIRO_MOCKNET_DEFAULT,Wf:()=>StacksNetwork,XQ:()=>HIRO_TESTNET_DEFAULT,ig:()=>StacksMainnet,jz:()=>StacksMocknet,sP:()=>HIRO_MAINNET_DEFAULT,t1:()=>StacksNetworks,tf:()=>StacksTestnet});var _stacks_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/constants.js"),_fetch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/fetch.js");const HIRO_MAINNET_DEFAULT="https://api.mainnet.hiro.so",HIRO_TESTNET_DEFAULT="https://api.testnet.hiro.so",HIRO_MOCKNET_DEFAULT="http://localhost:3999",StacksNetworks=["mainnet","testnet","devnet","mocknet"];class StacksNetwork{constructor(networkConfig){this.version=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Mainnet,this.chainId=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.n_.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=address=>`${this.coreApiUrl}${this.accountEndpoint}/${address}?proof=0`,this.getAccountExtendedBalancesApiUrl=address=>`${this.coreApiUrl}/extended/v1/address/${address}/balances`,this.getAbiApiUrl=(address,contract)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${address}/${contract}`,this.getReadOnlyFunctionCallApiUrl=(contractAddress,contractName,functionName)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${contractAddress}/${contractName}/${encodeURIComponent(functionName)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(address,options)=>{let url=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${address}`;return options&&(url=`${url}?limit=${options.limit}&offset=${options.offset}`),url},this.getRewardsTotalUrl=address=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${address}/total`,this.getRewardHoldersUrl=(address,options)=>{let url=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${address}`;return options&&(url=`${url}?limit=${options.limit}&offset=${options.offset}`),url},this.getStackerInfoUrl=(contractAddress,contractName)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}\n    ${contractAddress}/${contractName}/get-stacker-info`,this.getDataVarUrl=(contractAddress,contractName,dataVarName)=>`${this.coreApiUrl}/v2/data_var/${contractAddress}/${contractName}/${dataVarName}?proof=0`,this.getMapEntryUrl=(contractAddress,contractName,mapName)=>`${this.coreApiUrl}/v2/map_entry/${contractAddress}/${contractName}/${mapName}?proof=0`,this.coreApiUrl=networkConfig.url,this.fetchFn=networkConfig.fetchFn??(0,_fetch__WEBPACK_IMPORTED_MODULE_1__.Hq)()}getNameInfo(fullyQualifiedName){const nameLookupURL=`${this.bnsLookupUrl}/v1/names/${fullyQualifiedName}`;return this.fetchFn(nameLookupURL).then((resp=>{if(404===resp.status)throw new Error("Name not found");if(200!==resp.status)throw new Error(`Bad response status: ${resp.status}`);return resp.json()})).then((nameInfo=>nameInfo.address?Object.assign({},nameInfo,{address:nameInfo.address}):nameInfo))}}StacksNetwork.fromName=networkName=>{switch(networkName){case"mainnet":return new StacksMainnet;case"testnet":return new StacksTestnet;case"devnet":return new StacksDevnet;case"mocknet":return new StacksMocknet;default:throw new Error(`Invalid network name provided. Must be one of the following: ${StacksNetworks.join(", ")}`)}},StacksNetwork.fromNameOrNetwork=network=>"string"!=typeof network&&"version"in network?network:StacksNetwork.fromName(network);class StacksMainnet extends StacksNetwork{constructor(opts){super({url:opts?.url??HIRO_MAINNET_DEFAULT,fetchFn:opts?.fetchFn}),this.version=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Mainnet,this.chainId=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.n_.Mainnet}}class StacksTestnet extends StacksNetwork{constructor(opts){super({url:opts?.url??HIRO_TESTNET_DEFAULT,fetchFn:opts?.fetchFn}),this.version=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Testnet,this.chainId=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.n_.Testnet}}class StacksMocknet extends StacksNetwork{constructor(opts){super({url:opts?.url??HIRO_MOCKNET_DEFAULT,fetchFn:opts?.fetchFn}),this.version=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Testnet,this.chainId=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.n_.Testnet}}const StacksDevnet=StacksMocknet},"./node_modules/.pnpm/@stacks+network@6.17.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/fetch.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Hq:()=>createFetchFn});__webpack_require__("./node_modules/.pnpm/cross-fetch@3.1.8_encoding@0.1.13/node_modules/cross-fetch/dist/browser-polyfill.js");const defaultFetchOpts={referrerPolicy:"origin",headers:{"x-hiro-product":"stacksjs"}};async function fetchWrapper(input,init){const fetchOpts={};Object.assign(fetchOpts,defaultFetchOpts,init);return await fetch(input,fetchOpts)}function createFetchFn(...args){const{fetchLib,middlewares}=function argsForCreateFetchFn(args){let fetchLib=fetchWrapper,middlewares=[];return args.length>0&&"function"==typeof args[0]&&(fetchLib=args.shift()),args.length>0&&(middlewares=args),{fetchLib,middlewares}}(args);return async(url,init)=>{let fetchParams={url,init:init??{}};for(const middleware of middlewares)if("function"==typeof middleware.pre){fetchParams=await Promise.resolve(middleware.pre({fetch:fetchLib,...fetchParams}))??fetchParams}let response=await fetchLib(fetchParams.url,fetchParams.init);for(const middleware of middlewares)if("function"==typeof middleware.post){const result=await Promise.resolve(middleware.post({fetch:fetchLib,url:fetchParams.url,init:fetchParams.init,response:response?.clone()??response}));response=result??response}return response}}},"./node_modules/.pnpm/@stacks+network@6.17.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/network.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Wf:()=>StacksNetwork,ig:()=>StacksMainnet,tf:()=>StacksTestnet});var _stacks_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/constants.js"),_fetch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.17.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/fetch.js");const StacksNetworks=["mainnet","testnet","devnet","mocknet"];class StacksNetwork{constructor(networkConfig){this.version=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Mainnet,this.chainId=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.n_.Mainnet,this.bnsLookupUrl="https://api.mainnet.hiro.so",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=address=>`${this.coreApiUrl}${this.accountEndpoint}/${address}?proof=0`,this.getAccountExtendedBalancesApiUrl=address=>`${this.coreApiUrl}/extended/v1/address/${address}/balances`,this.getAbiApiUrl=(address,contract)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${address}/${contract}`,this.getReadOnlyFunctionCallApiUrl=(contractAddress,contractName,functionName)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${contractAddress}/${contractName}/${encodeURIComponent(functionName)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(address,options)=>{let url=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${address}`;return options&&(url=`${url}?limit=${options.limit}&offset=${options.offset}`),url},this.getRewardsTotalUrl=address=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${address}/total`,this.getRewardHoldersUrl=(address,options)=>{let url=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${address}`;return options&&(url=`${url}?limit=${options.limit}&offset=${options.offset}`),url},this.getStackerInfoUrl=(contractAddress,contractName)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}\n    ${contractAddress}/${contractName}/get-stacker-info`,this.getDataVarUrl=(contractAddress,contractName,dataVarName)=>`${this.coreApiUrl}/v2/data_var/${contractAddress}/${contractName}/${dataVarName}?proof=0`,this.getMapEntryUrl=(contractAddress,contractName,mapName)=>`${this.coreApiUrl}/v2/map_entry/${contractAddress}/${contractName}/${mapName}?proof=0`,this.coreApiUrl=networkConfig.url,this.fetchFn=networkConfig.fetchFn??(0,_fetch__WEBPACK_IMPORTED_MODULE_1__.Hq)()}getNameInfo(fullyQualifiedName){const nameLookupURL=`${this.bnsLookupUrl}/v1/names/${fullyQualifiedName}`;return this.fetchFn(nameLookupURL).then((resp=>{if(404===resp.status)throw new Error("Name not found");if(200!==resp.status)throw new Error(`Bad response status: ${resp.status}`);return resp.json()})).then((nameInfo=>nameInfo.address?Object.assign({},nameInfo,{address:nameInfo.address}):nameInfo))}}StacksNetwork.fromName=networkName=>{switch(networkName){case"mainnet":return new StacksMainnet;case"testnet":return new StacksTestnet;case"devnet":return new StacksDevnet;case"mocknet":return new StacksMocknet;default:throw new Error(`Invalid network name provided. Must be one of the following: ${StacksNetworks.join(", ")}`)}},StacksNetwork.fromNameOrNetwork=network=>"string"!=typeof network&&"version"in network?network:StacksNetwork.fromName(network);class StacksMainnet extends StacksNetwork{constructor(opts){super({url:opts?.url??"https://api.mainnet.hiro.so",fetchFn:opts?.fetchFn}),this.version=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Mainnet,this.chainId=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.n_.Mainnet}}class StacksTestnet extends StacksNetwork{constructor(opts){super({url:opts?.url??"https://api.testnet.hiro.so",fetchFn:opts?.fetchFn}),this.version=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Testnet,this.chainId=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.n_.Testnet}}class StacksMocknet extends StacksNetwork{constructor(opts){super({url:opts?.url??"http://localhost:3999",fetchFn:opts?.fetchFn}),this.version=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.J_.Testnet,this.chainId=_stacks_common__WEBPACK_IMPORTED_MODULE_0__.n_.Testnet}}const StacksDevnet=StacksMocknet},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/authorization.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A6:()=>nextSignature,AT:()=>intoInitialSighashAuth,Ag:()=>deserializeSingleSigSpendingCondition,I4:()=>isSingleSig,IE:()=>setSponsorNonce,Ir:()=>isSequentialMultiSig,Jl:()=>deserializeMultiSigSpendingCondition,Jr:()=>nextVerification,Kz:()=>createStandardAuth,MG:()=>setNonce,NC:()=>emptyMessageSignature,S1:()=>verifyOrigin,V5:()=>serializeSingleSigSpendingCondition,Xf:()=>getFee,_o:()=>serializeMultiSigSpendingCondition,gq:()=>serializeAuthorization,h2:()=>deserializeAuthorization,k_:()=>serializeSpendingCondition,km:()=>createSponsoredAuth,o5:()=>createMultiSigSpendingCondition,pi:()=>isNonSequentialMultiSig,rT:()=>deserializeSpendingCondition,tj:()=>setSponsor,u2:()=>makeSigHashPreSign,v_:()=>createSingleSigSpendingCondition,x6:()=>setFee});var _stacks_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/buffer.js"),_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),_utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js"),_signature__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signature.js"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js"),_keys__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js"),_errors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js");function emptyMessageSignature(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MessageSignature,data:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(new Uint8Array(_constants__WEBPACK_IMPORTED_MODULE_0__.tL))}}function createSingleSigSpendingCondition(hashMode,pubKey,nonce,fee){const signer=(0,_types__WEBPACK_IMPORTED_MODULE_2__.Uw)(0,hashMode,1,[(0,_keys__WEBPACK_IMPORTED_MODULE_3__.uC)(pubKey)]).hash160,keyEncoding=(0,_keys__WEBPACK_IMPORTED_MODULE_3__.cx)((0,_keys__WEBPACK_IMPORTED_MODULE_3__.uC)(pubKey))?_constants__WEBPACK_IMPORTED_MODULE_0__.G5.Compressed:_constants__WEBPACK_IMPORTED_MODULE_0__.G5.Uncompressed;return{hashMode,signer,nonce:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(nonce,!1),fee:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(fee,!1),keyEncoding,signature:emptyMessageSignature()}}function createMultiSigSpendingCondition(hashMode,numSigs,pubKeys,nonce,fee){const stacksPublicKeys=pubKeys.map(_keys__WEBPACK_IMPORTED_MODULE_3__.uC);return{hashMode,signer:(0,_types__WEBPACK_IMPORTED_MODULE_2__.Uw)(0,hashMode,numSigs,stacksPublicKeys).hash160,nonce:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(nonce,!1),fee:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(fee,!1),fields:[],signaturesRequired:numSigs}}function isSingleSig(condition){return"signature"in condition}function isSequentialMultiSig(hashMode){return hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2SH||hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSH}function isNonSequentialMultiSig(hashMode){return hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2SHNonSequential||hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSHNonSequential}function clearCondition(condition){const cloned=(0,_utils__WEBPACK_IMPORTED_MODULE_4__.mg)(condition);return cloned.nonce=0,cloned.fee=0,isSingleSig(cloned)?cloned.signature=emptyMessageSignature():cloned.fields=[],{...cloned,nonce:BigInt(0),fee:BigInt(0)}}function serializeSingleSigSpendingCondition(condition){const bytesArray=[condition.hashMode,(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.aT)(condition.signer),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.m5)(condition.nonce,!1,8),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.m5)(condition.fee,!1,8),condition.keyEncoding,(0,_signature__WEBPACK_IMPORTED_MODULE_5__.YU)(condition.signature)];return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.yB)(bytesArray)}function serializeMultiSigSpendingCondition(condition){const bytesArray=[condition.hashMode,(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.aT)(condition.signer),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.m5)(condition.nonce,!1,8),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.m5)(condition.fee,!1,8)],fields=(0,_types__WEBPACK_IMPORTED_MODULE_2__.lU)(condition.fields);bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.bJ)(fields));const numSigs=new Uint8Array(2);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.ml)(numSigs,condition.signaturesRequired,0),bytesArray.push(numSigs),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.yB)(bytesArray)}function deserializeSingleSigSpendingCondition(hashMode,bytesReader){const signer=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytesReader.readBytes(20)),nonce=BigInt(`0x${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytesReader.readBytes(8))}`),fee=BigInt(`0x${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytesReader.readBytes(8))}`),keyEncoding=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.G5,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_7__.MJ(`Could not parse ${n} as PubKeyEncoding`)}));if(hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WPKH&&keyEncoding!=_constants__WEBPACK_IMPORTED_MODULE_0__.G5.Compressed)throw new _errors__WEBPACK_IMPORTED_MODULE_7__.MJ("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");return{hashMode,signer,nonce,fee,keyEncoding,signature:(0,_signature__WEBPACK_IMPORTED_MODULE_5__.X)(bytesReader)}}function deserializeMultiSigSpendingCondition(hashMode,bytesReader){const signer=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytesReader.readBytes(20)),nonce=BigInt("0x"+(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytesReader.readBytes(8))),fee=BigInt("0x"+(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytesReader.readBytes(8))),fields=(0,_types__WEBPACK_IMPORTED_MODULE_2__.em)(bytesReader,_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.TransactionAuthField).values;let haveUncompressed=!1,numSigs=0;for(const field of fields)switch(field.contents.type){case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PublicKey:(0,_keys__WEBPACK_IMPORTED_MODULE_3__.cx)(field.contents)||(haveUncompressed=!0);break;case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MessageSignature:if(field.pubKeyEncoding===_constants__WEBPACK_IMPORTED_MODULE_0__.G5.Uncompressed&&(haveUncompressed=!0),numSigs+=1,65536===numSigs)throw new _errors__WEBPACK_IMPORTED_MODULE_7__.mk("Failed to parse multisig spending condition: too many signatures")}const signaturesRequired=bytesReader.readUInt16BE();if(haveUncompressed&&(hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSH||hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSHNonSequential))throw new _errors__WEBPACK_IMPORTED_MODULE_7__.mk("Uncompressed keys are not allowed in this hash mode");return{hashMode,signer,nonce,fee,fields,signaturesRequired}}function serializeSpendingCondition(condition){return isSingleSig(condition)?serializeSingleSigSpendingCondition(condition):serializeMultiSigSpendingCondition(condition)}function deserializeSpendingCondition(bytesReader){const hashMode=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.ct,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_7__.MJ(`Could not parse ${n} as AddressHashMode`)}));return hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2PKH||hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WPKH?deserializeSingleSigSpendingCondition(hashMode,bytesReader):deserializeMultiSigSpendingCondition(hashMode,bytesReader)}function makeSigHashPreSign(curSigHash,authType,fee,nonce){const sigHash=curSigHash+(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(new Uint8Array([authType]))+(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.m5)(fee,!1,8))+(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.m5)(nonce,!1,8));if(49!==(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.aT)(sigHash).byteLength)throw Error("Invalid signature hash length");return(0,_utils__WEBPACK_IMPORTED_MODULE_4__.U1)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.aT)(sigHash))}function makeSigHashPostSign(curSigHash,pubKey,signature){const hashLength=33+_constants__WEBPACK_IMPORTED_MODULE_0__.tL,pubKeyEncoding=(0,_keys__WEBPACK_IMPORTED_MODULE_3__.cx)(pubKey)?_constants__WEBPACK_IMPORTED_MODULE_0__.G5.Compressed:_constants__WEBPACK_IMPORTED_MODULE_0__.G5.Uncompressed,sigHash=curSigHash+(0,_utils__WEBPACK_IMPORTED_MODULE_4__.EW)(pubKeyEncoding.toString(16))+signature.data,sigHashBytes=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.aT)(sigHash);if(sigHashBytes.byteLength>hashLength)throw Error("Invalid signature hash length");return(0,_utils__WEBPACK_IMPORTED_MODULE_4__.U1)(sigHashBytes)}function nextSignature(curSigHash,authType,fee,nonce,privateKey){const sigHashPreSign=makeSigHashPreSign(curSigHash,authType,fee,nonce),signature=(0,_keys__WEBPACK_IMPORTED_MODULE_3__.Ft)(privateKey,sigHashPreSign);return{nextSig:signature,nextSigHash:makeSigHashPostSign(sigHashPreSign,(0,_keys__WEBPACK_IMPORTED_MODULE_3__.lG)(privateKey),signature)}}function nextVerification(initialSigHash,authType,fee,nonce,pubKeyEncoding,signature){const sigHashPreSign=makeSigHashPreSign(initialSigHash,authType,fee,nonce),publicKey=(0,_keys__WEBPACK_IMPORTED_MODULE_3__.uC)((0,_keys__WEBPACK_IMPORTED_MODULE_3__.El)(sigHashPreSign,signature,pubKeyEncoding));return{pubKey:publicKey,nextSigHash:makeSigHashPostSign(sigHashPreSign,publicKey,signature)}}function verify(condition,initialSigHash,authType){return isSingleSig(condition)?function verifySingleSig(condition,initialSigHash,authType){const{pubKey,nextSigHash}=nextVerification(initialSigHash,authType,condition.fee,condition.nonce,condition.keyEncoding,condition.signature),addrBytes=(0,_types__WEBPACK_IMPORTED_MODULE_2__.Uw)(0,condition.hashMode,1,[pubKey]).hash160;if(addrBytes!==condition.signer)throw new _errors__WEBPACK_IMPORTED_MODULE_7__.mk(`Signer hash does not equal hash of public key(s): ${addrBytes} != ${condition.signer}`);return nextSigHash}(condition,initialSigHash,authType):function verifyMultiSig(condition,initialSigHash,authType){const publicKeys=[];let curSigHash=initialSigHash,haveUncompressed=!1,numSigs=0;for(const field of condition.fields)switch(field.contents.type){case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PublicKey:(0,_keys__WEBPACK_IMPORTED_MODULE_3__.cx)(field.contents)||(haveUncompressed=!0),publicKeys.push(field.contents);break;case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MessageSignature:field.pubKeyEncoding===_constants__WEBPACK_IMPORTED_MODULE_0__.G5.Uncompressed&&(haveUncompressed=!0);const{pubKey,nextSigHash}=nextVerification(curSigHash,authType,condition.fee,condition.nonce,field.pubKeyEncoding,field.contents);if(isSequentialMultiSig(condition.hashMode)&&(curSigHash=nextSigHash),publicKeys.push(pubKey),numSigs+=1,65536===numSigs)throw new _errors__WEBPACK_IMPORTED_MODULE_7__.mk("Too many signatures")}if(isSequentialMultiSig(condition.hashMode)&&numSigs!==condition.signaturesRequired||isNonSequentialMultiSig(condition.hashMode)&&numSigs<condition.signaturesRequired)throw new _errors__WEBPACK_IMPORTED_MODULE_7__.mk("Incorrect number of signatures");if(haveUncompressed&&(condition.hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSH||condition.hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSHNonSequential))throw new _errors__WEBPACK_IMPORTED_MODULE_7__.mk("Uncompressed keys are not allowed in this hash mode");const addrBytes=(0,_types__WEBPACK_IMPORTED_MODULE_2__.Uw)(0,condition.hashMode,condition.signaturesRequired,publicKeys).hash160;if(addrBytes!==condition.signer)throw new _errors__WEBPACK_IMPORTED_MODULE_7__.mk(`Signer hash does not equal hash of public key(s): ${addrBytes} != ${condition.signer}`);return curSigHash}(condition,initialSigHash,authType)}function createStandardAuth(spendingCondition){return{authType:_constants__WEBPACK_IMPORTED_MODULE_0__.hT.Standard,spendingCondition}}function createSponsoredAuth(spendingCondition,sponsorSpendingCondition){return{authType:_constants__WEBPACK_IMPORTED_MODULE_0__.hT.Sponsored,spendingCondition,sponsorSpendingCondition:sponsorSpendingCondition||createSingleSigSpendingCondition(_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2PKH,"0".repeat(66),0,0)}}function intoInitialSighashAuth(auth){if(auth.spendingCondition)switch(auth.authType){case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Standard:return createStandardAuth(clearCondition(auth.spendingCondition));case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Sponsored:return createSponsoredAuth(clearCondition(auth.spendingCondition),function newInitialSigHash(){const spendingCondition=createSingleSigSpendingCondition(_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2PKH,"",0,0);return spendingCondition.signer=(0,_types__WEBPACK_IMPORTED_MODULE_2__._b)().hash160,spendingCondition.keyEncoding=_constants__WEBPACK_IMPORTED_MODULE_0__.G5.Compressed,spendingCondition.signature=emptyMessageSignature(),spendingCondition}());default:throw new _errors__WEBPACK_IMPORTED_MODULE_7__.uJ("Unexpected authorization type for signing")}throw new Error("Authorization missing SpendingCondition")}function verifyOrigin(auth,initialSigHash){switch(auth.authType){case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Standard:case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Sponsored:return verify(auth.spendingCondition,initialSigHash,_constants__WEBPACK_IMPORTED_MODULE_0__.hT.Standard);default:throw new _errors__WEBPACK_IMPORTED_MODULE_7__.uJ("Invalid origin auth type")}}function setFee(auth,amount){switch(auth.authType){case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Standard:const spendingCondition={...auth.spendingCondition,fee:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(amount,!1)};return{...auth,spendingCondition};case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Sponsored:const sponsorSpendingCondition={...auth.sponsorSpendingCondition,fee:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(amount,!1)};return{...auth,sponsorSpendingCondition}}}function getFee(auth){switch(auth.authType){case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Standard:return auth.spendingCondition.fee;case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Sponsored:return auth.sponsorSpendingCondition.fee}}function setNonce(auth,nonce){const spendingCondition={...auth.spendingCondition,nonce:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(nonce,!1)};return{...auth,spendingCondition}}function setSponsorNonce(auth,nonce){const sponsorSpendingCondition={...auth.sponsorSpendingCondition,nonce:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(nonce,!1)};return{...auth,sponsorSpendingCondition}}function setSponsor(auth,sponsorSpendingCondition){return{...auth,sponsorSpendingCondition:{...sponsorSpendingCondition,nonce:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(sponsorSpendingCondition.nonce,!1),fee:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.WI)(sponsorSpendingCondition.fee,!1)}}}function serializeAuthorization(auth){const bytesArray=[];switch(bytesArray.push(auth.authType),auth.authType){case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Standard:bytesArray.push(serializeSpendingCondition(auth.spendingCondition));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Sponsored:bytesArray.push(serializeSpendingCondition(auth.spendingCondition)),bytesArray.push(serializeSpendingCondition(auth.sponsorSpendingCondition))}return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.yB)(bytesArray)}function deserializeAuthorization(bytesReader){let spendingCondition;switch(bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.hT,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_7__.MJ(`Could not parse ${n} as AuthType`)}))){case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Standard:return spendingCondition=deserializeSpendingCondition(bytesReader),createStandardAuth(spendingCondition);case _constants__WEBPACK_IMPORTED_MODULE_0__.hT.Sponsored:spendingCondition=deserializeSpendingCondition(bytesReader);return createSponsoredAuth(spendingCondition,deserializeSpendingCondition(bytesReader))}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/builders.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FM:()=>makeContractSTXPostCondition,JI:()=>makeContractNonFungiblePostCondition,KP:()=>makeStandardNonFungiblePostCondition,LA:()=>makeStandardFungiblePostCondition,Lg:()=>callReadOnlyFunction,Pt:()=>makeUnsignedContractDeploy,Pu:()=>getAbi,XV:()=>makeUnsignedSTXTokenTransfer,Z9:()=>estimateTransactionByteLength,a3:()=>makeContractFungiblePostCondition,cQ:()=>estimateContractDeploy,cc:()=>estimateTransferUnsafe,de:()=>estimateTransaction,jv:()=>estimateTransactionFeeWithFallback,m9:()=>getNonce,o_:()=>broadcastRawTransaction,ok:()=>makeUnsignedContractCall,pR:()=>getContractMapEntry,rN:()=>estimateContractFunctionCall,u:()=>estimateTransfer,ui:()=>broadcastTransaction,uj:()=>makeSTXTokenTransfer,w2:()=>makeStandardSTXPostCondition,y9:()=>makeContractDeploy,zI:()=>sponsorTransaction,zL:()=>makeContractCall});var _stacks_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_stacks_network__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.17.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/network.js"),_stacks_network__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.17.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/fetch.js"),c32check__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/index.js"),_authorization__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/authorization.js"),_clarity__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/serialize.js"),_clarity__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/deserialize.js"),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),_contract_abi__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/contract-abi.js"),_errors__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js"),_keys__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js"),_payload__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/payload.js"),_postcondition__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition.js"),_postcondition_types__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js"),_signer__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signer.js"),_transaction__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/transaction.js"),_types__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js"),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js");async function getNonce(address,network){const derivedNetwork=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(network??new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig),url=derivedNetwork.getAccountApiUrl(address);try{return await async function _getNonceApi(address,network){const url=`${network.coreApiUrl}/extended/v1/address/${address}/nonces`,response=await network.fetchFn(url),result=await response.json();return BigInt(result.possible_next_nonce)}(address,derivedNetwork)}catch(e){}const response=await derivedNetwork.fetchFn(url);if(!response.ok){let msg="";try{msg=await response.text()}catch(error){}throw new Error(`Error fetching nonce. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: "${msg}"`)}const responseText=await response.text(),result=JSON.parse(responseText);return BigInt(result.nonce)}async function estimateTransfer(transaction,network){if(transaction.payload.payloadType!==_constants__WEBPACK_IMPORTED_MODULE_2__.d2.TokenTransfer)throw new Error(`Transaction fee estimation only possible with ${_constants__WEBPACK_IMPORTED_MODULE_2__.d2[_constants__WEBPACK_IMPORTED_MODULE_2__.d2.TokenTransfer]} transactions. Invoked with: ${_constants__WEBPACK_IMPORTED_MODULE_2__.d2[transaction.payload.payloadType]}`);return estimateTransferUnsafe(transaction,network)}async function estimateTransferUnsafe(transaction,network){const fetchOptions={method:"GET",headers:{Accept:"application/text"}},derivedNetwork=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(network??deriveNetwork(transaction)),url=derivedNetwork.getTransferFeeEstimateApiUrl(),response=await derivedNetwork.fetchFn(url,fetchOptions);if(!response.ok){let msg="";try{msg=await response.text()}catch(error){}throw new Error(`Error estimating transaction fee. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: "${msg}"`)}const feeRateResult=await response.text(),txBytes=BigInt(transaction.serialize().byteLength);return BigInt(feeRateResult)*txBytes}async function estimateTransaction(transactionPayload,estimatedLen,network){const options={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transaction_payload:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)((0,_payload__WEBPACK_IMPORTED_MODULE_4__.hs)(transactionPayload)),...estimatedLen?{estimated_len:estimatedLen}:{}})},derivedNetwork=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(network??new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig),url=derivedNetwork.getTransactionFeeEstimateApiUrl(),response=await derivedNetwork.fetchFn(url,options);if(!response.ok){const body=await response.text().then((str=>{try{return JSON.parse(str)}catch(error){return str}}));if("NoEstimateAvailable"===body?.reason||"string"==typeof body&&body.includes("NoEstimateAvailable"))throw new _errors__WEBPACK_IMPORTED_MODULE_5__.bw(body?.reason_data?.message??"");throw new Error(`Error estimating transaction fee. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: "${body}"`)}return(await response.json()).estimations}async function broadcastTransaction(transaction,network,attachment){const rawTx=transaction.serialize(),derivedNetwork=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(network??deriveNetwork(transaction));return broadcastRawTransaction(rawTx,derivedNetwork.getBroadcastApiUrl(),attachment,derivedNetwork.fetchFn)}async function broadcastRawTransaction(rawTx,url,attachment,fetchFn=(0,_stacks_network__WEBPACK_IMPORTED_MODULE_6__.Hq)()){const options={method:"POST",headers:{"Content-Type":attachment?"application/json":"application/octet-stream"},body:attachment?JSON.stringify({tx:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)(rawTx),attachment:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)(attachment)}):rawTx},response=await fetchFn(url,options);if(!response.ok)try{return await response.json()}catch(e){throw Error(`Failed to broadcast transaction: ${e.message}`)}const text=await response.text(),txid=text.replace(/["]+/g,"");if(!(0,_utils__WEBPACK_IMPORTED_MODULE_7__.QY)(txid))throw new Error(text);return{txid}}async function getAbi(address,contractName,network){const derivedNetwork=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(network),url=derivedNetwork.getAbiApiUrl(address,contractName),response=await derivedNetwork.fetchFn(url,{method:"GET"});if(!response.ok){const msg=await response.text().catch((()=>""));throw new Error(`Error fetching contract ABI for contract "${contractName}" at address ${address}. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: "${msg}"`)}return JSON.parse(await response.text())}function deriveNetwork(transaction){switch(transaction.version){case _constants__WEBPACK_IMPORTED_MODULE_2__.J_.Mainnet:return new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig;case _constants__WEBPACK_IMPORTED_MODULE_2__.J_.Testnet:return new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.tf}}async function makeUnsignedSTXTokenTransfer(txOptions){const defaultOptions={fee:BigInt(0),nonce:BigInt(0),network:new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig,memo:"",sponsored:!1},options=Object.assign(defaultOptions,txOptions),payload=(0,_payload__WEBPACK_IMPORTED_MODULE_4__.zh)(options.recipient,options.amount,options.memo);let authorization=null,spendingCondition=null;if("publicKey"in options)spendingCondition=(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.v_)(_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2PKH,options.publicKey,options.nonce,options.fee);else{const hashMode=options.useNonSequentialMultiSig?_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SHNonSequential:_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SH,publicKeys=options.address?sortPublicKeysForAddress(options.publicKeys,options.numSignatures,hashMode,(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.FR)(options.address).hash160):options.publicKeys;spendingCondition=(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.o5)(hashMode,options.numSignatures,publicKeys,options.nonce,options.fee)}authorization=options.sponsored?(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.km)(spendingCondition):(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.Kz)(spendingCondition);const network=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(options.network),transaction=new _transaction__WEBPACK_IMPORTED_MODULE_10__.I7(network.version,authorization,payload,void 0,void 0,options.anchorMode,network.chainId);if(void 0===txOptions.fee||null===txOptions.fee){const fee=await estimateTransactionFeeWithFallback(transaction,network);transaction.setFee(fee)}if(void 0===txOptions.nonce||null===txOptions.nonce){const addressVersion=options.network.version===_constants__WEBPACK_IMPORTED_MODULE_2__.J_.Mainnet?_constants__WEBPACK_IMPORTED_MODULE_2__.BY.MainnetSingleSig:_constants__WEBPACK_IMPORTED_MODULE_2__.BY.TestnetSingleSig,senderAddress=(0,c32check__WEBPACK_IMPORTED_MODULE_0__.bJ)(addressVersion,transaction.auth.spendingCondition.signer),txNonce=await getNonce(senderAddress,options.network);transaction.setNonce(txNonce)}return transaction}async function makeSTXTokenTransfer(txOptions){if("senderKey"in txOptions){const publicKey=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.BT)((0,_keys__WEBPACK_IMPORTED_MODULE_11__.lG)((0,_keys__WEBPACK_IMPORTED_MODULE_11__.wE)(txOptions.senderKey))),options=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.cJ)(txOptions,"senderKey"),transaction=await makeUnsignedSTXTokenTransfer({publicKey,...options}),privKey=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.wE)(txOptions.senderKey);return new _signer__WEBPACK_IMPORTED_MODULE_12__.p(transaction).signOrigin(privKey),transaction}{const options=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.cJ)(txOptions,"signerKeys"),transaction=await makeUnsignedSTXTokenTransfer(options);return mutatingSignAppendMultiSig(transaction,txOptions.publicKeys.slice(),txOptions.signerKeys,txOptions.address),transaction}}async function estimateContractDeploy(transaction,network){if(transaction.payload.payloadType!==_constants__WEBPACK_IMPORTED_MODULE_2__.d2.SmartContract&&transaction.payload.payloadType!==_constants__WEBPACK_IMPORTED_MODULE_2__.d2.VersionedSmartContract)throw new Error(`Contract deploy fee estimation only possible with ${_constants__WEBPACK_IMPORTED_MODULE_2__.d2[_constants__WEBPACK_IMPORTED_MODULE_2__.d2.SmartContract]} transactions. Invoked with: ${_constants__WEBPACK_IMPORTED_MODULE_2__.d2[transaction.payload.payloadType]}`);const fetchOptions={method:"GET",headers:{Accept:"application/text"}},derivedNetwork=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(network??deriveNetwork(transaction)),url=derivedNetwork.getTransferFeeEstimateApiUrl(),response=await derivedNetwork.fetchFn(url,fetchOptions);if(!response.ok){const msg=await response.text().catch((()=>""));throw new Error(`Error estimating contract deploy fee. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: "${msg}"`)}const feeRateResult=await response.text(),txBytes=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.WI)(transaction.serialize().byteLength,!1);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.WI)(feeRateResult,!1)*txBytes}async function makeContractDeploy(txOptions){if("senderKey"in txOptions){const publicKey=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.BT)((0,_keys__WEBPACK_IMPORTED_MODULE_11__.lG)((0,_keys__WEBPACK_IMPORTED_MODULE_11__.wE)(txOptions.senderKey))),options=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.cJ)(txOptions,"senderKey"),transaction=await makeUnsignedContractDeploy({publicKey,...options}),privKey=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.wE)(txOptions.senderKey);return new _signer__WEBPACK_IMPORTED_MODULE_12__.p(transaction).signOrigin(privKey),transaction}{const options=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.cJ)(txOptions,"signerKeys"),transaction=await makeUnsignedContractDeploy(options);return mutatingSignAppendMultiSig(transaction,txOptions.publicKeys.slice(),txOptions.signerKeys,txOptions.address),transaction}}async function makeUnsignedContractDeploy(txOptions){const defaultOptions={fee:BigInt(0),nonce:BigInt(0),network:new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig,postConditionMode:_constants__WEBPACK_IMPORTED_MODULE_2__.FN.Deny,sponsored:!1,clarityVersion:_constants__WEBPACK_IMPORTED_MODULE_2__.nX.Clarity2},options=Object.assign(defaultOptions,txOptions),payload=(0,_payload__WEBPACK_IMPORTED_MODULE_4__.Ox)(options.contractName,options.codeBody,options.clarityVersion);let authorization=null,spendingCondition=null;if("publicKey"in options)spendingCondition=(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.v_)(_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2PKH,options.publicKey,options.nonce,options.fee);else{const hashMode=options.useNonSequentialMultiSig?_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SHNonSequential:_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SH,publicKeys=options.address?sortPublicKeysForAddress(options.publicKeys,options.numSignatures,hashMode,(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.FR)(options.address).hash160):options.publicKeys;spendingCondition=(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.o5)(hashMode,options.numSignatures,publicKeys,options.nonce,options.fee)}authorization=options.sponsored?(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.km)(spendingCondition):(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.Kz)(spendingCondition);const network=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(options.network),postConditions=[];options.postConditions&&options.postConditions.length>0&&options.postConditions.forEach((postCondition=>{postConditions.push(postCondition)}));const lpPostConditions=(0,_types__WEBPACK_IMPORTED_MODULE_13__.lU)(postConditions),transaction=new _transaction__WEBPACK_IMPORTED_MODULE_10__.I7(network.version,authorization,payload,lpPostConditions,options.postConditionMode,options.anchorMode,network.chainId);if(void 0===txOptions.fee||null===txOptions.fee){const fee=await estimateTransactionFeeWithFallback(transaction,network);transaction.setFee(fee)}if(void 0===txOptions.nonce||null===txOptions.nonce){const addressVersion=options.network.version===_constants__WEBPACK_IMPORTED_MODULE_2__.J_.Mainnet?_constants__WEBPACK_IMPORTED_MODULE_2__.BY.MainnetSingleSig:_constants__WEBPACK_IMPORTED_MODULE_2__.BY.TestnetSingleSig,senderAddress=(0,c32check__WEBPACK_IMPORTED_MODULE_0__.bJ)(addressVersion,transaction.auth.spendingCondition.signer),txNonce=await getNonce(senderAddress,options.network);transaction.setNonce(txNonce)}return transaction}async function estimateContractFunctionCall(transaction,network){if(transaction.payload.payloadType!==_constants__WEBPACK_IMPORTED_MODULE_2__.d2.ContractCall)throw new Error(`Contract call fee estimation only possible with ${_constants__WEBPACK_IMPORTED_MODULE_2__.d2[_constants__WEBPACK_IMPORTED_MODULE_2__.d2.ContractCall]} transactions. Invoked with: ${_constants__WEBPACK_IMPORTED_MODULE_2__.d2[transaction.payload.payloadType]}`);const fetchOptions={method:"GET",headers:{Accept:"application/text"}},derivedNetwork=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(network??deriveNetwork(transaction)),url=derivedNetwork.getTransferFeeEstimateApiUrl(),response=await derivedNetwork.fetchFn(url,fetchOptions);if(!response.ok){const msg=await response.text().catch((()=>""));throw new Error(`Error estimating contract call fee. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: "${msg}"`)}const feeRateResult=await response.text(),txBytes=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.WI)(transaction.serialize().byteLength,!1);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.WI)(feeRateResult,!1)*txBytes}async function makeUnsignedContractCall(txOptions){const defaultOptions={fee:BigInt(0),nonce:BigInt(0),network:new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig,postConditionMode:_constants__WEBPACK_IMPORTED_MODULE_2__.FN.Deny,sponsored:!1},options=Object.assign(defaultOptions,txOptions),payload=(0,_payload__WEBPACK_IMPORTED_MODULE_4__.tT)(options.contractAddress,options.contractName,options.functionName,options.functionArgs);if(options?.validateWithAbi){let abi;if("boolean"==typeof options.validateWithAbi){if(!options?.network)throw new Error("Network option must be provided in order to validate with ABI");abi=await getAbi(options.contractAddress,options.contractName,options.network)}else abi=options.validateWithAbi;(0,_contract_abi__WEBPACK_IMPORTED_MODULE_14__.d8)(payload,abi)}let spendingCondition=null,authorization=null;if("publicKey"in options)spendingCondition=(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.v_)(_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2PKH,options.publicKey,options.nonce,options.fee);else{const hashMode=options.useNonSequentialMultiSig?_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SHNonSequential:_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SH,publicKeys=options.address?sortPublicKeysForAddress(options.publicKeys,options.numSignatures,hashMode,(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.FR)(options.address).hash160):options.publicKeys;spendingCondition=(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.o5)(hashMode,options.numSignatures,publicKeys,options.nonce,options.fee)}authorization=options.sponsored?(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.km)(spendingCondition):(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.Kz)(spendingCondition);const network=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(options.network),postConditions=[];options.postConditions&&options.postConditions.length>0&&options.postConditions.forEach((postCondition=>{postConditions.push(postCondition)}));const lpPostConditions=(0,_types__WEBPACK_IMPORTED_MODULE_13__.lU)(postConditions),transaction=new _transaction__WEBPACK_IMPORTED_MODULE_10__.I7(network.version,authorization,payload,lpPostConditions,options.postConditionMode,options.anchorMode,network.chainId);if(void 0===txOptions.fee||null===txOptions.fee){const fee=await estimateTransactionFeeWithFallback(transaction,network);transaction.setFee(fee)}if(void 0===txOptions.nonce||null===txOptions.nonce){const addressVersion=network.version===_constants__WEBPACK_IMPORTED_MODULE_2__.J_.Mainnet?_constants__WEBPACK_IMPORTED_MODULE_2__.BY.MainnetSingleSig:_constants__WEBPACK_IMPORTED_MODULE_2__.BY.TestnetSingleSig,senderAddress=(0,c32check__WEBPACK_IMPORTED_MODULE_0__.bJ)(addressVersion,transaction.auth.spendingCondition.signer),txNonce=await getNonce(senderAddress,network);transaction.setNonce(txNonce)}return transaction}async function makeContractCall(txOptions){if("senderKey"in txOptions){const publicKey=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.BT)((0,_keys__WEBPACK_IMPORTED_MODULE_11__.lG)((0,_keys__WEBPACK_IMPORTED_MODULE_11__.wE)(txOptions.senderKey))),options=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.cJ)(txOptions,"senderKey"),transaction=await makeUnsignedContractCall({publicKey,...options}),privKey=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.wE)(txOptions.senderKey);return new _signer__WEBPACK_IMPORTED_MODULE_12__.p(transaction).signOrigin(privKey),transaction}{const options=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.cJ)(txOptions,"signerKeys"),transaction=await makeUnsignedContractCall(options);return mutatingSignAppendMultiSig(transaction,txOptions.publicKeys.slice(),txOptions.signerKeys,txOptions.address),transaction}}function makeStandardSTXPostCondition(address,conditionCode,amount){return(0,_postcondition__WEBPACK_IMPORTED_MODULE_15__.p0)((0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.qX)(address),conditionCode,amount)}function makeContractSTXPostCondition(address,contractName,conditionCode,amount){return(0,_postcondition__WEBPACK_IMPORTED_MODULE_15__.p0)((0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.Ti)(address,contractName),conditionCode,amount)}function makeStandardFungiblePostCondition(address,conditionCode,amount,assetInfo){return(0,_postcondition__WEBPACK_IMPORTED_MODULE_15__.e3)((0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.qX)(address),conditionCode,amount,assetInfo)}function makeContractFungiblePostCondition(address,contractName,conditionCode,amount,assetInfo){return(0,_postcondition__WEBPACK_IMPORTED_MODULE_15__.e3)((0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.Ti)(address,contractName),conditionCode,amount,assetInfo)}function makeStandardNonFungiblePostCondition(address,conditionCode,assetInfo,assetId){return(0,_postcondition__WEBPACK_IMPORTED_MODULE_15__.Nc)((0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.qX)(address),conditionCode,assetInfo,assetId)}function makeContractNonFungiblePostCondition(address,contractName,conditionCode,assetInfo,assetId){return(0,_postcondition__WEBPACK_IMPORTED_MODULE_15__.Nc)((0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.Ti)(address,contractName),conditionCode,assetInfo,assetId)}async function callReadOnlyFunction(readOnlyFunctionOptions){const defaultOptions={network:new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig},options=Object.assign(defaultOptions,readOnlyFunctionOptions),{contractName,contractAddress,functionName,functionArgs,senderAddress}=options,network=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(options.network),url=network.getReadOnlyFunctionCallApiUrl(contractAddress,contractName,functionName),args=functionArgs.map((arg=>(0,_utils__WEBPACK_IMPORTED_MODULE_7__.yX)(arg))),body=JSON.stringify({sender:senderAddress,arguments:args}),response=await network.fetchFn(url,{method:"POST",body,headers:{"Content-Type":"application/json"}});if(!response.ok){const msg=await response.text().catch((()=>""));throw new Error(`Error calling read-only function. Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: "${msg}"`)}return response.json().then((responseJson=>(0,_utils__WEBPACK_IMPORTED_MODULE_7__.vx)(responseJson)))}async function getContractMapEntry(getContractMapEntryOptions){const defaultOptions={network:new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig},{contractAddress,contractName,mapName,mapKey,network}=Object.assign(defaultOptions,getContractMapEntryOptions),derivedNetwork=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(network),url=derivedNetwork.getMapEntryUrl(contractAddress,contractName,mapName),serializedKeyBytes=(0,_clarity__WEBPACK_IMPORTED_MODULE_16__.G)(mapKey),serializedKeyHex="0x"+(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)(serializedKeyBytes),fetchOptions={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(serializedKeyHex)},response=await derivedNetwork.fetchFn(url,fetchOptions);if(!response.ok){const msg=await response.text().catch((()=>""));throw new Error(`Error fetching map entry for map "${mapName}" in contract "${contractName}" at address ${contractAddress}, using map key "${serializedKeyHex}". Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the message: "${msg}"`)}const responseBody=await response.text(),responseJson=JSON.parse(responseBody);if(!responseJson.data)throw new Error(`Error fetching map entry for map "${mapName}" in contract "${contractName}" at address ${contractAddress}, using map key "${serializedKeyHex}". Response ${response.status}: ${response.statusText}. Attempted to fetch ${url} and failed with the response: "${responseBody}"`);let deserializedCv;try{deserializedCv=(0,_clarity__WEBPACK_IMPORTED_MODULE_17__.A)(responseJson.data)}catch(error){throw new Error(`Error deserializing Clarity value "${responseJson.data}": ${error}`)}return deserializedCv}async function sponsorTransaction(sponsorOptions){const defaultOptions={fee:0,sponsorNonce:0,sponsorAddressHashmode:_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2PKH,network:sponsorOptions.transaction.version===_constants__WEBPACK_IMPORTED_MODULE_2__.J_.Mainnet?new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.ig:new _stacks_network__WEBPACK_IMPORTED_MODULE_1__.tf},options=Object.assign(defaultOptions,sponsorOptions),network=_stacks_network__WEBPACK_IMPORTED_MODULE_1__.Wf.fromNameOrNetwork(options.network),sponsorPubKey=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.P5)(options.sponsorPrivateKey);if(void 0===sponsorOptions.fee||null===sponsorOptions.fee){let txFee=0;switch(options.transaction.payload.payloadType){case _constants__WEBPACK_IMPORTED_MODULE_2__.d2.TokenTransfer:case _constants__WEBPACK_IMPORTED_MODULE_2__.d2.SmartContract:case _constants__WEBPACK_IMPORTED_MODULE_2__.d2.VersionedSmartContract:case _constants__WEBPACK_IMPORTED_MODULE_2__.d2.ContractCall:const estimatedLen=estimateTransactionByteLength(options.transaction);try{txFee=(await estimateTransaction(options.transaction.payload,estimatedLen,network))[1].fee}catch(e){throw e}break;default:throw new Error(`Sponsored transactions not supported for transaction type ${_constants__WEBPACK_IMPORTED_MODULE_2__.d2[options.transaction.payload.payloadType]}`)}options.transaction.setFee(txFee),options.fee=txFee}if(void 0===sponsorOptions.sponsorNonce||null===sponsorOptions.sponsorNonce){const addressVersion=network.version===_constants__WEBPACK_IMPORTED_MODULE_2__.J_.Mainnet?_constants__WEBPACK_IMPORTED_MODULE_2__.BY.MainnetSingleSig:_constants__WEBPACK_IMPORTED_MODULE_2__.BY.TestnetSingleSig,senderAddress=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.M)(addressVersion,sponsorPubKey),sponsorNonce=await getNonce(senderAddress,network);options.sponsorNonce=sponsorNonce}const sponsorSpendingCondition=(0,_authorization__WEBPACK_IMPORTED_MODULE_8__.v_)(options.sponsorAddressHashmode,(0,_keys__WEBPACK_IMPORTED_MODULE_11__.BT)(sponsorPubKey),options.sponsorNonce,options.fee);options.transaction.setSponsor(sponsorSpendingCondition);const privKey=(0,_keys__WEBPACK_IMPORTED_MODULE_11__.wE)(options.sponsorPrivateKey),signer=_signer__WEBPACK_IMPORTED_MODULE_12__.p.createSponsorSigner(options.transaction,sponsorSpendingCondition);return signer.signSponsor(privKey),signer.transaction}function estimateTransactionByteLength(transaction){const hashMode=transaction.auth.spendingCondition.hashMode;if([_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SH,_constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2WSH].includes(hashMode)){const multiSigSpendingCondition=transaction.auth.spendingCondition,existingSignatures=multiSigSpendingCondition.fields.filter((field=>field.contents.type===_constants__WEBPACK_IMPORTED_MODULE_2__.$Q.MessageSignature)).length,totalSignatureLength=(multiSigSpendingCondition.signaturesRequired-existingSignatures)*(_constants__WEBPACK_IMPORTED_MODULE_2__.tL+1);return transaction.serialize().byteLength+totalSignatureLength}return transaction.serialize().byteLength}async function estimateTransactionFeeWithFallback(transaction,network){try{const estimatedLen=estimateTransactionByteLength(transaction);return(await estimateTransaction(transaction.payload,estimatedLen,network))[1].fee}catch(error){if(error instanceof _errors__WEBPACK_IMPORTED_MODULE_5__.bw)return await estimateTransferUnsafe(transaction,network);throw error}}function mutatingSignAppendMultiSig(transaction,publicKeys,signerKeys,address){if((0,_authorization__WEBPACK_IMPORTED_MODULE_8__.I4)(transaction.auth.spendingCondition))throw new Error("Transaction is not a multi-sig transaction");const signer=new _signer__WEBPACK_IMPORTED_MODULE_12__.p(transaction),pubs=address?sortPublicKeysForAddress(publicKeys,transaction.auth.spendingCondition.signaturesRequired,transaction.auth.spendingCondition.hashMode,(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_9__.FR)(address).hash160):publicKeys;for(const publicKey of pubs){const signerKey=signerKeys.find((key=>(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)((0,_keys__WEBPACK_IMPORTED_MODULE_11__.P5)(key).data)===publicKey));signerKey?signer.signOrigin((0,_keys__WEBPACK_IMPORTED_MODULE_11__.wE)(signerKey)):signer.appendOrigin((0,_keys__WEBPACK_IMPORTED_MODULE_11__.Mk)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.aT)(publicKey)))}}function sortPublicKeysForAddress(publicKeys,numSigs,hashMode,hash){if((0,_types__WEBPACK_IMPORTED_MODULE_13__.Uw)(0,hashMode,numSigs,publicKeys.map(_keys__WEBPACK_IMPORTED_MODULE_11__.uC)).hash160===hash)return publicKeys;const publicKeysSorted=publicKeys.slice().sort();if((0,_types__WEBPACK_IMPORTED_MODULE_13__.Uw)(0,hashMode,numSigs,publicKeysSorted.map(_keys__WEBPACK_IMPORTED_MODULE_11__.uC)).hash160===hash)return publicKeysSorted;throw new Error("Failed to find matching multi-sig address given public-keys.")}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/bytesReader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>BytesReader});var _stacks_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/buffer.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js");const enumCheckFunctions=new Map;function isEnum(enumVariable,value){const checker=enumCheckFunctions.get(enumVariable);if(void 0!==checker)return checker(value);const newChecker=function createEnumChecker(enumVariable){const enumValues=Object.values(enumVariable).filter((v=>"number"==typeof v)),enumValueSet=new Set(enumValues);return value=>enumValueSet.has(value)}(enumVariable);return enumCheckFunctions.set(enumVariable,newChecker),isEnum(enumVariable,value)}class BytesReader{constructor(arr){this.consumed=0,this.source=arr}readBytes(length){const view=this.source.subarray(this.consumed,this.consumed+length);return this.consumed+=length,view}readUInt32BE(){return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.bb)(this.readBytes(4),0)}readUInt8(){return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.pJ)(this.readBytes(1),0)}readUInt16BE(){return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.bc)(this.readBytes(2),0)}readBigUIntLE(length){const bytes=this.readBytes(length).slice().reverse(),hex=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytes);return BigInt(`0x${hex}`)}readBigUIntBE(length){const bytes=this.readBytes(length),hex=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytes);return BigInt(`0x${hex}`)}get readOffset(){return this.consumed}set readOffset(val){this.consumed=val}get internalBytes(){return this.source}readUInt8Enum(enumVariable,invalidEnumErrorFormatter){const num=this.readUInt8();if(isEnum(enumVariable,num))return num;throw invalidEnumErrorFormatter(num)}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/clarityValue.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E4:()=>cvToValue,JP:()=>cvToJSON,P2:()=>getCVTypeString,Ss:()=>cvToString,f:()=>isClarityType});var _types_principalCV__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/principalCV.js"),_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js");function cvToString(val,encoding="hex"){switch(val.type){case _constants__WEBPACK_IMPORTED_MODULE_0__.d.BoolTrue:return"true";case _constants__WEBPACK_IMPORTED_MODULE_0__.d.BoolFalse:return"false";case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Int:return val.value.toString();case _constants__WEBPACK_IMPORTED_MODULE_0__.d.UInt:return`u${val.value.toString()}`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Buffer:if("tryAscii"===encoding){const str=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.qu)(val.buffer);if(/[ -~]/.test(str))return JSON.stringify(str)}return`0x${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(val.buffer)}`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.OptionalNone:return"none";case _constants__WEBPACK_IMPORTED_MODULE_0__.d.OptionalSome:return`(some ${cvToString(val.value,encoding)})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseErr:return`(err ${cvToString(val.value,encoding)})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseOk:return`(ok ${cvToString(val.value,encoding)})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalStandard:case _constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalContract:return(0,_types_principalCV__WEBPACK_IMPORTED_MODULE_2__.NQ)(val);case _constants__WEBPACK_IMPORTED_MODULE_0__.d.List:return`(list ${val.list.map((v=>cvToString(v,encoding))).join(" ")})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Tuple:return`(tuple ${Object.keys(val.data).map((key=>`(${key} ${cvToString(val.data[key],encoding)})`)).join(" ")})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.StringASCII:return`"${val.data}"`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.StringUTF8:return`u"${val.data}"`}}function cvToValue(val,strictJsonCompat=!1){switch(val.type){case _constants__WEBPACK_IMPORTED_MODULE_0__.d.BoolTrue:return!0;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.BoolFalse:return!1;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Int:case _constants__WEBPACK_IMPORTED_MODULE_0__.d.UInt:return strictJsonCompat?val.value.toString():val.value;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Buffer:return`0x${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(val.buffer)}`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.OptionalNone:return null;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.OptionalSome:case _constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseErr:case _constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseOk:return cvToJSON(val.value);case _constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalStandard:case _constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalContract:return(0,_types_principalCV__WEBPACK_IMPORTED_MODULE_2__.NQ)(val);case _constants__WEBPACK_IMPORTED_MODULE_0__.d.List:return val.list.map((v=>cvToJSON(v)));case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Tuple:const result={};return Object.keys(val.data).forEach((key=>{result[key]=cvToJSON(val.data[key])})),result;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.StringASCII:case _constants__WEBPACK_IMPORTED_MODULE_0__.d.StringUTF8:return val.data}}function cvToJSON(val){switch(val.type){case _constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseErr:return{type:getCVTypeString(val),value:cvToValue(val,!0),success:!1};case _constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseOk:return{type:getCVTypeString(val),value:cvToValue(val,!0),success:!0};default:return{type:getCVTypeString(val),value:cvToValue(val,!0)}}}function getCVTypeString(val){switch(val.type){case _constants__WEBPACK_IMPORTED_MODULE_0__.d.BoolTrue:case _constants__WEBPACK_IMPORTED_MODULE_0__.d.BoolFalse:return"bool";case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Int:return"int";case _constants__WEBPACK_IMPORTED_MODULE_0__.d.UInt:return"uint";case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Buffer:return`(buff ${val.buffer.length})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.OptionalNone:return"(optional none)";case _constants__WEBPACK_IMPORTED_MODULE_0__.d.OptionalSome:return`(optional ${getCVTypeString(val.value)})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseErr:return`(response UnknownType ${getCVTypeString(val.value)})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseOk:return`(response ${getCVTypeString(val.value)} UnknownType)`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalStandard:case _constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalContract:return"principal";case _constants__WEBPACK_IMPORTED_MODULE_0__.d.List:return`(list ${val.list.length} ${val.list.length?getCVTypeString(val.list[0]):"UnknownType"})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.Tuple:return`(tuple ${Object.keys(val.data).map((key=>`(${key} ${getCVTypeString(val.data[key])})`)).join(" ")})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.StringASCII:return`(string-ascii ${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.Mh)(val.data).length})`;case _constants__WEBPACK_IMPORTED_MODULE_0__.d.StringUTF8:return`(string-utf8 ${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.AI)(val.data).length})`}}function isClarityType(input,withType){return input.type===withType}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ClarityType;__webpack_require__.d(__webpack_exports__,{d:()=>ClarityType}),function(ClarityType){ClarityType[ClarityType.Int=0]="Int",ClarityType[ClarityType.UInt=1]="UInt",ClarityType[ClarityType.Buffer=2]="Buffer",ClarityType[ClarityType.BoolTrue=3]="BoolTrue",ClarityType[ClarityType.BoolFalse=4]="BoolFalse",ClarityType[ClarityType.PrincipalStandard=5]="PrincipalStandard",ClarityType[ClarityType.PrincipalContract=6]="PrincipalContract",ClarityType[ClarityType.ResponseOk=7]="ResponseOk",ClarityType[ClarityType.ResponseErr=8]="ResponseErr",ClarityType[ClarityType.OptionalNone=9]="OptionalNone",ClarityType[ClarityType.OptionalSome=10]="OptionalSome",ClarityType[ClarityType.List=11]="List",ClarityType[ClarityType.Tuple=12]="Tuple",ClarityType[ClarityType.StringASCII=13]="StringASCII",ClarityType[ClarityType.StringUTF8=14]="StringUTF8"}(ClarityType||(ClarityType={}))},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/deserialize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>deserializeCV});var ___WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js"),___WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/intCV.js"),___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/bufferCV.js"),___WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/booleanCV.js"),___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/principalCV.js"),___WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/responseCV.js"),___WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/optionalCV.js"),___WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/listCV.js"),___WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/tupleCV.js"),_bytesReader__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/bytesReader.js"),_types__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js"),_errors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js"),_types_stringCV__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/stringCV.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js");function deserializeCV(serializedClarityValue){let bytesReader;if("string"==typeof serializedClarityValue){const hasHexPrefix="0x"===serializedClarityValue.slice(0,2).toLowerCase();bytesReader=new _bytesReader__WEBPACK_IMPORTED_MODULE_0__.H((0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.aT)(hasHexPrefix?serializedClarityValue.slice(2):serializedClarityValue))}else bytesReader=serializedClarityValue instanceof Uint8Array?new _bytesReader__WEBPACK_IMPORTED_MODULE_0__.H(serializedClarityValue):serializedClarityValue;switch(bytesReader.readUInt8Enum(___WEBPACK_IMPORTED_MODULE_2__.d,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_3__.MJ(`Cannot recognize Clarity Type: ${n}`)}))){case ___WEBPACK_IMPORTED_MODULE_2__.d.Int:return(0,___WEBPACK_IMPORTED_MODULE_4__.p)(bytesReader.readBytes(16));case ___WEBPACK_IMPORTED_MODULE_2__.d.UInt:return(0,___WEBPACK_IMPORTED_MODULE_4__.u)(bytesReader.readBytes(16));case ___WEBPACK_IMPORTED_MODULE_2__.d.Buffer:const bufferLength=bytesReader.readUInt32BE();return(0,___WEBPACK_IMPORTED_MODULE_5__.I)(bytesReader.readBytes(bufferLength));case ___WEBPACK_IMPORTED_MODULE_2__.d.BoolTrue:return(0,___WEBPACK_IMPORTED_MODULE_6__.WM)();case ___WEBPACK_IMPORTED_MODULE_2__.d.BoolFalse:return(0,___WEBPACK_IMPORTED_MODULE_6__.PH)();case ___WEBPACK_IMPORTED_MODULE_2__.d.PrincipalStandard:const sAddress=(0,_types__WEBPACK_IMPORTED_MODULE_7__.AP)(bytesReader);return(0,___WEBPACK_IMPORTED_MODULE_8__.Hh)(sAddress);case ___WEBPACK_IMPORTED_MODULE_2__.d.PrincipalContract:const cAddress=(0,_types__WEBPACK_IMPORTED_MODULE_7__.AP)(bytesReader),contractName=(0,_types__WEBPACK_IMPORTED_MODULE_7__.Dp)(bytesReader);return(0,___WEBPACK_IMPORTED_MODULE_8__.a5)(cAddress,contractName);case ___WEBPACK_IMPORTED_MODULE_2__.d.ResponseOk:return(0,___WEBPACK_IMPORTED_MODULE_9__.B)(deserializeCV(bytesReader));case ___WEBPACK_IMPORTED_MODULE_2__.d.ResponseErr:return(0,___WEBPACK_IMPORTED_MODULE_9__.v)(deserializeCV(bytesReader));case ___WEBPACK_IMPORTED_MODULE_2__.d.OptionalNone:return(0,___WEBPACK_IMPORTED_MODULE_10__.gu)();case ___WEBPACK_IMPORTED_MODULE_2__.d.OptionalSome:return(0,___WEBPACK_IMPORTED_MODULE_10__.gp)(deserializeCV(bytesReader));case ___WEBPACK_IMPORTED_MODULE_2__.d.List:const listLength=bytesReader.readUInt32BE(),listContents=[];for(let i=0;i<listLength;i++)listContents.push(deserializeCV(bytesReader));return(0,___WEBPACK_IMPORTED_MODULE_11__.y)(listContents);case ___WEBPACK_IMPORTED_MODULE_2__.d.Tuple:const tupleLength=bytesReader.readUInt32BE(),tupleContents={};for(let i=0;i<tupleLength;i++){const clarityName=(0,_types__WEBPACK_IMPORTED_MODULE_7__.Dp)(bytesReader).content;if(void 0===clarityName)throw new _errors__WEBPACK_IMPORTED_MODULE_3__.MJ('"content" is undefined');tupleContents[clarityName]=deserializeCV(bytesReader)}return(0,___WEBPACK_IMPORTED_MODULE_12__.M)(tupleContents);case ___WEBPACK_IMPORTED_MODULE_2__.d.StringASCII:const asciiStrLen=bytesReader.readUInt32BE(),asciiStr=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.qu)(bytesReader.readBytes(asciiStrLen));return(0,_types_stringCV__WEBPACK_IMPORTED_MODULE_13__.IE)(asciiStr);case ___WEBPACK_IMPORTED_MODULE_2__.d.StringUTF8:const utf8StrLen=bytesReader.readUInt32BE(),utf8Str=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.AE)(bytesReader.readBytes(utf8StrLen));return(0,_types_stringCV__WEBPACK_IMPORTED_MODULE_13__.y3)(utf8Str);default:throw new _errors__WEBPACK_IMPORTED_MODULE_3__.MJ("Unable to deserialize Clarity Value from Uint8Array. Could not find valid Clarity Type.")}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/serialize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>serializeCV});var _stacks_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/buffer.js"),_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js"),_postcondition_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js"),_errors__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js"),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js");function bytesWithTypeID(typeId,bytes){return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.yB)([typeId,bytes])}function serializeStringCV(cv,encoding){const bytesArray=[],str="ascii"==encoding?(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.Mh)(cv.data):(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.AI)(cv.data),len=new Uint8Array(4);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_2__.Sw)(len,str.length,0),bytesArray.push(len),bytesArray.push(str),bytesWithTypeID(cv.type,(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.yB)(bytesArray))}function serializeCV(value){switch(value.type){case _constants__WEBPACK_IMPORTED_MODULE_1__.d.BoolTrue:case _constants__WEBPACK_IMPORTED_MODULE_1__.d.BoolFalse:return function serializeBoolCV(value){return new Uint8Array([value.type])}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.OptionalNone:case _constants__WEBPACK_IMPORTED_MODULE_1__.d.OptionalSome:return function serializeOptionalCV(cv){return cv.type===_constants__WEBPACK_IMPORTED_MODULE_1__.d.OptionalNone?new Uint8Array([cv.type]):bytesWithTypeID(cv.type,serializeCV(cv.value))}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.Buffer:return function serializeBufferCV(cv){const length=new Uint8Array(4);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_2__.Sw)(length,cv.buffer.length,0),bytesWithTypeID(cv.type,(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.Id)(length,cv.buffer))}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.UInt:return function serializeUIntCV(cv){const bytes=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.CZ)(cv.value,_constants__WEBPACK_IMPORTED_MODULE_3__.gb);return bytesWithTypeID(cv.type,bytes)}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.Int:return function serializeIntCV(cv){const bytes=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.CZ)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.JJ)(cv.value,BigInt(_constants__WEBPACK_IMPORTED_MODULE_3__.H0)),_constants__WEBPACK_IMPORTED_MODULE_3__.gb);return bytesWithTypeID(cv.type,bytes)}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.PrincipalStandard:return function serializeStandardPrincipalCV(cv){return bytesWithTypeID(cv.type,(0,_types__WEBPACK_IMPORTED_MODULE_4__.vS)(cv.address))}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.PrincipalContract:return function serializeContractPrincipalCV(cv){return bytesWithTypeID(cv.type,(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.Id)((0,_types__WEBPACK_IMPORTED_MODULE_4__.vS)(cv.address),(0,_types__WEBPACK_IMPORTED_MODULE_4__.ug)(cv.contractName)))}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.ResponseOk:case _constants__WEBPACK_IMPORTED_MODULE_1__.d.ResponseErr:return function serializeResponseCV(cv){return bytesWithTypeID(cv.type,serializeCV(cv.value))}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.List:return function serializeListCV(cv){const bytesArray=[],length=new Uint8Array(4);(0,_stacks_common__WEBPACK_IMPORTED_MODULE_2__.Sw)(length,cv.list.length,0),bytesArray.push(length);for(const value of cv.list){const serializedValue=serializeCV(value);bytesArray.push(serializedValue)}return bytesWithTypeID(cv.type,(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.yB)(bytesArray))}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.Tuple:return function serializeTupleCV(cv){const bytesArray=[],length=new Uint8Array(4);(0,_stacks_common__WEBPACK_IMPORTED_MODULE_2__.Sw)(length,Object.keys(cv.data).length,0),bytesArray.push(length);const lexicographicOrder=Object.keys(cv.data).sort(((a,b)=>a.localeCompare(b)));for(const key of lexicographicOrder){const nameWithLength=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_5__.o1)(key);bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_4__.ug)(nameWithLength));const serializedValue=serializeCV(cv.data[key]);bytesArray.push(serializedValue)}return bytesWithTypeID(cv.type,(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.yB)(bytesArray))}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.StringASCII:return function serializeStringAsciiCV(cv){return serializeStringCV(cv,"ascii")}(value);case _constants__WEBPACK_IMPORTED_MODULE_1__.d.StringUTF8:return function serializeStringUtf8CV(cv){return serializeStringCV(cv,"utf8")}(value);default:throw new _errors__WEBPACK_IMPORTED_MODULE_6__.Fn("Unable to serialize. Invalid Clarity Value.")}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/booleanCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{PH:()=>falseCV,WM:()=>trueCV,yw:()=>boolCV});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");const trueCV=()=>({type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.BoolTrue}),falseCV=()=>({type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.BoolFalse}),boolCV=bool=>bool?trueCV():falseCV()},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/bufferCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>bufferCV,L:()=>bufferCVFromString});var _stacks_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");const bufferCV=buffer=>{if(buffer.byteLength>1048576)throw new Error("Cannot construct clarity buffer that is greater than 1MB");return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.Buffer,buffer}},bufferCVFromString=str=>bufferCV((0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.AI)(str))},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/intCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>intCV,u:()=>uintCV});var _stacks_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");const MAX_U128=BigInt("0xffffffffffffffffffffffffffffffff"),MIN_U128=BigInt(0),MAX_I128=BigInt("0x7fffffffffffffffffffffffffffffff"),MIN_I128=BigInt("-170141183460469231731687303715884105728"),intCV=value=>{const bigInt=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.WI)(value,!0);if(bigInt>MAX_I128)throw new RangeError(`Cannot construct clarity integer from value greater than ${MAX_I128}`);if(bigInt<MIN_I128)throw new RangeError(`Cannot construct clarity integer form value less than ${MIN_I128}`);return{type:_constants__WEBPACK_IMPORTED_MODULE_1__.d.Int,value:bigInt}},uintCV=value=>{const bigInt=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.WI)(value,!1);if(bigInt<MIN_U128)throw new RangeError("Cannot construct unsigned clarity integer from negative value");if(bigInt>MAX_U128)throw new RangeError(`Cannot construct unsigned clarity integer greater than ${MAX_U128}`);return{type:_constants__WEBPACK_IMPORTED_MODULE_1__.d.UInt,value:bigInt}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/listCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>listCV});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");function listCV(values){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.List,list:values}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/optionalCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{gp:()=>someCV,gu:()=>noneCV,hg:()=>optionalCVOf});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");function noneCV(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.OptionalNone}}function someCV(value){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.OptionalSome,value}}function optionalCVOf(value){return value?someCV(value):noneCV()}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/principalCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Hh:()=>standardPrincipalCVFromAddress,NQ:()=>principalToString,a5:()=>contractPrincipalCVFromAddress,f:()=>standardPrincipalCV,g7:()=>principalCV,iZ:()=>contractPrincipalCV,jS:()=>contractPrincipalCVFromStandard});var _stacks_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/common.js"),_postcondition_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js"),_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");function principalToString(principal){if(principal.type===_constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalStandard)return(0,_common__WEBPACK_IMPORTED_MODULE_1__.pD)(principal.address);if(principal.type===_constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalContract){return`${(0,_common__WEBPACK_IMPORTED_MODULE_1__.pD)(principal.address)}.${principal.contractName.content}`}throw new Error(`Unexpected principal data: ${JSON.stringify(principal)}`)}function principalCV(principal){if(principal.includes(".")){const[address,contractName]=principal.split(".");return contractPrincipalCV(address,contractName)}return standardPrincipalCV(principal)}function standardPrincipalCV(addressString){const addr=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_2__.FR)(addressString);return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalStandard,address:addr}}function standardPrincipalCVFromAddress(address){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalStandard,address}}function contractPrincipalCV(addressString,contractName){return contractPrincipalCVFromAddress((0,_postcondition_types__WEBPACK_IMPORTED_MODULE_2__.FR)(addressString),(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_2__.o1)(contractName))}function contractPrincipalCVFromAddress(address,contractName){if((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.AI)(contractName.content).byteLength>=128)throw new Error("Contract name must be less than 128 bytes");return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalContract,address,contractName}}function contractPrincipalCVFromStandard(sp,contractName){const lengthPrefixedContractName=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_2__.o1)(contractName);return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.PrincipalContract,address:sp.address,contractName:lengthPrefixedContractName}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/responseCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>responseOkCV,v:()=>responseErrorCV});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");function responseErrorCV(value){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseErr,value}}function responseOkCV(value){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.ResponseOk,value}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/stringCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{IE:()=>stringAsciiCV,rv:()=>stringCV,y3:()=>stringUtf8CV});var _constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");const stringAsciiCV=data=>({type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.StringASCII,data}),stringUtf8CV=data=>({type:_constants__WEBPACK_IMPORTED_MODULE_0__.d.StringUTF8,data}),stringCV=(data,encoding)=>{switch(encoding){case"ascii":return stringAsciiCV(data);case"utf8":return stringUtf8CV(data)}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/tupleCV.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>tupleCV});var _constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js"),_utils__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js");function tupleCV(data){for(const key in data)if(!(0,_utils__WEBPACK_IMPORTED_MODULE_0__.qw)(key))throw new Error(`"${key}" is not a valid Clarity name`);return{type:_constants__WEBPACK_IMPORTED_MODULE_1__.d.Tuple,data}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/common.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EM:()=>createMessageSignature,fi:()=>addressHashModeToVersion,lY:()=>addressFromVersionHash,pD:()=>addressToString});var _constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),c32check__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/index.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js");function createMessageSignature(signature){if((0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.aT)(signature).byteLength!=_constants__WEBPACK_IMPORTED_MODULE_2__.tL)throw Error("Invalid signature");return{type:_constants__WEBPACK_IMPORTED_MODULE_2__.$Q.MessageSignature,data:signature}}function addressHashModeToVersion(hashMode,txVersion){switch(hashMode){case _constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2PKH:switch(txVersion){case _constants__WEBPACK_IMPORTED_MODULE_2__.J_.Mainnet:return _constants__WEBPACK_IMPORTED_MODULE_2__.BY.MainnetSingleSig;case _constants__WEBPACK_IMPORTED_MODULE_2__.J_.Testnet:return _constants__WEBPACK_IMPORTED_MODULE_2__.BY.TestnetSingleSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(txVersion)} for hashMode ${hashMode}`)}case _constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SH:case _constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2SHNonSequential:case _constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2WPKH:case _constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2WSH:case _constants__WEBPACK_IMPORTED_MODULE_2__.ct.SerializeP2WSHNonSequential:switch(txVersion){case _constants__WEBPACK_IMPORTED_MODULE_2__.J_.Mainnet:return _constants__WEBPACK_IMPORTED_MODULE_2__.BY.MainnetMultiSig;case _constants__WEBPACK_IMPORTED_MODULE_2__.J_.Testnet:return _constants__WEBPACK_IMPORTED_MODULE_2__.BY.TestnetMultiSig;default:throw new Error(`Unexpected txVersion ${JSON.stringify(txVersion)} for hashMode ${hashMode}`)}default:throw new Error(`Unexpected hashMode ${JSON.stringify(hashMode)}`)}}function addressFromVersionHash(version,hash){return{type:_constants__WEBPACK_IMPORTED_MODULE_2__.$Q.Address,version,hash160:hash}}function addressToString(address){return(0,c32check__WEBPACK_IMPORTED_MODULE_0__.bJ)(address.version,address.hash160)}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var ChainID;__webpack_require__.d(__webpack_exports__,{$8:()=>TxRejectedReason,$Q:()=>StacksMessageType,BY:()=>AddressVersion,Dx:()=>FungibleConditionCode,Ej:()=>MAX_STRING_LENGTH_BYTES,FN:()=>PostConditionMode,Fj:()=>AnchorMode,G5:()=>PubKeyEncoding,H0:()=>CLARITY_INT_SIZE,J_:()=>TransactionVersion,Kt:()=>DEFAULT_TRANSACTION_VERSION,Om:()=>DEFAULT_CORE_NODE_API_URL,PW:()=>AssetType,YT:()=>DEFAULT_CHAIN_ID,_w:()=>whenMessageType,ct:()=>AddressHashMode,d2:()=>PayloadType,gb:()=>CLARITY_INT_BYTE_SIZE,hP:()=>PostConditionPrincipalID,hT:()=>AuthType,j4:()=>MEMO_MAX_LENGTH_BYTES,jz:()=>AnchorModeNames,mw:()=>COMPRESSED_PUBKEY_LENGTH_BYTES,nX:()=>ClarityVersion,n_:()=>ChainID,q$:()=>NonFungibleConditionCode,qu:()=>PostConditionType,tL:()=>RECOVERABLE_ECDSA_SIG_LENGTH_BYTES,uB:()=>anchorModeFromNameOrValue,vX:()=>VRF_PROOF_BYTES_LENGTH,xV:()=>UNCOMPRESSED_PUBKEY_LENGTH_BYTES,yZ:()=>COINBASE_BYTES_LENGTH}),function(ChainID){ChainID[ChainID.Testnet=2147483648]="Testnet",ChainID[ChainID.Mainnet=1]="Mainnet"}(ChainID||(ChainID={}));const DEFAULT_CHAIN_ID=ChainID.Mainnet,MAX_STRING_LENGTH_BYTES=128,CLARITY_INT_SIZE=128,CLARITY_INT_BYTE_SIZE=16,COINBASE_BYTES_LENGTH=32,VRF_PROOF_BYTES_LENGTH=80,RECOVERABLE_ECDSA_SIG_LENGTH_BYTES=65,COMPRESSED_PUBKEY_LENGTH_BYTES=32,UNCOMPRESSED_PUBKEY_LENGTH_BYTES=64,MEMO_MAX_LENGTH_BYTES=34,DEFAULT_CORE_NODE_API_URL="https://api.mainnet.hiro.so";var StacksMessageType,PayloadType,ClarityVersion,AnchorMode;function whenMessageType(messageType){return messageTypeMap=>messageTypeMap[messageType]}!function(StacksMessageType){StacksMessageType[StacksMessageType.Address=0]="Address",StacksMessageType[StacksMessageType.Principal=1]="Principal",StacksMessageType[StacksMessageType.LengthPrefixedString=2]="LengthPrefixedString",StacksMessageType[StacksMessageType.MemoString=3]="MemoString",StacksMessageType[StacksMessageType.AssetInfo=4]="AssetInfo",StacksMessageType[StacksMessageType.PostCondition=5]="PostCondition",StacksMessageType[StacksMessageType.PublicKey=6]="PublicKey",StacksMessageType[StacksMessageType.LengthPrefixedList=7]="LengthPrefixedList",StacksMessageType[StacksMessageType.Payload=8]="Payload",StacksMessageType[StacksMessageType.MessageSignature=9]="MessageSignature",StacksMessageType[StacksMessageType.StructuredDataSignature=10]="StructuredDataSignature",StacksMessageType[StacksMessageType.TransactionAuthField=11]="TransactionAuthField"}(StacksMessageType||(StacksMessageType={})),function(PayloadType){PayloadType[PayloadType.TokenTransfer=0]="TokenTransfer",PayloadType[PayloadType.SmartContract=1]="SmartContract",PayloadType[PayloadType.VersionedSmartContract=6]="VersionedSmartContract",PayloadType[PayloadType.ContractCall=2]="ContractCall",PayloadType[PayloadType.PoisonMicroblock=3]="PoisonMicroblock",PayloadType[PayloadType.Coinbase=4]="Coinbase",PayloadType[PayloadType.CoinbaseToAltRecipient=5]="CoinbaseToAltRecipient",PayloadType[PayloadType.TenureChange=7]="TenureChange",PayloadType[PayloadType.NakamotoCoinbase=8]="NakamotoCoinbase"}(PayloadType||(PayloadType={})),function(ClarityVersion){ClarityVersion[ClarityVersion.Clarity1=1]="Clarity1",ClarityVersion[ClarityVersion.Clarity2=2]="Clarity2",ClarityVersion[ClarityVersion.Clarity3=3]="Clarity3"}(ClarityVersion||(ClarityVersion={})),function(AnchorMode){AnchorMode[AnchorMode.OnChainOnly=1]="OnChainOnly",AnchorMode[AnchorMode.OffChainOnly=2]="OffChainOnly",AnchorMode[AnchorMode.Any=3]="Any"}(AnchorMode||(AnchorMode={}));const AnchorModeNames=["onChainOnly","offChainOnly","any"],AnchorModeMap={[AnchorModeNames[0]]:AnchorMode.OnChainOnly,[AnchorModeNames[1]]:AnchorMode.OffChainOnly,[AnchorModeNames[2]]:AnchorMode.Any,[AnchorMode.OnChainOnly]:AnchorMode.OnChainOnly,[AnchorMode.OffChainOnly]:AnchorMode.OffChainOnly,[AnchorMode.Any]:AnchorMode.Any};function anchorModeFromNameOrValue(mode){if(mode in AnchorModeMap)return AnchorModeMap[mode];throw new Error(`Invalid anchor mode "${mode}", must be one of: ${AnchorModeNames.join(", ")}`)}var TransactionVersion;!function(TransactionVersion){TransactionVersion[TransactionVersion.Mainnet=0]="Mainnet",TransactionVersion[TransactionVersion.Testnet=128]="Testnet"}(TransactionVersion||(TransactionVersion={}));const DEFAULT_TRANSACTION_VERSION=TransactionVersion.Mainnet;var PostConditionMode,PostConditionType,AuthType,AddressHashMode,AddressVersion,PubKeyEncoding,FungibleConditionCode,NonFungibleConditionCode,PostConditionPrincipalID,AssetType,TxRejectedReason;!function(PostConditionMode){PostConditionMode[PostConditionMode.Allow=1]="Allow",PostConditionMode[PostConditionMode.Deny=2]="Deny"}(PostConditionMode||(PostConditionMode={})),function(PostConditionType){PostConditionType[PostConditionType.STX=0]="STX",PostConditionType[PostConditionType.Fungible=1]="Fungible",PostConditionType[PostConditionType.NonFungible=2]="NonFungible"}(PostConditionType||(PostConditionType={})),function(AuthType){AuthType[AuthType.Standard=4]="Standard",AuthType[AuthType.Sponsored=5]="Sponsored"}(AuthType||(AuthType={})),function(AddressHashMode){AddressHashMode[AddressHashMode.SerializeP2PKH=0]="SerializeP2PKH",AddressHashMode[AddressHashMode.SerializeP2SH=1]="SerializeP2SH",AddressHashMode[AddressHashMode.SerializeP2WPKH=2]="SerializeP2WPKH",AddressHashMode[AddressHashMode.SerializeP2WSH=3]="SerializeP2WSH",AddressHashMode[AddressHashMode.SerializeP2SHNonSequential=5]="SerializeP2SHNonSequential",AddressHashMode[AddressHashMode.SerializeP2WSHNonSequential=7]="SerializeP2WSHNonSequential"}(AddressHashMode||(AddressHashMode={})),function(AddressVersion){AddressVersion[AddressVersion.MainnetSingleSig=22]="MainnetSingleSig",AddressVersion[AddressVersion.MainnetMultiSig=20]="MainnetMultiSig",AddressVersion[AddressVersion.TestnetSingleSig=26]="TestnetSingleSig",AddressVersion[AddressVersion.TestnetMultiSig=21]="TestnetMultiSig"}(AddressVersion||(AddressVersion={})),function(PubKeyEncoding){PubKeyEncoding[PubKeyEncoding.Compressed=0]="Compressed",PubKeyEncoding[PubKeyEncoding.Uncompressed=1]="Uncompressed"}(PubKeyEncoding||(PubKeyEncoding={})),function(FungibleConditionCode){FungibleConditionCode[FungibleConditionCode.Equal=1]="Equal",FungibleConditionCode[FungibleConditionCode.Greater=2]="Greater",FungibleConditionCode[FungibleConditionCode.GreaterEqual=3]="GreaterEqual",FungibleConditionCode[FungibleConditionCode.Less=4]="Less",FungibleConditionCode[FungibleConditionCode.LessEqual=5]="LessEqual"}(FungibleConditionCode||(FungibleConditionCode={})),function(NonFungibleConditionCode){NonFungibleConditionCode[NonFungibleConditionCode.Sends=16]="Sends",NonFungibleConditionCode[NonFungibleConditionCode.DoesNotSend=17]="DoesNotSend"}(NonFungibleConditionCode||(NonFungibleConditionCode={})),function(PostConditionPrincipalID){PostConditionPrincipalID[PostConditionPrincipalID.Origin=1]="Origin",PostConditionPrincipalID[PostConditionPrincipalID.Standard=2]="Standard",PostConditionPrincipalID[PostConditionPrincipalID.Contract=3]="Contract"}(PostConditionPrincipalID||(PostConditionPrincipalID={})),function(AssetType){AssetType[AssetType.STX=0]="STX",AssetType[AssetType.Fungible=1]="Fungible",AssetType[AssetType.NonFungible=2]="NonFungible"}(AssetType||(AssetType={})),function(TxRejectedReason){TxRejectedReason.Serialization="Serialization",TxRejectedReason.Deserialization="Deserialization",TxRejectedReason.SignatureValidation="SignatureValidation",TxRejectedReason.FeeTooLow="FeeTooLow",TxRejectedReason.BadNonce="BadNonce",TxRejectedReason.NotEnoughFunds="NotEnoughFunds",TxRejectedReason.NoSuchContract="NoSuchContract",TxRejectedReason.NoSuchPublicFunction="NoSuchPublicFunction",TxRejectedReason.BadFunctionArgument="BadFunctionArgument",TxRejectedReason.ContractAlreadyExists="ContractAlreadyExists",TxRejectedReason.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",TxRejectedReason.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",TxRejectedReason.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",TxRejectedReason.BadAddressVersionByte="BadAddressVersionByte",TxRejectedReason.NoCoinbaseViaMempool="NoCoinbaseViaMempool",TxRejectedReason.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",TxRejectedReason.TooMuchChaining="TooMuchChaining",TxRejectedReason.ConflictingNonceInMempool="ConflictingNonceInMempool",TxRejectedReason.BadTransactionVersion="BadTransactionVersion",TxRejectedReason.TransferRecipientCannotEqualSender="TransferRecipientCannotEqualSender",TxRejectedReason.TransferAmountMustBePositive="TransferAmountMustBePositive",TxRejectedReason.ServerFailureDatabase="ServerFailureDatabase",TxRejectedReason.EstimatorError="EstimatorError",TxRejectedReason.TemporarilyBlacklisted="TemporarilyBlacklisted",TxRejectedReason.ServerFailureOther="ServerFailureOther"}(TxRejectedReason||(TxRejectedReason={}))},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/contract-abi.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AM:()=>getTypeString,Ah:()=>parseToCV,DH:()=>isClarityAbiStringUtf8,H:()=>isClarityAbiList,QH:()=>isClarityAbiResponse,So:()=>isClarityAbiPrimitive,VQ:()=>isClarityAbiBuffer,YS:()=>encodeAbiClarityValue,YY:()=>encodeClarityValue,cG:()=>ClarityAbiTypeId,d8:()=>validateContractCall,lw:()=>isClarityAbiStringAscii,p0:()=>abiFunctionToString,p3:()=>isClarityAbiTuple,pF:()=>isClarityAbiOptional,uv:()=>getTypeUnion});var ClarityAbiTypeId,_stacks_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_clarity__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/intCV.js"),_clarity__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/booleanCV.js"),_clarity__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/principalCV.js"),_clarity__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/optionalCV.js"),_clarity__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/bufferCV.js"),_clarity__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js"),_clarity__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/clarityValue.js"),_clarity_types_stringCV__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/stringCV.js"),_errors__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js"),_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js");!function(ClarityAbiTypeId){ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeUInt128=1]="ClarityAbiTypeUInt128",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeInt128=2]="ClarityAbiTypeInt128",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeBool=3]="ClarityAbiTypeBool",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypePrincipal=4]="ClarityAbiTypePrincipal",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeNone=5]="ClarityAbiTypeNone",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeBuffer=6]="ClarityAbiTypeBuffer",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeResponse=7]="ClarityAbiTypeResponse",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeOptional=8]="ClarityAbiTypeOptional",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeTuple=9]="ClarityAbiTypeTuple",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeList=10]="ClarityAbiTypeList",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeStringAscii=11]="ClarityAbiTypeStringAscii",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeStringUtf8=12]="ClarityAbiTypeStringUtf8",ClarityAbiTypeId[ClarityAbiTypeId.ClarityAbiTypeTraitReference=13]="ClarityAbiTypeTraitReference"}(ClarityAbiTypeId||(ClarityAbiTypeId={}));const isClarityAbiPrimitive=val=>"string"==typeof val,isClarityAbiBuffer=val=>void 0!==val.buffer,isClarityAbiStringAscii=val=>void 0!==val["string-ascii"],isClarityAbiStringUtf8=val=>void 0!==val["string-utf8"],isClarityAbiResponse=val=>void 0!==val.response,isClarityAbiOptional=val=>void 0!==val.optional,isClarityAbiTuple=val=>void 0!==val.tuple,isClarityAbiList=val=>void 0!==val.list;function getTypeUnion(val){if(isClarityAbiPrimitive(val)){if("uint128"===val)return{id:ClarityAbiTypeId.ClarityAbiTypeUInt128,type:val};if("int128"===val)return{id:ClarityAbiTypeId.ClarityAbiTypeInt128,type:val};if("bool"===val)return{id:ClarityAbiTypeId.ClarityAbiTypeBool,type:val};if("principal"===val)return{id:ClarityAbiTypeId.ClarityAbiTypePrincipal,type:val};if("trait_reference"===val)return{id:ClarityAbiTypeId.ClarityAbiTypeTraitReference,type:val};if("none"===val)return{id:ClarityAbiTypeId.ClarityAbiTypeNone,type:val};throw new Error(`Unexpected Clarity ABI type primitive: ${JSON.stringify(val)}`)}if(isClarityAbiBuffer(val))return{id:ClarityAbiTypeId.ClarityAbiTypeBuffer,type:val};if(isClarityAbiResponse(val))return{id:ClarityAbiTypeId.ClarityAbiTypeResponse,type:val};if(isClarityAbiOptional(val))return{id:ClarityAbiTypeId.ClarityAbiTypeOptional,type:val};if(isClarityAbiTuple(val))return{id:ClarityAbiTypeId.ClarityAbiTypeTuple,type:val};if(isClarityAbiList(val))return{id:ClarityAbiTypeId.ClarityAbiTypeList,type:val};if(isClarityAbiStringAscii(val))return{id:ClarityAbiTypeId.ClarityAbiTypeStringAscii,type:val};if(isClarityAbiStringUtf8(val))return{id:ClarityAbiTypeId.ClarityAbiTypeStringUtf8,type:val};throw new Error(`Unexpected Clarity ABI type: ${JSON.stringify(val)}`)}function encodeAbiClarityValue(value,type){const union=type.id?type:getTypeUnion(type);switch(union.id){case ClarityAbiTypeId.ClarityAbiTypeUInt128:return(0,_clarity__WEBPACK_IMPORTED_MODULE_0__.u)(value);case ClarityAbiTypeId.ClarityAbiTypeInt128:return(0,_clarity__WEBPACK_IMPORTED_MODULE_0__.p)(value);case ClarityAbiTypeId.ClarityAbiTypeBool:if("false"===value||"0"===value)return(0,_clarity__WEBPACK_IMPORTED_MODULE_1__.PH)();if("true"===value||"1"===value)return(0,_clarity__WEBPACK_IMPORTED_MODULE_1__.WM)();throw new Error(`Unexpected Clarity bool value: ${JSON.stringify(value)}`);case ClarityAbiTypeId.ClarityAbiTypePrincipal:if(value.includes(".")){const[addr,name]=value.split(".");return(0,_clarity__WEBPACK_IMPORTED_MODULE_2__.iZ)(addr,name)}return(0,_clarity__WEBPACK_IMPORTED_MODULE_2__.f)(value);case ClarityAbiTypeId.ClarityAbiTypeTraitReference:const[addr,name]=value.split(".");return(0,_clarity__WEBPACK_IMPORTED_MODULE_2__.iZ)(addr,name);case ClarityAbiTypeId.ClarityAbiTypeNone:return(0,_clarity__WEBPACK_IMPORTED_MODULE_3__.gu)();case ClarityAbiTypeId.ClarityAbiTypeBuffer:return(0,_clarity__WEBPACK_IMPORTED_MODULE_4__.I)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_5__.aT)(value));case ClarityAbiTypeId.ClarityAbiTypeStringAscii:return(0,_clarity_types_stringCV__WEBPACK_IMPORTED_MODULE_6__.IE)(value);case ClarityAbiTypeId.ClarityAbiTypeStringUtf8:return(0,_clarity_types_stringCV__WEBPACK_IMPORTED_MODULE_6__.y3)(value);case ClarityAbiTypeId.ClarityAbiTypeOptional:return(0,_clarity__WEBPACK_IMPORTED_MODULE_3__.gp)(encodeAbiClarityValue(value,union.type.optional));case ClarityAbiTypeId.ClarityAbiTypeResponse:case ClarityAbiTypeId.ClarityAbiTypeTuple:case ClarityAbiTypeId.ClarityAbiTypeList:throw new _errors__WEBPACK_IMPORTED_MODULE_7__.EH(`Unsupported encoding for Clarity type: ${union.id}`);default:throw new Error(`Unexpected Clarity type ID: ${JSON.stringify(union)}`)}}function encodeClarityValue(type,value){const union=type.id?type:getTypeUnion(type);return union.id===ClarityAbiTypeId.ClarityAbiTypeBuffer?(0,_clarity__WEBPACK_IMPORTED_MODULE_4__.I)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_5__.AI)(value)):encodeAbiClarityValue(value,union)}function getTypeString(val){if(isClarityAbiPrimitive(val))return"int128"===val?"int":"uint128"===val?"uint":val;if(isClarityAbiBuffer(val))return`(buff ${val.buffer.length})`;if(isClarityAbiStringAscii(val))return`(string-ascii ${val["string-ascii"].length})`;if(isClarityAbiStringUtf8(val))return`(string-utf8 ${val["string-utf8"].length})`;if(isClarityAbiResponse(val))return`(response ${getTypeString(val.response.ok)} ${getTypeString(val.response.error)})`;if(isClarityAbiOptional(val))return`(optional ${getTypeString(val.optional)})`;if(isClarityAbiTuple(val))return`(tuple ${val.tuple.map((t=>`(${t.name} ${getTypeString(t.type)})`)).join(" ")})`;if(isClarityAbiList(val))return`(list ${val.list.length} ${getTypeString(val.list.type)})`;throw new Error(`Type string unsupported for Clarity type: ${JSON.stringify(val)}`)}function abiFunctionToString(func){return`(define-${"read_only"===func.access?"read-only":func.access} (${func.name} ${func.args.map((arg=>`(${arg.name} ${getTypeString(arg.type)})`)).join(" ")}))`}function matchType(cv,abiType){const union=getTypeUnion(abiType);switch(cv.type){case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.BoolTrue:case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.BoolFalse:return union.id===ClarityAbiTypeId.ClarityAbiTypeBool;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.Int:return union.id===ClarityAbiTypeId.ClarityAbiTypeInt128;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.UInt:return union.id===ClarityAbiTypeId.ClarityAbiTypeUInt128;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.Buffer:return union.id===ClarityAbiTypeId.ClarityAbiTypeBuffer&&union.type.buffer.length>=cv.buffer.length;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.StringASCII:return union.id===ClarityAbiTypeId.ClarityAbiTypeStringAscii&&union.type["string-ascii"].length>=cv.data.length;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.StringUTF8:return union.id===ClarityAbiTypeId.ClarityAbiTypeStringUtf8&&union.type["string-utf8"].length>=cv.data.length;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.OptionalNone:return union.id===ClarityAbiTypeId.ClarityAbiTypeNone||union.id===ClarityAbiTypeId.ClarityAbiTypeOptional;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.OptionalSome:return union.id===ClarityAbiTypeId.ClarityAbiTypeOptional&&matchType(cv.value,union.type.optional);case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.ResponseErr:return union.id===ClarityAbiTypeId.ClarityAbiTypeResponse&&matchType(cv.value,union.type.response.error);case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.ResponseOk:return union.id===ClarityAbiTypeId.ClarityAbiTypeResponse&&matchType(cv.value,union.type.response.ok);case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.PrincipalContract:return union.id===ClarityAbiTypeId.ClarityAbiTypePrincipal||union.id===ClarityAbiTypeId.ClarityAbiTypeTraitReference;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.PrincipalStandard:return union.id===ClarityAbiTypeId.ClarityAbiTypePrincipal;case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.List:return union.id==ClarityAbiTypeId.ClarityAbiTypeList&&union.type.list.length>=cv.list.length&&cv.list.every((val=>matchType(val,union.type.list.type)));case _clarity__WEBPACK_IMPORTED_MODULE_8__.d.Tuple:if(union.id==ClarityAbiTypeId.ClarityAbiTypeTuple){const tuple=(0,_utils__WEBPACK_IMPORTED_MODULE_9__.mg)(cv.data);for(let i=0;i<union.type.tuple.length;i++){const abiTupleEntry=union.type.tuple[i],key=abiTupleEntry.name,val=tuple[key];if(!val)return!1;if(!matchType(val,abiTupleEntry.type))return!1;delete tuple[key]}return!0}return!1;default:return!1}}function validateContractCall(payload,abi){const filtered=abi.functions.filter((fn=>fn.name===payload.functionName.content));if(1===filtered.length){const abiArgs=filtered[0].args;if(payload.functionArgs.length!==abiArgs.length)throw new Error(`Clarity function expects ${abiArgs.length} argument(s) but received ${payload.functionArgs.length}`);for(let i=0;i<payload.functionArgs.length;i++){const payloadArg=payload.functionArgs[i],abiArg=abiArgs[i];if(!matchType(payloadArg,abiArg.type)){const argNum=i+1;throw new Error(`Clarity function \`${payload.functionName.content}\` expects argument ${argNum} to be of type ${getTypeString(abiArg.type)}, not ${(0,_clarity__WEBPACK_IMPORTED_MODULE_10__.P2)(payloadArg)}`)}}return!0}throw 0===filtered.length?new Error(`ABI doesn't contain a function with the name ${payload.functionName.content}`):new Error(`Malformed ABI. Contains multiple functions with the name ${payload.functionName.content}`)}function parseToCV(input,type){const typeString=getTypeString(type);if(isClarityAbiPrimitive(type)){if("uint128"===type)return(0,_clarity__WEBPACK_IMPORTED_MODULE_0__.u)(input);if("int128"===type)return(0,_clarity__WEBPACK_IMPORTED_MODULE_0__.p)(input);if("bool"===type){if("true"===input.toLowerCase())return(0,_clarity__WEBPACK_IMPORTED_MODULE_1__.WM)();if("false"===input.toLowerCase())return(0,_clarity__WEBPACK_IMPORTED_MODULE_1__.PH)();throw new Error(`Invalid bool value: ${input}`)}if("principal"===type){if(input.includes(".")){const[address,contractName]=input.split(".");return(0,_clarity__WEBPACK_IMPORTED_MODULE_2__.iZ)(address,contractName)}return(0,_clarity__WEBPACK_IMPORTED_MODULE_2__.f)(input)}throw new Error(`Contract function contains unsupported Clarity ABI type: ${typeString}`)}if(isClarityAbiBuffer(type)){if((0,_stacks_common__WEBPACK_IMPORTED_MODULE_5__.AI)(input).byteLength>type.buffer.length)throw new Error(`Input exceeds specified buffer length limit of ${type.buffer.length}`);return(0,_clarity__WEBPACK_IMPORTED_MODULE_4__.L)(input)}throw isClarityAbiResponse(type)||isClarityAbiOptional(type)||isClarityAbiTuple(type)||isClarityAbiList(type),new Error(`Contract function contains unsupported Clarity ABI type: ${typeString}`)}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EH:()=>NotImplementedError,Fn:()=>SerializationError,MJ:()=>DeserializationError,bw:()=>NoEstimateAvailableError,mk:()=>VerificationError,uJ:()=>SigningError});class TransactionError extends Error{constructor(message){super(message),this.message=message,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class SerializationError extends TransactionError{constructor(message){super(message)}}class DeserializationError extends TransactionError{constructor(message){super(message)}}class NoEstimateAvailableError extends TransactionError{constructor(message){super(message)}}class NotImplementedError extends TransactionError{constructor(message){super(message)}}class SigningError extends TransactionError{constructor(message){super(message)}}class VerificationError extends TransactionError{constructor(message){super(message)}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AddressHashMode:()=>esm_constants.ct,AddressVersion:()=>esm_constants.BY,AnchorMode:()=>esm_constants.Fj,AnchorModeNames:()=>esm_constants.jz,AssetType:()=>esm_constants.PW,AuthFieldType:()=>signature.Dv,AuthType:()=>esm_constants.hT,BytesReader:()=>bytesReader.H,CLARITY_INT_BYTE_SIZE:()=>esm_constants.gb,CLARITY_INT_SIZE:()=>esm_constants.H0,COINBASE_BYTES_LENGTH:()=>esm_constants.yZ,COMPRESSED_PUBKEY_LENGTH_BYTES:()=>esm_constants.mw,ChainID:()=>esm_constants.n_,Cl:()=>cl_namespaceObject,ClarityAbiTypeId:()=>contract_abi.cG,ClarityType:()=>constants.d,ClarityVersion:()=>esm_constants.nX,DEFAULT_CHAIN_ID:()=>esm_constants.YT,DEFAULT_CORE_NODE_API_URL:()=>esm_constants.Om,DEFAULT_TRANSACTION_VERSION:()=>esm_constants.Kt,FungibleConditionCode:()=>esm_constants.Dx,MAX_STRING_LENGTH_BYTES:()=>esm_constants.Ej,MEMO_MAX_LENGTH_BYTES:()=>esm_constants.j4,NonFungibleConditionCode:()=>esm_constants.q$,PayloadType:()=>esm_constants.d2,Pc:()=>pc_namespaceObject,PostConditionMode:()=>esm_constants.FN,PostConditionPrincipalID:()=>esm_constants.hP,PostConditionType:()=>esm_constants.qu,PubKeyEncoding:()=>esm_constants.G5,RECOVERABLE_ECDSA_SIG_LENGTH_BYTES:()=>esm_constants.tL,STRUCTURED_DATA_PREFIX:()=>STRUCTURED_DATA_PREFIX,StacksMessageType:()=>esm_constants.$Q,StacksTransaction:()=>transaction.I7,TransactionSigner:()=>signer.p,TransactionVersion:()=>esm_constants.J_,TxRejectedReason:()=>esm_constants.$8,UNCOMPRESSED_PUBKEY_LENGTH_BYTES:()=>esm_constants.xV,VRF_PROOF_BYTES_LENGTH:()=>esm_constants.vX,abiFunctionToString:()=>contract_abi.p0,addressFromHashMode:()=>types.g7,addressFromPublicKeys:()=>types.Uw,addressFromVersionHash:()=>common.lY,addressHashModeToVersion:()=>common.fi,addressToString:()=>common.pD,anchorModeFromNameOrValue:()=>esm_constants.uB,boolCV:()=>booleanCV.yw,broadcastRawTransaction:()=>builders.o_,broadcastTransaction:()=>builders.ui,bufferCV:()=>bufferCV.I,bufferCVFromString:()=>bufferCV.L,callReadOnlyFunction:()=>builders.Lg,cloneDeep:()=>esm_utils.mg,codeBodyString:()=>types.Dv,compressPublicKey:()=>keys.xf,contractPrincipalCV:()=>principalCV.iZ,contractPrincipalCVFromAddress:()=>principalCV.a5,contractPrincipalCVFromStandard:()=>principalCV.jS,createAddress:()=>postcondition_types.FR,createAssetInfo:()=>postcondition_types.Tu,createContractPrincipal:()=>postcondition_types.Ti,createEmptyAddress:()=>types._b,createFungiblePostCondition:()=>postcondition.e3,createLPList:()=>types.lU,createLPString:()=>postcondition_types.o1,createMemoString:()=>types.iB,createMessageSignature:()=>common.EM,createMultiSigSpendingCondition:()=>authorization.o5,createNonFungiblePostCondition:()=>postcondition.Nc,createSTXPostCondition:()=>postcondition.p0,createSingleSigSpendingCondition:()=>authorization.v_,createSponsoredAuth:()=>authorization.km,createStacksPrivateKey:()=>keys.wE,createStacksPublicKey:()=>keys.uC,createStandardAuth:()=>authorization.Kz,createStandardPrincipal:()=>postcondition_types.qX,createTransactionAuthField:()=>signature.Jt,cvToHex:()=>esm_utils.yX,cvToJSON:()=>clarityValue.JP,cvToString:()=>clarityValue.Ss,cvToValue:()=>clarityValue.E4,decodeStructuredDataSignature:()=>decodeStructuredDataSignature,deserializeAddress:()=>types.AP,deserializeAssetInfo:()=>types.oH,deserializeAuthorization:()=>authorization.h2,deserializeCV:()=>deserialize.A,deserializeLPList:()=>types.em,deserializeLPString:()=>types.Dp,deserializeMemoString:()=>types.pF,deserializeMessageSignature:()=>signature.X,deserializeMultiSigSpendingCondition:()=>authorization.Jl,deserializePostCondition:()=>types.nW,deserializePrincipal:()=>types.qb,deserializePublicKey:()=>keys.QT,deserializeSingleSigSpendingCondition:()=>authorization.Ag,deserializeSpendingCondition:()=>authorization.rT,deserializeStacksMessage:()=>types.UV,deserializeTransaction:()=>transaction.qu,deserializeTransactionAuthField:()=>signature.wW,emptyMessageSignature:()=>authorization.NC,encodeAbiClarityValue:()=>contract_abi.YS,encodeClarityValue:()=>contract_abi.YY,encodeStructuredData:()=>encodeStructuredData,estimateContractDeploy:()=>builders.cQ,estimateContractFunctionCall:()=>builders.rN,estimateTransaction:()=>builders.de,estimateTransactionByteLength:()=>builders.Z9,estimateTransactionFeeWithFallback:()=>builders.jv,estimateTransfer:()=>builders.u,estimateTransferUnsafe:()=>builders.cc,exceedsMaxLengthBytes:()=>esm_utils.vI,falseCV:()=>booleanCV.PH,getAbi:()=>builders.Pu,getAddressFromPrivateKey:()=>keys.FJ,getAddressFromPublicKey:()=>keys.Tq,getCVTypeString:()=>clarityValue.P2,getContractMapEntry:()=>builders.pR,getFee:()=>authorization.Xf,getNonce:()=>builders.m9,getPublicKey:()=>keys.lG,getTypeString:()=>contract_abi.AM,getTypeUnion:()=>contract_abi.uv,hash160:()=>esm_utils.A0,hashP2PKH:()=>esm_utils.G9,hashP2SH:()=>esm_utils.wZ,hashP2WPKH:()=>esm_utils.rY,hashP2WSH:()=>esm_utils.x5,hashStructuredData:()=>hashStructuredData,hexToCV:()=>esm_utils.ev,intCV:()=>intCV.p,intoInitialSighashAuth:()=>authorization.AT,isClarityAbiBuffer:()=>contract_abi.VQ,isClarityAbiList:()=>contract_abi.H,isClarityAbiOptional:()=>contract_abi.pF,isClarityAbiPrimitive:()=>contract_abi.So,isClarityAbiResponse:()=>contract_abi.QH,isClarityAbiStringAscii:()=>contract_abi.lw,isClarityAbiStringUtf8:()=>contract_abi.DH,isClarityAbiTuple:()=>contract_abi.p3,isClarityName:()=>esm_utils.qw,isClarityType:()=>clarityValue.f,isCoinbasePayload:()=>payload.X3,isCompressed:()=>keys.cx,isContractCallPayload:()=>payload.Zj,isNonSequentialMultiSig:()=>authorization.pi,isPoisonPayload:()=>payload.xk,isSequentialMultiSig:()=>authorization.Ir,isSingleSig:()=>authorization.I4,isSmartContractPayload:()=>payload.EY,isTokenTransferPayload:()=>payload.dm,leftPadHex:()=>esm_utils.EW,leftPadHexToLength:()=>esm_utils.PM,listCV:()=>listCV.y,makeContractCall:()=>builders.zL,makeContractDeploy:()=>builders.y9,makeContractFungiblePostCondition:()=>builders.a3,makeContractNonFungiblePostCondition:()=>builders.JI,makeContractSTXPostCondition:()=>builders.FM,makeRandomPrivKey:()=>keys.G0,makeSTXTokenTransfer:()=>builders.uj,makeSigHashPreSign:()=>authorization.u2,makeStandardFungiblePostCondition:()=>builders.LA,makeStandardNonFungiblePostCondition:()=>builders.KP,makeStandardSTXPostCondition:()=>builders.w2,makeUnsignedContractCall:()=>builders.ok,makeUnsignedContractDeploy:()=>builders.Pt,makeUnsignedSTXTokenTransfer:()=>builders.XV,nextSignature:()=>authorization.A6,nextVerification:()=>authorization.Jr,noneCV:()=>optionalCV.gu,omit:()=>esm_utils.cJ,optionalCVOf:()=>optionalCV.hg,parseAssetInfoString:()=>postcondition_types.p_,parsePrincipalString:()=>postcondition_types.bM,parseReadOnlyResponse:()=>esm_utils.vx,parseToCV:()=>contract_abi.Ah,principalCV:()=>principalCV.g7,principalToString:()=>principalCV.NQ,privateKeyToString:()=>keys.Vj,pubKeyfromPrivKey:()=>keys.P5,publicKeyFromBytes:()=>keys.Mk,publicKeyFromSignatureRsv:()=>keys.ef,publicKeyFromSignatureVrs:()=>keys.El,publicKeyToAddress:()=>keys.M,publicKeyToString:()=>keys.BT,randomBytes:()=>esm_utils.po,responseErrorCV:()=>responseCV.v,responseOkCV:()=>responseCV.B,rightPadHexToLength:()=>esm_utils.Wf,serializeAddress:()=>types.vS,serializeAssetInfo:()=>types.xp,serializeAuthorization:()=>authorization.gq,serializeCV:()=>serialize.G,serializeLPList:()=>types.bJ,serializeLPString:()=>types.ug,serializeMemoString:()=>types.GT,serializeMessageSignature:()=>signature.YU,serializeMultiSigSpendingCondition:()=>authorization._o,serializePayload:()=>payload.hs,serializePostCondition:()=>types.g5,serializePrincipal:()=>types.L7,serializePublicKey:()=>keys.Jn,serializeSingleSigSpendingCondition:()=>authorization.V5,serializeSpendingCondition:()=>authorization.k_,serializeStacksMessage:()=>types.B7,serializeTransactionAuthField:()=>signature.D6,setFee:()=>authorization.x6,setNonce:()=>authorization.MG,setSponsor:()=>authorization.tj,setSponsorNonce:()=>authorization.IE,signMessageHashRsv:()=>keys.ed,signStructuredData:()=>signStructuredData,signWithKey:()=>keys.Ft,someCV:()=>optionalCV.gp,sponsorTransaction:()=>builders.zI,standardPrincipalCV:()=>principalCV.f,standardPrincipalCVFromAddress:()=>principalCV.Hh,stringAsciiCV:()=>stringCV.IE,stringCV:()=>stringCV.rv,stringUtf8CV:()=>stringCV.y3,trueCV:()=>booleanCV.WM,tupleCV:()=>tupleCV.M,txidFromBytes:()=>esm_utils.p1,txidFromData:()=>esm_utils.U1,uintCV:()=>intCV.u,uncompressPublicKey:()=>keys.sA,validateContractCall:()=>contract_abi.d8,validateStacksAddress:()=>esm_utils.cU,validateTxId:()=>esm_utils.QY,verifyOrigin:()=>authorization.S1,verifySignature:()=>esm_utils.Od,whenMessageType:()=>esm_constants._w});var cl_namespaceObject={};__webpack_require__.r(cl_namespaceObject),__webpack_require__.d(cl_namespaceObject,{address:()=>address,bool:()=>bool,buffer:()=>buffer,bufferFromAscii:()=>bufferFromAscii,bufferFromHex:()=>bufferFromHex,bufferFromUtf8:()=>bufferFromUtf8,contractPrincipal:()=>contractPrincipal,deserialize:()=>cl_deserialize,error:()=>error,int:()=>cl_int,list:()=>list,none:()=>none,ok:()=>ok,parse:()=>parse,prettyPrint:()=>prettyPrint,principal:()=>principal,serialize:()=>cl_serialize,some:()=>some,standardPrincipal:()=>standardPrincipal,stringAscii:()=>stringAscii,stringUtf8:()=>stringUtf8,stringify:()=>stringify,tuple:()=>tuple,uint:()=>uint});var pc_namespaceObject={};__webpack_require__.r(pc_namespaceObject),__webpack_require__.d(pc_namespaceObject,{principal:()=>pc_principal});var authorization=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/authorization.js"),builders=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/builders.js"),bytesReader=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/bytesReader.js"),utils=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),booleanCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/booleanCV.js"),intCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/intCV.js"),principalCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/principalCV.js"),listCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/listCV.js"),stringCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/stringCV.js"),bufferCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/bufferCV.js"),optionalCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/optionalCV.js"),responseCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/responseCV.js"),tupleCV=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/tupleCV.js"),serialize=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/serialize.js"),deserialize=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/deserialize.js"),constants=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js");function formatSpace(space,depth,end=!1){return space?`\n${" ".repeat(space*(depth-(end?1:0)))}`:" "}function prettyPrintWithDepth(cv,space=0,depth){return cv.type===constants.d.BoolFalse?"false":cv.type===constants.d.BoolTrue?"true":cv.type===constants.d.Int?cv.value.toString():cv.type===constants.d.UInt?`u${cv.value.toString()}`:cv.type===constants.d.StringASCII?`"${cv.data}"`:cv.type===constants.d.StringUTF8?`u"${cv.data}"`:cv.type===constants.d.PrincipalContract||cv.type===constants.d.PrincipalStandard?`'${(0,principalCV.NQ)(cv)}`:cv.type===constants.d.Buffer?`0x${(0,utils.My)(cv.buffer)}`:cv.type===constants.d.OptionalNone?"none":cv.type===constants.d.OptionalSome?`(some ${prettyPrintWithDepth(cv.value,space,depth)})`:cv.type===constants.d.ResponseOk?`(ok ${prettyPrintWithDepth(cv.value,space,depth)})`:cv.type===constants.d.ResponseErr?`(err ${prettyPrintWithDepth(cv.value,space,depth)})`:cv.type===constants.d.List?function formatList(cv,space,depth=1){if(0===cv.list.length)return"(list)";const spaceBefore=formatSpace(space,depth,!1),endSpace=space?formatSpace(space,depth,!0):"";return`(list${spaceBefore}${cv.list.map((v=>prettyPrintWithDepth(v,space,depth))).join(spaceBefore)}${endSpace})`}(cv,space,depth+1):cv.type===constants.d.Tuple?function formatTuple(cv,space,depth=1){if(0===Object.keys(cv.data).length)return"{}";const items=[];for(const[key,value]of Object.entries(cv.data))items.push(`${key}: ${prettyPrintWithDepth(value,space,depth)}`);const spaceBefore=formatSpace(space,depth,!1),endSpace=formatSpace(space,depth,!0);return`{${spaceBefore}${items.sort().join(`,${spaceBefore}`)}${endSpace}}`}(cv,space,depth+1):void function exhaustiveCheck(param){throw new Error(`invalid clarity value type: ${param}`)}(cv)}function stringify(cv,space=0){return prettyPrintWithDepth(cv,space,0)}const prettyPrint=stringify;function regex(pattern,map){return s=>{const match=s.match(pattern);return match&&0===match.index?{success:!0,value:match[0],rest:s.substring(match[0].length),capture:map?map(match[0]):void 0}:{success:!1}}}function whitespace(){return regex(/\s+/)}function lazy(c){return s=>c()(s)}function either(combinators){return s=>{for(const c of combinators){const result=c(s);if(result.success)return result}return{success:!1}}}function entire(combinator){return s=>{const result=combinator(s);return!result.success||result.rest?{success:!1}:result}}function optional(c){return s=>{const result=c(s);return result.success?result:{success:!0,value:"",rest:s}}}function sequence(combinators,reduce=v=>v[0]){return s=>{let rest=s,value="";const captures=[];for(const c of combinators){const result=c(rest);if(!result.success)return{success:!1};rest=result.rest,value+=result.value,result.capture&&captures.push(result.capture)}return{success:!0,value,rest,capture:reduce(captures)}}}function chain(combinators,reduce=v=>v[0]){return sequence(combinators.flatMap(((combinator,index)=>0===index?[combinator]:[optional(whitespace()),combinator])),reduce)}function parens(combinator){return chain([regex(/\(/),combinator,regex(/\)/)])}function greedy(min,combinator,reduce=v=>v[v.length-1],separator){return s=>{let rest=s,value="";const captures=[];let count;for(count=0;;count++){const result=combinator(rest);if(!result.success)break;if(rest=result.rest,value+=result.value,result.capture&&captures.push(result.capture),separator){const sepResult=separator(rest);if(!sepResult.success){count++;break}rest=sepResult.rest,value+=sepResult.value}}return count<min?{success:!1}:{success:!0,value,rest,capture:reduce(captures)}}}function capture(combinator,map){return s=>{const result=combinator(s);return result.success?{success:!0,value:result.value,rest:result.rest,capture:map?map(result.value):result.value}:{success:!1}}}function clInt(){return capture(regex(/\-?[0-9]+/),(v=>cl_int(parseInt(v))))}function clUint(){return sequence([regex(/u/),capture(regex(/[0-9]+/),(v=>uint(parseInt(v))))])}function clBool(){return capture(regex(/true|false/),(v=>bool("true"===v)))}function clPrincipal(){return sequence([regex(/\'/),capture(sequence([regex(/[A-Z0-9]+/),optional(sequence([regex(/\./),regex(/[a-zA-Z0-9\-]+/)]))]),address)])}function clBuffer(){return sequence([regex(/0x/),capture(regex(/[0-9a-fA-F]+/),bufferFromHex)])}function parser_unescape(input){return input.replace(/\\\\/g,"\\").replace(/\\(.)/g,"$1")}function clAscii(){return sequence([regex(/"/),capture(regex(/(\\.|[^"])*/),(t=>stringAscii(parser_unescape(t)))),regex(/"/)])}function clUtf8(){return sequence([regex(/u"/),capture(regex(/(\\.|[^"])*/),(t=>stringUtf8(parser_unescape(t)))),regex(/"/)])}function clList(){return parens(sequence([regex(/list/),greedy(0,sequence([whitespace(),clValue()]),(c=>list(c)))]))}function clTuple(){return either([chain([regex(/\{/),greedy(1,sequence([capture(regex(/[a-zA-Z][a-zA-Z0-9_]*/)),regex(/\s*\:/),whitespace(),clValue()],(([k,v])=>tuple({[k]:v}))),(c=>tuple(Object.assign({},...c.map((t=>t.data))))),regex(/\s*\,\s*/)),regex(/\}/)]),parens(sequence([optional(whitespace()),regex(/tuple/),whitespace(),greedy(1,parens(sequence([optional(whitespace()),capture(regex(/[a-zA-Z][a-zA-Z0-9_]*/)),whitespace(),clValue(),optional(whitespace())],(([k,v])=>tuple({[k]:v})))),(c=>tuple(Object.assign({},...c.map((t=>t.data))))),whitespace())]))])}function clNone(){return capture(regex(/none/),none)}function clSome(){return parens(sequence([regex(/some/),whitespace(),clValue()],(c=>some(c[0]))))}function clOk(){return parens(sequence([regex(/ok/),whitespace(),clValue()],(c=>ok(c[0]))))}function clErr(){return parens(sequence([regex(/err/),whitespace(),clValue()],(c=>error(c[0]))))}function clValue(map=v=>v){return either([clBuffer,clAscii,clUtf8,clInt,clUint,clBool,clPrincipal,clList,clTuple,clNone,clSome,clOk,clErr].map(lazy).map(map))}function parse(clarityValueString){const result=clValue(entire)(clarityValueString);if(!result.success||!result.capture)throw"Parse error";return result.capture}const bool=booleanCV.yw,cl_int=intCV.p,uint=intCV.u;function principal(address){const[addr,name]=address.split(".");return name?(0,principalCV.iZ)(addr,name):(0,principalCV.f)(addr)}const address=principal,contractPrincipal=principalCV.iZ,standardPrincipal=principalCV.f,list=listCV.y,stringAscii=stringCV.IE,stringUtf8=stringCV.y3,buffer=bufferCV.I,bufferFromHex=hex=>(0,bufferCV.I)((0,utils.aT)(hex)),bufferFromAscii=ascii=>(0,bufferCV.I)((0,utils.Mh)(ascii)),bufferFromUtf8=utf8=>(0,bufferCV.I)((0,utils.AI)(utf8)),none=optionalCV.gu,some=optionalCV.gp,ok=responseCV.B,error=responseCV.v,tuple=tupleCV.M,cl_serialize=serialize.G,cl_deserialize=deserialize.A;var clarityValue=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/clarityValue.js"),common=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/common.js"),esm_constants=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),contract_abi=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/contract-abi.js"),keys=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js"),payload=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/payload.js"),postcondition_types=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js");function pc_principal(principal){if(function isContractIdString(value){return value.includes(".")}(principal)){const[address,name]=parseContractId(principal);return new PartialPcWithPrincipal(address,name)}return new PartialPcWithPrincipal(principal,void 0)}class PartialPcWithPrincipal{constructor(address,contractName){this.address=address,this.contractName=contractName}willSendEq(amount){return new PartialPcFtWithCode(this.address,amount,esm_constants.Dx.Equal,this.contractName)}willSendLte(amount){return new PartialPcFtWithCode(this.address,amount,esm_constants.Dx.LessEqual,this.contractName)}willSendLt(amount){return new PartialPcFtWithCode(this.address,amount,esm_constants.Dx.Less,this.contractName)}willSendGte(amount){return new PartialPcFtWithCode(this.address,amount,esm_constants.Dx.GreaterEqual,this.contractName)}willSendGt(amount){return new PartialPcFtWithCode(this.address,amount,esm_constants.Dx.Greater,this.contractName)}willSendAsset(){return new PartialPcNftWithCode(this.address,esm_constants.q$.Sends,this.contractName)}willNotSendAsset(){return new PartialPcNftWithCode(this.address,esm_constants.q$.DoesNotSend,this.contractName)}}class PartialPcFtWithCode{constructor(address,amount,code,contractName){this.address=address,this.amount=amount,this.code=code,this.contractName=contractName}ustx(){return this.contractName?(0,builders.FM)(this.address,this.contractName,this.code,this.amount):(0,builders.w2)(this.address,this.code,this.amount)}ft(contractId,tokenName){const[address,name]=parseContractId(contractId);return this.contractName?(0,builders.a3)(this.address,this.contractName,this.code,this.amount,(0,postcondition_types.Tu)(address,name,tokenName)):(0,builders.LA)(this.address,this.code,this.amount,(0,postcondition_types.Tu)(address,name,tokenName))}}class PartialPcNftWithCode{constructor(principal,code,contractName){this.principal=principal,this.code=code,this.contractName=contractName}nft(...args){const{contractAddress,contractName,tokenName,assetId}=function getNftArgs(...args){if(2===args.length){const[assetName,assetId]=args;return{...parseNft(assetName),assetId}}const[contractId,tokenName,assetId]=args,[address,name]=parseContractId(contractId);return{contractAddress:address,contractName:name,tokenName,assetId}}(...args);return this.contractName?(0,builders.JI)(this.principal,this.contractName,this.code,(0,postcondition_types.Tu)(contractAddress,contractName,tokenName),assetId):(0,builders.KP)(this.principal,this.code,(0,postcondition_types.Tu)(contractAddress,contractName,tokenName),assetId)}}function parseContractId(contractId){const[address,name]=contractId.split(".");if(!address||!name)throw new Error(`Invalid contract identifier: ${contractId}`);return[address,name]}function parseNft(nftAssetName){const[principal,tokenName]=nftAssetName.split("::");if(!principal||!tokenName)throw new Error(`Invalid fully-qualified nft asset name: ${nftAssetName}`);const[address,name]=parseContractId(principal);return{contractAddress:address,contractName:name,tokenName}}var postcondition=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition.js"),signature=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signature.js"),signer=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signer.js"),sha256=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/sha256.js");const STRUCTURED_DATA_PREFIX=new Uint8Array([83,73,80,48,49,56]);function hashStructuredData(structuredData){return(0,sha256.s)((0,serialize.G)(structuredData))}const hash256BytesLength=32;function encodeStructuredData({message,domain}){const structuredDataHash=hashStructuredData(message);if(!function isDomain(value){return value.type===constants.d.Tuple&&!!["name","version","chain-id"].every((key=>key in value.data))&&!!["name","version"].every((key=>value.data[key].type===constants.d.StringASCII))&&value.data["chain-id"].type===constants.d.UInt}(domain))throw new Error("domain parameter must be a valid domain of type TupleCV with keys 'name', 'version', 'chain-id' with respective types StringASCII, StringASCII, UInt");const domainHash=hashStructuredData(domain);return(0,utils.Id)(STRUCTURED_DATA_PREFIX,domainHash,structuredDataHash)}function decodeStructuredDataSignature(signature){const encodedMessageBytes="string"==typeof signature?(0,utils.AI)(signature):signature;return{domainHash:encodedMessageBytes.slice(STRUCTURED_DATA_PREFIX.length,STRUCTURED_DATA_PREFIX.length+hash256BytesLength),messageHash:encodedMessageBytes.slice(STRUCTURED_DATA_PREFIX.length+hash256BytesLength)}}function signStructuredData({message,domain,privateKey}){const structuredDataHash=(0,utils.My)((0,sha256.s)(encodeStructuredData({message,domain}))),{data}=(0,keys.ed)({messageHash:structuredDataHash,privateKey});return{data,type:esm_constants.$Q.StructuredDataSignature}}var transaction=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/transaction.js"),types=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js"),esm_utils=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js")},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{xf:()=>compressPublicKey,wE:()=>createStacksPrivateKey,uC:()=>createStacksPublicKey,QT:()=>deserializePublicKey,FJ:()=>getAddressFromPrivateKey,Tq:()=>getAddressFromPublicKey,lG:()=>getPublicKey,cx:()=>isCompressed,G0:()=>makeRandomPrivKey,Vj:()=>privateKeyToString,P5:()=>pubKeyfromPrivKey,Mk:()=>publicKeyFromBytes,ef:()=>publicKeyFromSignatureRsv,El:()=>publicKeyFromSignatureVrs,M:()=>publicKeyToAddress,BT:()=>publicKeyToString,Jn:()=>serializePublicKey,ed:()=>signMessageHashRsv,Ft:()=>signWithKey,sA:()=>uncompressPublicKey});var hmac=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/hmac.js"),sha256=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/sha256.js"),esm=__webpack_require__("./node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/esm/index.js"),utils=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js");const COORDINATE_BYTES=32;var constants=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/constants.js"),lib=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/index.js"),common=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/common.js"),esm_constants=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),esm_utils=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js");function getAddressFromPrivateKey(privateKey,transactionVersion=esm_constants.J_.Mainnet){return getAddressFromPublicKey(pubKeyfromPrivKey(privateKey).data,transactionVersion)}function getAddressFromPublicKey(publicKey,transactionVersion=esm_constants.J_.Mainnet){publicKey="string"==typeof publicKey?publicKey:(0,utils.My)(publicKey);const addrVer=(0,common.fi)(esm_constants.ct.SerializeP2PKH,transactionVersion),addr=(0,common.lY)(addrVer,(0,esm_utils.G9)((0,utils.aT)(publicKey)));return(0,common.pD)(addr)}function createStacksPublicKey(key){return{type:esm_constants.$Q.PublicKey,data:(0,utils.aT)(key)}}function publicKeyFromSignatureVrs(messageHash,messageSignature,pubKeyEncoding=esm_constants.G5.Compressed){const parsedSignature=function parseRecoverableSignatureVrs(signature){if(signature.length<2*COORDINATE_BYTES*2+1)throw new Error("Invalid signature");const recoveryIdHex=signature.slice(0,2),r=signature.slice(2,2+2*COORDINATE_BYTES),s=signature.slice(2+2*COORDINATE_BYTES);return{recoveryId:(0,utils.od)(recoveryIdHex),r,s}}(messageSignature.data),signature=new esm.to((0,utils.uU)(parsedSignature.r),(0,utils.uU)(parsedSignature.s)),point=esm.bR.fromSignature(messageHash,signature,parsedSignature.recoveryId),compressed=pubKeyEncoding===esm_constants.G5.Compressed;return point.toHex(compressed)}function publicKeyFromSignatureRsv(messageHash,messageSignature,pubKeyEncoding=esm_constants.G5.Compressed){return publicKeyFromSignatureVrs(messageHash,{...messageSignature,data:(signature=messageSignature.data,signature.slice(-2)+signature.slice(0,-2))},pubKeyEncoding);var signature}function publicKeyFromBytes(data){return{type:esm_constants.$Q.PublicKey,data}}function isCompressed(key){return!(0,utils.My)(key.data).startsWith("04")}function publicKeyToString(key){return(0,utils.My)(key.data)}function serializePublicKey(key){return key.data.slice()}function pubKeyfromPrivKey(privateKey){const privKey=createStacksPrivateKey(privateKey),publicKey=(0,esm.lG)(privKey.data.slice(0,32),privKey.compressed);return createStacksPublicKey((0,utils.My)(publicKey))}function compressPublicKey(publicKey){const hex="string"==typeof publicKey?publicKey:(0,utils.My)(publicKey);return createStacksPublicKey(esm.bR.fromHex(hex).toHex(!0))}function uncompressPublicKey(publicKey){const hex="string"==typeof publicKey?publicKey:(0,utils.My)(publicKey);return createStacksPublicKey(esm.bR.fromHex(hex).toHex(!1))}function deserializePublicKey(bytesReader){const fieldId=bytesReader.readUInt8(),keyLength=4===fieldId?esm_constants.xV:esm_constants.mw;return publicKeyFromBytes((0,utils.yB)([fieldId,bytesReader.readBytes(keyLength)]))}function createStacksPrivateKey(key){const data=function privateKeyToBytes(privateKey){const privateKeyBuffer="string"==typeof privateKey?(0,utils.aT)(privateKey):privateKey;if(32!=privateKeyBuffer.length&&33!=privateKeyBuffer.length)throw new Error(`Improperly formatted private-key. Private-key byte length should be 32 or 33. Length provided: ${privateKeyBuffer.length}`);if(33==privateKeyBuffer.length&&1!==privateKeyBuffer[32])throw new Error("Improperly formatted private-key. 33 bytes indicate compressed key, but the last byte must be == 01");return privateKeyBuffer}(key);return{data,compressed:data.length==constants.Fw}}function makeRandomPrivKey(){return createStacksPrivateKey(esm.Wp.randomPrivateKey())}function signWithKey(privateKey,messageHash){const[rawSignature,recoveryId]=(0,esm.HU)(messageHash,privateKey.data.slice(0,32),{canonical:!0,recovered:!0});if(null==recoveryId)throw new Error("No signature recoveryId received");const recoverableSignatureString=(0,utils.y6)(recoveryId,1)+esm.to.fromHex(rawSignature).toCompactHex();return(0,common.EM)(recoverableSignatureString)}function signMessageHashRsv({messageHash,privateKey}){const messageSignature=signWithKey(privateKey,messageHash);return{...messageSignature,data:(signature=messageSignature.data,signature.slice(2)+signature.slice(0,2))};var signature}function getPublicKey(privateKey){return pubKeyfromPrivKey(privateKey.data)}function privateKeyToString(privateKey){return(0,utils.My)(privateKey.data)}function publicKeyToAddress(version,publicKey){return(0,lib.bJ)(version,(0,utils.My)((0,esm_utils.A0)(publicKey.data)))}esm.Wp.hmacSha256Sync=(key,...msgs)=>{const h=hmac.w.create(sha256.s,key);return msgs.forEach((msg=>h.update(msg))),h.digest()}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/payload.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EY:()=>isSmartContractPayload,Ox:()=>createSmartContractPayload,X3:()=>isCoinbasePayload,Zj:()=>isContractCallPayload,dm:()=>isTokenTransferPayload,hs:()=>serializePayload,tT:()=>createContractCallPayload,ur:()=>deserializePayload,xk:()=>isPoisonPayload,zh:()=>createTokenTransferPayload});var TenureChangeCause,_stacks_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/buffer.js"),_clarity___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/constants.js"),_clarity___WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/serialize.js"),_clarity___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/optionalCV.js"),_clarity___WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/deserialize.js"),_clarity_types_principalCV__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/types/principalCV.js"),_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),_postcondition_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js");function isTokenTransferPayload(p){return p.payloadType===_constants__WEBPACK_IMPORTED_MODULE_0__.d2.TokenTransfer}function isContractCallPayload(p){return p.payloadType===_constants__WEBPACK_IMPORTED_MODULE_0__.d2.ContractCall}function isSmartContractPayload(p){return p.payloadType===_constants__WEBPACK_IMPORTED_MODULE_0__.d2.SmartContract}function isPoisonPayload(p){return p.payloadType===_constants__WEBPACK_IMPORTED_MODULE_0__.d2.PoisonMicroblock}function isCoinbasePayload(p){return p.payloadType===_constants__WEBPACK_IMPORTED_MODULE_0__.d2.Coinbase}function createTokenTransferPayload(recipient,amount,memo){return"string"==typeof recipient&&(recipient=(0,_clarity_types_principalCV__WEBPACK_IMPORTED_MODULE_1__.g7)(recipient)),"string"==typeof memo&&(memo=(0,_types__WEBPACK_IMPORTED_MODULE_2__.iB)(memo)),{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.TokenTransfer,recipient,amount:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.WI)(amount,!1),memo:memo??(0,_types__WEBPACK_IMPORTED_MODULE_2__.iB)("")}}function createContractCallPayload(contractAddress,contractName,functionName,functionArgs){return"string"==typeof contractAddress&&(contractAddress=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_4__.FR)(contractAddress)),"string"==typeof contractName&&(contractName=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_4__.o1)(contractName)),"string"==typeof functionName&&(functionName=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_4__.o1)(functionName)),{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.ContractCall,contractAddress,contractName,functionName,functionArgs}}function createSmartContractPayload(contractName,codeBody,clarityVersion){return"string"==typeof contractName&&(contractName=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_4__.o1)(contractName)),"string"==typeof codeBody&&(codeBody=(0,_types__WEBPACK_IMPORTED_MODULE_2__.Dv)(codeBody)),"number"==typeof clarityVersion?{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.VersionedSmartContract,clarityVersion,contractName,codeBody}:{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.SmartContract,contractName,codeBody}}function createCoinbasePayload(coinbaseBytes,altRecipient){if(coinbaseBytes.byteLength!=_constants__WEBPACK_IMPORTED_MODULE_0__.yZ)throw Error(`Coinbase buffer size must be ${_constants__WEBPACK_IMPORTED_MODULE_0__.yZ} bytes`);return null!=altRecipient?{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.CoinbaseToAltRecipient,coinbaseBytes,recipient:altRecipient}:{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.Coinbase,coinbaseBytes}}function serializePayload(payload){const bytesArray=[];switch(bytesArray.push(payload.payloadType),payload.payloadType){case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.TokenTransfer:bytesArray.push((0,_clarity___WEBPACK_IMPORTED_MODULE_6__.G)(payload.recipient)),bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.m5)(payload.amount,!1,8)),bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.B7)(payload.memo));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.ContractCall:bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.B7)(payload.contractAddress)),bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.B7)(payload.contractName)),bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.B7)(payload.functionName));const numArgs=new Uint8Array(4);(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.Sw)(numArgs,payload.functionArgs.length,0),bytesArray.push(numArgs),payload.functionArgs.forEach((arg=>{bytesArray.push((0,_clarity___WEBPACK_IMPORTED_MODULE_6__.G)(arg))}));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.SmartContract:bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.B7)(payload.contractName)),bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.B7)(payload.codeBody));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.VersionedSmartContract:bytesArray.push(payload.clarityVersion),bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.B7)(payload.contractName)),bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.B7)(payload.codeBody));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.PoisonMicroblock:break;case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.Coinbase:bytesArray.push(payload.coinbaseBytes);break;case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.CoinbaseToAltRecipient:bytesArray.push(payload.coinbaseBytes),bytesArray.push((0,_clarity___WEBPACK_IMPORTED_MODULE_6__.G)(payload.recipient));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.NakamotoCoinbase:bytesArray.push(payload.coinbaseBytes),bytesArray.push((0,_clarity___WEBPACK_IMPORTED_MODULE_6__.G)(payload.recipient?(0,_clarity___WEBPACK_IMPORTED_MODULE_8__.gp)(payload.recipient):(0,_clarity___WEBPACK_IMPORTED_MODULE_8__.gu)())),bytesArray.push(payload.vrfProof);break;case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.TenureChange:bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.aT)(payload.tenureHash)),bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.aT)(payload.previousTenureHash)),bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.aT)(payload.burnViewHash)),bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.aT)(payload.previousTenureEnd)),bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.Sw)(new Uint8Array(4),payload.previousTenureBlocks)),bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.Gs)(new Uint8Array(1),payload.cause)),bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.aT)(payload.publicKeyHash))}return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.yB)(bytesArray)}function deserializePayload(bytesReader){switch(bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.d2,(n=>{throw new Error(`Cannot recognize PayloadType: ${n}`)}))){case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.TokenTransfer:return createTokenTransferPayload((0,_clarity___WEBPACK_IMPORTED_MODULE_9__.A)(bytesReader),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.WI)(bytesReader.readBytes(8),!1),(0,_types__WEBPACK_IMPORTED_MODULE_2__.pF)(bytesReader));case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.ContractCall:const contractAddress=(0,_types__WEBPACK_IMPORTED_MODULE_2__.AP)(bytesReader),contractCallName=(0,_types__WEBPACK_IMPORTED_MODULE_2__.Dp)(bytesReader),functionName=(0,_types__WEBPACK_IMPORTED_MODULE_2__.Dp)(bytesReader),functionArgs=[],numberOfArgs=bytesReader.readUInt32BE();for(let i=0;i<numberOfArgs;i++){const clarityValue=(0,_clarity___WEBPACK_IMPORTED_MODULE_9__.A)(bytesReader);functionArgs.push(clarityValue)}return createContractCallPayload(contractAddress,contractCallName,functionName,functionArgs);case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.SmartContract:return createSmartContractPayload((0,_types__WEBPACK_IMPORTED_MODULE_2__.Dp)(bytesReader),(0,_types__WEBPACK_IMPORTED_MODULE_2__.Dp)(bytesReader,4,1e5));case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.VersionedSmartContract:{const clarityVersion=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.nX,(n=>{throw new Error(`Cannot recognize ClarityVersion: ${n}`)}));return createSmartContractPayload((0,_types__WEBPACK_IMPORTED_MODULE_2__.Dp)(bytesReader),(0,_types__WEBPACK_IMPORTED_MODULE_2__.Dp)(bytesReader,4,1e5),clarityVersion)}case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.PoisonMicroblock:return function createPoisonPayload(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.PoisonMicroblock}}();case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.Coinbase:return createCoinbasePayload(bytesReader.readBytes(_constants__WEBPACK_IMPORTED_MODULE_0__.yZ));case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.CoinbaseToAltRecipient:return createCoinbasePayload(bytesReader.readBytes(_constants__WEBPACK_IMPORTED_MODULE_0__.yZ),(0,_clarity___WEBPACK_IMPORTED_MODULE_9__.A)(bytesReader));case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.NakamotoCoinbase:return function createNakamotoCoinbasePayload(coinbaseBytes,recipient,vrfProof){if(coinbaseBytes.byteLength!=_constants__WEBPACK_IMPORTED_MODULE_0__.yZ)throw Error(`Coinbase buffer size must be ${_constants__WEBPACK_IMPORTED_MODULE_0__.yZ} bytes`);if(vrfProof.byteLength!=_constants__WEBPACK_IMPORTED_MODULE_0__.vX)throw Error(`VRF proof buffer size must be ${_constants__WEBPACK_IMPORTED_MODULE_0__.vX} bytes`);return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.NakamotoCoinbase,coinbaseBytes,recipient:recipient.type===_clarity___WEBPACK_IMPORTED_MODULE_5__.d.OptionalSome?recipient.value:void 0,vrfProof}}(bytesReader.readBytes(_constants__WEBPACK_IMPORTED_MODULE_0__.yZ),(0,_clarity___WEBPACK_IMPORTED_MODULE_9__.A)(bytesReader),bytesReader.readBytes(_constants__WEBPACK_IMPORTED_MODULE_0__.vX));case _constants__WEBPACK_IMPORTED_MODULE_0__.d2.TenureChange:return function createTenureChangePayload(tenureHash,previousTenureHash,burnViewHash,previousTenureEnd,previousTenureBlocks,cause,publicKeyHash){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload,payloadType:_constants__WEBPACK_IMPORTED_MODULE_0__.d2.TenureChange,tenureHash,previousTenureHash,burnViewHash,previousTenureEnd,previousTenureBlocks,cause,publicKeyHash}}((0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)(bytesReader.readBytes(20)),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)(bytesReader.readBytes(20)),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)(bytesReader.readBytes(20)),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)(bytesReader.readBytes(32)),bytesReader.readUInt32BE(),bytesReader.readUInt8Enum(TenureChangeCause,(n=>{throw new Error(`Cannot recognize TenureChangeCause: ${n}`)})),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_3__.My)(bytesReader.readBytes(20)))}}!function(TenureChangeCause){TenureChangeCause[TenureChangeCause.BlockFound=0]="BlockFound",TenureChangeCause[TenureChangeCause.Extended=1]="Extended"}(TenureChangeCause||(TenureChangeCause={}))},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FR:()=>createAddress,Ti:()=>createContractPrincipal,Tu:()=>createAssetInfo,bM:()=>parsePrincipalString,o1:()=>createLPString,p_:()=>parseAssetInfoString,qX:()=>createStandardPrincipal});var _constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),c32check__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/index.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js");function parseAssetInfoString(id){const[assetAddress,assetContractName,assetTokenName]=id.split(/\.|::/);return createAssetInfo(assetAddress,assetContractName,assetTokenName)}function createLPString(content,lengthPrefixBytes,maxLengthBytes){const prefixLength=lengthPrefixBytes||1,maxLength=maxLengthBytes||_constants__WEBPACK_IMPORTED_MODULE_1__.Ej;if((0,_utils__WEBPACK_IMPORTED_MODULE_2__.vI)(content,maxLength))throw new Error(`String length exceeds maximum bytes ${maxLength}`);return{type:_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.LengthPrefixedString,content,lengthPrefixBytes:prefixLength,maxLengthBytes:maxLength}}function createAssetInfo(addressString,contractName,assetName){return{type:_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.AssetInfo,address:createAddress(addressString),contractName:createLPString(contractName),assetName:createLPString(assetName)}}function createAddress(c32AddressString){const addressData=(0,c32check__WEBPACK_IMPORTED_MODULE_0__.ns)(c32AddressString);return{type:_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.Address,version:addressData[0],hash160:addressData[1]}}function parsePrincipalString(principalString){if(principalString.includes(".")){const[address,contractName]=principalString.split(".");return createContractPrincipal(address,contractName)}return createStandardPrincipal(principalString)}function createContractPrincipal(addressString,contractName){const addr=createAddress(addressString),name=createLPString(contractName);return{type:_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.Principal,prefix:_constants__WEBPACK_IMPORTED_MODULE_1__.hP.Contract,address:addr,contractName:name}}function createStandardPrincipal(addressString){const addr=createAddress(addressString);return{type:_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.Principal,prefix:_constants__WEBPACK_IMPORTED_MODULE_1__.hP.Standard,address:addr}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Nc:()=>createNonFungiblePostCondition,e3:()=>createFungiblePostCondition,p0:()=>createSTXPostCondition});var _stacks_common__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),_postcondition_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js");function createSTXPostCondition(principal,conditionCode,amount){return"string"==typeof principal&&(principal=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_0__.bM)(principal)),{type:_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.PostCondition,conditionType:_constants__WEBPACK_IMPORTED_MODULE_1__.qu.STX,principal,conditionCode,amount:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_2__.WI)(amount,!1)}}function createFungiblePostCondition(principal,conditionCode,amount,assetInfo){return"string"==typeof principal&&(principal=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_0__.bM)(principal)),"string"==typeof assetInfo&&(assetInfo=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_0__.p_)(assetInfo)),{type:_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.PostCondition,conditionType:_constants__WEBPACK_IMPORTED_MODULE_1__.qu.Fungible,principal,conditionCode,amount:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_2__.WI)(amount,!1),assetInfo}}function createNonFungiblePostCondition(principal,conditionCode,assetInfo,assetName){return"string"==typeof principal&&(principal=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_0__.bM)(principal)),"string"==typeof assetInfo&&(assetInfo=(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_0__.p_)(assetInfo)),{type:_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.PostCondition,conditionType:_constants__WEBPACK_IMPORTED_MODULE_1__.qu.NonFungible,principal,conditionCode,assetInfo,assetName}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signature.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D6:()=>serializeTransactionAuthField,Dv:()=>AuthFieldType,Jt:()=>createTransactionAuthField,X:()=>deserializeMessageSignature,YU:()=>serializeMessageSignature,wW:()=>deserializeTransactionAuthField});var AuthFieldType,_errors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js"),_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),_keys__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js"),_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/common.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js");function deserializeMessageSignature(bytesReader){return(0,_common__WEBPACK_IMPORTED_MODULE_0__.EM)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.My)(bytesReader.readBytes(_constants__WEBPACK_IMPORTED_MODULE_2__.tL)))}function createTransactionAuthField(pubKeyEncoding,contents){return{pubKeyEncoding,type:_constants__WEBPACK_IMPORTED_MODULE_2__.$Q.TransactionAuthField,contents}}function deserializeTransactionAuthField(bytesReader){const authFieldType=bytesReader.readUInt8Enum(AuthFieldType,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_3__.MJ(`Could not read ${n} as AuthFieldType`)}));switch(authFieldType){case AuthFieldType.PublicKeyCompressed:return createTransactionAuthField(_constants__WEBPACK_IMPORTED_MODULE_2__.G5.Compressed,(0,_keys__WEBPACK_IMPORTED_MODULE_4__.QT)(bytesReader));case AuthFieldType.PublicKeyUncompressed:return createTransactionAuthField(_constants__WEBPACK_IMPORTED_MODULE_2__.G5.Uncompressed,(0,_keys__WEBPACK_IMPORTED_MODULE_4__.sA)((0,_keys__WEBPACK_IMPORTED_MODULE_4__.QT)(bytesReader).data));case AuthFieldType.SignatureCompressed:return createTransactionAuthField(_constants__WEBPACK_IMPORTED_MODULE_2__.G5.Compressed,deserializeMessageSignature(bytesReader));case AuthFieldType.SignatureUncompressed:return createTransactionAuthField(_constants__WEBPACK_IMPORTED_MODULE_2__.G5.Uncompressed,deserializeMessageSignature(bytesReader));default:throw new Error(`Unknown auth field type: ${JSON.stringify(authFieldType)}`)}}function serializeMessageSignature(messageSignature){return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.aT)(messageSignature.data)}function serializeTransactionAuthField(field){const bytesArray=[];switch(field.contents.type){case _constants__WEBPACK_IMPORTED_MODULE_2__.$Q.PublicKey:bytesArray.push(field.pubKeyEncoding===_constants__WEBPACK_IMPORTED_MODULE_2__.G5.Compressed?AuthFieldType.PublicKeyCompressed:AuthFieldType.PublicKeyUncompressed),bytesArray.push((0,_keys__WEBPACK_IMPORTED_MODULE_4__.Jn)((0,_keys__WEBPACK_IMPORTED_MODULE_4__.xf)(field.contents.data)));break;case _constants__WEBPACK_IMPORTED_MODULE_2__.$Q.MessageSignature:bytesArray.push(field.pubKeyEncoding===_constants__WEBPACK_IMPORTED_MODULE_2__.G5.Compressed?AuthFieldType.SignatureCompressed:AuthFieldType.SignatureUncompressed),bytesArray.push(serializeMessageSignature(field.contents))}return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_1__.yB)(bytesArray)}!function(AuthFieldType){AuthFieldType[AuthFieldType.PublicKeyCompressed=0]="PublicKeyCompressed",AuthFieldType[AuthFieldType.PublicKeyUncompressed=1]="PublicKeyUncompressed",AuthFieldType[AuthFieldType.SignatureCompressed=2]="SignatureCompressed",AuthFieldType[AuthFieldType.SignatureUncompressed=3]="SignatureUncompressed"}(AuthFieldType||(AuthFieldType={}))},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>TransactionSigner});var _authorization__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/authorization.js"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),_errors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js");class TransactionSigner{constructor(transaction){this.transaction=transaction,this.sigHash=transaction.signBegin(),this.originDone=!1,this.checkOversign=!0,this.checkOverlap=!0;const spendingCondition=transaction.auth.spendingCondition;if(spendingCondition&&!(0,_authorization__WEBPACK_IMPORTED_MODULE_0__.I4)(spendingCondition)){if(spendingCondition.fields.filter((field=>field.contents.type===_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.MessageSignature)).length>=spendingCondition.signaturesRequired)throw new Error("SpendingCondition has more signatures than are expected");spendingCondition.fields.forEach((field=>{if(field.contents.type!==_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.MessageSignature)return;const signature=field.contents,nextVerify=(0,_authorization__WEBPACK_IMPORTED_MODULE_0__.Jr)(this.sigHash,transaction.auth.authType,spendingCondition.fee,spendingCondition.nonce,_constants__WEBPACK_IMPORTED_MODULE_1__.G5.Compressed,signature);(0,_authorization__WEBPACK_IMPORTED_MODULE_0__.pi)(spendingCondition.hashMode)||(this.sigHash=nextVerify.nextSigHash)}))}}static createSponsorSigner(transaction,spendingCondition){if(transaction.auth.authType!=_constants__WEBPACK_IMPORTED_MODULE_1__.hT.Sponsored)throw new _errors__WEBPACK_IMPORTED_MODULE_2__.uJ("Cannot add sponsor to non-sponsored transaction");const tx=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.mg)(transaction);tx.setSponsor(spendingCondition);const originSigHash=tx.verifyOrigin(),signer=new this(tx);return signer.originDone=!0,signer.sigHash=originSigHash,signer.checkOversign=!0,signer.checkOverlap=!0,signer}signOrigin(privateKey){if(this.checkOverlap&&this.originDone)throw new _errors__WEBPACK_IMPORTED_MODULE_2__.uJ("Cannot sign origin after sponsor key");if(void 0===this.transaction.auth)throw new _errors__WEBPACK_IMPORTED_MODULE_2__.uJ('"transaction.auth" is undefined');if(void 0===this.transaction.auth.spendingCondition)throw new _errors__WEBPACK_IMPORTED_MODULE_2__.uJ('"transaction.auth.spendingCondition" is undefined');const spendingCondition=this.transaction.auth.spendingCondition;if((spendingCondition.hashMode===_constants__WEBPACK_IMPORTED_MODULE_1__.ct.SerializeP2SH||spendingCondition.hashMode===_constants__WEBPACK_IMPORTED_MODULE_1__.ct.SerializeP2WSH)&&this.checkOversign&&spendingCondition.fields.filter((field=>field.contents.type===_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.MessageSignature)).length>=spendingCondition.signaturesRequired)throw new Error("Origin would have too many signatures");const nextSighash=this.transaction.signNextOrigin(this.sigHash,privateKey);((0,_authorization__WEBPACK_IMPORTED_MODULE_0__.I4)(this.transaction.auth.spendingCondition)||(0,_authorization__WEBPACK_IMPORTED_MODULE_0__.Ir)(this.transaction.auth.spendingCondition.hashMode))&&(this.sigHash=nextSighash)}appendOrigin(publicKey){if(this.checkOverlap&&this.originDone)throw Error("Cannot append public key to origin after sponsor key");if(void 0===this.transaction.auth)throw new Error('"transaction.auth" is undefined');if(void 0===this.transaction.auth.spendingCondition)throw new Error('"transaction.auth.spendingCondition" is undefined');this.transaction.appendPubkey(publicKey)}signSponsor(privateKey){if(void 0===this.transaction.auth)throw new _errors__WEBPACK_IMPORTED_MODULE_2__.uJ('"transaction.auth" is undefined');if(this.transaction.auth.authType!==_constants__WEBPACK_IMPORTED_MODULE_1__.hT.Sponsored)throw new _errors__WEBPACK_IMPORTED_MODULE_2__.uJ('"transaction.auth.authType" is not AuthType.Sponsored');const nextSighash=this.transaction.signNextSponsor(this.sigHash,privateKey);this.sigHash=nextSighash,this.originDone=!0}getTxInComplete(){return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.mg)(this.transaction)}resume(transaction){this.transaction=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.mg)(transaction),this.sigHash=transaction.signBegin()}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/transaction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I7:()=>StacksTransaction,qu:()=>deserializeTransaction});var _stacks_common__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/constants.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/buffer.js"),_authorization__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/authorization.js"),_bytesReader__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/bytesReader.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),_errors__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js"),_keys__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js"),_payload__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/payload.js"),_signature__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signature.js"),_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js");class StacksTransaction{constructor(version,auth,payload,postConditions,postConditionMode,anchorMode,chainId){if(this.version=version,this.auth=auth,this.payload="amount"in payload?{...payload,amount:(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.WI)(payload.amount,!1)}:payload,this.chainId=chainId??_constants__WEBPACK_IMPORTED_MODULE_1__.YT,this.postConditionMode=postConditionMode??_constants__WEBPACK_IMPORTED_MODULE_1__.FN.Deny,this.postConditions=postConditions??(0,_types__WEBPACK_IMPORTED_MODULE_2__.lU)([]),anchorMode)this.anchorMode=(0,_constants__WEBPACK_IMPORTED_MODULE_1__.uB)(anchorMode);else switch(payload.payloadType){case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.Coinbase:case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.CoinbaseToAltRecipient:case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.NakamotoCoinbase:case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.PoisonMicroblock:case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.TenureChange:this.anchorMode=_constants__WEBPACK_IMPORTED_MODULE_1__.Fj.OnChainOnly;break;case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.ContractCall:case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.SmartContract:case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.VersionedSmartContract:case _constants__WEBPACK_IMPORTED_MODULE_1__.d2.TokenTransfer:this.anchorMode=_constants__WEBPACK_IMPORTED_MODULE_1__.Fj.Any}}signBegin(){const tx=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.mg)(this);return tx.auth=(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.AT)(tx.auth),tx.txid()}verifyBegin(){const tx=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.mg)(this);return tx.auth=(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.AT)(tx.auth),tx.txid()}verifyOrigin(){return(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.S1)(this.auth,this.verifyBegin())}signNextOrigin(sigHash,privateKey){if(void 0===this.auth.spendingCondition)throw new Error('"auth.spendingCondition" is undefined');if(void 0===this.auth.authType)throw new Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,sigHash,_constants__WEBPACK_IMPORTED_MODULE_1__.hT.Standard,privateKey)}signNextSponsor(sigHash,privateKey){if(this.auth.authType===_constants__WEBPACK_IMPORTED_MODULE_1__.hT.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,sigHash,_constants__WEBPACK_IMPORTED_MODULE_1__.hT.Sponsored,privateKey);throw new Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(publicKey){const cond=this.auth.spendingCondition;if(!cond||(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.I4)(cond))throw new Error("Can't append public key to a singlesig condition");{const compressed=(0,_keys__WEBPACK_IMPORTED_MODULE_5__.cx)(publicKey);cond.fields.push((0,_signature__WEBPACK_IMPORTED_MODULE_6__.Jt)(compressed?_constants__WEBPACK_IMPORTED_MODULE_1__.G5.Compressed:_constants__WEBPACK_IMPORTED_MODULE_1__.G5.Uncompressed,publicKey))}}signAndAppend(condition,curSigHash,authType,privateKey){const{nextSig,nextSigHash}=(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.A6)(curSigHash,authType,condition.fee,condition.nonce,privateKey);return(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.I4)(condition)?condition.signature=nextSig:condition.fields.push((0,_signature__WEBPACK_IMPORTED_MODULE_6__.Jt)(privateKey.data.byteLength===_stacks_common__WEBPACK_IMPORTED_MODULE_7__.Fw?_constants__WEBPACK_IMPORTED_MODULE_1__.G5.Compressed:_constants__WEBPACK_IMPORTED_MODULE_1__.G5.Uncompressed,nextSig)),nextSigHash}txid(){const serialized=this.serialize();return(0,_utils__WEBPACK_IMPORTED_MODULE_3__.U1)(serialized)}setSponsor(sponsorSpendingCondition){if(this.auth.authType!=_constants__WEBPACK_IMPORTED_MODULE_1__.hT.Sponsored)throw new _errors__WEBPACK_IMPORTED_MODULE_8__.uJ("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.tj)(this.auth,sponsorSpendingCondition)}setFee(amount){this.auth=(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.x6)(this.auth,amount)}setNonce(nonce){this.auth=(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.MG)(this.auth,nonce)}setSponsorNonce(nonce){if(this.auth.authType!=_constants__WEBPACK_IMPORTED_MODULE_1__.hT.Sponsored)throw new _errors__WEBPACK_IMPORTED_MODULE_8__.uJ("Cannot sponsor sign a non-sponsored transaction");this.auth=(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.IE)(this.auth,nonce)}serialize(){if(void 0===this.version)throw new _errors__WEBPACK_IMPORTED_MODULE_8__.Fn('"version" is undefined');if(void 0===this.chainId)throw new _errors__WEBPACK_IMPORTED_MODULE_8__.Fn('"chainId" is undefined');if(void 0===this.auth)throw new _errors__WEBPACK_IMPORTED_MODULE_8__.Fn('"auth" is undefined');if(void 0===this.anchorMode)throw new _errors__WEBPACK_IMPORTED_MODULE_8__.Fn('"anchorMode" is undefined');if(void 0===this.payload)throw new _errors__WEBPACK_IMPORTED_MODULE_8__.Fn('"payload" is undefined');const bytesArray=[];bytesArray.push(this.version);const chainIdBytes=new Uint8Array(4);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_9__.Sw)(chainIdBytes,this.chainId,0),bytesArray.push(chainIdBytes),bytesArray.push((0,_authorization__WEBPACK_IMPORTED_MODULE_4__.gq)(this.auth)),bytesArray.push(this.anchorMode),bytesArray.push(this.postConditionMode),bytesArray.push((0,_types__WEBPACK_IMPORTED_MODULE_2__.bJ)(this.postConditions)),bytesArray.push((0,_payload__WEBPACK_IMPORTED_MODULE_10__.hs)(this.payload)),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.yB)(bytesArray)}}function deserializeTransaction(tx){let bytesReader;bytesReader="string"==typeof tx?"0x"===tx.slice(0,2).toLowerCase()?new _bytesReader__WEBPACK_IMPORTED_MODULE_11__.H((0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.aT)(tx.slice(2))):new _bytesReader__WEBPACK_IMPORTED_MODULE_11__.H((0,_stacks_common__WEBPACK_IMPORTED_MODULE_0__.aT)(tx)):tx instanceof Uint8Array?new _bytesReader__WEBPACK_IMPORTED_MODULE_11__.H(tx):tx;const version=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_1__.J_,(n=>{throw new Error(`Could not parse ${n} as TransactionVersion`)})),chainId=bytesReader.readUInt32BE(),auth=(0,_authorization__WEBPACK_IMPORTED_MODULE_4__.h2)(bytesReader),anchorMode=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_1__.Fj,(n=>{throw new Error(`Could not parse ${n} as AnchorMode`)})),postConditionMode=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_1__.FN,(n=>{throw new Error(`Could not parse ${n} as PostConditionMode`)})),postConditions=(0,_types__WEBPACK_IMPORTED_MODULE_2__.em)(bytesReader,_constants__WEBPACK_IMPORTED_MODULE_1__.$Q.PostCondition),payload=(0,_payload__WEBPACK_IMPORTED_MODULE_10__.ur)(bytesReader);return new StacksTransaction(version,auth,payload,postConditions,postConditionMode,anchorMode,chainId)}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/types.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AP:()=>deserializeAddress,B7:()=>serializeStacksMessage,Dp:()=>deserializeLPString,Dv:()=>codeBodyString,GT:()=>serializeMemoString,L7:()=>serializePrincipal,UV:()=>deserializeStacksMessage,Uw:()=>addressFromPublicKeys,_b:()=>createEmptyAddress,bJ:()=>serializeLPList,em:()=>deserializeLPList,g5:()=>serializePostCondition,g7:()=>addressFromHashMode,iB:()=>createMemoString,lU:()=>createLPList,nW:()=>deserializePostCondition,oH:()=>deserializeAssetInfo,pF:()=>deserializeMemoString,qb:()=>deserializePrincipal,ug:()=>serializeLPString,vS:()=>serializeAddress,xp:()=>serializeAssetInfo});var _stacks_common__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/constants.js"),_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/keys.js"),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js"),_postcondition_types__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/postcondition-types.js"),_payload__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/payload.js"),_errors__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/errors.js"),_signature__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/signature.js"),_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/common.js"),_clarity__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/serialize.js"),_clarity__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/deserialize.js");function serializeStacksMessage(message){switch(message.type){case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Address:return serializeAddress(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Principal:return serializePrincipal(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.LengthPrefixedString:return serializeLPString(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MemoString:return serializeMemoString(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.AssetInfo:return serializeAssetInfo(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PostCondition:return serializePostCondition(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PublicKey:return(0,_keys__WEBPACK_IMPORTED_MODULE_1__.Jn)(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.LengthPrefixedList:return serializeLPList(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload:return(0,_payload__WEBPACK_IMPORTED_MODULE_2__.hs)(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.TransactionAuthField:return(0,_signature__WEBPACK_IMPORTED_MODULE_3__.D6)(message);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MessageSignature:return(0,_signature__WEBPACK_IMPORTED_MODULE_3__.YU)(message)}}function deserializeStacksMessage(bytesReader,type,listType){switch(type){case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Address:return deserializeAddress(bytesReader);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Principal:return deserializePrincipal(bytesReader);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.LengthPrefixedString:return deserializeLPString(bytesReader);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MemoString:return deserializeMemoString(bytesReader);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.AssetInfo:return deserializeAssetInfo(bytesReader);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PostCondition:return deserializePostCondition(bytesReader);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PublicKey:return(0,_keys__WEBPACK_IMPORTED_MODULE_1__.QT)(bytesReader);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Payload:return(0,_payload__WEBPACK_IMPORTED_MODULE_2__.ur)(bytesReader);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.LengthPrefixedList:if(!listType)throw new _errors__WEBPACK_IMPORTED_MODULE_4__.MJ("No List Type specified");return deserializeLPList(bytesReader,listType);case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MessageSignature:return(0,_signature__WEBPACK_IMPORTED_MODULE_3__.X)(bytesReader);default:throw new Error("Could not recognize StacksMessageType")}}function createEmptyAddress(){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Address,version:_constants__WEBPACK_IMPORTED_MODULE_0__.BY.MainnetSingleSig,hash160:"0".repeat(40)}}function addressFromHashMode(hashMode,txVersion,data){const version=(0,_common__WEBPACK_IMPORTED_MODULE_5__.fi)(hashMode,txVersion);return(0,_common__WEBPACK_IMPORTED_MODULE_5__.lY)(version,data)}function addressFromPublicKeys(version,hashMode,numSigs,publicKeys){if(0===publicKeys.length)throw Error("Invalid number of public keys");if(!(hashMode!==_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2PKH&&hashMode!==_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WPKH||1===publicKeys.length&&1===numSigs))throw Error("Invalid number of public keys or signatures");if((hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WPKH||hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSH||hashMode===_constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSHNonSequential)&&!publicKeys.every(_keys__WEBPACK_IMPORTED_MODULE_1__.cx))throw Error("Public keys must be compressed for segwit");switch(hashMode){case _constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2PKH:return(0,_common__WEBPACK_IMPORTED_MODULE_5__.lY)(version,(0,_utils__WEBPACK_IMPORTED_MODULE_6__.G9)(publicKeys[0].data));case _constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WPKH:return(0,_common__WEBPACK_IMPORTED_MODULE_5__.lY)(version,(0,_utils__WEBPACK_IMPORTED_MODULE_6__.rY)(publicKeys[0].data));case _constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2SH:case _constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2SHNonSequential:return(0,_common__WEBPACK_IMPORTED_MODULE_5__.lY)(version,(0,_utils__WEBPACK_IMPORTED_MODULE_6__.wZ)(numSigs,publicKeys.map(_keys__WEBPACK_IMPORTED_MODULE_1__.Jn)));case _constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSH:case _constants__WEBPACK_IMPORTED_MODULE_0__.ct.SerializeP2WSHNonSequential:return(0,_common__WEBPACK_IMPORTED_MODULE_5__.lY)(version,(0,_utils__WEBPACK_IMPORTED_MODULE_6__.x5)(numSigs,publicKeys.map(_keys__WEBPACK_IMPORTED_MODULE_1__.Jn)))}}function serializeAddress(address){const bytesArray=[];return bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.aT)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.y6)(address.version,1))),bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.aT)(address.hash160)),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.yB)(bytesArray)}function deserializeAddress(bytesReader){const version=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.od)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.My)(bytesReader.readBytes(1))),data=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.My)(bytesReader.readBytes(20));return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Address,version,hash160:data}}function serializePrincipal(principal){const bytesArray=[];return bytesArray.push(principal.prefix),bytesArray.push(serializeAddress(principal.address)),principal.prefix===_constants__WEBPACK_IMPORTED_MODULE_0__.hP.Contract&&bytesArray.push(serializeLPString(principal.contractName)),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.yB)(bytesArray)}function deserializePrincipal(bytesReader){const prefix=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.hP,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_4__.MJ(`Unexpected Principal payload type: ${n}`)})),address=deserializeAddress(bytesReader);if(prefix===_constants__WEBPACK_IMPORTED_MODULE_0__.hP.Standard)return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Principal,prefix,address};const contractName=deserializeLPString(bytesReader);return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Principal,prefix,address,contractName}}function serializeLPString(lps){const bytesArray=[],contentBytes=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.AI)(lps.content),length=contentBytes.byteLength;return bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.aT)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.y6)(length,lps.lengthPrefixBytes))),bytesArray.push(contentBytes),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.yB)(bytesArray)}function deserializeLPString(bytesReader,prefixBytes,maxLength){prefixBytes=prefixBytes||1;const length=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.od)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.My)(bytesReader.readBytes(prefixBytes))),content=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.AE)(bytesReader.readBytes(length));return(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_8__.o1)(content,prefixBytes,maxLength??128)}function codeBodyString(content){return(0,_postcondition_types__WEBPACK_IMPORTED_MODULE_8__.o1)(content,4,1e5)}function createMemoString(content){if(content&&(0,_utils__WEBPACK_IMPORTED_MODULE_6__.vI)(content,_constants__WEBPACK_IMPORTED_MODULE_0__.j4))throw new Error(`Memo exceeds maximum length of ${_constants__WEBPACK_IMPORTED_MODULE_0__.j4} bytes`);return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MemoString,content}}function serializeMemoString(memoString){const bytesArray=[],contentBytes=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.AI)(memoString.content),paddedContent=(0,_utils__WEBPACK_IMPORTED_MODULE_6__.Wf)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.My)(contentBytes),2*_constants__WEBPACK_IMPORTED_MODULE_0__.j4);return bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.aT)(paddedContent)),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.yB)(bytesArray)}function deserializeMemoString(bytesReader){let content=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.AE)(bytesReader.readBytes(_constants__WEBPACK_IMPORTED_MODULE_0__.j4));return content=content.replace(/\u0000*$/,""),{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MemoString,content}}function serializeAssetInfo(info){const bytesArray=[];return bytesArray.push(serializeAddress(info.address)),bytesArray.push(serializeLPString(info.contractName)),bytesArray.push(serializeLPString(info.assetName)),(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.yB)(bytesArray)}function deserializeAssetInfo(bytesReader){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.AssetInfo,address:deserializeAddress(bytesReader),contractName:deserializeLPString(bytesReader),assetName:deserializeLPString(bytesReader)}}function createLPList(values,lengthPrefixBytes){return{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.LengthPrefixedList,lengthPrefixBytes:lengthPrefixBytes||4,values}}function serializeLPList(lpList){const list=lpList.values,bytesArray=[];bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.aT)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.y6)(list.length,lpList.lengthPrefixBytes)));for(const l of list)bytesArray.push(serializeStacksMessage(l));return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.yB)(bytesArray)}function deserializeLPList(bytesReader,type,lengthPrefixBytes){const length=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.od)((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.My)(bytesReader.readBytes(lengthPrefixBytes||4))),l=[];for(let index=0;index<length;index++)switch(type){case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.Address:l.push(deserializeAddress(bytesReader));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.LengthPrefixedString:l.push(deserializeLPString(bytesReader));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.MemoString:l.push(deserializeMemoString(bytesReader));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.AssetInfo:l.push(deserializeAssetInfo(bytesReader));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PostCondition:l.push(deserializePostCondition(bytesReader));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PublicKey:l.push((0,_keys__WEBPACK_IMPORTED_MODULE_1__.QT)(bytesReader));break;case _constants__WEBPACK_IMPORTED_MODULE_0__.$Q.TransactionAuthField:l.push((0,_signature__WEBPACK_IMPORTED_MODULE_3__.wW)(bytesReader))}return createLPList(l,lengthPrefixBytes)}function serializePostCondition(postCondition){const bytesArray=[];if(bytesArray.push(postCondition.conditionType),bytesArray.push(serializePrincipal(postCondition.principal)),postCondition.conditionType!==_constants__WEBPACK_IMPORTED_MODULE_0__.qu.Fungible&&postCondition.conditionType!==_constants__WEBPACK_IMPORTED_MODULE_0__.qu.NonFungible||bytesArray.push(serializeAssetInfo(postCondition.assetInfo)),postCondition.conditionType===_constants__WEBPACK_IMPORTED_MODULE_0__.qu.NonFungible&&bytesArray.push((0,_clarity__WEBPACK_IMPORTED_MODULE_9__.G)(postCondition.assetName)),bytesArray.push(postCondition.conditionCode),postCondition.conditionType===_constants__WEBPACK_IMPORTED_MODULE_0__.qu.STX||postCondition.conditionType===_constants__WEBPACK_IMPORTED_MODULE_0__.qu.Fungible){if(postCondition.amount>BigInt("0xffffffffffffffff"))throw new _errors__WEBPACK_IMPORTED_MODULE_4__.Fn("The post-condition amount may not be larger than 8 bytes");bytesArray.push((0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.m5)(postCondition.amount,!1,8))}return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.yB)(bytesArray)}function deserializePostCondition(bytesReader){const postConditionType=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.qu,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_4__.MJ(`Could not read ${n} as PostConditionType`)})),principal=deserializePrincipal(bytesReader);let conditionCode,assetInfo,amount;switch(postConditionType){case _constants__WEBPACK_IMPORTED_MODULE_0__.qu.STX:return conditionCode=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.Dx,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_4__.MJ(`Could not read ${n} as FungibleConditionCode`)})),amount=BigInt(`0x${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.My)(bytesReader.readBytes(8))}`),{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PostCondition,conditionType:_constants__WEBPACK_IMPORTED_MODULE_0__.qu.STX,principal,conditionCode,amount};case _constants__WEBPACK_IMPORTED_MODULE_0__.qu.Fungible:return assetInfo=deserializeAssetInfo(bytesReader),conditionCode=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.Dx,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_4__.MJ(`Could not read ${n} as FungibleConditionCode`)})),amount=BigInt(`0x${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_7__.My)(bytesReader.readBytes(8))}`),{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PostCondition,conditionType:_constants__WEBPACK_IMPORTED_MODULE_0__.qu.Fungible,principal,conditionCode,amount,assetInfo};case _constants__WEBPACK_IMPORTED_MODULE_0__.qu.NonFungible:assetInfo=deserializeAssetInfo(bytesReader);const assetName=(0,_clarity__WEBPACK_IMPORTED_MODULE_10__.A)(bytesReader);return conditionCode=bytesReader.readUInt8Enum(_constants__WEBPACK_IMPORTED_MODULE_0__.q$,(n=>{throw new _errors__WEBPACK_IMPORTED_MODULE_4__.MJ(`Could not read ${n} as FungibleConditionCode`)})),{type:_constants__WEBPACK_IMPORTED_MODULE_0__.$Q.PostCondition,conditionType:_constants__WEBPACK_IMPORTED_MODULE_0__.qu.NonFungible,principal,conditionCode,assetInfo,assetName}}}},"./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A0:()=>hash160,EW:()=>leftPadHex,G9:()=>hashP2PKH,Od:()=>_noble_secp256k1__WEBPACK_IMPORTED_MODULE_3__.MX,PM:()=>leftPadHexToLength,QY:()=>validateTxId,U1:()=>txidFromData,Wf:()=>rightPadHexToLength,cJ:()=>omit,cU:()=>validateStacksAddress,ev:()=>hexToCV,mg:()=>cloneDeep,p1:()=>txidFromBytes,po:()=>randomBytes,qw:()=>isClarityName,rY:()=>hashP2WPKH,vI:()=>exceedsMaxLengthBytes,vx:()=>parseReadOnlyResponse,wZ:()=>hashP2SH,x5:()=>hashP2WSH,yX:()=>cvToHex});var _noble_hashes_ripemd160__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/ripemd160.js"),_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/sha256.js"),_noble_hashes_sha512__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.1.5/node_modules/@noble/hashes/esm/sha512.js"),_noble_secp256k1__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/esm/index.js"),_stacks_common__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.16.0/node_modules/@stacks/common/dist/esm/utils.js"),c32check__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/index.js"),lodash_clonedeep__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/lodash.clonedeep@4.5.0/node_modules/lodash.clonedeep/index.js"),lodash_clonedeep__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash_clonedeep__WEBPACK_IMPORTED_MODULE_5__),_clarity__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/serialize.js"),_clarity__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/clarity/deserialize.js");const randomBytes=bytesLength=>_noble_secp256k1__WEBPACK_IMPORTED_MODULE_3__.Wp.randomBytes(bytesLength),leftPadHex=hexString=>hexString.length%2==0?hexString:`0${hexString}`,leftPadHexToLength=(hexString,length)=>hexString.padStart(length,"0"),rightPadHexToLength=(hexString,length)=>hexString.padEnd(length,"0"),exceedsMaxLengthBytes=(string,maxLengthBytes)=>!!string&&(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.AI)(string).length>maxLengthBytes;function cloneDeep(obj){return lodash_clonedeep__WEBPACK_IMPORTED_MODULE_5___default()(obj)}function omit(obj,prop){const clone=cloneDeep(obj);return delete clone[prop],clone}const hash160=input=>(0,_noble_hashes_ripemd160__WEBPACK_IMPORTED_MODULE_0__.H)((0,_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_1__.s)(input)),txidFromData=data=>(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.My)((0,_noble_hashes_sha512__WEBPACK_IMPORTED_MODULE_2__.DP)(data)),txidFromBytes=txidFromData,hashP2PKH=input=>(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.My)(hash160(input)),hashP2WPKH=input=>{const keyHash=hash160(input),redeemScript=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.Id)(new Uint8Array([0]),new Uint8Array([keyHash.length]),keyHash),redeemScriptHash=hash160(redeemScript);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.My)(redeemScriptHash)},hashP2SH=(numSigs,pubKeys)=>{if(numSigs>15||pubKeys.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");const bytesArray=[];bytesArray.push(80+numSigs),pubKeys.forEach((pubKey=>{bytesArray.push(pubKey.length),bytesArray.push(pubKey)})),bytesArray.push(80+pubKeys.length),bytesArray.push(174);const redeemScript=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.yB)(bytesArray),redeemScriptHash=hash160(redeemScript);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.My)(redeemScriptHash)},hashP2WSH=(numSigs,pubKeys)=>{if(numSigs>15||pubKeys.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");const scriptArray=[];scriptArray.push(80+numSigs),pubKeys.forEach((pubKey=>{scriptArray.push(pubKey.length),scriptArray.push(pubKey)})),scriptArray.push(80+pubKeys.length),scriptArray.push(174);const script=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.yB)(scriptArray),digest=(0,_noble_hashes_sha256__WEBPACK_IMPORTED_MODULE_1__.s)(script),bytesArray=[];bytesArray.push(0),bytesArray.push(digest.length),bytesArray.push(digest);const redeemScript=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.yB)(bytesArray),redeemScriptHash=hash160(redeemScript);return(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.My)(redeemScriptHash)};function isClarityName(name){return/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(name)&&name.length<128}function cvToHex(cv){const serialized=(0,_clarity__WEBPACK_IMPORTED_MODULE_7__.G)(cv);return`0x${(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.My)(serialized)}`}function hexToCV(hex){return(0,_clarity__WEBPACK_IMPORTED_MODULE_8__.A)(hex)}const parseReadOnlyResponse=response=>{if(response.okay)return hexToCV(response.result);throw new Error(response.cause)},validateStacksAddress=stacksAddress=>{try{return(0,c32check__WEBPACK_IMPORTED_MODULE_4__.ns)(stacksAddress),!0}catch(e){return!1}},validateTxId=txid=>{if("success"===txid)return!0;const value=(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.fz)(txid).toLowerCase();return 66===value.length&&(0,_stacks_common__WEBPACK_IMPORTED_MODULE_6__.fz)(BigInt(value).toString(16).padStart(64,"0"))===value}},"./node_modules/.pnpm/@tanstack+query-async-storage-persister@5.59.16/node_modules/@tanstack/query-async-storage-persister/build/modern/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function noop(){}function asyncThrottle(func,{interval=1e3,onError=noop}={}){if("function"!=typeof func)throw new Error("argument is not function.");let nextExecutionTime=0,lastArgs=null,isExecuting=!1,isScheduled=!1;return async(...args)=>{if(lastArgs=args,!isScheduled){for(isScheduled=!0;isExecuting;)await new Promise((done=>setTimeout(done,interval)));for(;Date.now()<nextExecutionTime;)await new Promise((done=>setTimeout(done,nextExecutionTime-Date.now())));isScheduled=!1,isExecuting=!0;try{await func(...lastArgs)}catch(error){try{onError(error)}catch{}}nextExecutionTime=Date.now()+interval,isExecuting=!1}}}__webpack_require__.d(__webpack_exports__,{$:()=>createAsyncStoragePersister});var createAsyncStoragePersister=({storage,key="REACT_QUERY_OFFLINE_CACHE",throttleTime=1e3,serialize=JSON.stringify,deserialize=JSON.parse,retry})=>{if(storage){const trySave=async persistedClient=>{try{const serialized=await serialize(persistedClient);return void await storage.setItem(key,serialized)}catch(error){return error}};return{persistClient:asyncThrottle((async persistedClient=>{let client=persistedClient,error=await trySave(client),errorCount=0;for(;error&&client;)errorCount++,client=await(retry?.({persistedClient:client,error,errorCount})),client&&(error=await trySave(client))}),{interval:throttleTime}),restoreClient:async()=>{const cacheString=await storage.getItem(key);if(cacheString)return await deserialize(cacheString)},removeClient:()=>storage.removeItem(key)}}return{persistClient:noop,restoreClient:()=>Promise.resolve(void 0),removeClient:noop}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/focusManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>focusManager});var _subscribable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/subscribable.js"),_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js"),focusManager=new class extends _subscribable_js__WEBPACK_IMPORTED_MODULE_0__.Q{#focused;#cleanup;#setup;constructor(){super(),this.#setup=onFocus=>{if(!_utils_js__WEBPACK_IMPORTED_MODULE_1__.S$&&window.addEventListener){const listener=()=>onFocus();return window.addEventListener("visibilitychange",listener,!1),()=>{window.removeEventListener("visibilitychange",listener)}}}}onSubscribe(){this.#cleanup||this.setEventListener(this.#setup)}onUnsubscribe(){this.hasListeners()||(this.#cleanup?.(),this.#cleanup=void 0)}setEventListener(setup){this.#setup=setup,this.#cleanup?.(),this.#cleanup=setup((focused=>{"boolean"==typeof focused?this.setFocused(focused):this.onFocus()}))}setFocused(focused){this.#focused!==focused&&(this.#focused=focused,this.onFocus())}onFocus(){const isFocused=this.isFocused();this.listeners.forEach((listener=>{listener(isFocused)}))}isFocused(){return"boolean"==typeof this.#focused?this.#focused:"hidden"!==globalThis.document?.visibilityState}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/notifyManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{j:()=>notifyManager});var notifyManager=function createNotifyManager(){let queue=[],transactions=0,notifyFn=callback=>{callback()},batchNotifyFn=callback=>{callback()},scheduleFn=cb=>setTimeout(cb,0);const schedule=callback=>{transactions?queue.push(callback):scheduleFn((()=>{notifyFn(callback)}))};return{batch:callback=>{let result;transactions++;try{result=callback()}finally{transactions--,transactions||(()=>{const originalQueue=queue;queue=[],originalQueue.length&&scheduleFn((()=>{batchNotifyFn((()=>{originalQueue.forEach((callback=>{notifyFn(callback)}))}))}))})()}return result},batchCalls:callback=>(...args)=>{schedule((()=>{callback(...args)}))},schedule,setNotifyFunction:fn=>{notifyFn=fn},setBatchNotifyFunction:fn=>{batchNotifyFn=fn},setScheduler:fn=>{scheduleFn=fn}}}()},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/onlineManager.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{t:()=>onlineManager});var _subscribable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/subscribable.js"),_utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js"),onlineManager=new class extends _subscribable_js__WEBPACK_IMPORTED_MODULE_0__.Q{#online=!0;#cleanup;#setup;constructor(){super(),this.#setup=onOnline=>{if(!_utils_js__WEBPACK_IMPORTED_MODULE_1__.S$&&window.addEventListener){const onlineListener=()=>onOnline(!0),offlineListener=()=>onOnline(!1);return window.addEventListener("online",onlineListener,!1),window.addEventListener("offline",offlineListener,!1),()=>{window.removeEventListener("online",onlineListener),window.removeEventListener("offline",offlineListener)}}}}onSubscribe(){this.#cleanup||this.setEventListener(this.#setup)}onUnsubscribe(){this.hasListeners()||(this.#cleanup?.(),this.#cleanup=void 0)}setEventListener(setup){this.#setup=setup,this.#cleanup?.(),this.#cleanup=setup(this.setOnline.bind(this))}setOnline(online){this.#online!==online&&(this.#online=online,this.listeners.forEach((listener=>{listener(online)})))}isOnline(){return this.#online}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/query.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{X:()=>Query,k:()=>fetchState});var _utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js"),_notifyManager_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/notifyManager.js"),_retryer_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/retryer.js"),_removable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/removable.js"),Query=class extends _removable_js__WEBPACK_IMPORTED_MODULE_0__.k{#initialState;#revertState;#cache;#retryer;#defaultOptions;#abortSignalConsumed;constructor(config){super(),this.#abortSignalConsumed=!1,this.#defaultOptions=config.defaultOptions,this.setOptions(config.options),this.observers=[],this.#cache=config.cache,this.queryKey=config.queryKey,this.queryHash=config.queryHash,this.#initialState=function getDefaultState(options){const data="function"==typeof options.initialData?options.initialData():options.initialData,hasData=void 0!==data,initialDataUpdatedAt=hasData?"function"==typeof options.initialDataUpdatedAt?options.initialDataUpdatedAt():options.initialDataUpdatedAt:0;return{data,dataUpdateCount:0,dataUpdatedAt:hasData?initialDataUpdatedAt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:hasData?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=config.state??this.#initialState,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#retryer?.promise}setOptions(options){this.options={...this.#defaultOptions,...options},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#cache.remove(this)}setData(newData,options){const data=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.pl)(this.state.data,newData,this.options);return this.#dispatch({data,type:"success",dataUpdatedAt:options?.updatedAt,manual:options?.manual}),data}setState(state,setStateOptions){this.#dispatch({type:"setState",state,setStateOptions})}cancel(options){const promise=this.#retryer?.promise;return this.#retryer?.cancel(options),promise?promise.then(_utils_js__WEBPACK_IMPORTED_MODULE_1__.lQ).catch(_utils_js__WEBPACK_IMPORTED_MODULE_1__.lQ):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#initialState)}isActive(){return this.observers.some((observer=>!1!==(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.Eh)(observer.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_utils_js__WEBPACK_IMPORTED_MODULE_1__.hT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((observer=>observer.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(staleTime=0){return this.state.isInvalidated||void 0===this.state.data||!(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.j3)(this.state.dataUpdatedAt,staleTime)}onFocus(){const observer=this.observers.find((x=>x.shouldFetchOnWindowFocus()));observer?.refetch({cancelRefetch:!1}),this.#retryer?.continue()}onOnline(){const observer=this.observers.find((x=>x.shouldFetchOnReconnect()));observer?.refetch({cancelRefetch:!1}),this.#retryer?.continue()}addObserver(observer){this.observers.includes(observer)||(this.observers.push(observer),this.clearGcTimeout(),this.#cache.notify({type:"observerAdded",query:this,observer}))}removeObserver(observer){this.observers.includes(observer)&&(this.observers=this.observers.filter((x=>x!==observer)),this.observers.length||(this.#retryer&&(this.#abortSignalConsumed?this.#retryer.cancel({revert:!0}):this.#retryer.cancelRetry()),this.scheduleGc()),this.#cache.notify({type:"observerRemoved",query:this,observer}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#dispatch({type:"invalidate"})}fetch(options,fetchOptions){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&fetchOptions?.cancelRefetch)this.cancel({silent:!0});else if(this.#retryer)return this.#retryer.continueRetry(),this.#retryer.promise;if(options&&this.setOptions(options),!this.options.queryFn){const observer=this.observers.find((x=>x.options.queryFn));observer&&this.setOptions(observer.options)}const abortController=new AbortController,addSignalProperty=object=>{Object.defineProperty(object,"signal",{enumerable:!0,get:()=>(this.#abortSignalConsumed=!0,abortController.signal)})},context={fetchOptions,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const queryFn=(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.ZM)(this.options,fetchOptions),queryFnContext={queryKey:this.queryKey,meta:this.meta};return addSignalProperty(queryFnContext),this.#abortSignalConsumed=!1,this.options.persister?this.options.persister(queryFn,queryFnContext,this):queryFn(queryFnContext)}};addSignalProperty(context),this.options.behavior?.onFetch(context,this),this.#revertState=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===context.fetchOptions?.meta||this.#dispatch({type:"fetch",meta:context.fetchOptions?.meta});const onError=error=>{(0,_retryer_js__WEBPACK_IMPORTED_MODULE_2__.wm)(error)&&error.silent||this.#dispatch({type:"error",error}),(0,_retryer_js__WEBPACK_IMPORTED_MODULE_2__.wm)(error)||(this.#cache.config.onError?.(error,this),this.#cache.config.onSettled?.(this.state.data,error,this)),this.scheduleGc()};return this.#retryer=(0,_retryer_js__WEBPACK_IMPORTED_MODULE_2__.II)({initialPromise:fetchOptions?.initialPromise,fn:context.fetchFn,abort:abortController.abort.bind(abortController),onSuccess:data=>{if(void 0!==data){try{this.setData(data)}catch(error){return void onError(error)}this.#cache.config.onSuccess?.(data,this),this.#cache.config.onSettled?.(data,this.state.error,this),this.scheduleGc()}else onError(new Error(`${this.queryHash} data is undefined`))},onError,onFail:(failureCount,error)=>{this.#dispatch({type:"failed",failureCount,error})},onPause:()=>{this.#dispatch({type:"pause"})},onContinue:()=>{this.#dispatch({type:"continue"})},retry:context.options.retry,retryDelay:context.options.retryDelay,networkMode:context.options.networkMode,canRun:()=>!0}),this.#retryer.start()}#dispatch(action){this.state=(state=>{switch(action.type){case"failed":return{...state,fetchFailureCount:action.failureCount,fetchFailureReason:action.error};case"pause":return{...state,fetchStatus:"paused"};case"continue":return{...state,fetchStatus:"fetching"};case"fetch":return{...state,...fetchState(state.data,this.options),fetchMeta:action.meta??null};case"success":return{...state,data:action.data,dataUpdateCount:state.dataUpdateCount+1,dataUpdatedAt:action.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!action.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const error=action.error;return(0,_retryer_js__WEBPACK_IMPORTED_MODULE_2__.wm)(error)&&error.revert&&this.#revertState?{...this.#revertState,fetchStatus:"idle"}:{...state,error,errorUpdateCount:state.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:state.fetchFailureCount+1,fetchFailureReason:error,fetchStatus:"idle",status:"error"};case"invalidate":return{...state,isInvalidated:!0};case"setState":return{...state,...action.state}}})(this.state),_notifyManager_js__WEBPACK_IMPORTED_MODULE_3__.j.batch((()=>{this.observers.forEach((observer=>{observer.onQueryUpdate()})),this.#cache.notify({query:this,type:"updated",action})}))}};function fetchState(data,options){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,_retryer_js__WEBPACK_IMPORTED_MODULE_2__.v_)(options.networkMode)?"fetching":"paused",...void 0===data&&{error:null,status:"pending"}}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/queryCache.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>QueryCache});var _utils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js"),_query_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/query.js"),_notifyManager_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/notifyManager.js"),_subscribable_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/subscribable.js"),QueryCache=class extends _subscribable_js__WEBPACK_IMPORTED_MODULE_0__.Q{constructor(config={}){super(),this.config=config,this.#queries=new Map}#queries;build(client,options,state){const queryKey=options.queryKey,queryHash=options.queryHash??(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.F$)(queryKey,options);let query=this.get(queryHash);return query||(query=new _query_js__WEBPACK_IMPORTED_MODULE_2__.X({cache:this,queryKey,queryHash,options:client.defaultQueryOptions(options),state,defaultOptions:client.getQueryDefaults(queryKey)}),this.add(query)),query}add(query){this.#queries.has(query.queryHash)||(this.#queries.set(query.queryHash,query),this.notify({type:"added",query}))}remove(query){const queryInMap=this.#queries.get(query.queryHash);queryInMap&&(query.destroy(),queryInMap===query&&this.#queries.delete(query.queryHash),this.notify({type:"removed",query}))}clear(){_notifyManager_js__WEBPACK_IMPORTED_MODULE_3__.j.batch((()=>{this.getAll().forEach((query=>{this.remove(query)}))}))}get(queryHash){return this.#queries.get(queryHash)}getAll(){return[...this.#queries.values()]}find(filters){const defaultedFilters={exact:!0,...filters};return this.getAll().find((query=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.MK)(defaultedFilters,query)))}findAll(filters={}){const queries=this.getAll();return Object.keys(filters).length>0?queries.filter((query=>(0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.MK)(filters,query))):queries}notify(event){_notifyManager_js__WEBPACK_IMPORTED_MODULE_3__.j.batch((()=>{this.listeners.forEach((listener=>{listener(event)}))}))}onFocus(){_notifyManager_js__WEBPACK_IMPORTED_MODULE_3__.j.batch((()=>{this.getAll().forEach((query=>{query.onFocus()}))}))}onOnline(){_notifyManager_js__WEBPACK_IMPORTED_MODULE_3__.j.batch((()=>{this.getAll().forEach((query=>{query.onOnline()}))}))}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/queryClient.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>QueryClient});var utils=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js"),queryCache=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/queryCache.js"),notifyManager=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/notifyManager.js"),removable=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/removable.js"),retryer=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/retryer.js"),Mutation=class extends removable.k{#observers;#mutationCache;#retryer;constructor(config){super(),this.mutationId=config.mutationId,this.#mutationCache=config.mutationCache,this.#observers=[],this.state=config.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(config.options),this.scheduleGc()}setOptions(options){this.options=options,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(observer){this.#observers.includes(observer)||(this.#observers.push(observer),this.clearGcTimeout(),this.#mutationCache.notify({type:"observerAdded",mutation:this,observer}))}removeObserver(observer){this.#observers=this.#observers.filter((x=>x!==observer)),this.scheduleGc(),this.#mutationCache.notify({type:"observerRemoved",mutation:this,observer})}optionalRemove(){this.#observers.length||("pending"===this.state.status?this.scheduleGc():this.#mutationCache.remove(this))}continue(){return this.#retryer?.continue()??this.execute(this.state.variables)}async execute(variables){this.#retryer=(0,retryer.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(variables):Promise.reject(new Error("No mutationFn found")),onFail:(failureCount,error)=>{this.#dispatch({type:"failed",failureCount,error})},onPause:()=>{this.#dispatch({type:"pause"})},onContinue:()=>{this.#dispatch({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#mutationCache.canRun(this)});const restored="pending"===this.state.status,isPaused=!this.#retryer.canStart();try{if(!restored){this.#dispatch({type:"pending",variables,isPaused}),await(this.#mutationCache.config.onMutate?.(variables,this));const context=await(this.options.onMutate?.(variables));context!==this.state.context&&this.#dispatch({type:"pending",context,variables,isPaused})}const data=await this.#retryer.start();return await(this.#mutationCache.config.onSuccess?.(data,variables,this.state.context,this)),await(this.options.onSuccess?.(data,variables,this.state.context)),await(this.#mutationCache.config.onSettled?.(data,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(data,null,variables,this.state.context)),this.#dispatch({type:"success",data}),data}catch(error){try{throw await(this.#mutationCache.config.onError?.(error,variables,this.state.context,this)),await(this.options.onError?.(error,variables,this.state.context)),await(this.#mutationCache.config.onSettled?.(void 0,error,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,error,variables,this.state.context)),error}finally{this.#dispatch({type:"error",error})}}finally{this.#mutationCache.runNext(this)}}#dispatch(action){this.state=(state=>{switch(action.type){case"failed":return{...state,failureCount:action.failureCount,failureReason:action.error};case"pause":return{...state,isPaused:!0};case"continue":return{...state,isPaused:!1};case"pending":return{...state,context:action.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:action.isPaused,status:"pending",variables:action.variables,submittedAt:Date.now()};case"success":return{...state,data:action.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...state,data:void 0,error:action.error,failureCount:state.failureCount+1,failureReason:action.error,isPaused:!1,status:"error"}}})(this.state),notifyManager.j.batch((()=>{this.#observers.forEach((observer=>{observer.onMutationUpdate(action)})),this.#mutationCache.notify({mutation:this,type:"updated",action})}))}};var subscribable=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/subscribable.js"),MutationCache=class extends subscribable.Q{constructor(config={}){super(),this.config=config,this.#mutations=new Map,this.#mutationId=Date.now()}#mutations;#mutationId;build(client,options,state){const mutation=new Mutation({mutationCache:this,mutationId:++this.#mutationId,options:client.defaultMutationOptions(options),state});return this.add(mutation),mutation}add(mutation){const scope=scopeFor(mutation),mutations=this.#mutations.get(scope)??[];mutations.push(mutation),this.#mutations.set(scope,mutations),this.notify({type:"added",mutation})}remove(mutation){const scope=scopeFor(mutation);if(this.#mutations.has(scope)){const mutations=this.#mutations.get(scope)?.filter((x=>x!==mutation));mutations&&(0===mutations.length?this.#mutations.delete(scope):this.#mutations.set(scope,mutations))}this.notify({type:"removed",mutation})}canRun(mutation){const firstPendingMutation=this.#mutations.get(scopeFor(mutation))?.find((m=>"pending"===m.state.status));return!firstPendingMutation||firstPendingMutation===mutation}runNext(mutation){const foundMutation=this.#mutations.get(scopeFor(mutation))?.find((m=>m!==mutation&&m.state.isPaused));return foundMutation?.continue()??Promise.resolve()}clear(){notifyManager.j.batch((()=>{this.getAll().forEach((mutation=>{this.remove(mutation)}))}))}getAll(){return[...this.#mutations.values()].flat()}find(filters){const defaultedFilters={exact:!0,...filters};return this.getAll().find((mutation=>(0,utils.nJ)(defaultedFilters,mutation)))}findAll(filters={}){return this.getAll().filter((mutation=>(0,utils.nJ)(filters,mutation)))}notify(event){notifyManager.j.batch((()=>{this.listeners.forEach((listener=>{listener(event)}))}))}resumePausedMutations(){const pausedMutations=this.getAll().filter((x=>x.state.isPaused));return notifyManager.j.batch((()=>Promise.all(pausedMutations.map((mutation=>mutation.continue().catch(utils.lQ))))))}};function scopeFor(mutation){return mutation.options.scope?.id??String(mutation.mutationId)}var focusManager=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/focusManager.js"),onlineManager=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/onlineManager.js");function infiniteQueryBehavior(pages){return{onFetch:(context,query)=>{const options=context.options,direction=context.fetchOptions?.meta?.fetchMore?.direction,oldPages=context.state.data?.pages||[],oldPageParams=context.state.data?.pageParams||[];let result={pages:[],pageParams:[]},currentPage=0;const fetchFn=async()=>{let cancelled=!1;const queryFn=(0,utils.ZM)(context.options,context.fetchOptions),fetchPage=async(data,param,previous)=>{if(cancelled)return Promise.reject();if(null==param&&data.pages.length)return Promise.resolve(data);const queryFnContext={queryKey:context.queryKey,pageParam:param,direction:previous?"backward":"forward",meta:context.options.meta};var object;object=queryFnContext,Object.defineProperty(object,"signal",{enumerable:!0,get:()=>(context.signal.aborted?cancelled=!0:context.signal.addEventListener("abort",(()=>{cancelled=!0})),context.signal)});const page=await queryFn(queryFnContext),{maxPages}=context.options,addTo=previous?utils.ZZ:utils.y9;return{pages:addTo(data.pages,page,maxPages),pageParams:addTo(data.pageParams,param,maxPages)}};if(direction&&oldPages.length){const previous="backward"===direction,oldData={pages:oldPages,pageParams:oldPageParams},param=(previous?getPreviousPageParam:getNextPageParam)(options,oldData);result=await fetchPage(oldData,param,previous)}else{const remainingPages=pages??oldPages.length;do{const param=0===currentPage?oldPageParams[0]??options.initialPageParam:getNextPageParam(options,result);if(currentPage>0&&null==param)break;result=await fetchPage(result,param),currentPage++}while(currentPage<remainingPages)}return result};context.options.persister?context.fetchFn=()=>context.options.persister?.(fetchFn,{queryKey:context.queryKey,meta:context.options.meta,signal:context.signal},query):context.fetchFn=fetchFn}}}function getNextPageParam(options,{pages,pageParams}){const lastIndex=pages.length-1;return pages.length>0?options.getNextPageParam(pages[lastIndex],pages,pageParams[lastIndex],pageParams):void 0}function getPreviousPageParam(options,{pages,pageParams}){return pages.length>0?options.getPreviousPageParam?.(pages[0],pages,pageParams[0],pageParams):void 0}var QueryClient=class{#queryCache;#mutationCache;#defaultOptions;#queryDefaults;#mutationDefaults;#mountCount;#unsubscribeFocus;#unsubscribeOnline;constructor(config={}){this.#queryCache=config.queryCache||new queryCache.$,this.#mutationCache=config.mutationCache||new MutationCache,this.#defaultOptions=config.defaultOptions||{},this.#queryDefaults=new Map,this.#mutationDefaults=new Map,this.#mountCount=0}mount(){this.#mountCount++,1===this.#mountCount&&(this.#unsubscribeFocus=focusManager.m.subscribe((async focused=>{focused&&(await this.resumePausedMutations(),this.#queryCache.onFocus())})),this.#unsubscribeOnline=onlineManager.t.subscribe((async online=>{online&&(await this.resumePausedMutations(),this.#queryCache.onOnline())})))}unmount(){this.#mountCount--,0===this.#mountCount&&(this.#unsubscribeFocus?.(),this.#unsubscribeFocus=void 0,this.#unsubscribeOnline?.(),this.#unsubscribeOnline=void 0)}isFetching(filters){return this.#queryCache.findAll({...filters,fetchStatus:"fetching"}).length}isMutating(filters){return this.#mutationCache.findAll({...filters,status:"pending"}).length}getQueryData(queryKey){const options=this.defaultQueryOptions({queryKey});return this.#queryCache.get(options.queryHash)?.state.data}ensureQueryData(options){const cachedData=this.getQueryData(options.queryKey);if(void 0===cachedData)return this.fetchQuery(options);{const defaultedOptions=this.defaultQueryOptions(options),query=this.#queryCache.build(this,defaultedOptions);return options.revalidateIfStale&&query.isStaleByTime((0,utils.d2)(defaultedOptions.staleTime,query))&&this.prefetchQuery(defaultedOptions),Promise.resolve(cachedData)}}getQueriesData(filters){return this.#queryCache.findAll(filters).map((({queryKey,state})=>[queryKey,state.data]))}setQueryData(queryKey,updater,options){const defaultedOptions=this.defaultQueryOptions({queryKey}),query=this.#queryCache.get(defaultedOptions.queryHash),prevData=query?.state.data,data=(0,utils.Zw)(updater,prevData);if(void 0!==data)return this.#queryCache.build(this,defaultedOptions).setData(data,{...options,manual:!0})}setQueriesData(filters,updater,options){return notifyManager.j.batch((()=>this.#queryCache.findAll(filters).map((({queryKey})=>[queryKey,this.setQueryData(queryKey,updater,options)]))))}getQueryState(queryKey){const options=this.defaultQueryOptions({queryKey});return this.#queryCache.get(options.queryHash)?.state}removeQueries(filters){const queryCache=this.#queryCache;notifyManager.j.batch((()=>{queryCache.findAll(filters).forEach((query=>{queryCache.remove(query)}))}))}resetQueries(filters,options){const queryCache=this.#queryCache,refetchFilters={type:"active",...filters};return notifyManager.j.batch((()=>(queryCache.findAll(filters).forEach((query=>{query.reset()})),this.refetchQueries(refetchFilters,options))))}cancelQueries(filters={},cancelOptions={}){const defaultedCancelOptions={revert:!0,...cancelOptions},promises=notifyManager.j.batch((()=>this.#queryCache.findAll(filters).map((query=>query.cancel(defaultedCancelOptions)))));return Promise.all(promises).then(utils.lQ).catch(utils.lQ)}invalidateQueries(filters={},options={}){return notifyManager.j.batch((()=>{if(this.#queryCache.findAll(filters).forEach((query=>{query.invalidate()})),"none"===filters.refetchType)return Promise.resolve();const refetchFilters={...filters,type:filters.refetchType??filters.type??"active"};return this.refetchQueries(refetchFilters,options)}))}refetchQueries(filters={},options){const fetchOptions={...options,cancelRefetch:options?.cancelRefetch??!0},promises=notifyManager.j.batch((()=>this.#queryCache.findAll(filters).filter((query=>!query.isDisabled())).map((query=>{let promise=query.fetch(void 0,fetchOptions);return fetchOptions.throwOnError||(promise=promise.catch(utils.lQ)),"paused"===query.state.fetchStatus?Promise.resolve():promise}))));return Promise.all(promises).then(utils.lQ)}fetchQuery(options){const defaultedOptions=this.defaultQueryOptions(options);void 0===defaultedOptions.retry&&(defaultedOptions.retry=!1);const query=this.#queryCache.build(this,defaultedOptions);return query.isStaleByTime((0,utils.d2)(defaultedOptions.staleTime,query))?query.fetch(defaultedOptions):Promise.resolve(query.state.data)}prefetchQuery(options){return this.fetchQuery(options).then(utils.lQ).catch(utils.lQ)}fetchInfiniteQuery(options){return options.behavior=infiniteQueryBehavior(options.pages),this.fetchQuery(options)}prefetchInfiniteQuery(options){return this.fetchInfiniteQuery(options).then(utils.lQ).catch(utils.lQ)}ensureInfiniteQueryData(options){return options.behavior=infiniteQueryBehavior(options.pages),this.ensureQueryData(options)}resumePausedMutations(){return onlineManager.t.isOnline()?this.#mutationCache.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#queryCache}getMutationCache(){return this.#mutationCache}getDefaultOptions(){return this.#defaultOptions}setDefaultOptions(options){this.#defaultOptions=options}setQueryDefaults(queryKey,options){this.#queryDefaults.set((0,utils.EN)(queryKey),{queryKey,defaultOptions:options})}getQueryDefaults(queryKey){const defaults=[...this.#queryDefaults.values()];let result={};return defaults.forEach((queryDefault=>{(0,utils.Cp)(queryKey,queryDefault.queryKey)&&(result={...result,...queryDefault.defaultOptions})})),result}setMutationDefaults(mutationKey,options){this.#mutationDefaults.set((0,utils.EN)(mutationKey),{mutationKey,defaultOptions:options})}getMutationDefaults(mutationKey){const defaults=[...this.#mutationDefaults.values()];let result={};return defaults.forEach((queryDefault=>{(0,utils.Cp)(mutationKey,queryDefault.mutationKey)&&(result={...result,...queryDefault.defaultOptions})})),result}defaultQueryOptions(options){if(options._defaulted)return options;const defaultedOptions={...this.#defaultOptions.queries,...this.getQueryDefaults(options.queryKey),...options,_defaulted:!0};return defaultedOptions.queryHash||(defaultedOptions.queryHash=(0,utils.F$)(defaultedOptions.queryKey,defaultedOptions)),void 0===defaultedOptions.refetchOnReconnect&&(defaultedOptions.refetchOnReconnect="always"!==defaultedOptions.networkMode),void 0===defaultedOptions.throwOnError&&(defaultedOptions.throwOnError=!!defaultedOptions.suspense),!defaultedOptions.networkMode&&defaultedOptions.persister&&(defaultedOptions.networkMode="offlineFirst"),!0!==defaultedOptions.enabled&&defaultedOptions.queryFn===utils.hT&&(defaultedOptions.enabled=!1),defaultedOptions}defaultMutationOptions(options){return options?._defaulted?options:{...this.#defaultOptions.mutations,...options?.mutationKey&&this.getMutationDefaults(options.mutationKey),...options,_defaulted:!0}}clear(){this.#queryCache.clear(),this.#mutationCache.clear()}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/removable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>Removable});var _utils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js"),Removable=class{#gcTimeout;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.gn)(this.gcTime)&&(this.#gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(newGcTime){this.gcTime=Math.max(this.gcTime||0,newGcTime??(_utils_js__WEBPACK_IMPORTED_MODULE_0__.S$?1/0:3e5))}clearGcTimeout(){this.#gcTimeout&&(clearTimeout(this.#gcTimeout),this.#gcTimeout=void 0)}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/retryer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{II:()=>createRetryer,v_:()=>canFetch,wm:()=>isCancelledError});var _focusManager_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/focusManager.js"),_onlineManager_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/onlineManager.js"),_thenable_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/thenable.js"),_utils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js");function defaultRetryDelay(failureCount){return Math.min(1e3*2**failureCount,3e4)}function canFetch(networkMode){return"online"!==(networkMode??"online")||_onlineManager_js__WEBPACK_IMPORTED_MODULE_0__.t.isOnline()}var CancelledError=class extends Error{constructor(options){super("CancelledError"),this.revert=options?.revert,this.silent=options?.silent}};function isCancelledError(value){return value instanceof CancelledError}function createRetryer(config){let continueFn,isRetryCancelled=!1,failureCount=0,isResolved=!1;const thenable=(0,_thenable_js__WEBPACK_IMPORTED_MODULE_1__.T)(),canContinue=()=>_focusManager_js__WEBPACK_IMPORTED_MODULE_2__.m.isFocused()&&("always"===config.networkMode||_onlineManager_js__WEBPACK_IMPORTED_MODULE_0__.t.isOnline())&&config.canRun(),canStart=()=>canFetch(config.networkMode)&&config.canRun(),resolve=value=>{isResolved||(isResolved=!0,config.onSuccess?.(value),continueFn?.(),thenable.resolve(value))},reject=value=>{isResolved||(isResolved=!0,config.onError?.(value),continueFn?.(),thenable.reject(value))},pause=()=>new Promise((continueResolve=>{continueFn=value=>{(isResolved||canContinue())&&continueResolve(value)},config.onPause?.()})).then((()=>{continueFn=void 0,isResolved||config.onContinue?.()})),run=()=>{if(isResolved)return;let promiseOrValue;const initialPromise=0===failureCount?config.initialPromise:void 0;try{promiseOrValue=initialPromise??config.fn()}catch(error){promiseOrValue=Promise.reject(error)}Promise.resolve(promiseOrValue).then(resolve).catch((error=>{if(isResolved)return;const retry=config.retry??(_utils_js__WEBPACK_IMPORTED_MODULE_3__.S$?0:3),retryDelay=config.retryDelay??defaultRetryDelay,delay="function"==typeof retryDelay?retryDelay(failureCount,error):retryDelay,shouldRetry=!0===retry||"number"==typeof retry&&failureCount<retry||"function"==typeof retry&&retry(failureCount,error);!isRetryCancelled&&shouldRetry?(failureCount++,config.onFail?.(failureCount,error),(0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.yy)(delay).then((()=>canContinue()?void 0:pause())).then((()=>{isRetryCancelled?reject(error):run()}))):reject(error)}))};return{promise:thenable,cancel:cancelOptions=>{isResolved||(reject(new CancelledError(cancelOptions)),config.abort?.())},continue:()=>(continueFn?.(),thenable),cancelRetry:()=>{isRetryCancelled=!0},continueRetry:()=>{isRetryCancelled=!1},canStart,start:()=>(canStart()?run():pause().then(run),thenable)}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/subscribable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Q:()=>Subscribable});var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(listener){return this.listeners.add(listener),this.onSubscribe(),()=>{this.listeners.delete(listener),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/thenable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function pendingThenable(){let resolve,reject;const thenable=new Promise(((_resolve,_reject)=>{resolve=_resolve,reject=_reject}));function finalize(data){Object.assign(thenable,data),delete thenable.resolve,delete thenable.reject}return thenable.status="pending",thenable.catch((()=>{})),thenable.resolve=value=>{finalize({status:"fulfilled",value}),resolve(value)},thenable.reject=reason=>{finalize({status:"rejected",reason}),reject(reason)},thenable}__webpack_require__.d(__webpack_exports__,{T:()=>pendingThenable})},"./node_modules/.pnpm/@tanstack+query-core@5.59.16/node_modules/@tanstack/query-core/build/modern/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Cp:()=>partialMatchKey,EN:()=>hashKey,Eh:()=>resolveEnabled,F$:()=>hashQueryKeyByOptions,MK:()=>matchQuery,S$:()=>isServer,ZM:()=>ensureQueryFn,ZZ:()=>addToStart,Zw:()=>functionalUpdate,d2:()=>resolveStaleTime,f8:()=>shallowEqualObjects,gn:()=>isValidTimeout,hT:()=>skipToken,j3:()=>timeUntilStale,lQ:()=>noop,nJ:()=>matchMutation,pl:()=>replaceData,rX:()=>keepPreviousData,y9:()=>addToEnd,yy:()=>sleep});var isServer="undefined"==typeof window||"Deno"in globalThis;function noop(){}function functionalUpdate(updater,input){return"function"==typeof updater?updater(input):updater}function isValidTimeout(value){return"number"==typeof value&&value>=0&&value!==1/0}function timeUntilStale(updatedAt,staleTime){return Math.max(updatedAt+(staleTime||0)-Date.now(),0)}function resolveStaleTime(staleTime,query){return"function"==typeof staleTime?staleTime(query):staleTime}function resolveEnabled(enabled,query){return"function"==typeof enabled?enabled(query):enabled}function matchQuery(filters,query){const{type="all",exact,fetchStatus,predicate,queryKey,stale}=filters;if(queryKey)if(exact){if(query.queryHash!==hashQueryKeyByOptions(queryKey,query.options))return!1}else if(!partialMatchKey(query.queryKey,queryKey))return!1;if("all"!==type){const isActive=query.isActive();if("active"===type&&!isActive)return!1;if("inactive"===type&&isActive)return!1}return("boolean"!=typeof stale||query.isStale()===stale)&&((!fetchStatus||fetchStatus===query.state.fetchStatus)&&!(predicate&&!predicate(query)))}function matchMutation(filters,mutation){const{exact,status,predicate,mutationKey}=filters;if(mutationKey){if(!mutation.options.mutationKey)return!1;if(exact){if(hashKey(mutation.options.mutationKey)!==hashKey(mutationKey))return!1}else if(!partialMatchKey(mutation.options.mutationKey,mutationKey))return!1}return(!status||mutation.state.status===status)&&!(predicate&&!predicate(mutation))}function hashQueryKeyByOptions(queryKey,options){return(options?.queryKeyHashFn||hashKey)(queryKey)}function hashKey(queryKey){return JSON.stringify(queryKey,((_,val)=>isPlainObject(val)?Object.keys(val).sort().reduce(((result,key)=>(result[key]=val[key],result)),{}):val))}function partialMatchKey(a,b){return a===b||typeof a==typeof b&&(!(!a||!b||"object"!=typeof a||"object"!=typeof b)&&!Object.keys(b).some((key=>!partialMatchKey(a[key],b[key]))))}function replaceEqualDeep(a,b){if(a===b)return a;const array=isPlainArray(a)&&isPlainArray(b);if(array||isPlainObject(a)&&isPlainObject(b)){const aItems=array?a:Object.keys(a),aSize=aItems.length,bItems=array?b:Object.keys(b),bSize=bItems.length,copy=array?[]:{};let equalItems=0;for(let i=0;i<bSize;i++){const key=array?i:bItems[i];(!array&&aItems.includes(key)||array)&&void 0===a[key]&&void 0===b[key]?(copy[key]=void 0,equalItems++):(copy[key]=replaceEqualDeep(a[key],b[key]),copy[key]===a[key]&&void 0!==a[key]&&equalItems++)}return aSize===bSize&&equalItems===aSize?a:copy}return b}function shallowEqualObjects(a,b){if(!b||Object.keys(a).length!==Object.keys(b).length)return!1;for(const key in a)if(a[key]!==b[key])return!1;return!0}function isPlainArray(value){return Array.isArray(value)&&value.length===Object.keys(value).length}function isPlainObject(o){if(!hasObjectPrototype(o))return!1;const ctor=o.constructor;if(void 0===ctor)return!0;const prot=ctor.prototype;return!!hasObjectPrototype(prot)&&(!!prot.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(o)===Object.prototype)}function hasObjectPrototype(o){return"[object Object]"===Object.prototype.toString.call(o)}function sleep(timeout){return new Promise((resolve=>{setTimeout(resolve,timeout)}))}function replaceData(prevData,data,options){return"function"==typeof options.structuralSharing?options.structuralSharing(prevData,data):!1!==options.structuralSharing?replaceEqualDeep(prevData,data):data}function keepPreviousData(previousData){return previousData}function addToEnd(items,item,max=0){const newItems=[...items,item];return max&&newItems.length>max?newItems.slice(1):newItems}function addToStart(items,item,max=0){const newItems=[item,...items];return max&&newItems.length>max?newItems.slice(0,-1):newItems}var skipToken=Symbol();function ensureQueryFn(options,fetchOptions){return!options.queryFn&&fetchOptions?.initialPromise?()=>fetchOptions.initialPromise:options.queryFn&&options.queryFn!==skipToken?options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`))}},"./node_modules/.pnpm/@tanstack+react-query@5.59.16_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ht:()=>QueryClientProvider,jE:()=>useQueryClient});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),QueryClientContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0),useQueryClient=queryClient=>{const client=react__WEBPACK_IMPORTED_MODULE_0__.useContext(QueryClientContext);if(queryClient)return queryClient;if(!client)throw new Error("No QueryClient set, use QueryClientProvider to set one");return client},QueryClientProvider=({client,children})=>(react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>(client.mount(),()=>{client.unmount()})),[client]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(QueryClientContext.Provider,{value:client,children}))},"./node_modules/.pnpm/async@2.6.4/node_modules/async/dist/async.js":function(module,exports,__webpack_require__){module=__webpack_require__.nmd(module);var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");!function(exports){"use strict";function slice(arrayLike,start){start|=0;for(var newLen=Math.max(arrayLike.length-start,0),newArr=Array(newLen),idx=0;idx<newLen;idx++)newArr[idx]=arrayLike[start+idx];return newArr}var apply=function(fn){var args=slice(arguments,1);return function(){var callArgs=slice(arguments);return fn.apply(null,args.concat(callArgs))}},initialParams=function(fn){return function(){var args=slice(arguments),callback=args.pop();fn.call(this,args,callback)}};function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}var hasSetImmediate="function"==typeof setImmediate&&setImmediate,hasNextTick="object"==typeof process&&"function"==typeof process.nextTick;function fallback(fn){setTimeout(fn,0)}function wrap(defer){return function(fn){var args=slice(arguments,1);defer((function(){fn.apply(null,args)}))}}var setImmediate$1=wrap(hasSetImmediate?setImmediate:hasNextTick?process.nextTick:fallback);function asyncify(func){return initialParams((function(args,callback){var result;try{result=func.apply(this,args)}catch(e){return callback(e)}isObject(result)&&"function"==typeof result.then?result.then((function(value){invokeCallback(callback,null,value)}),(function(err){invokeCallback(callback,err.message?err:new Error(err))})):callback(null,result)}))}function invokeCallback(callback,error,value){try{callback(error,value)}catch(e){setImmediate$1(rethrow,e)}}function rethrow(error){throw error}var supportsSymbol="function"==typeof Symbol;function isAsync(fn){return supportsSymbol&&"AsyncFunction"===fn[Symbol.toStringTag]}function wrapAsync(asyncFn){return isAsync(asyncFn)?asyncify(asyncFn):asyncFn}function applyEach$1(eachfn){return function(fns){var args=slice(arguments,1),go=initialParams((function(args,callback){var that=this;return eachfn(fns,(function(fn,cb){wrapAsync(fn).apply(that,args.concat(cb))}),callback)}));return args.length?go.apply(this,args):go}}var freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$1=root.Symbol,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag$1=Symbol$1?Symbol$1.toStringTag:void 0;function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag$1]=tag:delete value[symToStringTag$1]),result}var nativeObjectToString$1=Object.prototype.toString;function objectToString(value){return nativeObjectToString$1.call(value)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$1?Symbol$1.toStringTag:void 0;function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}var breakLoop={};function noop(){}function once(fn){return function(){if(null!==fn){var callFn=fn;fn=null,callFn.apply(this,arguments)}}}var iteratorSymbol="function"==typeof Symbol&&Symbol.iterator,getIterator=function(coll){return iteratorSymbol&&coll[iteratorSymbol]&&coll[iteratorSymbol]()};function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function isObjectLike(value){return null!=value&&"object"==typeof value}var argsTag="[object Arguments]";function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}var objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty$2.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;function stubFalse(){return!1}var freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER$1:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}var argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag$1="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}function baseUnary(func){return function(value){return func(value)}}typedArrayTags["[object Float32Array]"]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeExports$1="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&module&&!module.nodeType&&module,freeProcess=freeModule$1&&freeModule$1.exports===freeExports$1&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,hasOwnProperty$1=Object.prototype.hasOwnProperty;function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty$1.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}var objectProto$5=Object.prototype;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto$5)}function overArg(func,transform){return function(arg){return func(transform(arg))}}var nativeKeys=overArg(Object.keys,Object),hasOwnProperty$3=Object.prototype.hasOwnProperty;function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty$3.call(object,key)&&"constructor"!=key&&result.push(key);return result}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function createArrayIterator(coll){var i=-1,len=coll.length;return function next(){return++i<len?{value:coll[i],key:i}:null}}function createES2015Iterator(iterator){var i=-1;return function next(){var item=iterator.next();return item.done?null:(i++,{value:item.value,key:i})}}function createObjectIterator(obj){var okeys=keys(obj),i=-1,len=okeys.length;return function next(){var key=okeys[++i];return"__proto__"===key?next():i<len?{value:obj[key],key}:null}}function iterator(coll){if(isArrayLike(coll))return createArrayIterator(coll);var iterator=getIterator(coll);return iterator?createES2015Iterator(iterator):createObjectIterator(coll)}function onlyOnce(fn){return function(){if(null===fn)throw new Error("Callback was already called.");var callFn=fn;fn=null,callFn.apply(this,arguments)}}function _eachOfLimit(limit){return function(obj,iteratee,callback){if(callback=once(callback||noop),limit<=0||!obj)return callback(null);var nextElem=iterator(obj),done=!1,running=0,looping=!1;function iterateeCallback(err,value){if(running-=1,err)done=!0,callback(err);else{if(value===breakLoop||done&&running<=0)return done=!0,callback(null);looping||replenish()}}function replenish(){for(looping=!0;running<limit&&!done;){var elem=nextElem();if(null===elem)return done=!0,void(running<=0&&callback(null));running+=1,iteratee(elem.value,elem.key,onlyOnce(iterateeCallback))}looping=!1}replenish()}}function eachOfLimit(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,wrapAsync(iteratee),callback)}function doLimit(fn,limit){return function(iterable,iteratee,callback){return fn(iterable,limit,iteratee,callback)}}function eachOfArrayLike(coll,iteratee,callback){callback=once(callback||noop);var index=0,completed=0,length=coll.length;function iteratorCallback(err,value){err?callback(err):++completed!==length&&value!==breakLoop||callback(null)}for(0===length&&callback(null);index<length;index++)iteratee(coll[index],index,onlyOnce(iteratorCallback))}var eachOfGeneric=doLimit(eachOfLimit,1/0),eachOf=function(coll,iteratee,callback){(isArrayLike(coll)?eachOfArrayLike:eachOfGeneric)(coll,wrapAsync(iteratee),callback)};function doParallel(fn){return function(obj,iteratee,callback){return fn(eachOf,obj,wrapAsync(iteratee),callback)}}function _asyncMap(eachfn,arr,iteratee,callback){callback=callback||noop,arr=arr||[];var results=[],counter=0,_iteratee=wrapAsync(iteratee);eachfn(arr,(function(value,_,callback){var index=counter++;_iteratee(value,(function(err,v){results[index]=v,callback(err)}))}),(function(err){callback(err,results)}))}var map=doParallel(_asyncMap),applyEach=applyEach$1(map);function doParallelLimit(fn){return function(obj,limit,iteratee,callback){return fn(_eachOfLimit(limit),obj,wrapAsync(iteratee),callback)}}var mapLimit=doParallelLimit(_asyncMap),mapSeries=doLimit(mapLimit,1),applyEachSeries=applyEach$1(mapSeries);function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}var baseFor=createBaseFor();function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIsNaN(value){return value!=value}function strictIndexOf(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIndexOf(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}var auto=function(tasks,concurrency,callback){"function"==typeof concurrency&&(callback=concurrency,concurrency=null),callback=once(callback||noop);var numTasks=keys(tasks).length;if(!numTasks)return callback(null);concurrency||(concurrency=numTasks);var results={},runningTasks=0,hasError=!1,listeners=Object.create(null),readyTasks=[],readyToCheck=[],uncheckedDependencies={};function enqueueTask(key,task){readyTasks.push((function(){runTask(key,task)}))}function processQueue(){if(0===readyTasks.length&&0===runningTasks)return callback(null,results);for(;readyTasks.length&&runningTasks<concurrency;)readyTasks.shift()()}function addListener(taskName,fn){var taskListeners=listeners[taskName];taskListeners||(taskListeners=listeners[taskName]=[]),taskListeners.push(fn)}function taskComplete(taskName){arrayEach(listeners[taskName]||[],(function(fn){fn()})),processQueue()}function runTask(key,task){if(!hasError){var taskCallback=onlyOnce((function(err,result){if(runningTasks--,arguments.length>2&&(result=slice(arguments,1)),err){var safeResults={};baseForOwn(results,(function(val,rkey){safeResults[rkey]=val})),safeResults[key]=result,hasError=!0,listeners=Object.create(null),callback(err,safeResults)}else results[key]=result,taskComplete(key)}));runningTasks++;var taskFn=wrapAsync(task[task.length-1]);task.length>1?taskFn(results,taskCallback):taskFn(taskCallback)}}function checkForDeadlocks(){for(var counter=0;readyToCheck.length;)counter++,arrayEach(getDependents(readyToCheck.pop()),(function(dependent){0==--uncheckedDependencies[dependent]&&readyToCheck.push(dependent)}));if(counter!==numTasks)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function getDependents(taskName){var result=[];return baseForOwn(tasks,(function(task,key){isArray(task)&&baseIndexOf(task,taskName,0)>=0&&result.push(key)})),result}baseForOwn(tasks,(function(task,key){if(!isArray(task))return enqueueTask(key,[task]),void readyToCheck.push(key);var dependencies=task.slice(0,task.length-1),remainingDependencies=dependencies.length;if(0===remainingDependencies)return enqueueTask(key,task),void readyToCheck.push(key);uncheckedDependencies[key]=remainingDependencies,arrayEach(dependencies,(function(dependencyName){if(!tasks[dependencyName])throw new Error("async.auto task `"+key+"` has a non-existent dependency `"+dependencyName+"` in "+dependencies.join(", "));addListener(dependencyName,(function(){0==--remainingDependencies&&enqueueTask(key,task)}))}))})),checkForDeadlocks(),processQueue()};function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}var symbolTag="[object Symbol]";function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var INFINITY=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function asciiToArray(string){return string.split("")}var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function hasUnicode(string){return reHasUnicode.test(string)}var rsAstralRange$1="\\ud800-\\udfff",rsAstral="["+rsAstralRange$1+"]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^"+rsAstralRange$1+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")?",rsOptVar="[\\ufe0e\\ufe0f]?",rsOptJoin="(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(string){return string.match(reUnicode)||[]}function stringToArray(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}function toString(value){return null==value?"":baseToString(value)}var reTrim=/^\s+|\s+$/g;function trim(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")}var FN_ARGS=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/(=.+)?(\s*)$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function parseParams(func){return func=(func=(func=(func=func.toString().replace(STRIP_COMMENTS,"")).match(FN_ARGS)[2].replace(" ",""))?func.split(FN_ARG_SPLIT):[]).map((function(arg){return trim(arg.replace(FN_ARG,""))}))}function autoInject(tasks,callback){var newTasks={};baseForOwn(tasks,(function(taskFn,key){var params,fnIsAsync=isAsync(taskFn),hasNoDeps=!fnIsAsync&&1===taskFn.length||fnIsAsync&&0===taskFn.length;if(isArray(taskFn))params=taskFn.slice(0,-1),taskFn=taskFn[taskFn.length-1],newTasks[key]=params.concat(params.length>0?newTask:taskFn);else if(hasNoDeps)newTasks[key]=taskFn;else{if(params=parseParams(taskFn),0===taskFn.length&&!fnIsAsync&&0===params.length)throw new Error("autoInject task functions require explicit parameters.");fnIsAsync||params.pop(),newTasks[key]=params.concat(newTask)}function newTask(results,taskCb){var newArgs=arrayMap(params,(function(name){return results[name]}));newArgs.push(taskCb),wrapAsync(taskFn).apply(null,newArgs)}})),auto(newTasks,callback)}function DLL(){this.head=this.tail=null,this.length=0}function setInitial(dll,node){dll.length=1,dll.head=dll.tail=node}function queue(worker,concurrency,payload){if(null==concurrency)concurrency=1;else if(0===concurrency)throw new Error("Concurrency must not be zero");var _worker=wrapAsync(worker),numRunning=0,workersList=[],processingScheduled=!1;function _insert(data,insertAtFront,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");if(q.started=!0,isArray(data)||(data=[data]),0===data.length&&q.idle())return setImmediate$1((function(){q.drain()}));for(var i=0,l=data.length;i<l;i++){var item={data:data[i],callback:callback||noop};insertAtFront?q._tasks.unshift(item):q._tasks.push(item)}processingScheduled||(processingScheduled=!0,setImmediate$1((function(){processingScheduled=!1,q.process()})))}function _next(tasks){return function(err){numRunning-=1;for(var i=0,l=tasks.length;i<l;i++){var task=tasks[i],index=baseIndexOf(workersList,task,0);0===index?workersList.shift():index>0&&workersList.splice(index,1),task.callback.apply(task,arguments),null!=err&&q.error(err,task.data)}numRunning<=q.concurrency-q.buffer&&q.unsaturated(),q.idle()&&q.drain(),q.process()}}var isProcessing=!1,q={_tasks:new DLL,concurrency,payload,saturated:noop,unsaturated:noop,buffer:concurrency/4,empty:noop,drain:noop,error:noop,started:!1,paused:!1,push:function(data,callback){_insert(data,!1,callback)},kill:function(){q.drain=noop,q._tasks.empty()},unshift:function(data,callback){_insert(data,!0,callback)},remove:function(testFn){q._tasks.remove(testFn)},process:function(){if(!isProcessing){for(isProcessing=!0;!q.paused&&numRunning<q.concurrency&&q._tasks.length;){var tasks=[],data=[],l=q._tasks.length;q.payload&&(l=Math.min(l,q.payload));for(var i=0;i<l;i++){var node=q._tasks.shift();tasks.push(node),workersList.push(node),data.push(node.data)}numRunning+=1,0===q._tasks.length&&q.empty(),numRunning===q.concurrency&&q.saturated();var cb=onlyOnce(_next(tasks));_worker(data,cb)}isProcessing=!1}},length:function(){return q._tasks.length},running:function(){return numRunning},workersList:function(){return workersList},idle:function(){return q._tasks.length+numRunning===0},pause:function(){q.paused=!0},resume:function(){!1!==q.paused&&(q.paused=!1,setImmediate$1(q.process))}};return q}function cargo(worker,payload){return queue(worker,1,payload)}DLL.prototype.removeLink=function(node){return node.prev?node.prev.next=node.next:this.head=node.next,node.next?node.next.prev=node.prev:this.tail=node.prev,node.prev=node.next=null,this.length-=1,node},DLL.prototype.empty=function(){for(;this.head;)this.shift();return this},DLL.prototype.insertAfter=function(node,newNode){newNode.prev=node,newNode.next=node.next,node.next?node.next.prev=newNode:this.tail=newNode,node.next=newNode,this.length+=1},DLL.prototype.insertBefore=function(node,newNode){newNode.prev=node.prev,newNode.next=node,node.prev?node.prev.next=newNode:this.head=newNode,node.prev=newNode,this.length+=1},DLL.prototype.unshift=function(node){this.head?this.insertBefore(this.head,node):setInitial(this,node)},DLL.prototype.push=function(node){this.tail?this.insertAfter(this.tail,node):setInitial(this,node)},DLL.prototype.shift=function(){return this.head&&this.removeLink(this.head)},DLL.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},DLL.prototype.toArray=function(){for(var arr=Array(this.length),curr=this.head,idx=0;idx<this.length;idx++)arr[idx]=curr.data,curr=curr.next;return arr},DLL.prototype.remove=function(testFn){for(var curr=this.head;curr;){var next=curr.next;testFn(curr)&&this.removeLink(curr),curr=next}return this};var eachOfSeries=doLimit(eachOfLimit,1);function reduce(coll,memo,iteratee,callback){callback=once(callback||noop);var _iteratee=wrapAsync(iteratee);eachOfSeries(coll,(function(x,i,callback){_iteratee(memo,x,(function(err,v){memo=v,callback(err)}))}),(function(err){callback(err,memo)}))}function seq(){var _functions=arrayMap(arguments,wrapAsync);return function(){var args=slice(arguments),that=this,cb=args[args.length-1];"function"==typeof cb?args.pop():cb=noop,reduce(_functions,args,(function(newargs,fn,cb){fn.apply(that,newargs.concat((function(err){var nextargs=slice(arguments,1);cb(err,nextargs)})))}),(function(err,results){cb.apply(that,[err].concat(results))}))}}var compose=function(){return seq.apply(null,slice(arguments).reverse())},_concat=Array.prototype.concat,concatLimit=function(coll,limit,iteratee,callback){callback=callback||noop;var _iteratee=wrapAsync(iteratee);mapLimit(coll,limit,(function(val,callback){_iteratee(val,(function(err){return err?callback(err):callback(null,slice(arguments,1))}))}),(function(err,mapResults){for(var result=[],i=0;i<mapResults.length;i++)mapResults[i]&&(result=_concat.apply(result,mapResults[i]));return callback(err,result)}))},concat=doLimit(concatLimit,1/0),concatSeries=doLimit(concatLimit,1),constant=function(){var values=slice(arguments),args=[null].concat(values);return function(){return arguments[arguments.length-1].apply(this,args)}};function identity(value){return value}function _createTester(check,getResult){return function(eachfn,arr,iteratee,cb){cb=cb||noop;var testResult,testPassed=!1;eachfn(arr,(function(value,_,callback){iteratee(value,(function(err,result){err?callback(err):check(result)&&!testResult?(testPassed=!0,testResult=getResult(!0,value),callback(null,breakLoop)):callback()}))}),(function(err){err?cb(err):cb(null,testPassed?testResult:getResult(!1))}))}}function _findGetResult(v,x){return x}var detect=doParallel(_createTester(identity,_findGetResult)),detectLimit=doParallelLimit(_createTester(identity,_findGetResult)),detectSeries=doLimit(detectLimit,1);function consoleFunc(name){return function(fn){var args=slice(arguments,1);args.push((function(err){var args=slice(arguments,1);"object"==typeof console&&(err?console.error&&console.error(err):console[name]&&arrayEach(args,(function(x){console[name](x)})))})),wrapAsync(fn).apply(null,args)}}var dir=consoleFunc("dir");function doDuring(fn,test,callback){callback=onlyOnce(callback||noop);var _fn=wrapAsync(fn),_test=wrapAsync(test);function next(err){if(err)return callback(err);var args=slice(arguments,1);args.push(check),_test.apply(this,args)}function check(err,truth){return err?callback(err):truth?void _fn(next):callback(null)}check(null,!0)}function doWhilst(iteratee,test,callback){callback=onlyOnce(callback||noop);var _iteratee=wrapAsync(iteratee),next=function(err){if(err)return callback(err);var args=slice(arguments,1);if(test.apply(this,args))return _iteratee(next);callback.apply(null,[null].concat(args))};_iteratee(next)}function doUntil(iteratee,test,callback){doWhilst(iteratee,(function(){return!test.apply(this,arguments)}),callback)}function during(test,fn,callback){callback=onlyOnce(callback||noop);var _fn=wrapAsync(fn),_test=wrapAsync(test);function next(err){if(err)return callback(err);_test(check)}function check(err,truth){return err?callback(err):truth?void _fn(next):callback(null)}_test(check)}function _withoutIndex(iteratee){return function(value,index,callback){return iteratee(value,callback)}}function eachLimit(coll,iteratee,callback){eachOf(coll,_withoutIndex(wrapAsync(iteratee)),callback)}function eachLimit$1(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,_withoutIndex(wrapAsync(iteratee)),callback)}var eachSeries=doLimit(eachLimit$1,1);function ensureAsync(fn){return isAsync(fn)?fn:initialParams((function(args,callback){var sync=!0;args.push((function(){var innerArgs=arguments;sync?setImmediate$1((function(){callback.apply(null,innerArgs)})):callback.apply(null,innerArgs)})),fn.apply(this,args),sync=!1}))}function notId(v){return!v}var every=doParallel(_createTester(notId,notId)),everyLimit=doParallelLimit(_createTester(notId,notId)),everySeries=doLimit(everyLimit,1);function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function filterArray(eachfn,arr,iteratee,callback){var truthValues=new Array(arr.length);eachfn(arr,(function(x,index,callback){iteratee(x,(function(err,v){truthValues[index]=!!v,callback(err)}))}),(function(err){if(err)return callback(err);for(var results=[],i=0;i<arr.length;i++)truthValues[i]&&results.push(arr[i]);callback(null,results)}))}function filterGeneric(eachfn,coll,iteratee,callback){var results=[];eachfn(coll,(function(x,index,callback){iteratee(x,(function(err,v){err?callback(err):(v&&results.push({index,value:x}),callback())}))}),(function(err){err?callback(err):callback(null,arrayMap(results.sort((function(a,b){return a.index-b.index})),baseProperty("value")))}))}function _filter(eachfn,coll,iteratee,callback){(isArrayLike(coll)?filterArray:filterGeneric)(eachfn,coll,wrapAsync(iteratee),callback||noop)}var filter=doParallel(_filter),filterLimit=doParallelLimit(_filter),filterSeries=doLimit(filterLimit,1);function forever(fn,errback){var done=onlyOnce(errback||noop),task=wrapAsync(ensureAsync(fn));function next(err){if(err)return done(err);task(next)}next()}var groupByLimit=function(coll,limit,iteratee,callback){callback=callback||noop;var _iteratee=wrapAsync(iteratee);mapLimit(coll,limit,(function(val,callback){_iteratee(val,(function(err,key){return err?callback(err):callback(null,{key,val})}))}),(function(err,mapResults){for(var result={},hasOwnProperty=Object.prototype.hasOwnProperty,i=0;i<mapResults.length;i++)if(mapResults[i]){var key=mapResults[i].key,val=mapResults[i].val;hasOwnProperty.call(result,key)?result[key].push(val):result[key]=[val]}return callback(err,result)}))},groupBy=doLimit(groupByLimit,1/0),groupBySeries=doLimit(groupByLimit,1),log=consoleFunc("log");function mapValuesLimit(obj,limit,iteratee,callback){callback=once(callback||noop);var newObj={},_iteratee=wrapAsync(iteratee);eachOfLimit(obj,limit,(function(val,key,next){_iteratee(val,key,(function(err,result){if(err)return next(err);newObj[key]=result,next()}))}),(function(err){callback(err,newObj)}))}var mapValues=doLimit(mapValuesLimit,1/0),mapValuesSeries=doLimit(mapValuesLimit,1);function has(obj,key){return key in obj}function memoize(fn,hasher){var memo=Object.create(null),queues=Object.create(null);hasher=hasher||identity;var _fn=wrapAsync(fn),memoized=initialParams((function memoized(args,callback){var key=hasher.apply(null,args);has(memo,key)?setImmediate$1((function(){callback.apply(null,memo[key])})):has(queues,key)?queues[key].push(callback):(queues[key]=[callback],_fn.apply(null,args.concat((function(){var args=slice(arguments);memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++)q[i].apply(null,args)}))))}));return memoized.memo=memo,memoized.unmemoized=fn,memoized}var nextTick=wrap(hasNextTick?process.nextTick:hasSetImmediate?setImmediate:fallback);function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=isArrayLike(tasks)?[]:{};eachfn(tasks,(function(task,key,callback){wrapAsync(task)((function(err,result){arguments.length>2&&(result=slice(arguments,1)),results[key]=result,callback(err)}))}),(function(err){callback(err,results)}))}function parallelLimit(tasks,callback){_parallel(eachOf,tasks,callback)}function parallelLimit$1(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)}var queue$1=function(worker,concurrency){var _worker=wrapAsync(worker);return queue((function(items,cb){_worker(items[0],cb)}),concurrency,1)},priorityQueue=function(worker,concurrency){var q=queue$1(worker,concurrency);return q.push=function(data,priority,callback){if(null==callback&&(callback=noop),"function"!=typeof callback)throw new Error("task callback must be a function");if(q.started=!0,isArray(data)||(data=[data]),0===data.length)return setImmediate$1((function(){q.drain()}));priority=priority||0;for(var nextNode=q._tasks.head;nextNode&&priority>=nextNode.priority;)nextNode=nextNode.next;for(var i=0,l=data.length;i<l;i++){var item={data:data[i],priority,callback};nextNode?q._tasks.insertBefore(nextNode,item):q._tasks.push(item)}setImmediate$1(q.process)},delete q.unshift,q};function race(tasks,callback){if(callback=once(callback||noop),!isArray(tasks))return callback(new TypeError("First argument to race must be an array of functions"));if(!tasks.length)return callback();for(var i=0,l=tasks.length;i<l;i++)wrapAsync(tasks[i])(callback)}function reduceRight(array,memo,iteratee,callback){reduce(slice(array).reverse(),memo,iteratee,callback)}function reflect(fn){var _fn=wrapAsync(fn);return initialParams((function reflectOn(args,reflectCallback){return args.push((function callback(error,cbArg){var value;error?reflectCallback(null,{error}):(value=arguments.length<=2?cbArg:slice(arguments,1),reflectCallback(null,{value}))})),_fn.apply(this,args)}))}function reflectAll(tasks){var results;return isArray(tasks)?results=arrayMap(tasks,reflect):(results={},baseForOwn(tasks,(function(task,key){results[key]=reflect.call(this,task)}))),results}function reject$1(eachfn,arr,iteratee,callback){_filter(eachfn,arr,(function(value,cb){iteratee(value,(function(err,v){cb(err,!v)}))}),callback)}var reject=doParallel(reject$1),rejectLimit=doParallelLimit(reject$1),rejectSeries=doLimit(rejectLimit,1);function constant$1(value){return function(){return value}}function retry(opts,task,callback){var DEFAULT_TIMES=5,DEFAULT_INTERVAL=0,options={times:DEFAULT_TIMES,intervalFunc:constant$1(DEFAULT_INTERVAL)};function parseTimes(acc,t){if("object"==typeof t)acc.times=+t.times||DEFAULT_TIMES,acc.intervalFunc="function"==typeof t.interval?t.interval:constant$1(+t.interval||DEFAULT_INTERVAL),acc.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");acc.times=+t||DEFAULT_TIMES}}if(arguments.length<3&&"function"==typeof opts?(callback=task||noop,task=opts):(parseTimes(options,opts),callback=callback||noop),"function"!=typeof task)throw new Error("Invalid arguments for async.retry");var _task=wrapAsync(task),attempt=1;function retryAttempt(){_task((function(err){err&&attempt++<options.times&&("function"!=typeof options.errorFilter||options.errorFilter(err))?setTimeout(retryAttempt,options.intervalFunc(attempt)):callback.apply(null,arguments)}))}retryAttempt()}var retryable=function(opts,task){task||(task=opts,opts=null);var _task=wrapAsync(task);return initialParams((function(args,callback){function taskFn(cb){_task.apply(null,args.concat(cb))}opts?retry(opts,taskFn,callback):retry(taskFn,callback)}))};function series(tasks,callback){_parallel(eachOfSeries,tasks,callback)}var some=doParallel(_createTester(Boolean,identity)),someLimit=doParallelLimit(_createTester(Boolean,identity)),someSeries=doLimit(someLimit,1);function sortBy(coll,iteratee,callback){var _iteratee=wrapAsync(iteratee);function comparator(left,right){var a=left.criteria,b=right.criteria;return a<b?-1:a>b?1:0}map(coll,(function(x,callback){_iteratee(x,(function(err,criteria){if(err)return callback(err);callback(null,{value:x,criteria})}))}),(function(err,results){if(err)return callback(err);callback(null,arrayMap(results.sort(comparator),baseProperty("value")))}))}function timeout(asyncFn,milliseconds,info){var fn=wrapAsync(asyncFn);return initialParams((function(args,callback){var timer,timedOut=!1;function timeoutCallback(){var name=asyncFn.name||"anonymous",error=new Error('Callback function "'+name+'" timed out.');error.code="ETIMEDOUT",info&&(error.info=info),timedOut=!0,callback(error)}args.push((function(){timedOut||(callback.apply(null,arguments),clearTimeout(timer))})),timer=setTimeout(timeoutCallback,milliseconds),fn.apply(null,args)}))}var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}function timeLimit(count,limit,iteratee,callback){var _iteratee=wrapAsync(iteratee);mapLimit(baseRange(0,count,1),limit,_iteratee,callback)}var times=doLimit(timeLimit,1/0),timesSeries=doLimit(timeLimit,1);function transform(coll,accumulator,iteratee,callback){arguments.length<=3&&(callback=iteratee,iteratee=accumulator,accumulator=isArray(coll)?[]:{}),callback=once(callback||noop);var _iteratee=wrapAsync(iteratee);eachOf(coll,(function(v,k,cb){_iteratee(accumulator,v,k,cb)}),(function(err){callback(err,accumulator)}))}function tryEach(tasks,callback){var result,error=null;callback=callback||noop,eachSeries(tasks,(function(task,callback){wrapAsync(task)((function(err,res){result=arguments.length>2?slice(arguments,1):res,error=err,callback(!err)}))}),(function(){callback(error,result)}))}function unmemoize(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}}function whilst(test,iteratee,callback){callback=onlyOnce(callback||noop);var _iteratee=wrapAsync(iteratee);if(!test())return callback(null);var next=function(err){if(err)return callback(err);if(test())return _iteratee(next);var args=slice(arguments,1);callback.apply(null,[null].concat(args))};_iteratee(next)}function until(test,iteratee,callback){whilst((function(){return!test.apply(this,arguments)}),iteratee,callback)}var waterfall=function(tasks,callback){if(callback=once(callback||noop),!isArray(tasks))return callback(new Error("First argument to waterfall must be an array of functions"));if(!tasks.length)return callback();var taskIndex=0;function nextTask(args){var task=wrapAsync(tasks[taskIndex++]);args.push(onlyOnce(next)),task.apply(null,args)}function next(err){if(err||taskIndex===tasks.length)return callback.apply(null,arguments);nextTask(slice(arguments,1))}nextTask([])},index={apply,applyEach,applyEachSeries,asyncify,auto,autoInject,cargo,compose,concat,concatLimit,concatSeries,constant,detect,detectLimit,detectSeries,dir,doDuring,doUntil,doWhilst,during,each:eachLimit,eachLimit:eachLimit$1,eachOf,eachOfLimit,eachOfSeries,eachSeries,ensureAsync,every,everyLimit,everySeries,filter,filterLimit,filterSeries,forever,groupBy,groupByLimit,groupBySeries,log,map,mapLimit,mapSeries,mapValues,mapValuesLimit,mapValuesSeries,memoize,nextTick,parallel:parallelLimit,parallelLimit:parallelLimit$1,priorityQueue,queue:queue$1,race,reduce,reduceRight,reflect,reflectAll,reject,rejectLimit,rejectSeries,retry,retryable,seq,series,setImmediate:setImmediate$1,some,someLimit,someSeries,sortBy,timeout,times,timesLimit:timeLimit,timesSeries,transform,tryEach,unmemoize,until,waterfall,whilst,all:every,allLimit:everyLimit,allSeries:everySeries,any:some,anyLimit:someLimit,anySeries:someSeries,find:detect,findLimit:detectLimit,findSeries:detectSeries,forEach:eachLimit,forEachSeries:eachSeries,forEachLimit:eachLimit$1,forEachOf:eachOf,forEachOfSeries:eachOfSeries,forEachOfLimit:eachOfLimit,inject:reduce,foldl:reduce,foldr:reduceRight,select:filter,selectLimit:filterLimit,selectSeries:filterSeries,wrapSync:asyncify};exports.default=index,exports.apply=apply,exports.applyEach=applyEach,exports.applyEachSeries=applyEachSeries,exports.asyncify=asyncify,exports.auto=auto,exports.autoInject=autoInject,exports.cargo=cargo,exports.compose=compose,exports.concat=concat,exports.concatLimit=concatLimit,exports.concatSeries=concatSeries,exports.constant=constant,exports.detect=detect,exports.detectLimit=detectLimit,exports.detectSeries=detectSeries,exports.dir=dir,exports.doDuring=doDuring,exports.doUntil=doUntil,exports.doWhilst=doWhilst,exports.during=during,exports.each=eachLimit,exports.eachLimit=eachLimit$1,exports.eachOf=eachOf,exports.eachOfLimit=eachOfLimit,exports.eachOfSeries=eachOfSeries,exports.eachSeries=eachSeries,exports.ensureAsync=ensureAsync,exports.every=every,exports.everyLimit=everyLimit,exports.everySeries=everySeries,exports.filter=filter,exports.filterLimit=filterLimit,exports.filterSeries=filterSeries,exports.forever=forever,exports.groupBy=groupBy,exports.groupByLimit=groupByLimit,exports.groupBySeries=groupBySeries,exports.log=log,exports.map=map,exports.mapLimit=mapLimit,exports.mapSeries=mapSeries,exports.mapValues=mapValues,exports.mapValuesLimit=mapValuesLimit,exports.mapValuesSeries=mapValuesSeries,exports.memoize=memoize,exports.nextTick=nextTick,exports.parallel=parallelLimit,exports.parallelLimit=parallelLimit$1,exports.priorityQueue=priorityQueue,exports.queue=queue$1,exports.race=race,exports.reduce=reduce,exports.reduceRight=reduceRight,exports.reflect=reflect,exports.reflectAll=reflectAll,exports.reject=reject,exports.rejectLimit=rejectLimit,exports.rejectSeries=rejectSeries,exports.retry=retry,exports.retryable=retryable,exports.seq=seq,exports.series=series,exports.setImmediate=setImmediate$1,exports.some=some,exports.someLimit=someLimit,exports.someSeries=someSeries,exports.sortBy=sortBy,exports.timeout=timeout,exports.times=times,exports.timesLimit=timeLimit,exports.timesSeries=timesSeries,exports.transform=transform,exports.tryEach=tryEach,exports.unmemoize=unmemoize,exports.until=until,exports.waterfall=waterfall,exports.whilst=whilst,exports.all=every,exports.allLimit=everyLimit,exports.allSeries=everySeries,exports.any=some,exports.anyLimit=someLimit,exports.anySeries=someSeries,exports.find=detect,exports.findLimit=detectLimit,exports.findSeries=detectSeries,exports.forEach=eachLimit,exports.forEachSeries=eachSeries,exports.forEachLimit=eachLimit$1,exports.forEachOf=eachOf,exports.forEachOfSeries=eachOfSeries,exports.forEachOfLimit=eachOfLimit,exports.inject=reduce,exports.foldl=reduce,exports.foldr=reduceRight,exports.select=filter,exports.selectLimit=filterLimit,exports.selectSeries=filterSeries,exports.wrapSync=asyncify,Object.defineProperty(exports,"__esModule",{value:!0})}(exports)},"./node_modules/.pnpm/axios@1.7.4/node_modules/axios/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F0:()=>isAxiosError});var _lib_axios_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/axios@1.7.4/node_modules/axios/lib/axios.js");const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=_lib_axios_js__WEBPACK_IMPORTED_MODULE_0__.A},"./node_modules/.pnpm/axios@1.7.4/node_modules/axios/lib/axios.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>lib_axios});var common_utils_namespaceObject={};function bind(fn,thisArg){return function wrap(){return fn.apply(thisArg,arguments)}}__webpack_require__.r(common_utils_namespaceObject),__webpack_require__.d(common_utils_namespaceObject,{hasBrowserEnv:()=>hasBrowserEnv,hasStandardBrowserEnv:()=>hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv:()=>hasStandardBrowserWebWorkerEnv,origin:()=>origin});var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");const{toString:utils_toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(cache=Object.create(null),thing=>{const str=utils_toString.call(thing);return cache[str]||(cache[str]=str.slice(8,-1).toLowerCase())});var cache;const kindOfTest=type=>(type=type.toLowerCase(),thing=>kindOf(thing)===type),typeOfTest=type=>thing=>typeof thing===type,{isArray}=Array,isUndefined=typeOfTest("undefined");const isArrayBuffer=kindOfTest("ArrayBuffer");const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=thing=>null!==thing&&"object"==typeof thing,isPlainObject=val=>{if("object"!==kindOf(val))return!1;const prototype=getPrototypeOf(val);return!(null!==prototype&&prototype!==Object.prototype&&null!==Object.getPrototypeOf(prototype)||Symbol.toStringTag in val||Symbol.iterator in val)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest);function forEach(obj,fn,{allOwnKeys=!1}={}){if(null==obj)return;let i,l;if("object"!=typeof obj&&(obj=[obj]),isArray(obj))for(i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else{const keys=allOwnKeys?Object.getOwnPropertyNames(obj):Object.keys(obj),len=keys.length;let key;for(i=0;i<len;i++)key=keys[i],fn.call(null,obj[key],key,obj)}}function findKey(obj,key){key=key.toLowerCase();const keys=Object.keys(obj);let _key,i=keys.length;for(;i-- >0;)if(_key=keys[i],key===_key.toLowerCase())return _key;return null}const _global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:__webpack_require__.g,isContextDefined=context=>!isUndefined(context)&&context!==_global;const isTypedArray=(TypedArray="undefined"!=typeof Uint8Array&&getPrototypeOf(Uint8Array),thing=>TypedArray&&thing instanceof TypedArray);var TypedArray;const isHTMLForm=kindOfTest("HTMLFormElement"),utils_hasOwnProperty=(({hasOwnProperty})=>(obj,prop)=>hasOwnProperty.call(obj,prop))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(obj,reducer)=>{const descriptors=Object.getOwnPropertyDescriptors(obj),reducedDescriptors={};forEach(descriptors,((descriptor,name)=>{let ret;!1!==(ret=reducer(descriptor,name,obj))&&(reducedDescriptors[name]=ret||descriptor)})),Object.defineProperties(obj,reducedDescriptors)},ALPHA="abcdefghijklmnopqrstuvwxyz",ALPHABET={DIGIT:"0123456789",ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+"0123456789"};const isAsyncFn=kindOfTest("AsyncFunction"),_setImmediate=(setImmediateSupported="function"==typeof setImmediate,postMessageSupported=isFunction(_global.postMessage),setImmediateSupported?setImmediate:postMessageSupported?(token=`axios@${Math.random()}`,callbacks=[],_global.addEventListener("message",(({source,data})=>{source===_global&&data===token&&callbacks.length&&callbacks.shift()()}),!1),cb=>{callbacks.push(cb),_global.postMessage(token,"*")}):cb=>setTimeout(cb));var setImmediateSupported,postMessageSupported,token,callbacks;const asap="undefined"!=typeof queueMicrotask?queueMicrotask.bind(_global):void 0!==process&&process.nextTick||_setImmediate,utils={isArray,isArrayBuffer,isBuffer:function isBuffer(val){return null!==val&&!isUndefined(val)&&null!==val.constructor&&!isUndefined(val.constructor)&&isFunction(val.constructor.isBuffer)&&val.constructor.isBuffer(val)},isFormData:thing=>{let kind;return thing&&("function"==typeof FormData&&thing instanceof FormData||isFunction(thing.append)&&("formdata"===(kind=kindOf(thing))||"object"===kind&&isFunction(thing.toString)&&"[object FormData]"===thing.toString()))},isArrayBufferView:function isArrayBufferView(val){let result;return result="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&isArrayBuffer(val.buffer),result},isString,isNumber,isBoolean:thing=>!0===thing||!1===thing,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream:val=>isObject(val)&&isFunction(val.pipe),isURLSearchParams,isTypedArray,isFileList,forEach,merge:function merge(){const{caseless}=isContextDefined(this)&&this||{},result={},assignValue=(val,key)=>{const targetKey=caseless&&findKey(result,key)||key;isPlainObject(result[targetKey])&&isPlainObject(val)?result[targetKey]=merge(result[targetKey],val):isPlainObject(val)?result[targetKey]=merge({},val):isArray(val)?result[targetKey]=val.slice():result[targetKey]=val};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&forEach(arguments[i],assignValue);return result},extend:(a,b,thisArg,{allOwnKeys}={})=>(forEach(b,((val,key)=>{thisArg&&isFunction(val)?a[key]=bind(val,thisArg):a[key]=val}),{allOwnKeys}),a),trim:str=>str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:content=>(65279===content.charCodeAt(0)&&(content=content.slice(1)),content),inherits:(constructor,superConstructor,props,descriptors)=>{constructor.prototype=Object.create(superConstructor.prototype,descriptors),constructor.prototype.constructor=constructor,Object.defineProperty(constructor,"super",{value:superConstructor.prototype}),props&&Object.assign(constructor.prototype,props)},toFlatObject:(sourceObj,destObj,filter,propFilter)=>{let props,i,prop;const merged={};if(destObj=destObj||{},null==sourceObj)return destObj;do{for(props=Object.getOwnPropertyNames(sourceObj),i=props.length;i-- >0;)prop=props[i],propFilter&&!propFilter(prop,sourceObj,destObj)||merged[prop]||(destObj[prop]=sourceObj[prop],merged[prop]=!0);sourceObj=!1!==filter&&getPrototypeOf(sourceObj)}while(sourceObj&&(!filter||filter(sourceObj,destObj))&&sourceObj!==Object.prototype);return destObj},kindOf,kindOfTest,endsWith:(str,searchString,position)=>{str=String(str),(void 0===position||position>str.length)&&(position=str.length),position-=searchString.length;const lastIndex=str.indexOf(searchString,position);return-1!==lastIndex&&lastIndex===position},toArray:thing=>{if(!thing)return null;if(isArray(thing))return thing;let i=thing.length;if(!isNumber(i))return null;const arr=new Array(i);for(;i-- >0;)arr[i]=thing[i];return arr},forEachEntry:(obj,fn)=>{const iterator=(obj&&obj[Symbol.iterator]).call(obj);let result;for(;(result=iterator.next())&&!result.done;){const pair=result.value;fn.call(obj,pair[0],pair[1])}},matchAll:(regExp,str)=>{let matches;const arr=[];for(;null!==(matches=regExp.exec(str));)arr.push(matches);return arr},isHTMLForm,hasOwnProperty:utils_hasOwnProperty,hasOwnProp:utils_hasOwnProperty,reduceDescriptors,freezeMethods:obj=>{reduceDescriptors(obj,((descriptor,name)=>{if(isFunction(obj)&&-1!==["arguments","caller","callee"].indexOf(name))return!1;const value=obj[name];isFunction(value)&&(descriptor.enumerable=!1,"writable"in descriptor?descriptor.writable=!1:descriptor.set||(descriptor.set=()=>{throw Error("Can not rewrite read-only method '"+name+"'")}))}))},toObjectSet:(arrayOrString,delimiter)=>{const obj={},define=arr=>{arr.forEach((value=>{obj[value]=!0}))};return isArray(arrayOrString)?define(arrayOrString):define(String(arrayOrString).split(delimiter)),obj},toCamelCase:str=>str.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function replacer(m,p1,p2){return p1.toUpperCase()+p2})),noop:()=>{},toFiniteNumber:(value,defaultValue)=>null!=value&&Number.isFinite(value=+value)?value:defaultValue,findKey,global:_global,isContextDefined,ALPHABET,generateString:(size=16,alphabet=ALPHABET.ALPHA_DIGIT)=>{let str="";const{length}=alphabet;for(;size--;)str+=alphabet[Math.random()*length|0];return str},isSpecCompliantForm:function isSpecCompliantForm(thing){return!!(thing&&isFunction(thing.append)&&"FormData"===thing[Symbol.toStringTag]&&thing[Symbol.iterator])},toJSONObject:obj=>{const stack=new Array(10),visit=(source,i)=>{if(isObject(source)){if(stack.indexOf(source)>=0)return;if(!("toJSON"in source)){stack[i]=source;const target=isArray(source)?[]:{};return forEach(source,((value,key)=>{const reducedValue=visit(value,i+1);!isUndefined(reducedValue)&&(target[key]=reducedValue)})),stack[i]=void 0,target}}return source};return visit(obj,0)},isAsyncFn,isThenable:thing=>thing&&(isObject(thing)||isFunction(thing))&&isFunction(thing.then)&&isFunction(thing.catch),setImmediate:_setImmediate,asap};function AxiosError(message,code,config,request,response){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=message,this.name="AxiosError",code&&(this.code=code),config&&(this.config=config),request&&(this.request=request),response&&(this.response=response)}utils.inherits(AxiosError,Error,{toJSON:function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const AxiosError_prototype=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((code=>{descriptors[code]={value:code}})),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(AxiosError_prototype,"isAxiosError",{value:!0}),AxiosError.from=(error,code,config,request,response,customProps)=>{const axiosError=Object.create(AxiosError_prototype);return utils.toFlatObject(error,axiosError,(function filter(obj){return obj!==Error.prototype}),(prop=>"isAxiosError"!==prop)),AxiosError.call(axiosError,error.message,code,config,request,response),axiosError.cause=error,axiosError.name=error.name,customProps&&Object.assign(axiosError,customProps),axiosError};const core_AxiosError=AxiosError;var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;function isVisitable(thing){return utils.isPlainObject(thing)||utils.isArray(thing)}function removeBrackets(key){return utils.endsWith(key,"[]")?key.slice(0,-2):key}function renderKey(path,key,dots){return path?path.concat(key).map((function each(token,i){return token=removeBrackets(token),!dots&&i?"["+token+"]":token})).join(dots?".":""):key}const predicates=utils.toFlatObject(utils,{},null,(function filter(prop){return/^is[A-Z]/.test(prop)}));const helpers_toFormData=function toFormData(obj,formData,options){if(!utils.isObject(obj))throw new TypeError("target must be an object");formData=formData||new FormData;const metaTokens=(options=utils.toFlatObject(options,{metaTokens:!0,dots:!1,indexes:!1},!1,(function defined(option,source){return!utils.isUndefined(source[option])}))).metaTokens,visitor=options.visitor||defaultVisitor,dots=options.dots,indexes=options.indexes,useBlob=(options.Blob||"undefined"!=typeof Blob&&Blob)&&utils.isSpecCompliantForm(formData);if(!utils.isFunction(visitor))throw new TypeError("visitor must be a function");function convertValue(value){if(null===value)return"";if(utils.isDate(value))return value.toISOString();if(!useBlob&&utils.isBlob(value))throw new core_AxiosError("Blob is not supported. Use a Buffer instead.");return utils.isArrayBuffer(value)||utils.isTypedArray(value)?useBlob&&"function"==typeof Blob?new Blob([value]):Buffer.from(value):value}function defaultVisitor(value,key,path){let arr=value;if(value&&!path&&"object"==typeof value)if(utils.endsWith(key,"{}"))key=metaTokens?key:key.slice(0,-2),value=JSON.stringify(value);else if(utils.isArray(value)&&function isFlatArray(arr){return utils.isArray(arr)&&!arr.some(isVisitable)}(value)||(utils.isFileList(value)||utils.endsWith(key,"[]"))&&(arr=utils.toArray(value)))return key=removeBrackets(key),arr.forEach((function each(el,index){!utils.isUndefined(el)&&null!==el&&formData.append(!0===indexes?renderKey([key],index,dots):null===indexes?key:key+"[]",convertValue(el))})),!1;return!!isVisitable(value)||(formData.append(renderKey(path,key,dots),convertValue(value)),!1)}const stack=[],exposedHelpers=Object.assign(predicates,{defaultVisitor,convertValue,isVisitable});if(!utils.isObject(obj))throw new TypeError("data must be an object");return function build(value,path){if(!utils.isUndefined(value)){if(-1!==stack.indexOf(value))throw Error("Circular reference detected in "+path.join("."));stack.push(value),utils.forEach(value,(function each(el,key){!0===(!(utils.isUndefined(el)||null===el)&&visitor.call(formData,el,utils.isString(key)?key.trim():key,path,exposedHelpers))&&build(el,path?path.concat(key):[key])})),stack.pop()}}(obj),formData};function encode(str){const charMap={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g,(function replacer(match){return charMap[match]}))}function AxiosURLSearchParams(params,options){this._pairs=[],params&&helpers_toFormData(params,this,options)}const AxiosURLSearchParams_prototype=AxiosURLSearchParams.prototype;AxiosURLSearchParams_prototype.append=function append(name,value){this._pairs.push([name,value])},AxiosURLSearchParams_prototype.toString=function toString(encoder){const _encode=encoder?function(value){return encoder.call(this,value,encode)}:encode;return this._pairs.map((function each(pair){return _encode(pair[0])+"="+_encode(pair[1])}),"").join("&")};const helpers_AxiosURLSearchParams=AxiosURLSearchParams;function buildURL_encode(val){return encodeURIComponent(val).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(url,params,options){if(!params)return url;const _encode=options&&options.encode||buildURL_encode,serializeFn=options&&options.serialize;let serializedParams;if(serializedParams=serializeFn?serializeFn(params,options):utils.isURLSearchParams(params)?params.toString():new helpers_AxiosURLSearchParams(params,options).toString(_encode),serializedParams){const hashmarkIndex=url.indexOf("#");-1!==hashmarkIndex&&(url=url.slice(0,hashmarkIndex)),url+=(-1===url.indexOf("?")?"?":"&")+serializedParams}return url}const core_InterceptorManager=class InterceptorManager{constructor(){this.handlers=[]}use(fulfilled,rejected,options){return this.handlers.push({fulfilled,rejected,synchronous:!!options&&options.synchronous,runWhen:options?options.runWhen:null}),this.handlers.length-1}eject(id){this.handlers[id]&&(this.handlers[id]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(fn){utils.forEach(this.handlers,(function forEachHandler(h){null!==h&&fn(h)}))}},defaults_transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},browser={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:helpers_AxiosURLSearchParams,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv="undefined"!=typeof window&&"undefined"!=typeof document,hasStandardBrowserEnv=(product="undefined"!=typeof navigator&&navigator.product,hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(product)<0);var product;const hasStandardBrowserWebWorkerEnv="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,origin=hasBrowserEnv&&window.location.href||"http://localhost",platform={...common_utils_namespaceObject,...browser};const helpers_formDataToJSON=function formDataToJSON(formData){function buildPath(path,value,target,index){let name=path[index++];if("__proto__"===name)return!0;const isNumericKey=Number.isFinite(+name),isLast=index>=path.length;if(name=!name&&utils.isArray(target)?target.length:name,isLast)return utils.hasOwnProp(target,name)?target[name]=[target[name],value]:target[name]=value,!isNumericKey;target[name]&&utils.isObject(target[name])||(target[name]=[]);return buildPath(path,value,target[name],index)&&utils.isArray(target[name])&&(target[name]=function arrayToObject(arr){const obj={},keys=Object.keys(arr);let i;const len=keys.length;let key;for(i=0;i<len;i++)key=keys[i],obj[key]=arr[key];return obj}(target[name])),!isNumericKey}if(utils.isFormData(formData)&&utils.isFunction(formData.entries)){const obj={};return utils.forEachEntry(formData,((name,value)=>{buildPath(function parsePropPath(name){return utils.matchAll(/\w+|\[(\w*)]/g,name).map((match=>"[]"===match[0]?"":match[1]||match[0]))}(name),value,obj,0)})),obj}return null};const defaults={transitional:defaults_transitional,adapter:["xhr","http","fetch"],transformRequest:[function transformRequest(data,headers){const contentType=headers.getContentType()||"",hasJSONContentType=contentType.indexOf("application/json")>-1,isObjectPayload=utils.isObject(data);isObjectPayload&&utils.isHTMLForm(data)&&(data=new FormData(data));if(utils.isFormData(data))return hasJSONContentType?JSON.stringify(helpers_formDataToJSON(data)):data;if(utils.isArrayBuffer(data)||utils.isBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data)||utils.isReadableStream(data))return data;if(utils.isArrayBufferView(data))return data.buffer;if(utils.isURLSearchParams(data))return headers.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),data.toString();let isFileList;if(isObjectPayload){if(contentType.indexOf("application/x-www-form-urlencoded")>-1)return function toURLEncodedForm(data,options){return helpers_toFormData(data,new platform.classes.URLSearchParams,Object.assign({visitor:function(value,key,path,helpers){return platform.isNode&&utils.isBuffer(value)?(this.append(key,value.toString("base64")),!1):helpers.defaultVisitor.apply(this,arguments)}},options))}(data,this.formSerializer).toString();if((isFileList=utils.isFileList(data))||contentType.indexOf("multipart/form-data")>-1){const _FormData=this.env&&this.env.FormData;return helpers_toFormData(isFileList?{"files[]":data}:data,_FormData&&new _FormData,this.formSerializer)}}return isObjectPayload||hasJSONContentType?(headers.setContentType("application/json",!1),function stringifySafely(rawValue,parser,encoder){if(utils.isString(rawValue))try{return(parser||JSON.parse)(rawValue),utils.trim(rawValue)}catch(e){if("SyntaxError"!==e.name)throw e}return(encoder||JSON.stringify)(rawValue)}(data)):data}],transformResponse:[function transformResponse(data){const transitional=this.transitional||defaults.transitional,forcedJSONParsing=transitional&&transitional.forcedJSONParsing,JSONRequested="json"===this.responseType;if(utils.isResponse(data)||utils.isReadableStream(data))return data;if(data&&utils.isString(data)&&(forcedJSONParsing&&!this.responseType||JSONRequested)){const strictJSONParsing=!(transitional&&transitional.silentJSONParsing)&&JSONRequested;try{return JSON.parse(data)}catch(e){if(strictJSONParsing){if("SyntaxError"===e.name)throw core_AxiosError.from(e,core_AxiosError.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function validateStatus(status){return status>=200&&status<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils.forEach(["delete","get","head","post","put","patch"],(method=>{defaults.headers[method]={}}));const lib_defaults=defaults,ignoreDuplicateOf=utils.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$internals=Symbol("internals");function normalizeHeader(header){return header&&String(header).trim().toLowerCase()}function normalizeValue(value){return!1===value||null==value?value:utils.isArray(value)?value.map(normalizeValue):String(value)}function matchHeaderValue(context,value,header,filter,isHeaderNameFilter){return utils.isFunction(filter)?filter.call(this,value,header):(isHeaderNameFilter&&(value=header),utils.isString(value)?utils.isString(filter)?-1!==value.indexOf(filter):utils.isRegExp(filter)?filter.test(value):void 0:void 0)}class AxiosHeaders{constructor(headers){headers&&this.set(headers)}set(header,valueOrRewrite,rewrite){const self=this;function setHeader(_value,_header,_rewrite){const lHeader=normalizeHeader(_header);if(!lHeader)throw new Error("header name must be a non-empty string");const key=utils.findKey(self,lHeader);(!key||void 0===self[key]||!0===_rewrite||void 0===_rewrite&&!1!==self[key])&&(self[key||_header]=normalizeValue(_value))}const setHeaders=(headers,_rewrite)=>utils.forEach(headers,((_value,_header)=>setHeader(_value,_header,_rewrite)));if(utils.isPlainObject(header)||header instanceof this.constructor)setHeaders(header,valueOrRewrite);else if(utils.isString(header)&&(header=header.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(header.trim()))setHeaders((rawHeaders=>{const parsed={};let key,val,i;return rawHeaders&&rawHeaders.split("\n").forEach((function parser(line){i=line.indexOf(":"),key=line.substring(0,i).trim().toLowerCase(),val=line.substring(i+1).trim(),!key||parsed[key]&&ignoreDuplicateOf[key]||("set-cookie"===key?parsed[key]?parsed[key].push(val):parsed[key]=[val]:parsed[key]=parsed[key]?parsed[key]+", "+val:val)})),parsed})(header),valueOrRewrite);else if(utils.isHeaders(header))for(const[key,value]of header.entries())setHeader(value,key,rewrite);else null!=header&&setHeader(valueOrRewrite,header,rewrite);return this}get(header,parser){if(header=normalizeHeader(header)){const key=utils.findKey(this,header);if(key){const value=this[key];if(!parser)return value;if(!0===parser)return function parseTokens(str){const tokens=Object.create(null),tokensRE=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let match;for(;match=tokensRE.exec(str);)tokens[match[1]]=match[2];return tokens}(value);if(utils.isFunction(parser))return parser.call(this,value,key);if(utils.isRegExp(parser))return parser.exec(value);throw new TypeError("parser must be boolean|regexp|function")}}}has(header,matcher){if(header=normalizeHeader(header)){const key=utils.findKey(this,header);return!(!key||void 0===this[key]||matcher&&!matchHeaderValue(0,this[key],key,matcher))}return!1}delete(header,matcher){const self=this;let deleted=!1;function deleteHeader(_header){if(_header=normalizeHeader(_header)){const key=utils.findKey(self,_header);!key||matcher&&!matchHeaderValue(0,self[key],key,matcher)||(delete self[key],deleted=!0)}}return utils.isArray(header)?header.forEach(deleteHeader):deleteHeader(header),deleted}clear(matcher){const keys=Object.keys(this);let i=keys.length,deleted=!1;for(;i--;){const key=keys[i];matcher&&!matchHeaderValue(0,this[key],key,matcher,!0)||(delete this[key],deleted=!0)}return deleted}normalize(format){const self=this,headers={};return utils.forEach(this,((value,header)=>{const key=utils.findKey(headers,header);if(key)return self[key]=normalizeValue(value),void delete self[header];const normalized=format?function formatHeader(header){return header.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((w,char,str)=>char.toUpperCase()+str))}(header):String(header).trim();normalized!==header&&delete self[header],self[normalized]=normalizeValue(value),headers[normalized]=!0})),this}concat(...targets){return this.constructor.concat(this,...targets)}toJSON(asStrings){const obj=Object.create(null);return utils.forEach(this,((value,header)=>{null!=value&&!1!==value&&(obj[header]=asStrings&&utils.isArray(value)?value.join(", "):value)})),obj}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([header,value])=>header+": "+value)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(thing){return thing instanceof this?thing:new this(thing)}static concat(first,...targets){const computed=new this(first);return targets.forEach((target=>computed.set(target))),computed}static accessor(header){const accessors=(this[$internals]=this[$internals]={accessors:{}}).accessors,prototype=this.prototype;function defineAccessor(_header){const lHeader=normalizeHeader(_header);accessors[lHeader]||(!function buildAccessors(obj,header){const accessorName=utils.toCamelCase(" "+header);["get","set","has"].forEach((methodName=>{Object.defineProperty(obj,methodName+accessorName,{value:function(arg1,arg2,arg3){return this[methodName].call(this,header,arg1,arg2,arg3)},configurable:!0})}))}(prototype,_header),accessors[lHeader]=!0)}return utils.isArray(header)?header.forEach(defineAccessor):defineAccessor(header),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils.reduceDescriptors(AxiosHeaders.prototype,(({value},key)=>{let mapped=key[0].toUpperCase()+key.slice(1);return{get:()=>value,set(headerValue){this[mapped]=headerValue}}})),utils.freezeMethods(AxiosHeaders);const core_AxiosHeaders=AxiosHeaders;function transformData(fns,response){const config=this||lib_defaults,context=response||config,headers=core_AxiosHeaders.from(context.headers);let data=context.data;return utils.forEach(fns,(function transform(fn){data=fn.call(config,data,headers.normalize(),response?response.status:void 0)})),headers.normalize(),data}function isCancel(value){return!(!value||!value.__CANCEL__)}function CanceledError(message,config,request){core_AxiosError.call(this,null==message?"canceled":message,core_AxiosError.ERR_CANCELED,config,request),this.name="CanceledError"}utils.inherits(CanceledError,core_AxiosError,{__CANCEL__:!0});const cancel_CanceledError=CanceledError;function settle(resolve,reject,response){const validateStatus=response.config.validateStatus;response.status&&validateStatus&&!validateStatus(response.status)?reject(new core_AxiosError("Request failed with status code "+response.status,[core_AxiosError.ERR_BAD_REQUEST,core_AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status/100)-4],response.config,response.request,response)):resolve(response)}const helpers_speedometer=function speedometer(samplesCount,min){samplesCount=samplesCount||10;const bytes=new Array(samplesCount),timestamps=new Array(samplesCount);let firstSampleTS,head=0,tail=0;return min=void 0!==min?min:1e3,function push(chunkLength){const now=Date.now(),startedAt=timestamps[tail];firstSampleTS||(firstSampleTS=now),bytes[head]=chunkLength,timestamps[head]=now;let i=tail,bytesCount=0;for(;i!==head;)bytesCount+=bytes[i++],i%=samplesCount;if(head=(head+1)%samplesCount,head===tail&&(tail=(tail+1)%samplesCount),now-firstSampleTS<min)return;const passed=startedAt&&now-startedAt;return passed?Math.round(1e3*bytesCount/passed):void 0}};const helpers_throttle=function throttle(fn,freq){let lastArgs,timer,timestamp=0,threshold=1e3/freq;const invoke=(args,now=Date.now())=>{timestamp=now,lastArgs=null,timer&&(clearTimeout(timer),timer=null),fn.apply(null,args)};return[(...args)=>{const now=Date.now(),passed=now-timestamp;passed>=threshold?invoke(args,now):(lastArgs=args,timer||(timer=setTimeout((()=>{timer=null,invoke(lastArgs)}),threshold-passed)))},()=>lastArgs&&invoke(lastArgs)]},progressEventReducer=(listener,isDownloadStream,freq=3)=>{let bytesNotified=0;const _speedometer=helpers_speedometer(50,250);return helpers_throttle((e=>{const loaded=e.loaded,total=e.lengthComputable?e.total:void 0,progressBytes=loaded-bytesNotified,rate=_speedometer(progressBytes);bytesNotified=loaded;listener({loaded,total,progress:total?loaded/total:void 0,bytes:progressBytes,rate:rate||void 0,estimated:rate&&total&&loaded<=total?(total-loaded)/rate:void 0,event:e,lengthComputable:null!=total,[isDownloadStream?"download":"upload"]:!0})}),freq)},progressEventDecorator=(total,throttled)=>{const lengthComputable=null!=total;return[loaded=>throttled[0]({lengthComputable,total,loaded}),throttled[1]]},asyncDecorator=fn=>(...args)=>utils.asap((()=>fn(...args))),isURLSameOrigin=platform.hasStandardBrowserEnv?function standardBrowserEnv(){const msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a");let originURL;function resolveURL(url){let href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}return originURL=resolveURL(window.location.href),function isURLSameOrigin(requestURL){const parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function isURLSameOrigin(){return!0},cookies=platform.hasStandardBrowserEnv?{write(name,value,expires,path,domain,secure){const cookie=[name+"="+encodeURIComponent(value)];utils.isNumber(expires)&&cookie.push("expires="+new Date(expires).toGMTString()),utils.isString(path)&&cookie.push("path="+path),utils.isString(domain)&&cookie.push("domain="+domain),!0===secure&&cookie.push("secure"),document.cookie=cookie.join("; ")},read(name){const match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove(name){this.write(name,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function buildFullPath(baseURL,requestedURL){return baseURL&&!function isAbsoluteURL(url){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(url)}(requestedURL)?function combineURLs(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/?\/$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}(baseURL,requestedURL):requestedURL}const headersToObject=thing=>thing instanceof core_AxiosHeaders?{...thing}:thing;function mergeConfig(config1,config2){config2=config2||{};const config={};function getMergedValue(target,source,caseless){return utils.isPlainObject(target)&&utils.isPlainObject(source)?utils.merge.call({caseless},target,source):utils.isPlainObject(source)?utils.merge({},source):utils.isArray(source)?source.slice():source}function mergeDeepProperties(a,b,caseless){return utils.isUndefined(b)?utils.isUndefined(a)?void 0:getMergedValue(void 0,a,caseless):getMergedValue(a,b,caseless)}function valueFromConfig2(a,b){if(!utils.isUndefined(b))return getMergedValue(void 0,b)}function defaultToConfig2(a,b){return utils.isUndefined(b)?utils.isUndefined(a)?void 0:getMergedValue(void 0,a):getMergedValue(void 0,b)}function mergeDirectKeys(a,b,prop){return prop in config2?getMergedValue(a,b):prop in config1?getMergedValue(void 0,a):void 0}const mergeMap={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:(a,b)=>mergeDeepProperties(headersToObject(a),headersToObject(b),!0)};return utils.forEach(Object.keys(Object.assign({},config1,config2)),(function computeConfigValue(prop){const merge=mergeMap[prop]||mergeDeepProperties,configValue=merge(config1[prop],config2[prop],prop);utils.isUndefined(configValue)&&merge!==mergeDirectKeys||(config[prop]=configValue)})),config}const resolveConfig=config=>{const newConfig=mergeConfig({},config);let contentType,{data,withXSRFToken,xsrfHeaderName,xsrfCookieName,headers,auth}=newConfig;if(newConfig.headers=headers=core_AxiosHeaders.from(headers),newConfig.url=buildURL(buildFullPath(newConfig.baseURL,newConfig.url),config.params,config.paramsSerializer),auth&&headers.set("Authorization","Basic "+btoa((auth.username||"")+":"+(auth.password?unescape(encodeURIComponent(auth.password)):""))),utils.isFormData(data))if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)headers.setContentType(void 0);else if(!1!==(contentType=headers.getContentType())){const[type,...tokens]=contentType?contentType.split(";").map((token=>token.trim())).filter(Boolean):[];headers.setContentType([type||"multipart/form-data",...tokens].join("; "))}if(platform.hasStandardBrowserEnv&&(withXSRFToken&&utils.isFunction(withXSRFToken)&&(withXSRFToken=withXSRFToken(newConfig)),withXSRFToken||!1!==withXSRFToken&&isURLSameOrigin(newConfig.url))){const xsrfValue=xsrfHeaderName&&xsrfCookieName&&cookies.read(xsrfCookieName);xsrfValue&&headers.set(xsrfHeaderName,xsrfValue)}return newConfig},xhr="undefined"!=typeof XMLHttpRequest&&function(config){return new Promise((function dispatchXhrRequest(resolve,reject){const _config=resolveConfig(config);let requestData=_config.data;const requestHeaders=core_AxiosHeaders.from(_config.headers).normalize();let onCanceled,uploadThrottled,downloadThrottled,flushUpload,flushDownload,{responseType,onUploadProgress,onDownloadProgress}=_config;function done(){flushUpload&&flushUpload(),flushDownload&&flushDownload(),_config.cancelToken&&_config.cancelToken.unsubscribe(onCanceled),_config.signal&&_config.signal.removeEventListener("abort",onCanceled)}let request=new XMLHttpRequest;function onloadend(){if(!request)return;const responseHeaders=core_AxiosHeaders.from("getAllResponseHeaders"in request&&request.getAllResponseHeaders());settle((function _resolve(value){resolve(value),done()}),(function _reject(err){reject(err),done()}),{data:responseType&&"text"!==responseType&&"json"!==responseType?request.response:request.responseText,status:request.status,statusText:request.statusText,headers:responseHeaders,config,request}),request=null}request.open(_config.method.toUpperCase(),_config.url,!0),request.timeout=_config.timeout,"onloadend"in request?request.onloadend=onloadend:request.onreadystatechange=function handleLoad(){request&&4===request.readyState&&(0!==request.status||request.responseURL&&0===request.responseURL.indexOf("file:"))&&setTimeout(onloadend)},request.onabort=function handleAbort(){request&&(reject(new core_AxiosError("Request aborted",core_AxiosError.ECONNABORTED,config,request)),request=null)},request.onerror=function handleError(){reject(new core_AxiosError("Network Error",core_AxiosError.ERR_NETWORK,config,request)),request=null},request.ontimeout=function handleTimeout(){let timeoutErrorMessage=_config.timeout?"timeout of "+_config.timeout+"ms exceeded":"timeout exceeded";const transitional=_config.transitional||defaults_transitional;_config.timeoutErrorMessage&&(timeoutErrorMessage=_config.timeoutErrorMessage),reject(new core_AxiosError(timeoutErrorMessage,transitional.clarifyTimeoutError?core_AxiosError.ETIMEDOUT:core_AxiosError.ECONNABORTED,config,request)),request=null},void 0===requestData&&requestHeaders.setContentType(null),"setRequestHeader"in request&&utils.forEach(requestHeaders.toJSON(),(function setRequestHeader(val,key){request.setRequestHeader(key,val)})),utils.isUndefined(_config.withCredentials)||(request.withCredentials=!!_config.withCredentials),responseType&&"json"!==responseType&&(request.responseType=_config.responseType),onDownloadProgress&&([downloadThrottled,flushDownload]=progressEventReducer(onDownloadProgress,!0),request.addEventListener("progress",downloadThrottled)),onUploadProgress&&request.upload&&([uploadThrottled,flushUpload]=progressEventReducer(onUploadProgress),request.upload.addEventListener("progress",uploadThrottled),request.upload.addEventListener("loadend",flushUpload)),(_config.cancelToken||_config.signal)&&(onCanceled=cancel=>{request&&(reject(!cancel||cancel.type?new cancel_CanceledError(null,config,request):cancel),request.abort(),request=null)},_config.cancelToken&&_config.cancelToken.subscribe(onCanceled),_config.signal&&(_config.signal.aborted?onCanceled():_config.signal.addEventListener("abort",onCanceled)));const protocol=function parseProtocol(url){const match=/^([-+\w]{1,25})(:?\/\/|:)/.exec(url);return match&&match[1]||""}(_config.url);protocol&&-1===platform.protocols.indexOf(protocol)?reject(new core_AxiosError("Unsupported protocol "+protocol+":",core_AxiosError.ERR_BAD_REQUEST,config)):request.send(requestData||null)}))},helpers_composeSignals=(signals,timeout)=>{let aborted,controller=new AbortController;const onabort=function(cancel){if(!aborted){aborted=!0,unsubscribe();const err=cancel instanceof Error?cancel:this.reason;controller.abort(err instanceof core_AxiosError?err:new cancel_CanceledError(err instanceof Error?err.message:err))}};let timer=timeout&&setTimeout((()=>{onabort(new core_AxiosError(`timeout ${timeout} of ms exceeded`,core_AxiosError.ETIMEDOUT))}),timeout);const unsubscribe=()=>{signals&&(timer&&clearTimeout(timer),timer=null,signals.forEach((signal=>{signal&&(signal.removeEventListener?signal.removeEventListener("abort",onabort):signal.unsubscribe(onabort))})),signals=null)};signals.forEach((signal=>signal&&signal.addEventListener&&signal.addEventListener("abort",onabort)));const{signal}=controller;return signal.unsubscribe=unsubscribe,[signal,()=>{timer&&clearTimeout(timer),timer=null}]},streamChunk=function*(chunk,chunkSize){let len=chunk.byteLength;if(!chunkSize||len<chunkSize)return void(yield chunk);let end,pos=0;for(;pos<len;)end=pos+chunkSize,yield chunk.slice(pos,end),pos=end},trackStream=(stream,chunkSize,onProgress,onFinish,encode)=>{const iterator=async function*(iterable,chunkSize,encode){for await(const chunk of iterable)yield*streamChunk(ArrayBuffer.isView(chunk)?chunk:await encode(String(chunk)),chunkSize)}(stream,chunkSize,encode);let done,bytes=0,_onFinish=e=>{done||(done=!0,onFinish&&onFinish(e))};return new ReadableStream({async pull(controller){try{const{done,value}=await iterator.next();if(done)return _onFinish(),void controller.close();let len=value.byteLength;if(onProgress){let loadedBytes=bytes+=len;onProgress(loadedBytes)}controller.enqueue(new Uint8Array(value))}catch(err){throw _onFinish(err),err}},cancel:reason=>(_onFinish(reason),iterator.return())},{highWaterMark:2})},isFetchSupported="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,isReadableStreamSupported=isFetchSupported&&"function"==typeof ReadableStream,encodeText=isFetchSupported&&("function"==typeof TextEncoder?(encoder=new TextEncoder,str=>encoder.encode(str)):async str=>new Uint8Array(await new Response(str).arrayBuffer()));var encoder;const test=(fn,...args)=>{try{return!!fn(...args)}catch(e){return!1}},supportsRequestStream=isReadableStreamSupported&&test((()=>{let duplexAccessed=!1;const hasContentType=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return duplexAccessed=!0,"half"}}).headers.has("Content-Type");return duplexAccessed&&!hasContentType})),supportsResponseStream=isReadableStreamSupported&&test((()=>utils.isReadableStream(new Response("").body))),resolvers={stream:supportsResponseStream&&(res=>res.body)};var res;isFetchSupported&&(res=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((type=>{!resolvers[type]&&(resolvers[type]=utils.isFunction(res[type])?res=>res[type]():(_,config)=>{throw new core_AxiosError(`Response type '${type}' is not supported`,core_AxiosError.ERR_NOT_SUPPORT,config)})})));const resolveBodyLength=async(headers,body)=>{const length=utils.toFiniteNumber(headers.getContentLength());return null==length?(async body=>null==body?0:utils.isBlob(body)?body.size:utils.isSpecCompliantForm(body)?(await new Request(body).arrayBuffer()).byteLength:utils.isArrayBufferView(body)||utils.isArrayBuffer(body)?body.byteLength:(utils.isURLSearchParams(body)&&(body+=""),utils.isString(body)?(await encodeText(body)).byteLength:void 0))(body):length},knownAdapters={http:null,xhr,fetch:isFetchSupported&&(async config=>{let{url,method,data,signal,cancelToken,timeout,onDownloadProgress,onUploadProgress,responseType,headers,withCredentials="same-origin",fetchOptions}=resolveConfig(config);responseType=responseType?(responseType+"").toLowerCase():"text";let finished,request,[composedSignal,stopTimeout]=signal||cancelToken||timeout?helpers_composeSignals([signal,cancelToken],timeout):[];const onFinish=()=>{!finished&&setTimeout((()=>{composedSignal&&composedSignal.unsubscribe()})),finished=!0};let requestContentLength;try{if(onUploadProgress&&supportsRequestStream&&"get"!==method&&"head"!==method&&0!==(requestContentLength=await resolveBodyLength(headers,data))){let contentTypeHeader,_request=new Request(url,{method:"POST",body:data,duplex:"half"});if(utils.isFormData(data)&&(contentTypeHeader=_request.headers.get("content-type"))&&headers.setContentType(contentTypeHeader),_request.body){const[onProgress,flush]=progressEventDecorator(requestContentLength,progressEventReducer(asyncDecorator(onUploadProgress)));data=trackStream(_request.body,65536,onProgress,flush,encodeText)}}utils.isString(withCredentials)||(withCredentials=withCredentials?"include":"omit"),request=new Request(url,{...fetchOptions,signal:composedSignal,method:method.toUpperCase(),headers:headers.normalize().toJSON(),body:data,duplex:"half",credentials:withCredentials});let response=await fetch(request);const isStreamResponse=supportsResponseStream&&("stream"===responseType||"response"===responseType);if(supportsResponseStream&&(onDownloadProgress||isStreamResponse)){const options={};["status","statusText","headers"].forEach((prop=>{options[prop]=response[prop]}));const responseContentLength=utils.toFiniteNumber(response.headers.get("content-length")),[onProgress,flush]=onDownloadProgress&&progressEventDecorator(responseContentLength,progressEventReducer(asyncDecorator(onDownloadProgress),!0))||[];response=new Response(trackStream(response.body,65536,onProgress,(()=>{flush&&flush(),isStreamResponse&&onFinish()}),encodeText),options)}responseType=responseType||"text";let responseData=await resolvers[utils.findKey(resolvers,responseType)||"text"](response,config);return!isStreamResponse&&onFinish(),stopTimeout&&stopTimeout(),await new Promise(((resolve,reject)=>{settle(resolve,reject,{data:responseData,headers:core_AxiosHeaders.from(response.headers),status:response.status,statusText:response.statusText,config,request})}))}catch(err){if(onFinish(),err&&"TypeError"===err.name&&/fetch/i.test(err.message))throw Object.assign(new core_AxiosError("Network Error",core_AxiosError.ERR_NETWORK,config,request),{cause:err.cause||err});throw core_AxiosError.from(err,err&&err.code,config,request)}})};utils.forEach(knownAdapters,((fn,value)=>{if(fn){try{Object.defineProperty(fn,"name",{value})}catch(e){}Object.defineProperty(fn,"adapterName",{value})}}));const renderReason=reason=>`- ${reason}`,isResolvedHandle=adapter=>utils.isFunction(adapter)||null===adapter||!1===adapter,adapters_getAdapter=adapters=>{adapters=utils.isArray(adapters)?adapters:[adapters];const{length}=adapters;let nameOrAdapter,adapter;const rejectedReasons={};for(let i=0;i<length;i++){let id;if(nameOrAdapter=adapters[i],adapter=nameOrAdapter,!isResolvedHandle(nameOrAdapter)&&(adapter=knownAdapters[(id=String(nameOrAdapter)).toLowerCase()],void 0===adapter))throw new core_AxiosError(`Unknown adapter '${id}'`);if(adapter)break;rejectedReasons[id||"#"+i]=adapter}if(!adapter){const reasons=Object.entries(rejectedReasons).map((([id,state])=>`adapter ${id} `+(!1===state?"is not supported by the environment":"is not available in the build")));let s=length?reasons.length>1?"since :\n"+reasons.map(renderReason).join("\n"):" "+renderReason(reasons[0]):"as no adapter specified";throw new core_AxiosError("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return adapter};function throwIfCancellationRequested(config){if(config.cancelToken&&config.cancelToken.throwIfRequested(),config.signal&&config.signal.aborted)throw new cancel_CanceledError(null,config)}function dispatchRequest(config){throwIfCancellationRequested(config),config.headers=core_AxiosHeaders.from(config.headers),config.data=transformData.call(config,config.transformRequest),-1!==["post","put","patch"].indexOf(config.method)&&config.headers.setContentType("application/x-www-form-urlencoded",!1);return adapters_getAdapter(config.adapter||lib_defaults.adapter)(config).then((function onAdapterResolution(response){return throwIfCancellationRequested(config),response.data=transformData.call(config,config.transformResponse,response),response.headers=core_AxiosHeaders.from(response.headers),response}),(function onAdapterRejection(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData.call(config,config.transformResponse,reason.response),reason.response.headers=core_AxiosHeaders.from(reason.response.headers))),Promise.reject(reason)}))}const validators={};["object","boolean","number","function","string","symbol"].forEach(((type,i)=>{validators[type]=function validator(thing){return typeof thing===type||"a"+(i<1?"n ":" ")+type}}));const deprecatedWarnings={};validators.transitional=function transitional(validator,version,message){function formatMessage(opt,desc){return"[Axios v1.7.4] Transitional option '"+opt+"'"+desc+(message?". "+message:"")}return(value,opt,opts)=>{if(!1===validator)throw new core_AxiosError(formatMessage(opt," has been removed"+(version?" in "+version:"")),core_AxiosError.ERR_DEPRECATED);return version&&!deprecatedWarnings[opt]&&(deprecatedWarnings[opt]=!0,console.warn(formatMessage(opt," has been deprecated since v"+version+" and will be removed in the near future"))),!validator||validator(value,opt,opts)}};const validator={assertOptions:function assertOptions(options,schema,allowUnknown){if("object"!=typeof options)throw new core_AxiosError("options must be an object",core_AxiosError.ERR_BAD_OPTION_VALUE);const keys=Object.keys(options);let i=keys.length;for(;i-- >0;){const opt=keys[i],validator=schema[opt];if(validator){const value=options[opt],result=void 0===value||validator(value,opt,options);if(!0!==result)throw new core_AxiosError("option "+opt+" must be "+result,core_AxiosError.ERR_BAD_OPTION_VALUE)}else if(!0!==allowUnknown)throw new core_AxiosError("Unknown option "+opt,core_AxiosError.ERR_BAD_OPTION)}},validators},Axios_validators=validator.validators;class Axios{constructor(instanceConfig){this.defaults=instanceConfig,this.interceptors={request:new core_InterceptorManager,response:new core_InterceptorManager}}async request(configOrUrl,config){try{return await this._request(configOrUrl,config)}catch(err){if(err instanceof Error){let dummy;Error.captureStackTrace?Error.captureStackTrace(dummy={}):dummy=new Error;const stack=dummy.stack?dummy.stack.replace(/^.+\n/,""):"";try{err.stack?stack&&!String(err.stack).endsWith(stack.replace(/^.+\n.+\n/,""))&&(err.stack+="\n"+stack):err.stack=stack}catch(e){}}throw err}}_request(configOrUrl,config){"string"==typeof configOrUrl?(config=config||{}).url=configOrUrl:config=configOrUrl||{},config=mergeConfig(this.defaults,config);const{transitional,paramsSerializer,headers}=config;void 0!==transitional&&validator.assertOptions(transitional,{silentJSONParsing:Axios_validators.transitional(Axios_validators.boolean),forcedJSONParsing:Axios_validators.transitional(Axios_validators.boolean),clarifyTimeoutError:Axios_validators.transitional(Axios_validators.boolean)},!1),null!=paramsSerializer&&(utils.isFunction(paramsSerializer)?config.paramsSerializer={serialize:paramsSerializer}:validator.assertOptions(paramsSerializer,{encode:Axios_validators.function,serialize:Axios_validators.function},!0)),config.method=(config.method||this.defaults.method||"get").toLowerCase();let contextHeaders=headers&&utils.merge(headers.common,headers[config.method]);headers&&utils.forEach(["delete","get","head","post","put","patch","common"],(method=>{delete headers[method]})),config.headers=core_AxiosHeaders.concat(contextHeaders,headers);const requestInterceptorChain=[];let synchronousRequestInterceptors=!0;this.interceptors.request.forEach((function unshiftRequestInterceptors(interceptor){"function"==typeof interceptor.runWhen&&!1===interceptor.runWhen(config)||(synchronousRequestInterceptors=synchronousRequestInterceptors&&interceptor.synchronous,requestInterceptorChain.unshift(interceptor.fulfilled,interceptor.rejected))}));const responseInterceptorChain=[];let promise;this.interceptors.response.forEach((function pushResponseInterceptors(interceptor){responseInterceptorChain.push(interceptor.fulfilled,interceptor.rejected)}));let len,i=0;if(!synchronousRequestInterceptors){const chain=[dispatchRequest.bind(this),void 0];for(chain.unshift.apply(chain,requestInterceptorChain),chain.push.apply(chain,responseInterceptorChain),len=chain.length,promise=Promise.resolve(config);i<len;)promise=promise.then(chain[i++],chain[i++]);return promise}len=requestInterceptorChain.length;let newConfig=config;for(i=0;i<len;){const onFulfilled=requestInterceptorChain[i++],onRejected=requestInterceptorChain[i++];try{newConfig=onFulfilled(newConfig)}catch(error){onRejected.call(this,error);break}}try{promise=dispatchRequest.call(this,newConfig)}catch(error){return Promise.reject(error)}for(i=0,len=responseInterceptorChain.length;i<len;)promise=promise.then(responseInterceptorChain[i++],responseInterceptorChain[i++]);return promise}getUri(config){return buildURL(buildFullPath((config=mergeConfig(this.defaults,config)).baseURL,config.url),config.params,config.paramsSerializer)}}utils.forEach(["delete","get","head","options"],(function forEachMethodNoData(method){Axios.prototype[method]=function(url,config){return this.request(mergeConfig(config||{},{method,url,data:(config||{}).data}))}})),utils.forEach(["post","put","patch"],(function forEachMethodWithData(method){function generateHTTPMethod(isForm){return function httpMethod(url,data,config){return this.request(mergeConfig(config||{},{method,headers:isForm?{"Content-Type":"multipart/form-data"}:{},url,data}))}}Axios.prototype[method]=generateHTTPMethod(),Axios.prototype[method+"Form"]=generateHTTPMethod(!0)}));const core_Axios=Axios;class CancelToken{constructor(executor){if("function"!=typeof executor)throw new TypeError("executor must be a function.");let resolvePromise;this.promise=new Promise((function promiseExecutor(resolve){resolvePromise=resolve}));const token=this;this.promise.then((cancel=>{if(!token._listeners)return;let i=token._listeners.length;for(;i-- >0;)token._listeners[i](cancel);token._listeners=null})),this.promise.then=onfulfilled=>{let _resolve;const promise=new Promise((resolve=>{token.subscribe(resolve),_resolve=resolve})).then(onfulfilled);return promise.cancel=function reject(){token.unsubscribe(_resolve)},promise},executor((function cancel(message,config,request){token.reason||(token.reason=new cancel_CanceledError(message,config,request),resolvePromise(token.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(listener){this.reason?listener(this.reason):this._listeners?this._listeners.push(listener):this._listeners=[listener]}unsubscribe(listener){if(!this._listeners)return;const index=this._listeners.indexOf(listener);-1!==index&&this._listeners.splice(index,1)}static source(){let cancel;return{token:new CancelToken((function executor(c){cancel=c})),cancel}}}const cancel_CancelToken=CancelToken;const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach((([key,value])=>{HttpStatusCode[value]=key}));const helpers_HttpStatusCode=HttpStatusCode;const axios=function createInstance(defaultConfig){const context=new core_Axios(defaultConfig),instance=bind(core_Axios.prototype.request,context);return utils.extend(instance,core_Axios.prototype,context,{allOwnKeys:!0}),utils.extend(instance,context,null,{allOwnKeys:!0}),instance.create=function create(instanceConfig){return createInstance(mergeConfig(defaultConfig,instanceConfig))},instance}(lib_defaults);axios.Axios=core_Axios,axios.CanceledError=cancel_CanceledError,axios.CancelToken=cancel_CancelToken,axios.isCancel=isCancel,axios.VERSION="1.7.4",axios.toFormData=helpers_toFormData,axios.AxiosError=core_AxiosError,axios.Cancel=axios.CanceledError,axios.all=function all(promises){return Promise.all(promises)},axios.spread=function spread(callback){return function wrap(arr){return callback.apply(null,arr)}},axios.isAxiosError=function isAxiosError(payload){return utils.isObject(payload)&&!0===payload.isAxiosError},axios.mergeConfig=mergeConfig,axios.AxiosHeaders=core_AxiosHeaders,axios.formToJSON=thing=>helpers_formDataToJSON(utils.isHTMLForm(thing)?new FormData(thing):thing),axios.getAdapter=adapters_getAdapter,axios.HttpStatusCode=helpers_HttpStatusCode,axios.default=axios;const lib_axios=axios},"./node_modules/.pnpm/base-x@3.0.10/node_modules/base-x/src/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;module.exports=function base(ALPHABET){if(ALPHABET.length>=255)throw new TypeError("Alphabet too long");for(var BASE_MAP=new Uint8Array(256),j=0;j<BASE_MAP.length;j++)BASE_MAP[j]=255;for(var i=0;i<ALPHABET.length;i++){var x=ALPHABET.charAt(i),xc=x.charCodeAt(0);if(255!==BASE_MAP[xc])throw new TypeError(x+" is ambiguous");BASE_MAP[xc]=i}var BASE=ALPHABET.length,LEADER=ALPHABET.charAt(0),FACTOR=Math.log(BASE)/Math.log(256),iFACTOR=Math.log(256)/Math.log(BASE);function decodeUnsafe(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return _Buffer.alloc(0);for(var psz=0,zeroes=0,length=0;source[psz]===LEADER;)zeroes++,psz++;for(var size=(source.length-psz)*FACTOR+1>>>0,b256=new Uint8Array(size);psz<source.length;){var carry=BASE_MAP[source.charCodeAt(psz)];if(255===carry)return;for(var i=0,it3=size-1;(0!==carry||i<length)&&-1!==it3;it3--,i++)carry+=BASE*b256[it3]>>>0,b256[it3]=carry%256>>>0,carry=carry/256>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,psz++}for(var it4=size-length;it4!==size&&0===b256[it4];)it4++;var vch=_Buffer.allocUnsafe(zeroes+(size-it4));vch.fill(0,0,zeroes);for(var j=zeroes;it4!==size;)vch[j++]=b256[it4++];return vch}return{encode:function encode(source){if((Array.isArray(source)||source instanceof Uint8Array)&&(source=_Buffer.from(source)),!_Buffer.isBuffer(source))throw new TypeError("Expected Buffer");if(0===source.length)return"";for(var zeroes=0,length=0,pbegin=0,pend=source.length;pbegin!==pend&&0===source[pbegin];)pbegin++,zeroes++;for(var size=(pend-pbegin)*iFACTOR+1>>>0,b58=new Uint8Array(size);pbegin!==pend;){for(var carry=source[pbegin],i=0,it1=size-1;(0!==carry||i<length)&&-1!==it1;it1--,i++)carry+=256*b58[it1]>>>0,b58[it1]=carry%BASE>>>0,carry=carry/BASE>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,pbegin++}for(var it2=size-length;it2!==size&&0===b58[it2];)it2++;for(var str=LEADER.repeat(zeroes);it2<size;++it2)str+=ALPHABET.charAt(b58[it2]);return str},decodeUnsafe,decode:function decode(string){var buffer=decodeUnsafe(string);if(buffer)return buffer;throw new Error("Non-base"+BASE+" character")}}}},"./node_modules/.pnpm/base-x@4.0.0/node_modules/base-x/src/index.js":module=>{"use strict";module.exports=function base(ALPHABET){if(ALPHABET.length>=255)throw new TypeError("Alphabet too long");for(var BASE_MAP=new Uint8Array(256),j=0;j<BASE_MAP.length;j++)BASE_MAP[j]=255;for(var i=0;i<ALPHABET.length;i++){var x=ALPHABET.charAt(i),xc=x.charCodeAt(0);if(255!==BASE_MAP[xc])throw new TypeError(x+" is ambiguous");BASE_MAP[xc]=i}var BASE=ALPHABET.length,LEADER=ALPHABET.charAt(0),FACTOR=Math.log(BASE)/Math.log(256),iFACTOR=Math.log(256)/Math.log(BASE);function decodeUnsafe(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return new Uint8Array;for(var psz=0,zeroes=0,length=0;source[psz]===LEADER;)zeroes++,psz++;for(var size=(source.length-psz)*FACTOR+1>>>0,b256=new Uint8Array(size);source[psz];){var carry=BASE_MAP[source.charCodeAt(psz)];if(255===carry)return;for(var i=0,it3=size-1;(0!==carry||i<length)&&-1!==it3;it3--,i++)carry+=BASE*b256[it3]>>>0,b256[it3]=carry%256>>>0,carry=carry/256>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,psz++}for(var it4=size-length;it4!==size&&0===b256[it4];)it4++;for(var vch=new Uint8Array(zeroes+(size-it4)),j=zeroes;it4!==size;)vch[j++]=b256[it4++];return vch}return{encode:function encode(source){if(source instanceof Uint8Array||(ArrayBuffer.isView(source)?source=new Uint8Array(source.buffer,source.byteOffset,source.byteLength):Array.isArray(source)&&(source=Uint8Array.from(source))),!(source instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===source.length)return"";for(var zeroes=0,length=0,pbegin=0,pend=source.length;pbegin!==pend&&0===source[pbegin];)pbegin++,zeroes++;for(var size=(pend-pbegin)*iFACTOR+1>>>0,b58=new Uint8Array(size);pbegin!==pend;){for(var carry=source[pbegin],i=0,it1=size-1;(0!==carry||i<length)&&-1!==it1;it1--,i++)carry+=256*b58[it1]>>>0,b58[it1]=carry%BASE>>>0,carry=carry/BASE>>>0;if(0!==carry)throw new Error("Non-zero carry");length=i,pbegin++}for(var it2=size-length;it2!==size&&0===b58[it2];)it2++;for(var str=LEADER.repeat(zeroes);it2<size;++it2)str+=ALPHABET.charAt(b58[it2]);return str},decodeUnsafe,decode:function decode(string){var buffer=decodeUnsafe(string);if(buffer)return buffer;throw new Error("Non-base"+BASE+" character")}}}},"./node_modules/.pnpm/bech32@2.0.0/node_modules/bech32/dist/index.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bech32m=exports.bech32=void 0;const ALPHABET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",ALPHABET_MAP={};for(let z=0;z<32;z++){const x=ALPHABET.charAt(z);ALPHABET_MAP[x]=z}function polymodStep(pre){const b=pre>>25;return(33554431&pre)<<5^996825010&-(1&b)^642813549&-(b>>1&1)^513874426&-(b>>2&1)^1027748829&-(b>>3&1)^705979059&-(b>>4&1)}function prefixChk(prefix){let chk=1;for(let i=0;i<prefix.length;++i){const c=prefix.charCodeAt(i);if(c<33||c>126)return"Invalid prefix ("+prefix+")";chk=polymodStep(chk)^c>>5}chk=polymodStep(chk);for(let i=0;i<prefix.length;++i){const v=prefix.charCodeAt(i);chk=polymodStep(chk)^31&v}return chk}function convert(data,inBits,outBits,pad){let value=0,bits=0;const maxV=(1<<outBits)-1,result=[];for(let i=0;i<data.length;++i)for(value=value<<inBits|data[i],bits+=inBits;bits>=outBits;)bits-=outBits,result.push(value>>bits&maxV);if(pad)bits>0&&result.push(value<<outBits-bits&maxV);else{if(bits>=inBits)return"Excess padding";if(value<<outBits-bits&maxV)return"Non-zero padding"}return result}function toWords(bytes){return convert(bytes,8,5,!0)}function fromWordsUnsafe(words){const res=convert(words,5,8,!1);if(Array.isArray(res))return res}function fromWords(words){const res=convert(words,5,8,!1);if(Array.isArray(res))return res;throw new Error(res)}function getLibraryFromEncoding(encoding){let ENCODING_CONST;function __decode(str,LIMIT){if(LIMIT=LIMIT||90,str.length<8)return str+" too short";if(str.length>LIMIT)return"Exceeds length limit";const lowered=str.toLowerCase(),uppered=str.toUpperCase();if(str!==lowered&&str!==uppered)return"Mixed-case string "+str;const split=(str=lowered).lastIndexOf("1");if(-1===split)return"No separator character for "+str;if(0===split)return"Missing prefix for "+str;const prefix=str.slice(0,split),wordChars=str.slice(split+1);if(wordChars.length<6)return"Data too short";let chk=prefixChk(prefix);if("string"==typeof chk)return chk;const words=[];for(let i=0;i<wordChars.length;++i){const c=wordChars.charAt(i),v=ALPHABET_MAP[c];if(void 0===v)return"Unknown character "+c;chk=polymodStep(chk)^v,i+6>=wordChars.length||words.push(v)}return chk!==ENCODING_CONST?"Invalid checksum for "+str:{prefix,words}}return ENCODING_CONST="bech32"===encoding?1:734539939,{decodeUnsafe:function decodeUnsafe(str,LIMIT){const res=__decode(str,LIMIT);if("object"==typeof res)return res},decode:function decode(str,LIMIT){const res=__decode(str,LIMIT);if("object"==typeof res)return res;throw new Error(res)},encode:function encode(prefix,words,LIMIT){if(LIMIT=LIMIT||90,prefix.length+7+words.length>LIMIT)throw new TypeError("Exceeds length limit");let chk=prefixChk(prefix=prefix.toLowerCase());if("string"==typeof chk)throw new Error(chk);let result=prefix+"1";for(let i=0;i<words.length;++i){const x=words[i];if(x>>5)throw new Error("Non 5-bit word");chk=polymodStep(chk)^x,result+=ALPHABET.charAt(x)}for(let i=0;i<6;++i)chk=polymodStep(chk);chk^=ENCODING_CONST;for(let i=0;i<6;++i){result+=ALPHABET.charAt(chk>>5*(5-i)&31)}return result},toWords,fromWordsUnsafe,fromWords}}exports.bech32=getLibraryFromEncoding("bech32"),exports.bech32m=getLibraryFromEncoding("bech32m")},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/combiner/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const parser_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/parser/index.js");function keyPusher(selfSet,selfKeyVals,otherKeyVals){return key=>{if(selfSet.has(key))return;const newKv=otherKeyVals.filter((kv=>kv.key.toString("hex")===key))[0];selfKeyVals.push(newKv),selfSet.add(key)}}function getTx(psbt){return psbt.globalMap.unsignedTx}function getKeySet(keyVals){const set=new Set;return keyVals.forEach((keyVal=>{const hex=keyVal.key.toString("hex");if(set.has(hex))throw new Error("Combine: KeyValue Map keys should be unique");set.add(hex)})),set}exports.combine=function combine(psbts){const self=psbts[0],selfKeyVals=parser_1.psbtToKeyVals(self),others=psbts.slice(1);if(0===others.length)throw new Error("Combine: Nothing to combine");const selfTx=getTx(self);if(void 0===selfTx)throw new Error("Combine: Self missing transaction");const selfGlobalSet=getKeySet(selfKeyVals.globalKeyVals),selfInputSets=selfKeyVals.inputKeyVals.map(getKeySet),selfOutputSets=selfKeyVals.outputKeyVals.map(getKeySet);for(const other of others){const otherTx=getTx(other);if(void 0===otherTx||!otherTx.toBuffer().equals(selfTx.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const otherKeyVals=parser_1.psbtToKeyVals(other);getKeySet(otherKeyVals.globalKeyVals).forEach(keyPusher(selfGlobalSet,selfKeyVals.globalKeyVals,otherKeyVals.globalKeyVals));otherKeyVals.inputKeyVals.map(getKeySet).forEach(((inputSet,idx)=>inputSet.forEach(keyPusher(selfInputSets[idx],selfKeyVals.inputKeyVals[idx],otherKeyVals.inputKeyVals[idx]))));otherKeyVals.outputKeyVals.map(getKeySet).forEach(((outputSet,idx)=>outputSet.forEach(keyPusher(selfOutputSets[idx],selfKeyVals.outputKeyVals[idx],otherKeyVals.outputKeyVals[idx]))))}return parser_1.psbtFromKeyVals(selfTx,{globalMapKeyVals:selfKeyVals.globalKeyVals,inputKeyVals:selfKeyVals.inputKeyVals,outputKeyVals:selfKeyVals.outputKeyVals})}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/global/globalXpub.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+keyVal.key.toString("hex"));if(79!==keyVal.key.length||![2,3].includes(keyVal.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+keyVal.key.toString("hex"));if(keyVal.value.length/4%1!=0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const extendedPubkey=keyVal.key.slice(1),data={masterFingerprint:keyVal.value.slice(0,4),extendedPubkey,path:"m"};for(const i of(n=keyVal.value.length/4-1,[...Array(n).keys()])){const val=keyVal.value.readUInt32LE(4*i+4),isHard=!!(2147483648&val),idx=2147483647&val;data.path+="/"+idx.toString(10)+(isHard?"'":"")}var n;return data},exports.encode=function encode(data){const head=Buffer.from([typeFields_1.GlobalTypes.GLOBAL_XPUB]),key=Buffer.concat([head,data.extendedPubkey]),splitPath=data.path.split("/"),value=Buffer.allocUnsafe(4*splitPath.length);data.masterFingerprint.copy(value,0);let offset=4;return splitPath.slice(1).forEach((level=>{const isHard="'"===level.slice(-1);let num=2147483647&parseInt(isHard?level.slice(0,-1):level,10);isHard&&(num+=2147483648),value.writeUInt32LE(num,offset),offset+=4})),{key,value}},exports.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",exports.check=function check(data){const epk=data.extendedPubkey,mfp=data.masterFingerprint,p=data.path;return Buffer.isBuffer(epk)&&78===epk.length&&[2,3].indexOf(epk[45])>-1&&Buffer.isBuffer(mfp)&&4===mfp.length&&"string"==typeof p&&!!p.match(/^m(\/\d+'?)*$/)},exports.canAddToArray=function canAddToArray(array,item,dupeSet){const dupeString=item.extendedPubkey.toString("hex");return!dupeSet.has(dupeString)&&(dupeSet.add(dupeString),0===array.filter((v=>v.extendedPubkey.equals(item.extendedPubkey))).length)}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/global/unsignedTx.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.encode=function encode(data){return{key:Buffer.from([typeFields_1.GlobalTypes.UNSIGNED_TX]),value:data.toBuffer()}}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js"),globalXpub=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/global/globalXpub.js"),unsignedTx=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/global/unsignedTx.js"),finalScriptSig=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/finalScriptSig.js"),finalScriptWitness=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/finalScriptWitness.js"),nonWitnessUtxo=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/nonWitnessUtxo.js"),partialSig=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/partialSig.js"),porCommitment=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/porCommitment.js"),sighashType=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/sighashType.js"),tapKeySig=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/tapKeySig.js"),tapLeafScript=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/tapLeafScript.js"),tapMerkleRoot=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/tapMerkleRoot.js"),tapScriptSig=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/tapScriptSig.js"),witnessUtxo=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/witnessUtxo.js"),tapTree=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/output/tapTree.js"),bip32Derivation=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/bip32Derivation.js"),checkPubkey=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/checkPubkey.js"),redeemScript=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/redeemScript.js"),tapBip32Derivation=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/tapBip32Derivation.js"),tapInternalKey=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/tapInternalKey.js"),witnessScript=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/witnessScript.js"),globals={unsignedTx,globalXpub,checkPubkey:checkPubkey.makeChecker([])};exports.globals=globals;const inputs={nonWitnessUtxo,partialSig,sighashType,finalScriptSig,finalScriptWitness,porCommitment,witnessUtxo,bip32Derivation:bip32Derivation.makeConverter(typeFields_1.InputTypes.BIP32_DERIVATION),redeemScript:redeemScript.makeConverter(typeFields_1.InputTypes.REDEEM_SCRIPT),witnessScript:witnessScript.makeConverter(typeFields_1.InputTypes.WITNESS_SCRIPT),checkPubkey:checkPubkey.makeChecker([typeFields_1.InputTypes.PARTIAL_SIG,typeFields_1.InputTypes.BIP32_DERIVATION]),tapKeySig,tapScriptSig,tapLeafScript,tapBip32Derivation:tapBip32Derivation.makeConverter(typeFields_1.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:tapInternalKey.makeConverter(typeFields_1.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot};exports.inputs=inputs;const outputs={bip32Derivation:bip32Derivation.makeConverter(typeFields_1.OutputTypes.BIP32_DERIVATION),redeemScript:redeemScript.makeConverter(typeFields_1.OutputTypes.REDEEM_SCRIPT),witnessScript:witnessScript.makeConverter(typeFields_1.OutputTypes.WITNESS_SCRIPT),checkPubkey:checkPubkey.makeChecker([typeFields_1.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:tapBip32Derivation.makeConverter(typeFields_1.OutputTypes.TAP_BIP32_DERIVATION),tapTree,tapInternalKey:tapInternalKey.makeConverter(typeFields_1.OutputTypes.TAP_INTERNAL_KEY)};exports.outputs=outputs},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/finalScriptSig.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+keyVal.key.toString("hex"));return keyVal.value},exports.encode=function encode(data){return{key:Buffer.from([typeFields_1.InputTypes.FINAL_SCRIPTSIG]),value:data}},exports.expected="Buffer",exports.check=function check(data){return Buffer.isBuffer(data)},exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.finalScriptSig}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/finalScriptWitness.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+keyVal.key.toString("hex"));return keyVal.value},exports.encode=function encode(data){return{key:Buffer.from([typeFields_1.InputTypes.FINAL_SCRIPTWITNESS]),value:data}},exports.expected="Buffer",exports.check=function check(data){return Buffer.isBuffer(data)},exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.finalScriptWitness}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/nonWitnessUtxo.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+keyVal.key.toString("hex"));return keyVal.value},exports.encode=function encode(data){return{key:Buffer.from([typeFields_1.InputTypes.NON_WITNESS_UTXO]),value:data}},exports.expected="Buffer",exports.check=function check(data){return Buffer.isBuffer(data)},exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.nonWitnessUtxo}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/partialSig.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+keyVal.key.toString("hex"));if(34!==keyVal.key.length&&66!==keyVal.key.length||![2,3,4].includes(keyVal.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+keyVal.key.toString("hex"));return{pubkey:keyVal.key.slice(1),signature:keyVal.value}},exports.encode=function encode(pSig){const head=Buffer.from([typeFields_1.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([head,pSig.pubkey]),value:pSig.signature}},exports.expected="{ pubkey: Buffer; signature: Buffer; }",exports.check=function check(data){return Buffer.isBuffer(data.pubkey)&&Buffer.isBuffer(data.signature)&&[33,65].includes(data.pubkey.length)&&[2,3,4].includes(data.pubkey[0])&&function isDerSigWithSighash(buf){if(!Buffer.isBuffer(buf)||buf.length<9)return!1;if(48!==buf[0])return!1;if(buf.length!==buf[1]+3)return!1;if(2!==buf[2])return!1;const rLen=buf[3];if(rLen>33||rLen<1)return!1;if(2!==buf[3+rLen+1])return!1;const sLen=buf[3+rLen+2];return!(sLen>33||sLen<1)&&buf.length===3+rLen+2+sLen+2}(data.signature)},exports.canAddToArray=function canAddToArray(array,item,dupeSet){const dupeString=item.pubkey.toString("hex");return!dupeSet.has(dupeString)&&(dupeSet.add(dupeString),0===array.filter((v=>v.pubkey.equals(item.pubkey))).length)}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/porCommitment.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+keyVal.key.toString("hex"));return keyVal.value.toString("utf8")},exports.encode=function encode(data){return{key:Buffer.from([typeFields_1.InputTypes.POR_COMMITMENT]),value:Buffer.from(data,"utf8")}},exports.expected="string",exports.check=function check(data){return"string"==typeof data},exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.porCommitment}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/sighashType.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+keyVal.key.toString("hex"));return keyVal.value.readUInt32LE(0)},exports.encode=function encode(data){const key=Buffer.from([typeFields_1.InputTypes.SIGHASH_TYPE]),value=Buffer.allocUnsafe(4);return value.writeUInt32LE(data,0),{key,value}},exports.expected="number",exports.check=function check(data){return"number"==typeof data},exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.sighashType}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/tapKeySig.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");function check(data){return Buffer.isBuffer(data)&&(64===data.length||65===data.length)}exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.TAP_KEY_SIG||1!==keyVal.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+keyVal.key.toString("hex"));if(!check(keyVal.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return keyVal.value},exports.encode=function encode(value){return{key:Buffer.from([typeFields_1.InputTypes.TAP_KEY_SIG]),value}},exports.expected="Buffer",exports.check=check,exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.tapKeySig}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/tapLeafScript.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+keyVal.key.toString("hex"));if((keyVal.key.length-2)%32!=0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+keyVal.key.toString("hex"));const leafVersion=keyVal.value[keyVal.value.length-1];if((254&keyVal.key[1])!==leafVersion)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+keyVal.key.toString("hex"));const script=keyVal.value.slice(0,-1);return{controlBlock:keyVal.key.slice(1),script,leafVersion}},exports.encode=function encode(tScript){const head=Buffer.from([typeFields_1.InputTypes.TAP_LEAF_SCRIPT]),verBuf=Buffer.from([tScript.leafVersion]);return{key:Buffer.concat([head,tScript.controlBlock]),value:Buffer.concat([tScript.script,verBuf])}},exports.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",exports.check=function check(data){return Buffer.isBuffer(data.controlBlock)&&(data.controlBlock.length-1)%32==0&&(254&data.controlBlock[0])===data.leafVersion&&Buffer.isBuffer(data.script)},exports.canAddToArray=function canAddToArray(array,item,dupeSet){const dupeString=item.controlBlock.toString("hex");return!dupeSet.has(dupeString)&&(dupeSet.add(dupeString),0===array.filter((v=>v.controlBlock.equals(item.controlBlock))).length)}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/tapMerkleRoot.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");function check(data){return Buffer.isBuffer(data)&&32===data.length}exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.TAP_MERKLE_ROOT||1!==keyVal.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+keyVal.key.toString("hex"));if(!check(keyVal.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return keyVal.value},exports.encode=function encode(value){return{key:Buffer.from([typeFields_1.InputTypes.TAP_MERKLE_ROOT]),value}},exports.expected="Buffer",exports.check=check,exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.tapMerkleRoot}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/tapScriptSig.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+keyVal.key.toString("hex"));if(65!==keyVal.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+keyVal.key.toString("hex"));if(64!==keyVal.value.length&&65!==keyVal.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+keyVal.key.toString("hex"));return{pubkey:keyVal.key.slice(1,33),leafHash:keyVal.key.slice(33),signature:keyVal.value}},exports.encode=function encode(tSig){const head=Buffer.from([typeFields_1.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([head,tSig.pubkey,tSig.leafHash]),value:tSig.signature}},exports.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",exports.check=function check(data){return Buffer.isBuffer(data.pubkey)&&Buffer.isBuffer(data.leafHash)&&Buffer.isBuffer(data.signature)&&32===data.pubkey.length&&32===data.leafHash.length&&(64===data.signature.length||65===data.signature.length)},exports.canAddToArray=function canAddToArray(array,item,dupeSet){const dupeString=item.pubkey.toString("hex")+item.leafHash.toString("hex");return!dupeSet.has(dupeString)&&(dupeSet.add(dupeString),0===array.filter((v=>v.pubkey.equals(item.pubkey)&&v.leafHash.equals(item.leafHash))).length)}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/input/witnessUtxo.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js"),tools_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/tools.js"),varuint=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/varint.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+keyVal.key.toString("hex"));const value=tools_1.readUInt64LE(keyVal.value,0);let _offset=8;const scriptLen=varuint.decode(keyVal.value,_offset);_offset+=varuint.encodingLength(scriptLen);const script=keyVal.value.slice(_offset);if(script.length!==scriptLen)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script,value}},exports.encode=function encode(data){const{script,value}=data,varintLen=varuint.encodingLength(script.length),result=Buffer.allocUnsafe(8+varintLen+script.length);return tools_1.writeUInt64LE(result,value,0),varuint.encode(script.length,result,8),script.copy(result,8+varintLen),{key:Buffer.from([typeFields_1.InputTypes.WITNESS_UTXO]),value:result}},exports.expected="{ script: Buffer; value: number; }",exports.check=function check(data){return Buffer.isBuffer(data.script)&&"number"==typeof data.value},exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.witnessUtxo}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/output/tapTree.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js"),varuint=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/varint.js");exports.decode=function decode(keyVal){if(keyVal.key[0]!==typeFields_1.OutputTypes.TAP_TREE||1!==keyVal.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+keyVal.key.toString("hex"));let _offset=0;const data=[];for(;_offset<keyVal.value.length;){const depth=keyVal.value[_offset++],leafVersion=keyVal.value[_offset++],scriptLen=varuint.decode(keyVal.value,_offset);_offset+=varuint.encodingLength(scriptLen),data.push({depth,leafVersion,script:keyVal.value.slice(_offset,_offset+scriptLen)}),_offset+=scriptLen}return{leaves:data}},exports.encode=function encode(tree){const key=Buffer.from([typeFields_1.OutputTypes.TAP_TREE]),bufs=[].concat(...tree.leaves.map((tapLeaf=>[Buffer.of(tapLeaf.depth,tapLeaf.leafVersion),varuint.encode(tapLeaf.script.length),tapLeaf.script])));return{key,value:Buffer.concat(bufs)}},exports.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",exports.check=function check(data){return Array.isArray(data.leaves)&&data.leaves.every((tapLeaf=>tapLeaf.depth>=0&&tapLeaf.depth<=128&&(254&tapLeaf.leafVersion)===tapLeaf.leafVersion&&Buffer.isBuffer(tapLeaf.script)))},exports.canAdd=function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.tapTree}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/bip32Derivation.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const isValidDERKey=pubkey=>33===pubkey.length&&[2,3].includes(pubkey[0])||65===pubkey.length&&4===pubkey[0];exports.makeConverter=function makeConverter(TYPE_BYTE,isValidPubkey=isValidDERKey){return{decode:function decode(keyVal){if(keyVal.key[0]!==TYPE_BYTE)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+keyVal.key.toString("hex"));const pubkey=keyVal.key.slice(1);if(!isValidPubkey(pubkey))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+keyVal.key.toString("hex"));if(keyVal.value.length/4%1!=0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const data={masterFingerprint:keyVal.value.slice(0,4),pubkey,path:"m"};for(const i of(n=keyVal.value.length/4-1,[...Array(n).keys()])){const val=keyVal.value.readUInt32LE(4*i+4),isHard=!!(2147483648&val),idx=2147483647&val;data.path+="/"+idx.toString(10)+(isHard?"'":"")}var n;return data},encode:function encode(data){const head=Buffer.from([TYPE_BYTE]),key=Buffer.concat([head,data.pubkey]),splitPath=data.path.split("/"),value=Buffer.allocUnsafe(4*splitPath.length);data.masterFingerprint.copy(value,0);let offset=4;return splitPath.slice(1).forEach((level=>{const isHard="'"===level.slice(-1);let num=2147483647&parseInt(isHard?level.slice(0,-1):level,10);isHard&&(num+=2147483648),value.writeUInt32LE(num,offset),offset+=4})),{key,value}},check:function check(data){return Buffer.isBuffer(data.pubkey)&&Buffer.isBuffer(data.masterFingerprint)&&"string"==typeof data.path&&isValidPubkey(data.pubkey)&&4===data.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function canAddToArray(array,item,dupeSet){const dupeString=item.pubkey.toString("hex");return!dupeSet.has(dupeString)&&(dupeSet.add(dupeString),0===array.filter((v=>v.pubkey.equals(item.pubkey))).length)}}}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/checkPubkey.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeChecker=function makeChecker(pubkeyTypes){return function checkPubkey(keyVal){let pubkey;if(pubkeyTypes.includes(keyVal.key[0])&&(pubkey=keyVal.key.slice(1),33!==pubkey.length&&65!==pubkey.length||![2,3,4].includes(pubkey[0])))throw new Error("Format Error: invalid pubkey in key 0x"+keyVal.key.toString("hex"));return pubkey}}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/redeemScript.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeConverter=function makeConverter(TYPE_BYTE){return{decode:function decode(keyVal){if(keyVal.key[0]!==TYPE_BYTE)throw new Error("Decode Error: could not decode redeemScript with key 0x"+keyVal.key.toString("hex"));return keyVal.value},encode:function encode(data){return{key:Buffer.from([TYPE_BYTE]),value:data}},check:function check(data){return Buffer.isBuffer(data)},expected:"Buffer",canAdd:function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.redeemScript}}}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/tapBip32Derivation.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const varuint=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/varint.js"),bip32Derivation=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/bip32Derivation.js"),isValidBIP340Key=pubkey=>32===pubkey.length;exports.makeConverter=function makeConverter(TYPE_BYTE){const parent=bip32Derivation.makeConverter(TYPE_BYTE,isValidBIP340Key);return{decode:function decode(keyVal){const nHashes=varuint.decode(keyVal.value),nHashesLen=varuint.encodingLength(nHashes),base=parent.decode({key:keyVal.key,value:keyVal.value.slice(nHashesLen+32*nHashes)}),leafHashes=new Array(nHashes);for(let i=0,_offset=nHashesLen;i<nHashes;i++,_offset+=32)leafHashes[i]=keyVal.value.slice(_offset,_offset+32);return Object.assign({},base,{leafHashes})},encode:function encode(data){const base=parent.encode(data),nHashesLen=varuint.encodingLength(data.leafHashes.length),nHashesBuf=Buffer.allocUnsafe(nHashesLen);varuint.encode(data.leafHashes.length,nHashesBuf);const value=Buffer.concat([nHashesBuf,...data.leafHashes,base.value]);return Object.assign({},base,{value})},check:function check(data){return Array.isArray(data.leafHashes)&&data.leafHashes.every((leafHash=>Buffer.isBuffer(leafHash)&&32===leafHash.length))&&parent.check(data)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:parent.canAddToArray}}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/tapInternalKey.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeConverter=function makeConverter(TYPE_BYTE){return{decode:function decode(keyVal){if(keyVal.key[0]!==TYPE_BYTE||1!==keyVal.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+keyVal.key.toString("hex"));if(32!==keyVal.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return keyVal.value},encode:function encode(value){return{key:Buffer.from([TYPE_BYTE]),value}},check:function check(data){return Buffer.isBuffer(data)&&32===data.length},expected:"Buffer",canAdd:function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.tapInternalKey}}}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/shared/witnessScript.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeConverter=function makeConverter(TYPE_BYTE){return{decode:function decode(keyVal){if(keyVal.key[0]!==TYPE_BYTE)throw new Error("Decode Error: could not decode witnessScript with key 0x"+keyVal.key.toString("hex"));return keyVal.value},encode:function encode(data){return{key:Buffer.from([TYPE_BYTE]),value:data}},check:function check(data){return Buffer.isBuffer(data)},expected:"Buffer",canAdd:function canAdd(currentData,newData){return!!currentData&&!!newData&&void 0===currentData.witnessScript}}}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/tools.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const varuint=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/varint.js");function keyValToBuffer(keyVal){const keyLen=keyVal.key.length,valLen=keyVal.value.length,keyVarIntLen=varuint.encodingLength(keyLen),valVarIntLen=varuint.encodingLength(valLen),buffer=Buffer.allocUnsafe(keyVarIntLen+keyLen+valVarIntLen+valLen);return varuint.encode(keyLen,buffer,0),keyVal.key.copy(buffer,keyVarIntLen),varuint.encode(valLen,buffer,keyVarIntLen+keyLen),keyVal.value.copy(buffer,keyVarIntLen+keyLen+valVarIntLen),buffer}function verifuint(value,max){if("number"!=typeof value)throw new Error("cannot write a non-number as a number");if(value<0)throw new Error("specified a negative value for writing an unsigned value");if(value>max)throw new Error("RangeError: value out of range");if(Math.floor(value)!==value)throw new Error("value has a fractional component")}exports.range=n=>[...Array(n).keys()],exports.reverseBuffer=function reverseBuffer(buffer){if(buffer.length<1)return buffer;let j=buffer.length-1,tmp=0;for(let i=0;i<buffer.length/2;i++)tmp=buffer[i],buffer[i]=buffer[j],buffer[j]=tmp,j--;return buffer},exports.keyValsToBuffer=function keyValsToBuffer(keyVals){const buffers=keyVals.map(keyValToBuffer);return buffers.push(Buffer.from([0])),Buffer.concat(buffers)},exports.keyValToBuffer=keyValToBuffer,exports.readUInt64LE=function readUInt64LE(buffer,offset){const a=buffer.readUInt32LE(offset);let b=buffer.readUInt32LE(offset+4);return b*=4294967296,verifuint(b+a,9007199254740991),b+a},exports.writeUInt64LE=function writeUInt64LE(buffer,value,offset){return verifuint(value,9007199254740991),buffer.writeInt32LE(-1&value,offset),buffer.writeUInt32LE(Math.floor(value/4294967296),offset+4),offset+8}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/varint.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const MAX_SAFE_INTEGER=9007199254740991;function checkUInt53(n){if(n<0||n>MAX_SAFE_INTEGER||n%1!=0)throw new RangeError("value out of range")}function encodingLength(_number){return checkUInt53(_number),_number<253?1:_number<=65535?3:_number<=4294967295?5:9}exports.encode=function encode(_number,buffer,offset){if(checkUInt53(_number),buffer||(buffer=Buffer.allocUnsafe(encodingLength(_number))),!Buffer.isBuffer(buffer))throw new TypeError("buffer must be a Buffer instance");return offset||(offset=0),_number<253?(buffer.writeUInt8(_number,offset),Object.assign(encode,{bytes:1})):_number<=65535?(buffer.writeUInt8(253,offset),buffer.writeUInt16LE(_number,offset+1),Object.assign(encode,{bytes:3})):_number<=4294967295?(buffer.writeUInt8(254,offset),buffer.writeUInt32LE(_number,offset+1),Object.assign(encode,{bytes:5})):(buffer.writeUInt8(255,offset),buffer.writeUInt32LE(_number>>>0,offset+1),buffer.writeUInt32LE(_number/4294967296|0,offset+5),Object.assign(encode,{bytes:9})),buffer},exports.decode=function decode(buffer,offset){if(!Buffer.isBuffer(buffer))throw new TypeError("buffer must be a Buffer instance");offset||(offset=0);const first=buffer.readUInt8(offset);if(first<253)return Object.assign(decode,{bytes:1}),first;if(253===first)return Object.assign(decode,{bytes:3}),buffer.readUInt16LE(offset+1);if(254===first)return Object.assign(decode,{bytes:5}),buffer.readUInt32LE(offset+1);{Object.assign(decode,{bytes:9});const lo=buffer.readUInt32LE(offset+1),_number=4294967296*buffer.readUInt32LE(offset+5)+lo;return checkUInt53(_number),_number}},exports.encodingLength=encodingLength},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/parser/fromBuffer.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const convert=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/index.js"),tools_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/tools.js"),varuint=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/varint.js"),typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js");function checkKeyBuffer(type,keyBuf,keyNum){if(!keyBuf.equals(Buffer.from([keyNum])))throw new Error(`Format Error: Invalid ${type} key: ${keyBuf.toString("hex")}`)}function psbtFromKeyVals(unsignedTx,{globalMapKeyVals,inputKeyVals,outputKeyVals}){const globalMap={unsignedTx};let txCount=0;for(const keyVal of globalMapKeyVals)switch(keyVal.key[0]){case typeFields_1.GlobalTypes.UNSIGNED_TX:if(checkKeyBuffer("global",keyVal.key,typeFields_1.GlobalTypes.UNSIGNED_TX),txCount>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");txCount++;break;case typeFields_1.GlobalTypes.GLOBAL_XPUB:void 0===globalMap.globalXpub&&(globalMap.globalXpub=[]),globalMap.globalXpub.push(convert.globals.globalXpub.decode(keyVal));break;default:globalMap.unknownKeyVals||(globalMap.unknownKeyVals=[]),globalMap.unknownKeyVals.push(keyVal)}const inputCount=inputKeyVals.length,outputCount=outputKeyVals.length,inputs=[],outputs=[];for(const index of tools_1.range(inputCount)){const input={};for(const keyVal of inputKeyVals[index])switch(convert.inputs.checkPubkey(keyVal),keyVal.key[0]){case typeFields_1.InputTypes.NON_WITNESS_UTXO:if(checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.NON_WITNESS_UTXO),void 0!==input.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");input.nonWitnessUtxo=convert.inputs.nonWitnessUtxo.decode(keyVal);break;case typeFields_1.InputTypes.WITNESS_UTXO:if(checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.WITNESS_UTXO),void 0!==input.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");input.witnessUtxo=convert.inputs.witnessUtxo.decode(keyVal);break;case typeFields_1.InputTypes.PARTIAL_SIG:void 0===input.partialSig&&(input.partialSig=[]),input.partialSig.push(convert.inputs.partialSig.decode(keyVal));break;case typeFields_1.InputTypes.SIGHASH_TYPE:if(checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.SIGHASH_TYPE),void 0!==input.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");input.sighashType=convert.inputs.sighashType.decode(keyVal);break;case typeFields_1.InputTypes.REDEEM_SCRIPT:if(checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.REDEEM_SCRIPT),void 0!==input.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");input.redeemScript=convert.inputs.redeemScript.decode(keyVal);break;case typeFields_1.InputTypes.WITNESS_SCRIPT:if(checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.WITNESS_SCRIPT),void 0!==input.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");input.witnessScript=convert.inputs.witnessScript.decode(keyVal);break;case typeFields_1.InputTypes.BIP32_DERIVATION:void 0===input.bip32Derivation&&(input.bip32Derivation=[]),input.bip32Derivation.push(convert.inputs.bip32Derivation.decode(keyVal));break;case typeFields_1.InputTypes.FINAL_SCRIPTSIG:checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.FINAL_SCRIPTSIG),input.finalScriptSig=convert.inputs.finalScriptSig.decode(keyVal);break;case typeFields_1.InputTypes.FINAL_SCRIPTWITNESS:checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.FINAL_SCRIPTWITNESS),input.finalScriptWitness=convert.inputs.finalScriptWitness.decode(keyVal);break;case typeFields_1.InputTypes.POR_COMMITMENT:checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.POR_COMMITMENT),input.porCommitment=convert.inputs.porCommitment.decode(keyVal);break;case typeFields_1.InputTypes.TAP_KEY_SIG:checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.TAP_KEY_SIG),input.tapKeySig=convert.inputs.tapKeySig.decode(keyVal);break;case typeFields_1.InputTypes.TAP_SCRIPT_SIG:void 0===input.tapScriptSig&&(input.tapScriptSig=[]),input.tapScriptSig.push(convert.inputs.tapScriptSig.decode(keyVal));break;case typeFields_1.InputTypes.TAP_LEAF_SCRIPT:void 0===input.tapLeafScript&&(input.tapLeafScript=[]),input.tapLeafScript.push(convert.inputs.tapLeafScript.decode(keyVal));break;case typeFields_1.InputTypes.TAP_BIP32_DERIVATION:void 0===input.tapBip32Derivation&&(input.tapBip32Derivation=[]),input.tapBip32Derivation.push(convert.inputs.tapBip32Derivation.decode(keyVal));break;case typeFields_1.InputTypes.TAP_INTERNAL_KEY:checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.TAP_INTERNAL_KEY),input.tapInternalKey=convert.inputs.tapInternalKey.decode(keyVal);break;case typeFields_1.InputTypes.TAP_MERKLE_ROOT:checkKeyBuffer("input",keyVal.key,typeFields_1.InputTypes.TAP_MERKLE_ROOT),input.tapMerkleRoot=convert.inputs.tapMerkleRoot.decode(keyVal);break;default:input.unknownKeyVals||(input.unknownKeyVals=[]),input.unknownKeyVals.push(keyVal)}inputs.push(input)}for(const index of tools_1.range(outputCount)){const output={};for(const keyVal of outputKeyVals[index])switch(convert.outputs.checkPubkey(keyVal),keyVal.key[0]){case typeFields_1.OutputTypes.REDEEM_SCRIPT:if(checkKeyBuffer("output",keyVal.key,typeFields_1.OutputTypes.REDEEM_SCRIPT),void 0!==output.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");output.redeemScript=convert.outputs.redeemScript.decode(keyVal);break;case typeFields_1.OutputTypes.WITNESS_SCRIPT:if(checkKeyBuffer("output",keyVal.key,typeFields_1.OutputTypes.WITNESS_SCRIPT),void 0!==output.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");output.witnessScript=convert.outputs.witnessScript.decode(keyVal);break;case typeFields_1.OutputTypes.BIP32_DERIVATION:void 0===output.bip32Derivation&&(output.bip32Derivation=[]),output.bip32Derivation.push(convert.outputs.bip32Derivation.decode(keyVal));break;case typeFields_1.OutputTypes.TAP_INTERNAL_KEY:checkKeyBuffer("output",keyVal.key,typeFields_1.OutputTypes.TAP_INTERNAL_KEY),output.tapInternalKey=convert.outputs.tapInternalKey.decode(keyVal);break;case typeFields_1.OutputTypes.TAP_TREE:checkKeyBuffer("output",keyVal.key,typeFields_1.OutputTypes.TAP_TREE),output.tapTree=convert.outputs.tapTree.decode(keyVal);break;case typeFields_1.OutputTypes.TAP_BIP32_DERIVATION:void 0===output.tapBip32Derivation&&(output.tapBip32Derivation=[]),output.tapBip32Derivation.push(convert.outputs.tapBip32Derivation.decode(keyVal));break;default:output.unknownKeyVals||(output.unknownKeyVals=[]),output.unknownKeyVals.push(keyVal)}outputs.push(output)}return{globalMap,inputs,outputs}}exports.psbtFromBuffer=function psbtFromBuffer(buffer,txGetter){let offset=0;function varSlice(){const keyLen=varuint.decode(buffer,offset);offset+=varuint.encodingLength(keyLen);const key=buffer.slice(offset,offset+keyLen);return offset+=keyLen,key}function getKeyValue(){return{key:varSlice(),value:varSlice()}}function checkEndOfKeyValPairs(){if(offset>=buffer.length)throw new Error("Format Error: Unexpected End of PSBT");const isEnd=0===buffer.readUInt8(offset);return isEnd&&offset++,isEnd}if(1886610036!==function readUInt32BE(){const num=buffer.readUInt32BE(offset);return offset+=4,num}())throw new Error("Format Error: Invalid Magic Number");if(255!==function readUInt8(){const num=buffer.readUInt8(offset);return offset+=1,num}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const globalMapKeyVals=[],globalKeyIndex={};for(;!checkEndOfKeyValPairs();){const keyVal=getKeyValue(),hexKey=keyVal.key.toString("hex");if(globalKeyIndex[hexKey])throw new Error("Format Error: Keys must be unique for global keymap: key "+hexKey);globalKeyIndex[hexKey]=1,globalMapKeyVals.push(keyVal)}const unsignedTxMaps=globalMapKeyVals.filter((keyVal=>keyVal.key[0]===typeFields_1.GlobalTypes.UNSIGNED_TX));if(1!==unsignedTxMaps.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const unsignedTx=txGetter(unsignedTxMaps[0].value),{inputCount,outputCount}=unsignedTx.getInputOutputCounts(),inputKeyVals=[],outputKeyVals=[];for(const index of tools_1.range(inputCount)){const inputKeyIndex={},input=[];for(;!checkEndOfKeyValPairs();){const keyVal=getKeyValue(),hexKey=keyVal.key.toString("hex");if(inputKeyIndex[hexKey])throw new Error("Format Error: Keys must be unique for each input: input index "+index+" key "+hexKey);inputKeyIndex[hexKey]=1,input.push(keyVal)}inputKeyVals.push(input)}for(const index of tools_1.range(outputCount)){const outputKeyIndex={},output=[];for(;!checkEndOfKeyValPairs();){const keyVal=getKeyValue(),hexKey=keyVal.key.toString("hex");if(outputKeyIndex[hexKey])throw new Error("Format Error: Keys must be unique for each output: output index "+index+" key "+hexKey);outputKeyIndex[hexKey]=1,output.push(keyVal)}outputKeyVals.push(output)}return psbtFromKeyVals(unsignedTx,{globalMapKeyVals,inputKeyVals,outputKeyVals})},exports.checkKeyBuffer=checkKeyBuffer,exports.psbtFromKeyVals=psbtFromKeyVals},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/parser/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/parser/fromBuffer.js")),__export(__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/parser/toBuffer.js"))},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/parser/toBuffer.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const convert=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/index.js"),tools_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/tools.js");exports.psbtToBuffer=function psbtToBuffer({globalMap,inputs,outputs}){const{globalKeyVals,inputKeyVals,outputKeyVals}=psbtToKeyVals({globalMap,inputs,outputs}),globalBuffer=tools_1.keyValsToBuffer(globalKeyVals),keyValsOrEmptyToBuffer=keyVals=>0===keyVals.length?[Buffer.from([0])]:keyVals.map(tools_1.keyValsToBuffer),inputBuffers=keyValsOrEmptyToBuffer(inputKeyVals),outputBuffers=keyValsOrEmptyToBuffer(outputKeyVals),header=Buffer.allocUnsafe(5);return header.writeUIntBE(482972169471,0,5),Buffer.concat([header,globalBuffer].concat(inputBuffers,outputBuffers))};const sortKeyVals=(a,b)=>a.key.compare(b.key);function keyValsFromMap(keyValMap,converterFactory){const keyHexSet=new Set,keyVals=Object.entries(keyValMap).reduce(((result,[key,value])=>{if("unknownKeyVals"===key)return result;const converter=converterFactory[key];if(void 0===converter)return result;const encodedKeyVals=(Array.isArray(value)?value:[value]).map(converter.encode);return encodedKeyVals.map((kv=>kv.key.toString("hex"))).forEach((hex=>{if(keyHexSet.has(hex))throw new Error("Serialize Error: Duplicate key: "+hex);keyHexSet.add(hex)})),result.concat(encodedKeyVals)}),[]),otherKeyVals=keyValMap.unknownKeyVals?keyValMap.unknownKeyVals.filter((keyVal=>!keyHexSet.has(keyVal.key.toString("hex")))):[];return keyVals.concat(otherKeyVals).sort(sortKeyVals)}function psbtToKeyVals({globalMap,inputs,outputs}){return{globalKeyVals:keyValsFromMap(globalMap,convert.globals),inputKeyVals:inputs.map((i=>keyValsFromMap(i,convert.inputs))),outputKeyVals:outputs.map((o=>keyValsFromMap(o,convert.outputs)))}}exports.psbtToKeyVals=psbtToKeyVals},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/psbt.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const combiner_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/combiner/index.js"),parser_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/parser/index.js"),typeFields_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js"),utils_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/utils.js");exports.Psbt=class Psbt{constructor(tx){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:tx}}static fromBase64(data,txFromBuffer){const buffer=Buffer.from(data,"base64");return this.fromBuffer(buffer,txFromBuffer)}static fromHex(data,txFromBuffer){const buffer=Buffer.from(data,"hex");return this.fromBuffer(buffer,txFromBuffer)}static fromBuffer(buffer,txFromBuffer){const results=parser_1.psbtFromBuffer(buffer,txFromBuffer),psbt=new this(results.globalMap.unsignedTx);return Object.assign(psbt,results),psbt}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return parser_1.psbtToBuffer(this)}updateGlobal(updateData){return utils_1.updateGlobal(updateData,this.globalMap),this}updateInput(inputIndex,updateData){const input=utils_1.checkForInput(this.inputs,inputIndex);return utils_1.updateInput(updateData,input),this}updateOutput(outputIndex,updateData){const output=utils_1.checkForOutput(this.outputs,outputIndex);return utils_1.updateOutput(updateData,output),this}addUnknownKeyValToGlobal(keyVal){return utils_1.checkHasKey(keyVal,this.globalMap.unknownKeyVals,utils_1.getEnumLength(typeFields_1.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(keyVal),this}addUnknownKeyValToInput(inputIndex,keyVal){const input=utils_1.checkForInput(this.inputs,inputIndex);return utils_1.checkHasKey(keyVal,input.unknownKeyVals,utils_1.getEnumLength(typeFields_1.InputTypes)),input.unknownKeyVals||(input.unknownKeyVals=[]),input.unknownKeyVals.push(keyVal),this}addUnknownKeyValToOutput(outputIndex,keyVal){const output=utils_1.checkForOutput(this.outputs,outputIndex);return utils_1.checkHasKey(keyVal,output.unknownKeyVals,utils_1.getEnumLength(typeFields_1.OutputTypes)),output.unknownKeyVals||(output.unknownKeyVals=[]),output.unknownKeyVals.push(keyVal),this}addInput(inputData){this.globalMap.unsignedTx.addInput(inputData),this.inputs.push({unknownKeyVals:[]});const addKeyVals=inputData.unknownKeyVals||[],inputIndex=this.inputs.length-1;if(!Array.isArray(addKeyVals))throw new Error("unknownKeyVals must be an Array");return addKeyVals.forEach((keyVal=>this.addUnknownKeyValToInput(inputIndex,keyVal))),utils_1.addInputAttributes(this.inputs,inputData),this}addOutput(outputData){this.globalMap.unsignedTx.addOutput(outputData),this.outputs.push({unknownKeyVals:[]});const addKeyVals=outputData.unknownKeyVals||[],outputIndex=this.outputs.length-1;if(!Array.isArray(addKeyVals))throw new Error("unknownKeyVals must be an Array");return addKeyVals.forEach((keyVal=>this.addUnknownKeyValToOutput(outputIndex,keyVal))),utils_1.addOutputAttributes(this.outputs,outputData),this}clearFinalizedInput(inputIndex){const input=utils_1.checkForInput(this.inputs,inputIndex);utils_1.inputCheckUncleanFinalized(inputIndex,input);for(const key of Object.keys(input))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(key)||delete input[key];return this}combine(...those){const result=combiner_1.combine([this].concat(those));return Object.assign(this,result),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/typeFields.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(GlobalTypes){GlobalTypes[GlobalTypes.UNSIGNED_TX=0]="UNSIGNED_TX",GlobalTypes[GlobalTypes.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(exports.GlobalTypes||(exports.GlobalTypes={})),exports.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(InputTypes){InputTypes[InputTypes.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",InputTypes[InputTypes.WITNESS_UTXO=1]="WITNESS_UTXO",InputTypes[InputTypes.PARTIAL_SIG=2]="PARTIAL_SIG",InputTypes[InputTypes.SIGHASH_TYPE=3]="SIGHASH_TYPE",InputTypes[InputTypes.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",InputTypes[InputTypes.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",InputTypes[InputTypes.BIP32_DERIVATION=6]="BIP32_DERIVATION",InputTypes[InputTypes.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",InputTypes[InputTypes.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",InputTypes[InputTypes.POR_COMMITMENT=9]="POR_COMMITMENT",InputTypes[InputTypes.TAP_KEY_SIG=19]="TAP_KEY_SIG",InputTypes[InputTypes.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",InputTypes[InputTypes.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",InputTypes[InputTypes.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",InputTypes[InputTypes.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",InputTypes[InputTypes.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(exports.InputTypes||(exports.InputTypes={})),exports.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(OutputTypes){OutputTypes[OutputTypes.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",OutputTypes[OutputTypes.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",OutputTypes[OutputTypes.BIP32_DERIVATION=2]="BIP32_DERIVATION",OutputTypes[OutputTypes.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",OutputTypes[OutputTypes.TAP_TREE=6]="TAP_TREE",OutputTypes[OutputTypes.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(exports.OutputTypes||(exports.OutputTypes={})),exports.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},"./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0});const converter=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/index.js");function checkForInput(inputs,inputIndex){const input=inputs[inputIndex];if(void 0===input)throw new Error(`No input #${inputIndex}`);return input}function checkForOutput(outputs,outputIndex){const output=outputs[outputIndex];if(void 0===output)throw new Error(`No output #${outputIndex}`);return output}function throwForUpdateMaker(typeName,name,expected,data){throw new Error(`Data for ${typeName} key ${name} is incorrect: Expected ${expected} and got ${JSON.stringify(data)}`)}function updateMaker(typeName){return(updateData,mainData)=>{for(const name of Object.keys(updateData)){const data=updateData[name],{canAdd,canAddToArray,check,expected}=converter[typeName+"s"][name]||{};if(check)if(!!canAddToArray){if(!Array.isArray(data)||mainData[name]&&!Array.isArray(mainData[name]))throw new Error(`Key type ${name} must be an array`);data.every(check)||throwForUpdateMaker(typeName,name,expected,data);const arr=mainData[name]||[],dupeCheckSet=new Set;if(!data.every((v=>canAddToArray(arr,v,dupeCheckSet))))throw new Error("Can not add duplicate data to array");mainData[name]=arr.concat(data)}else{if(check(data)||throwForUpdateMaker(typeName,name,expected,data),!canAdd(mainData,data))throw new Error(`Can not add duplicate data to ${typeName}`);mainData[name]=data}}}}exports.checkForInput=checkForInput,exports.checkForOutput=checkForOutput,exports.checkHasKey=function checkHasKey(checkKeyVal,keyVals,enumLength){if(checkKeyVal.key[0]<enumLength)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(keyVals&&0!==keyVals.filter((kv=>kv.key.equals(checkKeyVal.key))).length)throw new Error(`Duplicate Key: ${checkKeyVal.key.toString("hex")}`)},exports.getEnumLength=function getEnumLength(myenum){let count=0;return Object.keys(myenum).forEach((val=>{Number(isNaN(Number(val)))&&count++})),count},exports.inputCheckUncleanFinalized=function inputCheckUncleanFinalized(inputIndex,input){let result=!1;if(input.nonWitnessUtxo||input.witnessUtxo){const needScriptSig=!!input.redeemScript,needWitnessScript=!!input.witnessScript,scriptSigOK=!needScriptSig||!!input.finalScriptSig,witnessScriptOK=!needWitnessScript||!!input.finalScriptWitness,hasOneFinal=!!input.finalScriptSig||!!input.finalScriptWitness;result=scriptSigOK&&witnessScriptOK&&hasOneFinal}if(!1===result)throw new Error(`Input #${inputIndex} has too much or too little data to clean`)},exports.updateGlobal=updateMaker("global"),exports.updateInput=updateMaker("input"),exports.updateOutput=updateMaker("output"),exports.addInputAttributes=function addInputAttributes(inputs,data){const input=checkForInput(inputs,inputs.length-1);exports.updateInput(data,input)},exports.addOutputAttributes=function addOutputAttributes(outputs,data){const output=checkForOutput(outputs,outputs.length-1);exports.updateOutput(data,output)},exports.defaultVersionSetter=function defaultVersionSetter(version,txBuf){if(!Buffer.isBuffer(txBuf)||txBuf.length<4)throw new Error("Set Version: Invalid Transaction");return txBuf.writeUInt32LE(version,0),txBuf},exports.defaultLocktimeSetter=function defaultLocktimeSetter(locktime,txBuf){if(!Buffer.isBuffer(txBuf)||txBuf.length<4)throw new Error("Set Locktime: Invalid Transaction");return txBuf.writeUInt32LE(locktime,txBuf.length-4),txBuf}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/address.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.toOutputScript=exports.fromOutputScript=exports.toBech32=exports.toBase58Check=exports.fromBech32=exports.fromBase58Check=void 0;const networks=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),payments=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/index.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),bech32_1=__webpack_require__("./node_modules/.pnpm/bech32@2.0.0/node_modules/bech32/dist/index.js"),bs58check=__webpack_require__("./node_modules/.pnpm/bs58check@3.0.1/node_modules/bs58check/index.js"),FUTURE_SEGWIT_MAX_SIZE=40,FUTURE_SEGWIT_MIN_SIZE=2,FUTURE_SEGWIT_MAX_VERSION=16,FUTURE_SEGWIT_MIN_VERSION=2,FUTURE_SEGWIT_VERSION_DIFF=80,FUTURE_SEGWIT_VERSION_WARNING="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function fromBase58Check(address){const payload=Buffer.from(bs58check.decode(address));if(payload.length<21)throw new TypeError(address+" is too short");if(payload.length>21)throw new TypeError(address+" is too long");return{version:payload.readUInt8(0),hash:payload.slice(1)}}function fromBech32(address){let result,version;try{result=bech32_1.bech32.decode(address)}catch(e){}if(result){if(version=result.words[0],0!==version)throw new TypeError(address+" uses wrong encoding")}else if(result=bech32_1.bech32m.decode(address),version=result.words[0],0===version)throw new TypeError(address+" uses wrong encoding");const data=bech32_1.bech32.fromWords(result.words.slice(1));return{version,prefix:result.prefix,data:Buffer.from(data)}}function toBech32(data,version,prefix){const words=bech32_1.bech32.toWords(data);return words.unshift(version),0===version?bech32_1.bech32.encode(prefix,words):bech32_1.bech32m.encode(prefix,words)}exports.fromBase58Check=fromBase58Check,exports.fromBech32=fromBech32,exports.toBase58Check=function toBase58Check(hash,version){(0,types_1.typeforce)((0,types_1.tuple)(types_1.Hash160bit,types_1.UInt8),arguments);const payload=Buffer.allocUnsafe(21);return payload.writeUInt8(version,0),hash.copy(payload,1),bs58check.encode(payload)},exports.toBech32=toBech32,exports.fromOutputScript=function fromOutputScript(output,network){network=network||networks.bitcoin;try{return payments.p2pkh({output,network}).address}catch(e){}try{return payments.p2sh({output,network}).address}catch(e){}try{return payments.p2wpkh({output,network}).address}catch(e){}try{return payments.p2wsh({output,network}).address}catch(e){}try{return payments.p2tr({output,network}).address}catch(e){}try{return function _toFutureSegwitAddress(output,network){const data=output.slice(2);if(data.length<FUTURE_SEGWIT_MIN_SIZE||data.length>FUTURE_SEGWIT_MAX_SIZE)throw new TypeError("Invalid program length for segwit address");const version=output[0]-FUTURE_SEGWIT_VERSION_DIFF;if(version<FUTURE_SEGWIT_MIN_VERSION||version>FUTURE_SEGWIT_MAX_VERSION)throw new TypeError("Invalid version for segwit address");if(output[1]!==data.length)throw new TypeError("Invalid script for segwit address");return console.warn(FUTURE_SEGWIT_VERSION_WARNING),toBech32(data,version,network.bech32)}(output,network)}catch(e){}throw new Error(bscript.toASM(output)+" has no matching Address")},exports.toOutputScript=function toOutputScript(address,network){let decodeBase58,decodeBech32;network=network||networks.bitcoin;try{decodeBase58=fromBase58Check(address)}catch(e){}if(decodeBase58){if(decodeBase58.version===network.pubKeyHash)return payments.p2pkh({hash:decodeBase58.hash}).output;if(decodeBase58.version===network.scriptHash)return payments.p2sh({hash:decodeBase58.hash}).output}else{try{decodeBech32=fromBech32(address)}catch(e){}if(decodeBech32){if(decodeBech32.prefix!==network.bech32)throw new Error(address+" has an invalid prefix");if(0===decodeBech32.version){if(20===decodeBech32.data.length)return payments.p2wpkh({hash:decodeBech32.data}).output;if(32===decodeBech32.data.length)return payments.p2wsh({hash:decodeBech32.data}).output}else if(1===decodeBech32.version){if(32===decodeBech32.data.length)return payments.p2tr({pubkey:decodeBech32.data}).output}else if(decodeBech32.version>=FUTURE_SEGWIT_MIN_VERSION&&decodeBech32.version<=FUTURE_SEGWIT_MAX_VERSION&&decodeBech32.data.length>=FUTURE_SEGWIT_MIN_SIZE&&decodeBech32.data.length<=FUTURE_SEGWIT_MAX_SIZE)return console.warn(FUTURE_SEGWIT_VERSION_WARNING),bscript.compile([decodeBech32.version+FUTURE_SEGWIT_VERSION_DIFF,decodeBech32.data])}}throw new Error(address+" has no matching Script")}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/bip66.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.encode=exports.decode=exports.check=void 0,exports.check=function check(buffer){if(buffer.length<8)return!1;if(buffer.length>72)return!1;if(48!==buffer[0])return!1;if(buffer[1]!==buffer.length-2)return!1;if(2!==buffer[2])return!1;const lenR=buffer[3];if(0===lenR)return!1;if(5+lenR>=buffer.length)return!1;if(2!==buffer[4+lenR])return!1;const lenS=buffer[5+lenR];return 0!==lenS&&(6+lenR+lenS===buffer.length&&(!(128&buffer[4])&&(!(lenR>1&&0===buffer[4]&&!(128&buffer[5]))&&(!(128&buffer[lenR+6])&&!(lenS>1&&0===buffer[lenR+6]&&!(128&buffer[lenR+7]))))))},exports.decode=function decode(buffer){if(buffer.length<8)throw new Error("DER sequence length is too short");if(buffer.length>72)throw new Error("DER sequence length is too long");if(48!==buffer[0])throw new Error("Expected DER sequence");if(buffer[1]!==buffer.length-2)throw new Error("DER sequence length is invalid");if(2!==buffer[2])throw new Error("Expected DER integer");const lenR=buffer[3];if(0===lenR)throw new Error("R length is zero");if(5+lenR>=buffer.length)throw new Error("R length is too long");if(2!==buffer[4+lenR])throw new Error("Expected DER integer (2)");const lenS=buffer[5+lenR];if(0===lenS)throw new Error("S length is zero");if(6+lenR+lenS!==buffer.length)throw new Error("S length is invalid");if(128&buffer[4])throw new Error("R value is negative");if(lenR>1&&0===buffer[4]&&!(128&buffer[5]))throw new Error("R value excessively padded");if(128&buffer[lenR+6])throw new Error("S value is negative");if(lenS>1&&0===buffer[lenR+6]&&!(128&buffer[lenR+7]))throw new Error("S value excessively padded");return{r:buffer.slice(4,4+lenR),s:buffer.slice(6+lenR)}},exports.encode=function encode(r,s){const lenR=r.length,lenS=s.length;if(0===lenR)throw new Error("R length is zero");if(0===lenS)throw new Error("S length is zero");if(lenR>33)throw new Error("R length is too long");if(lenS>33)throw new Error("S length is too long");if(128&r[0])throw new Error("R value is negative");if(128&s[0])throw new Error("S value is negative");if(lenR>1&&0===r[0]&&!(128&r[1]))throw new Error("R value excessively padded");if(lenS>1&&0===s[0]&&!(128&s[1]))throw new Error("S value excessively padded");const signature=Buffer.allocUnsafe(6+lenR+lenS);return signature[0]=48,signature[1]=signature.length-2,signature[2]=2,signature[3]=r.length,r.copy(signature,4),signature[4+lenR]=2,signature[5+lenR]=s.length,s.copy(signature,6+lenR),signature}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/block.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Block=void 0;const bufferutils_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/bufferutils.js"),bcrypto=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js"),merkle_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/merkle.js"),transaction_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/transaction.js"),types=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),{typeforce}=types,errorMerkleNoTxes=new TypeError("Cannot compute merkle root for zero transactions"),errorWitnessNotSegwit=new TypeError("Cannot compute witness commit for non-segwit block");class Block{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(buffer){if(buffer.length<80)throw new Error("Buffer too small (< 80 bytes)");const bufferReader=new bufferutils_1.BufferReader(buffer),block=new Block;if(block.version=bufferReader.readInt32(),block.prevHash=bufferReader.readSlice(32),block.merkleRoot=bufferReader.readSlice(32),block.timestamp=bufferReader.readUInt32(),block.bits=bufferReader.readUInt32(),block.nonce=bufferReader.readUInt32(),80===buffer.length)return block;const readTransaction=()=>{const tx=transaction_1.Transaction.fromBuffer(bufferReader.buffer.slice(bufferReader.offset),!0);return bufferReader.offset+=tx.byteLength(),tx},nTransactions=bufferReader.readVarInt();block.transactions=[];for(let i=0;i<nTransactions;++i){const tx=readTransaction();block.transactions.push(tx)}const witnessCommit=block.getWitnessCommit();return witnessCommit&&(block.witnessCommit=witnessCommit),block}static fromHex(hex){return Block.fromBuffer(Buffer.from(hex,"hex"))}static calculateTarget(bits){const exponent=((4278190080&bits)>>24)-3,mantissa=8388607&bits,target=Buffer.alloc(32,0);return target.writeUIntBE(mantissa,29-exponent,3),target}static calculateMerkleRoot(transactions,forWitness){if(typeforce([{getHash:types.Function}],transactions),0===transactions.length)throw errorMerkleNoTxes;if(forWitness&&!txesHaveWitnessCommit(transactions))throw errorWitnessNotSegwit;const hashes=transactions.map((transaction=>transaction.getHash(forWitness))),rootHash=(0,merkle_1.fastMerkleRoot)(hashes,bcrypto.hash256);return forWitness?bcrypto.hash256(Buffer.concat([rootHash,transactions[0].ins[0].witness[0]])):rootHash}getWitnessCommit(){if(!txesHaveWitnessCommit(this.transactions))return null;const witnessCommits=this.transactions[0].outs.filter((out=>out.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex")))).map((out=>out.script.slice(6,38)));if(0===witnessCommits.length)return null;const result=witnessCommits[witnessCommits.length-1];return result instanceof Buffer&&32===result.length?result:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return function anyTxHasWitness(transactions){return transactions instanceof Array&&transactions.some((tx=>"object"==typeof tx&&tx.ins instanceof Array&&tx.ins.some((input=>"object"==typeof input&&input.witness instanceof Array&&input.witness.length>0))))}(this.transactions)}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(headersOnly,allowWitness=!0){return headersOnly||!this.transactions?80:80+bufferutils_1.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((a,x)=>a+x.byteLength(allowWitness)),0)}getHash(){return bcrypto.hash256(this.toBuffer(!0))}getId(){return(0,bufferutils_1.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const date=new Date(0);return date.setUTCSeconds(this.timestamp),date}toBuffer(headersOnly){const buffer=Buffer.allocUnsafe(this.byteLength(headersOnly)),bufferWriter=new bufferutils_1.BufferWriter(buffer);return bufferWriter.writeInt32(this.version),bufferWriter.writeSlice(this.prevHash),bufferWriter.writeSlice(this.merkleRoot),bufferWriter.writeUInt32(this.timestamp),bufferWriter.writeUInt32(this.bits),bufferWriter.writeUInt32(this.nonce),headersOnly||!this.transactions||(bufferutils_1.varuint.encode(this.transactions.length,buffer,bufferWriter.offset),bufferWriter.offset+=bufferutils_1.varuint.encode.bytes,this.transactions.forEach((tx=>{const txSize=tx.byteLength();tx.toBuffer(buffer,bufferWriter.offset),bufferWriter.offset+=txSize}))),buffer}toHex(headersOnly){return this.toBuffer(headersOnly).toString("hex")}checkTxRoots(){const hasWitnessCommit=this.hasWitnessCommit();return!(!hasWitnessCommit&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!hasWitnessCommit||this.__checkWitnessCommit()))}checkProofOfWork(){const hash=(0,bufferutils_1.reverseBuffer)(this.getHash()),target=Block.calculateTarget(this.bits);return hash.compare(target)<=0}__checkMerkleRoot(){if(!this.transactions)throw errorMerkleNoTxes;const actualMerkleRoot=Block.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(actualMerkleRoot)}__checkWitnessCommit(){if(!this.transactions)throw errorMerkleNoTxes;if(!this.hasWitnessCommit())throw errorWitnessNotSegwit;const actualWitnessCommit=Block.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(actualWitnessCommit)}}function txesHaveWitnessCommit(transactions){return transactions instanceof Array&&transactions[0]&&transactions[0].ins&&transactions[0].ins instanceof Array&&transactions[0].ins[0]&&transactions[0].ins[0].witness&&transactions[0].ins[0].witness instanceof Array&&transactions[0].ins[0].witness.length>0}exports.Block=Block},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/bufferutils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.BufferReader=exports.BufferWriter=exports.cloneBuffer=exports.reverseBuffer=exports.writeUInt64LE=exports.readUInt64LE=exports.varuint=void 0;const types=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),{typeforce}=types,varuint=__webpack_require__("./node_modules/.pnpm/varuint-bitcoin@1.1.2/node_modules/varuint-bitcoin/index.js");function verifuint(value,max){if("number"!=typeof value)throw new Error("cannot write a non-number as a number");if(value<0)throw new Error("specified a negative value for writing an unsigned value");if(value>max)throw new Error("RangeError: value out of range");if(Math.floor(value)!==value)throw new Error("value has a fractional component")}function readUInt64LE(buffer,offset){const a=buffer.readUInt32LE(offset);let b=buffer.readUInt32LE(offset+4);return b*=4294967296,verifuint(b+a,9007199254740991),b+a}function writeUInt64LE(buffer,value,offset){return verifuint(value,9007199254740991),buffer.writeInt32LE(-1&value,offset),buffer.writeUInt32LE(Math.floor(value/4294967296),offset+4),offset+8}exports.varuint=varuint,exports.readUInt64LE=readUInt64LE,exports.writeUInt64LE=writeUInt64LE,exports.reverseBuffer=function reverseBuffer(buffer){if(buffer.length<1)return buffer;let j=buffer.length-1,tmp=0;for(let i=0;i<buffer.length/2;i++)tmp=buffer[i],buffer[i]=buffer[j],buffer[j]=tmp,j--;return buffer},exports.cloneBuffer=function cloneBuffer(buffer){const clone=Buffer.allocUnsafe(buffer.length);return buffer.copy(clone),clone};class BufferWriter{static withCapacity(size){return new BufferWriter(Buffer.alloc(size))}constructor(buffer,offset=0){this.buffer=buffer,this.offset=offset,typeforce(types.tuple(types.Buffer,types.UInt32),[buffer,offset])}writeUInt8(i){this.offset=this.buffer.writeUInt8(i,this.offset)}writeInt32(i){this.offset=this.buffer.writeInt32LE(i,this.offset)}writeUInt32(i){this.offset=this.buffer.writeUInt32LE(i,this.offset)}writeUInt64(i){this.offset=writeUInt64LE(this.buffer,i,this.offset)}writeVarInt(i){varuint.encode(i,this.buffer,this.offset),this.offset+=varuint.encode.bytes}writeSlice(slice){if(this.buffer.length<this.offset+slice.length)throw new Error("Cannot write slice out of bounds");this.offset+=slice.copy(this.buffer,this.offset)}writeVarSlice(slice){this.writeVarInt(slice.length),this.writeSlice(slice)}writeVector(vector){this.writeVarInt(vector.length),vector.forEach((buf=>this.writeVarSlice(buf)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}exports.BufferWriter=BufferWriter;exports.BufferReader=class BufferReader{constructor(buffer,offset=0){this.buffer=buffer,this.offset=offset,typeforce(types.tuple(types.Buffer,types.UInt32),[buffer,offset])}readUInt8(){const result=this.buffer.readUInt8(this.offset);return this.offset++,result}readInt32(){const result=this.buffer.readInt32LE(this.offset);return this.offset+=4,result}readUInt32(){const result=this.buffer.readUInt32LE(this.offset);return this.offset+=4,result}readUInt64(){const result=readUInt64LE(this.buffer,this.offset);return this.offset+=8,result}readVarInt(){const vi=varuint.decode(this.buffer,this.offset);return this.offset+=varuint.decode.bytes,vi}readSlice(n){if(this.buffer.length<this.offset+n)throw new Error("Cannot read slice out of bounds");const result=this.buffer.slice(this.offset,this.offset+n);return this.offset+=n,result}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const count=this.readVarInt(),vector=[];for(let i=0;i<count;i++)vector.push(this.readVarSlice());return vector}}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.taggedHash=exports.TAGGED_HASH_PREFIXES=exports.TAGS=exports.hash256=exports.hash160=exports.sha256=exports.sha1=exports.ripemd160=void 0;const ripemd160_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/ripemd160.js"),sha1_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha1.js"),sha256_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha256.js");function sha256(buffer){return Buffer.from((0,sha256_1.sha256)(Uint8Array.from(buffer)))}exports.ripemd160=function ripemd160(buffer){return Buffer.from((0,ripemd160_1.ripemd160)(Uint8Array.from(buffer)))},exports.sha1=function sha1(buffer){return Buffer.from((0,sha1_1.sha1)(Uint8Array.from(buffer)))},exports.sha256=sha256,exports.hash160=function hash160(buffer){return Buffer.from((0,ripemd160_1.ripemd160)((0,sha256_1.sha256)(Uint8Array.from(buffer))))},exports.hash256=function hash256(buffer){return Buffer.from((0,sha256_1.sha256)((0,sha256_1.sha256)(Uint8Array.from(buffer))))},exports.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],exports.TAGGED_HASH_PREFIXES={"BIP0340/challenge":Buffer.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Buffer.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Buffer.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Buffer.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Buffer.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Buffer.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Buffer.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Buffer.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Buffer.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},exports.taggedHash=function taggedHash(prefix,data){return sha256(Buffer.concat([exports.TAGGED_HASH_PREFIXES[prefix],data]))}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/ecc_lib.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEccLib=exports.initEccLib=void 0;const _ECCLIB_CACHE={};exports.initEccLib=function initEccLib(eccLib){eccLib?eccLib!==_ECCLIB_CACHE.eccLib&&(!function verifyEcc(ecc){assert("function"==typeof ecc.isXOnlyPoint),assert(ecc.isXOnlyPoint(h("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert(ecc.isXOnlyPoint(h("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),assert(ecc.isXOnlyPoint(h("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),assert(ecc.isXOnlyPoint(h("0000000000000000000000000000000000000000000000000000000000000001"))),assert(!ecc.isXOnlyPoint(h("0000000000000000000000000000000000000000000000000000000000000000"))),assert(!ecc.isXOnlyPoint(h("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),assert("function"==typeof ecc.xOnlyPointAddTweak),tweakAddVectors.forEach((t=>{const r=ecc.xOnlyPointAddTweak(h(t.pubkey),h(t.tweak));null===t.result?assert(null===r):(assert(null!==r),assert(r.parity===t.parity),assert(Buffer.from(r.xOnlyPubkey).equals(h(t.result))))}))}(eccLib),_ECCLIB_CACHE.eccLib=eccLib):_ECCLIB_CACHE.eccLib=eccLib},exports.getEccLib=function getEccLib(){if(!_ECCLIB_CACHE.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return _ECCLIB_CACHE.eccLib};const h=hex=>Buffer.from(hex,"hex");function assert(bool){if(!bool)throw new Error("ecc library invalid")}const tweakAddVectors=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.f0=exports.o8=void 0;__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/address.js");__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js");const networks=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js");exports.o8=networks;__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/index.js");__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js");var block_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/block.js");var psbt_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/psbt.js");var ops_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/ops.js");var transaction_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/transaction.js");var ecc_lib_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/ecc_lib.js");Object.defineProperty(exports,"f0",{enumerable:!0,get:function(){return ecc_lib_1.initEccLib}})},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/merkle.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.fastMerkleRoot=void 0,exports.fastMerkleRoot=function fastMerkleRoot(values,digestFn){if(!Array.isArray(values))throw TypeError("Expected values Array");if("function"!=typeof digestFn)throw TypeError("Expected digest Function");let length=values.length;const results=values.concat();for(;length>1;){let j=0;for(let i=0;i<length;i+=2,++j){const left=results[i],right=i+1===length?left:results[i+1],data=Buffer.concat([left,right]);results[j]=digestFn(data)}length=j}return results[0]}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.testnet=exports.regtest=exports.bitcoin=void 0,exports.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},exports.regtest={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},exports.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/ops.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.REVERSE_OPS=exports.OPS=void 0;const OPS={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};exports.OPS=OPS;const REVERSE_OPS={};exports.REVERSE_OPS=REVERSE_OPS;for(const op of Object.keys(OPS)){REVERSE_OPS[OPS[op]]=op}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/bip341.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.tweakKey=exports.tapTweakHash=exports.tapleafHash=exports.findScriptPath=exports.toHashTree=exports.rootHashFromPath=exports.MAX_TAPTREE_DEPTH=exports.LEAF_VERSION_TAPSCRIPT=void 0;const buffer_1=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js"),ecc_lib_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/ecc_lib.js"),bcrypto=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js"),bufferutils_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/bufferutils.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js");exports.LEAF_VERSION_TAPSCRIPT=192,exports.MAX_TAPTREE_DEPTH=128;function tapleafHash(leaf){const version=leaf.version||exports.LEAF_VERSION_TAPSCRIPT;return bcrypto.taggedHash("TapLeaf",buffer_1.Buffer.concat([buffer_1.Buffer.from([version]),serializeScript(leaf.output)]))}function tapTweakHash(pubKey,h){return bcrypto.taggedHash("TapTweak",buffer_1.Buffer.concat(h?[pubKey,h]:[pubKey]))}function tapBranchHash(a,b){return bcrypto.taggedHash("TapBranch",buffer_1.Buffer.concat([a,b]))}function serializeScript(s){const varintLen=bufferutils_1.varuint.encodingLength(s.length),buffer=buffer_1.Buffer.allocUnsafe(varintLen);return bufferutils_1.varuint.encode(s.length,buffer),buffer_1.Buffer.concat([buffer,s])}exports.rootHashFromPath=function rootHashFromPath(controlBlock,leafHash){if(controlBlock.length<33)throw new TypeError(`The control-block length is too small. Got ${controlBlock.length}, expected min 33.`);const m=(controlBlock.length-33)/32;let kj=leafHash;for(let j=0;j<m;j++){const ej=controlBlock.slice(33+32*j,65+32*j);kj=kj.compare(ej)<0?tapBranchHash(kj,ej):tapBranchHash(ej,kj)}return kj},exports.toHashTree=function toHashTree(scriptTree){if((0,types_1.isTapleaf)(scriptTree))return{hash:tapleafHash(scriptTree)};const hashes=[toHashTree(scriptTree[0]),toHashTree(scriptTree[1])];hashes.sort(((a,b)=>a.hash.compare(b.hash)));const[left,right]=hashes;return{hash:tapBranchHash(left.hash,right.hash),left,right}},exports.findScriptPath=function findScriptPath(node,hash){if("left"in(ht=node)&&"right"in ht){const leftPath=findScriptPath(node.left,hash);if(void 0!==leftPath)return[...leftPath,node.right.hash];const rightPath=findScriptPath(node.right,hash);if(void 0!==rightPath)return[...rightPath,node.left.hash]}else if(node.hash.equals(hash))return[];var ht},exports.tapleafHash=tapleafHash,exports.tapTweakHash=tapTweakHash,exports.tweakKey=function tweakKey(pubKey,h){if(!buffer_1.Buffer.isBuffer(pubKey))return null;if(32!==pubKey.length)return null;if(h&&32!==h.length)return null;const tweakHash=tapTweakHash(pubKey,h),res=(0,ecc_lib_1.getEccLib)().xOnlyPointAddTweak(pubKey,tweakHash);return res&&null!==res.xOnlyPubkey?{parity:res.parity,x:buffer_1.Buffer.from(res.xOnlyPubkey)}:null}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/embed.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2data=void 0;const networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),lazy=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js"),OPS=bscript.OPS;exports.p2data=function p2data(a,opts){if(!a.data&&!a.output)throw new TypeError("Not enough data");opts=Object.assign({validate:!0},opts||{}),(0,types_1.typeforce)({network:types_1.typeforce.maybe(types_1.typeforce.Object),output:types_1.typeforce.maybe(types_1.typeforce.Buffer),data:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.typeforce.Buffer))},a);const o={name:"embed",network:a.network||networks_1.bitcoin};if(lazy.prop(o,"output",(()=>{if(a.data)return bscript.compile([OPS.OP_RETURN].concat(a.data))})),lazy.prop(o,"data",(()=>{if(a.output)return bscript.decompile(a.output).slice(1)})),opts.validate&&a.output){const chunks=bscript.decompile(a.output);if(chunks[0]!==OPS.OP_RETURN)throw new TypeError("Output is invalid");if(!chunks.slice(1).every(types_1.typeforce.Buffer))throw new TypeError("Output is invalid");if(a.data&&!function stacksEqual(a,b){return a.length===b.length&&a.every(((x,i)=>x.equals(b[i])))}(a.data,o.data))throw new TypeError("Data mismatch")}return Object.assign(o,a)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2tr=exports.p2wsh=exports.p2wpkh=exports.p2sh=exports.p2pkh=exports.p2pk=exports.p2ms=exports.embed=void 0;const embed_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/embed.js");Object.defineProperty(exports,"embed",{enumerable:!0,get:function(){return embed_1.p2data}});const p2ms_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2ms.js");Object.defineProperty(exports,"p2ms",{enumerable:!0,get:function(){return p2ms_1.p2ms}});const p2pk_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2pk.js");Object.defineProperty(exports,"p2pk",{enumerable:!0,get:function(){return p2pk_1.p2pk}});const p2pkh_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2pkh.js");Object.defineProperty(exports,"p2pkh",{enumerable:!0,get:function(){return p2pkh_1.p2pkh}});const p2sh_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2sh.js");Object.defineProperty(exports,"p2sh",{enumerable:!0,get:function(){return p2sh_1.p2sh}});const p2wpkh_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2wpkh.js");Object.defineProperty(exports,"p2wpkh",{enumerable:!0,get:function(){return p2wpkh_1.p2wpkh}});const p2wsh_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2wsh.js");Object.defineProperty(exports,"p2wsh",{enumerable:!0,get:function(){return p2wsh_1.p2wsh}});const p2tr_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2tr.js");Object.defineProperty(exports,"p2tr",{enumerable:!0,get:function(){return p2tr_1.p2tr}})},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.value=exports.prop=void 0,exports.prop=function prop(object,name,f){Object.defineProperty(object,name,{configurable:!0,enumerable:!0,get(){const _value=f.call(this);return this[name]=_value,_value},set(_value){Object.defineProperty(this,name,{configurable:!0,enumerable:!0,value:_value,writable:!0})}})},exports.value=function value(f){let _value;return()=>(void 0!==_value||(_value=f()),_value)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2ms.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2ms=void 0;const networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),lazy=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js"),OPS=bscript.OPS,OP_INT_BASE=OPS.OP_RESERVED;function stacksEqual(a,b){return a.length===b.length&&a.every(((x,i)=>x.equals(b[i])))}exports.p2ms=function p2ms(a,opts){if(!(a.input||a.output||a.pubkeys&&void 0!==a.m||a.signatures))throw new TypeError("Not enough data");function isAcceptableSignature(x){return bscript.isCanonicalScriptSignature(x)||void 0!==(opts.allowIncomplete&&x===OPS.OP_0)}opts=Object.assign({validate:!0},opts||{}),(0,types_1.typeforce)({network:types_1.typeforce.maybe(types_1.typeforce.Object),m:types_1.typeforce.maybe(types_1.typeforce.Number),n:types_1.typeforce.maybe(types_1.typeforce.Number),output:types_1.typeforce.maybe(types_1.typeforce.Buffer),pubkeys:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.isPoint)),signatures:types_1.typeforce.maybe(types_1.typeforce.arrayOf(isAcceptableSignature)),input:types_1.typeforce.maybe(types_1.typeforce.Buffer)},a);const o={network:a.network||networks_1.bitcoin};let chunks=[],decoded=!1;function decode(output){decoded||(decoded=!0,chunks=bscript.decompile(output),o.m=chunks[0]-OP_INT_BASE,o.n=chunks[chunks.length-2]-OP_INT_BASE,o.pubkeys=chunks.slice(1,-2))}if(lazy.prop(o,"output",(()=>{if(a.m&&o.n&&a.pubkeys)return bscript.compile([].concat(OP_INT_BASE+a.m,a.pubkeys,OP_INT_BASE+o.n,OPS.OP_CHECKMULTISIG))})),lazy.prop(o,"m",(()=>{if(o.output)return decode(o.output),o.m})),lazy.prop(o,"n",(()=>{if(o.pubkeys)return o.pubkeys.length})),lazy.prop(o,"pubkeys",(()=>{if(a.output)return decode(a.output),o.pubkeys})),lazy.prop(o,"signatures",(()=>{if(a.input)return bscript.decompile(a.input).slice(1)})),lazy.prop(o,"input",(()=>{if(a.signatures)return bscript.compile([OPS.OP_0].concat(a.signatures))})),lazy.prop(o,"witness",(()=>{if(o.input)return[]})),lazy.prop(o,"name",(()=>{if(o.m&&o.n)return`p2ms(${o.m} of ${o.n})`})),opts.validate){if(a.output){if(decode(a.output),!types_1.typeforce.Number(chunks[0]))throw new TypeError("Output is invalid");if(!types_1.typeforce.Number(chunks[chunks.length-2]))throw new TypeError("Output is invalid");if(chunks[chunks.length-1]!==OPS.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(o.m<=0||o.n>16||o.m>o.n||o.n!==chunks.length-3)throw new TypeError("Output is invalid");if(!o.pubkeys.every((x=>(0,types_1.isPoint)(x))))throw new TypeError("Output is invalid");if(void 0!==a.m&&a.m!==o.m)throw new TypeError("m mismatch");if(void 0!==a.n&&a.n!==o.n)throw new TypeError("n mismatch");if(a.pubkeys&&!stacksEqual(a.pubkeys,o.pubkeys))throw new TypeError("Pubkeys mismatch")}if(a.pubkeys){if(void 0!==a.n&&a.n!==a.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(o.n=a.pubkeys.length,o.n<o.m)throw new TypeError("Pubkey count cannot be less than m")}if(a.signatures){if(a.signatures.length<o.m)throw new TypeError("Not enough signatures provided");if(a.signatures.length>o.m)throw new TypeError("Too many signatures provided")}if(a.input){if(a.input[0]!==OPS.OP_0)throw new TypeError("Input is invalid");if(0===o.signatures.length||!o.signatures.every(isAcceptableSignature))throw new TypeError("Input has invalid signature(s)");if(a.signatures&&!stacksEqual(a.signatures,o.signatures))throw new TypeError("Signature mismatch");if(void 0!==a.m&&a.m!==a.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(o,a)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2pk.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2pk=void 0;const networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),lazy=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js"),OPS=bscript.OPS;exports.p2pk=function p2pk(a,opts){if(!(a.input||a.output||a.pubkey||a.input||a.signature))throw new TypeError("Not enough data");opts=Object.assign({validate:!0},opts||{}),(0,types_1.typeforce)({network:types_1.typeforce.maybe(types_1.typeforce.Object),output:types_1.typeforce.maybe(types_1.typeforce.Buffer),pubkey:types_1.typeforce.maybe(types_1.isPoint),signature:types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),input:types_1.typeforce.maybe(types_1.typeforce.Buffer)},a);const _chunks=lazy.value((()=>bscript.decompile(a.input))),o={name:"p2pk",network:a.network||networks_1.bitcoin};if(lazy.prop(o,"output",(()=>{if(a.pubkey)return bscript.compile([a.pubkey,OPS.OP_CHECKSIG])})),lazy.prop(o,"pubkey",(()=>{if(a.output)return a.output.slice(1,-1)})),lazy.prop(o,"signature",(()=>{if(a.input)return _chunks()[0]})),lazy.prop(o,"input",(()=>{if(a.signature)return bscript.compile([a.signature])})),lazy.prop(o,"witness",(()=>{if(o.input)return[]})),opts.validate){if(a.output){if(a.output[a.output.length-1]!==OPS.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,types_1.isPoint)(o.pubkey))throw new TypeError("Output pubkey is invalid");if(a.pubkey&&!a.pubkey.equals(o.pubkey))throw new TypeError("Pubkey mismatch")}if(a.signature&&a.input&&!a.input.equals(o.input))throw new TypeError("Signature mismatch");if(a.input){if(1!==_chunks().length)throw new TypeError("Input is invalid");if(!bscript.isCanonicalScriptSignature(o.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(o,a)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2pkh.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2pkh=void 0;const bcrypto=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js"),networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),lazy=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js"),bs58check=__webpack_require__("./node_modules/.pnpm/bs58check@3.0.1/node_modules/bs58check/index.js"),OPS=bscript.OPS;exports.p2pkh=function p2pkh(a,opts){if(!(a.address||a.hash||a.output||a.pubkey||a.input))throw new TypeError("Not enough data");opts=Object.assign({validate:!0},opts||{}),(0,types_1.typeforce)({network:types_1.typeforce.maybe(types_1.typeforce.Object),address:types_1.typeforce.maybe(types_1.typeforce.String),hash:types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),output:types_1.typeforce.maybe(types_1.typeforce.BufferN(25)),pubkey:types_1.typeforce.maybe(types_1.isPoint),signature:types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),input:types_1.typeforce.maybe(types_1.typeforce.Buffer)},a);const _address=lazy.value((()=>{const payload=Buffer.from(bs58check.decode(a.address));return{version:payload.readUInt8(0),hash:payload.slice(1)}})),_chunks=lazy.value((()=>bscript.decompile(a.input))),network=a.network||networks_1.bitcoin,o={name:"p2pkh",network};if(lazy.prop(o,"address",(()=>{if(!o.hash)return;const payload=Buffer.allocUnsafe(21);return payload.writeUInt8(network.pubKeyHash,0),o.hash.copy(payload,1),bs58check.encode(payload)})),lazy.prop(o,"hash",(()=>a.output?a.output.slice(3,23):a.address?_address().hash:a.pubkey||o.pubkey?bcrypto.hash160(a.pubkey||o.pubkey):void 0)),lazy.prop(o,"output",(()=>{if(o.hash)return bscript.compile([OPS.OP_DUP,OPS.OP_HASH160,o.hash,OPS.OP_EQUALVERIFY,OPS.OP_CHECKSIG])})),lazy.prop(o,"pubkey",(()=>{if(a.input)return _chunks()[1]})),lazy.prop(o,"signature",(()=>{if(a.input)return _chunks()[0]})),lazy.prop(o,"input",(()=>{if(a.pubkey&&a.signature)return bscript.compile([a.signature,a.pubkey])})),lazy.prop(o,"witness",(()=>{if(o.input)return[]})),opts.validate){let hash=Buffer.from([]);if(a.address){if(_address().version!==network.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==_address().hash.length)throw new TypeError("Invalid address");hash=_address().hash}if(a.hash){if(hash.length>0&&!hash.equals(a.hash))throw new TypeError("Hash mismatch");hash=a.hash}if(a.output){if(25!==a.output.length||a.output[0]!==OPS.OP_DUP||a.output[1]!==OPS.OP_HASH160||20!==a.output[2]||a.output[23]!==OPS.OP_EQUALVERIFY||a.output[24]!==OPS.OP_CHECKSIG)throw new TypeError("Output is invalid");const hash2=a.output.slice(3,23);if(hash.length>0&&!hash.equals(hash2))throw new TypeError("Hash mismatch");hash=hash2}if(a.pubkey){const pkh=bcrypto.hash160(a.pubkey);if(hash.length>0&&!hash.equals(pkh))throw new TypeError("Hash mismatch");hash=pkh}if(a.input){const chunks=_chunks();if(2!==chunks.length)throw new TypeError("Input is invalid");if(!bscript.isCanonicalScriptSignature(chunks[0]))throw new TypeError("Input has invalid signature");if(!(0,types_1.isPoint)(chunks[1]))throw new TypeError("Input has invalid pubkey");if(a.signature&&!a.signature.equals(chunks[0]))throw new TypeError("Signature mismatch");if(a.pubkey&&!a.pubkey.equals(chunks[1]))throw new TypeError("Pubkey mismatch");const pkh=bcrypto.hash160(chunks[1]);if(hash.length>0&&!hash.equals(pkh))throw new TypeError("Hash mismatch")}}return Object.assign(o,a)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2sh.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2sh=void 0;const bcrypto=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js"),networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),lazy=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js"),bs58check=__webpack_require__("./node_modules/.pnpm/bs58check@3.0.1/node_modules/bs58check/index.js"),OPS=bscript.OPS;exports.p2sh=function p2sh(a,opts){if(!(a.address||a.hash||a.output||a.redeem||a.input))throw new TypeError("Not enough data");opts=Object.assign({validate:!0},opts||{}),(0,types_1.typeforce)({network:types_1.typeforce.maybe(types_1.typeforce.Object),address:types_1.typeforce.maybe(types_1.typeforce.String),hash:types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),output:types_1.typeforce.maybe(types_1.typeforce.BufferN(23)),redeem:types_1.typeforce.maybe({network:types_1.typeforce.maybe(types_1.typeforce.Object),output:types_1.typeforce.maybe(types_1.typeforce.Buffer),input:types_1.typeforce.maybe(types_1.typeforce.Buffer),witness:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.typeforce.Buffer))}),input:types_1.typeforce.maybe(types_1.typeforce.Buffer),witness:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.typeforce.Buffer))},a);let network=a.network;network||(network=a.redeem&&a.redeem.network||networks_1.bitcoin);const o={network},_address=lazy.value((()=>{const payload=Buffer.from(bs58check.decode(a.address));return{version:payload.readUInt8(0),hash:payload.slice(1)}})),_chunks=lazy.value((()=>bscript.decompile(a.input))),_redeem=lazy.value((()=>{const chunks=_chunks(),lastChunk=chunks[chunks.length-1];return{network,output:lastChunk===OPS.OP_FALSE?Buffer.from([]):lastChunk,input:bscript.compile(chunks.slice(0,-1)),witness:a.witness||[]}}));if(lazy.prop(o,"address",(()=>{if(!o.hash)return;const payload=Buffer.allocUnsafe(21);return payload.writeUInt8(o.network.scriptHash,0),o.hash.copy(payload,1),bs58check.encode(payload)})),lazy.prop(o,"hash",(()=>a.output?a.output.slice(2,22):a.address?_address().hash:o.redeem&&o.redeem.output?bcrypto.hash160(o.redeem.output):void 0)),lazy.prop(o,"output",(()=>{if(o.hash)return bscript.compile([OPS.OP_HASH160,o.hash,OPS.OP_EQUAL])})),lazy.prop(o,"redeem",(()=>{if(a.input)return _redeem()})),lazy.prop(o,"input",(()=>{if(a.redeem&&a.redeem.input&&a.redeem.output)return bscript.compile([].concat(bscript.decompile(a.redeem.input),a.redeem.output))})),lazy.prop(o,"witness",(()=>o.redeem&&o.redeem.witness?o.redeem.witness:o.input?[]:void 0)),lazy.prop(o,"name",(()=>{const nameParts=["p2sh"];return void 0!==o.redeem&&void 0!==o.redeem.name&&nameParts.push(o.redeem.name),nameParts.join("-")})),opts.validate){let hash=Buffer.from([]);if(a.address){if(_address().version!==network.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==_address().hash.length)throw new TypeError("Invalid address");hash=_address().hash}if(a.hash){if(hash.length>0&&!hash.equals(a.hash))throw new TypeError("Hash mismatch");hash=a.hash}if(a.output){if(23!==a.output.length||a.output[0]!==OPS.OP_HASH160||20!==a.output[1]||a.output[22]!==OPS.OP_EQUAL)throw new TypeError("Output is invalid");const hash2=a.output.slice(2,22);if(hash.length>0&&!hash.equals(hash2))throw new TypeError("Hash mismatch");hash=hash2}const checkRedeem=redeem=>{if(redeem.output){const decompile=bscript.decompile(redeem.output);if(!decompile||decompile.length<1)throw new TypeError("Redeem.output too short");if(redeem.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(bscript.countNonPushOnlyOPs(decompile)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const hash2=bcrypto.hash160(redeem.output);if(hash.length>0&&!hash.equals(hash2))throw new TypeError("Hash mismatch");hash=hash2}if(redeem.input){const hasInput=redeem.input.length>0,hasWitness=redeem.witness&&redeem.witness.length>0;if(!hasInput&&!hasWitness)throw new TypeError("Empty input");if(hasInput&&hasWitness)throw new TypeError("Input and witness provided");if(hasInput){const richunks=bscript.decompile(redeem.input);if(!bscript.isPushOnly(richunks))throw new TypeError("Non push-only scriptSig")}}};if(a.input){const chunks=_chunks();if(!chunks||chunks.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(_redeem().output))throw new TypeError("Input is invalid");checkRedeem(_redeem())}if(a.redeem){if(a.redeem.network&&a.redeem.network!==network)throw new TypeError("Network mismatch");if(a.input){const redeem=_redeem();if(a.redeem.output&&!a.redeem.output.equals(redeem.output))throw new TypeError("Redeem.output mismatch");if(a.redeem.input&&!a.redeem.input.equals(redeem.input))throw new TypeError("Redeem.input mismatch")}checkRedeem(a.redeem)}if(a.witness&&a.redeem&&a.redeem.witness&&!function stacksEqual(a,b){return a.length===b.length&&a.every(((x,i)=>x.equals(b[i])))}(a.redeem.witness,a.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(o,a)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2tr.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2tr=void 0;const buffer_1=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js"),networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),ecc_lib_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/ecc_lib.js"),bip341_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/bip341.js"),lazy=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js"),bech32_1=__webpack_require__("./node_modules/.pnpm/bech32@2.0.0/node_modules/bech32/dist/index.js"),OPS=bscript.OPS;exports.p2tr=function p2tr(a,opts){if(!(a.address||a.output||a.pubkey||a.internalPubkey||a.witness&&a.witness.length>1))throw new TypeError("Not enough data");opts=Object.assign({validate:!0},opts||{}),(0,types_1.typeforce)({address:types_1.typeforce.maybe(types_1.typeforce.String),input:types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),network:types_1.typeforce.maybe(types_1.typeforce.Object),output:types_1.typeforce.maybe(types_1.typeforce.BufferN(34)),internalPubkey:types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),hash:types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),pubkey:types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),signature:types_1.typeforce.maybe(types_1.typeforce.anyOf(types_1.typeforce.BufferN(64),types_1.typeforce.BufferN(65))),witness:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.typeforce.Buffer)),scriptTree:types_1.typeforce.maybe(types_1.isTaptree),redeem:types_1.typeforce.maybe({output:types_1.typeforce.maybe(types_1.typeforce.Buffer),redeemVersion:types_1.typeforce.maybe(types_1.typeforce.Number),witness:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.typeforce.Buffer))}),redeemVersion:types_1.typeforce.maybe(types_1.typeforce.Number)},a);const _address=lazy.value((()=>{const result=bech32_1.bech32m.decode(a.address),version=result.words.shift(),data=bech32_1.bech32m.fromWords(result.words);return{version,prefix:result.prefix,data:buffer_1.Buffer.from(data)}})),_witness=lazy.value((()=>{if(a.witness&&a.witness.length)return a.witness.length>=2&&80===a.witness[a.witness.length-1][0]?a.witness.slice(0,-1):a.witness.slice()})),_hashTree=lazy.value((()=>a.scriptTree?(0,bip341_1.toHashTree)(a.scriptTree):a.hash?{hash:a.hash}:void 0)),network=a.network||networks_1.bitcoin,o={name:"p2tr",network};if(lazy.prop(o,"address",(()=>{if(!o.pubkey)return;const words=bech32_1.bech32m.toWords(o.pubkey);return words.unshift(1),bech32_1.bech32m.encode(network.bech32,words)})),lazy.prop(o,"hash",(()=>{const hashTree=_hashTree();if(hashTree)return hashTree.hash;const w=_witness();if(w&&w.length>1){const controlBlock=w[w.length-1],leafVersion=controlBlock[0]&types_1.TAPLEAF_VERSION_MASK,script=w[w.length-2],leafHash=(0,bip341_1.tapleafHash)({output:script,version:leafVersion});return(0,bip341_1.rootHashFromPath)(controlBlock,leafHash)}return null})),lazy.prop(o,"output",(()=>{if(o.pubkey)return bscript.compile([OPS.OP_1,o.pubkey])})),lazy.prop(o,"redeemVersion",(()=>a.redeemVersion?a.redeemVersion:a.redeem&&void 0!==a.redeem.redeemVersion&&null!==a.redeem.redeemVersion?a.redeem.redeemVersion:bip341_1.LEAF_VERSION_TAPSCRIPT)),lazy.prop(o,"redeem",(()=>{const witness=_witness();if(witness&&!(witness.length<2))return{output:witness[witness.length-2],witness:witness.slice(0,-2),redeemVersion:witness[witness.length-1][0]&types_1.TAPLEAF_VERSION_MASK}})),lazy.prop(o,"pubkey",(()=>{if(a.pubkey)return a.pubkey;if(a.output)return a.output.slice(2);if(a.address)return _address().data;if(o.internalPubkey){const tweakedKey=(0,bip341_1.tweakKey)(o.internalPubkey,o.hash);if(tweakedKey)return tweakedKey.x}})),lazy.prop(o,"internalPubkey",(()=>{if(a.internalPubkey)return a.internalPubkey;const witness=_witness();return witness&&witness.length>1?witness[witness.length-1].slice(1,33):void 0})),lazy.prop(o,"signature",(()=>{if(a.signature)return a.signature;const witness=_witness();return witness&&1===witness.length?witness[0]:void 0})),lazy.prop(o,"witness",(()=>{if(a.witness)return a.witness;const hashTree=_hashTree();if(hashTree&&a.redeem&&a.redeem.output&&a.internalPubkey){const leafHash=(0,bip341_1.tapleafHash)({output:a.redeem.output,version:o.redeemVersion}),path=(0,bip341_1.findScriptPath)(hashTree,leafHash);if(!path)return;const outputKey=(0,bip341_1.tweakKey)(a.internalPubkey,hashTree.hash);if(!outputKey)return;const controlBock=buffer_1.Buffer.concat([buffer_1.Buffer.from([o.redeemVersion|outputKey.parity]),a.internalPubkey].concat(path));return[a.redeem.output,controlBock]}return a.signature?[a.signature]:void 0})),opts.validate){let pubkey=buffer_1.Buffer.from([]);if(a.address){if(network&&network.bech32!==_address().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==_address().version)throw new TypeError("Invalid address version");if(32!==_address().data.length)throw new TypeError("Invalid address data");pubkey=_address().data}if(a.pubkey){if(pubkey.length>0&&!pubkey.equals(a.pubkey))throw new TypeError("Pubkey mismatch");pubkey=a.pubkey}if(a.output){if(34!==a.output.length||a.output[0]!==OPS.OP_1||32!==a.output[1])throw new TypeError("Output is invalid");if(pubkey.length>0&&!pubkey.equals(a.output.slice(2)))throw new TypeError("Pubkey mismatch");pubkey=a.output.slice(2)}if(a.internalPubkey){const tweakedKey=(0,bip341_1.tweakKey)(a.internalPubkey,o.hash);if(pubkey.length>0&&!pubkey.equals(tweakedKey.x))throw new TypeError("Pubkey mismatch");pubkey=tweakedKey.x}if(pubkey&&pubkey.length&&!(0,ecc_lib_1.getEccLib)().isXOnlyPoint(pubkey))throw new TypeError("Invalid pubkey for p2tr");const hashTree=_hashTree();if(a.hash&&hashTree&&!a.hash.equals(hashTree.hash))throw new TypeError("Hash mismatch");if(a.redeem&&a.redeem.output&&hashTree){const leafHash=(0,bip341_1.tapleafHash)({output:a.redeem.output,version:o.redeemVersion});if(!(0,bip341_1.findScriptPath)(hashTree,leafHash))throw new TypeError("Redeem script not in tree")}const witness=_witness();if(a.redeem&&o.redeem){if(a.redeem.redeemVersion&&a.redeem.redeemVersion!==o.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(a.redeem.output){if(0===bscript.decompile(a.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(o.redeem.output&&!a.redeem.output.equals(o.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(a.redeem.witness&&o.redeem.witness&&!function stacksEqual(a,b){return a.length===b.length&&a.every(((x,i)=>x.equals(b[i])))}(a.redeem.witness,o.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(witness&&witness.length)if(1===witness.length){if(a.signature&&!a.signature.equals(witness[0]))throw new TypeError("Signature mismatch")}else{const controlBlock=witness[witness.length-1];if(controlBlock.length<33)throw new TypeError(`The control-block length is too small. Got ${controlBlock.length}, expected min 33.`);if((controlBlock.length-33)%32!=0)throw new TypeError(`The control-block length of ${controlBlock.length} is incorrect!`);const m=(controlBlock.length-33)/32;if(m>128)throw new TypeError(`The script path is too long. Got ${m}, expected max 128.`);const internalPubkey=controlBlock.slice(1,33);if(a.internalPubkey&&!a.internalPubkey.equals(internalPubkey))throw new TypeError("Internal pubkey mismatch");if(!(0,ecc_lib_1.getEccLib)().isXOnlyPoint(internalPubkey))throw new TypeError("Invalid internalPubkey for p2tr witness");const leafVersion=controlBlock[0]&types_1.TAPLEAF_VERSION_MASK,script=witness[witness.length-2],leafHash=(0,bip341_1.tapleafHash)({output:script,version:leafVersion}),hash=(0,bip341_1.rootHashFromPath)(controlBlock,leafHash),outputKey=(0,bip341_1.tweakKey)(internalPubkey,hash);if(!outputKey)throw new TypeError("Invalid outputKey for p2tr witness");if(pubkey.length&&!pubkey.equals(outputKey.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(outputKey.parity!==(1&controlBlock[0]))throw new Error("Incorrect parity")}}return Object.assign(o,a)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2wpkh.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2wpkh=void 0;const bcrypto=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js"),networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),lazy=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js"),bech32_1=__webpack_require__("./node_modules/.pnpm/bech32@2.0.0/node_modules/bech32/dist/index.js"),OPS=bscript.OPS,EMPTY_BUFFER=Buffer.alloc(0);exports.p2wpkh=function p2wpkh(a,opts){if(!(a.address||a.hash||a.output||a.pubkey||a.witness))throw new TypeError("Not enough data");opts=Object.assign({validate:!0},opts||{}),(0,types_1.typeforce)({address:types_1.typeforce.maybe(types_1.typeforce.String),hash:types_1.typeforce.maybe(types_1.typeforce.BufferN(20)),input:types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),network:types_1.typeforce.maybe(types_1.typeforce.Object),output:types_1.typeforce.maybe(types_1.typeforce.BufferN(22)),pubkey:types_1.typeforce.maybe(types_1.isPoint),signature:types_1.typeforce.maybe(bscript.isCanonicalScriptSignature),witness:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.typeforce.Buffer))},a);const _address=lazy.value((()=>{const result=bech32_1.bech32.decode(a.address),version=result.words.shift(),data=bech32_1.bech32.fromWords(result.words);return{version,prefix:result.prefix,data:Buffer.from(data)}})),network=a.network||networks_1.bitcoin,o={name:"p2wpkh",network};if(lazy.prop(o,"address",(()=>{if(!o.hash)return;const words=bech32_1.bech32.toWords(o.hash);return words.unshift(0),bech32_1.bech32.encode(network.bech32,words)})),lazy.prop(o,"hash",(()=>a.output?a.output.slice(2,22):a.address?_address().data:a.pubkey||o.pubkey?bcrypto.hash160(a.pubkey||o.pubkey):void 0)),lazy.prop(o,"output",(()=>{if(o.hash)return bscript.compile([OPS.OP_0,o.hash])})),lazy.prop(o,"pubkey",(()=>a.pubkey?a.pubkey:a.witness?a.witness[1]:void 0)),lazy.prop(o,"signature",(()=>{if(a.witness)return a.witness[0]})),lazy.prop(o,"input",(()=>{if(o.witness)return EMPTY_BUFFER})),lazy.prop(o,"witness",(()=>{if(a.pubkey&&a.signature)return[a.signature,a.pubkey]})),opts.validate){let hash=Buffer.from([]);if(a.address){if(network&&network.bech32!==_address().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==_address().version)throw new TypeError("Invalid address version");if(20!==_address().data.length)throw new TypeError("Invalid address data");hash=_address().data}if(a.hash){if(hash.length>0&&!hash.equals(a.hash))throw new TypeError("Hash mismatch");hash=a.hash}if(a.output){if(22!==a.output.length||a.output[0]!==OPS.OP_0||20!==a.output[1])throw new TypeError("Output is invalid");if(hash.length>0&&!hash.equals(a.output.slice(2)))throw new TypeError("Hash mismatch");hash=a.output.slice(2)}if(a.pubkey){const pkh=bcrypto.hash160(a.pubkey);if(hash.length>0&&!hash.equals(pkh))throw new TypeError("Hash mismatch");if(hash=pkh,!(0,types_1.isPoint)(a.pubkey)||33!==a.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(a.witness){if(2!==a.witness.length)throw new TypeError("Witness is invalid");if(!bscript.isCanonicalScriptSignature(a.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,types_1.isPoint)(a.witness[1])||33!==a.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(a.signature&&!a.signature.equals(a.witness[0]))throw new TypeError("Signature mismatch");if(a.pubkey&&!a.pubkey.equals(a.witness[1]))throw new TypeError("Pubkey mismatch");const pkh=bcrypto.hash160(a.witness[1]);if(hash.length>0&&!hash.equals(pkh))throw new TypeError("Hash mismatch")}}return Object.assign(o,a)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/p2wsh.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.p2wsh=void 0;const bcrypto=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js"),networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),lazy=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/lazy.js"),bech32_1=__webpack_require__("./node_modules/.pnpm/bech32@2.0.0/node_modules/bech32/dist/index.js"),OPS=bscript.OPS,EMPTY_BUFFER=Buffer.alloc(0);function chunkHasUncompressedPubkey(chunk){return!(!Buffer.isBuffer(chunk)||65!==chunk.length||4!==chunk[0]||!(0,types_1.isPoint)(chunk))}exports.p2wsh=function p2wsh(a,opts){if(!(a.address||a.hash||a.output||a.redeem||a.witness))throw new TypeError("Not enough data");opts=Object.assign({validate:!0},opts||{}),(0,types_1.typeforce)({network:types_1.typeforce.maybe(types_1.typeforce.Object),address:types_1.typeforce.maybe(types_1.typeforce.String),hash:types_1.typeforce.maybe(types_1.typeforce.BufferN(32)),output:types_1.typeforce.maybe(types_1.typeforce.BufferN(34)),redeem:types_1.typeforce.maybe({input:types_1.typeforce.maybe(types_1.typeforce.Buffer),network:types_1.typeforce.maybe(types_1.typeforce.Object),output:types_1.typeforce.maybe(types_1.typeforce.Buffer),witness:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.typeforce.Buffer))}),input:types_1.typeforce.maybe(types_1.typeforce.BufferN(0)),witness:types_1.typeforce.maybe(types_1.typeforce.arrayOf(types_1.typeforce.Buffer))},a);const _address=lazy.value((()=>{const result=bech32_1.bech32.decode(a.address),version=result.words.shift(),data=bech32_1.bech32.fromWords(result.words);return{version,prefix:result.prefix,data:Buffer.from(data)}})),_rchunks=lazy.value((()=>bscript.decompile(a.redeem.input)));let network=a.network;network||(network=a.redeem&&a.redeem.network||networks_1.bitcoin);const o={network};if(lazy.prop(o,"address",(()=>{if(!o.hash)return;const words=bech32_1.bech32.toWords(o.hash);return words.unshift(0),bech32_1.bech32.encode(network.bech32,words)})),lazy.prop(o,"hash",(()=>a.output?a.output.slice(2):a.address?_address().data:o.redeem&&o.redeem.output?bcrypto.sha256(o.redeem.output):void 0)),lazy.prop(o,"output",(()=>{if(o.hash)return bscript.compile([OPS.OP_0,o.hash])})),lazy.prop(o,"redeem",(()=>{if(a.witness)return{output:a.witness[a.witness.length-1],input:EMPTY_BUFFER,witness:a.witness.slice(0,-1)}})),lazy.prop(o,"input",(()=>{if(o.witness)return EMPTY_BUFFER})),lazy.prop(o,"witness",(()=>{if(a.redeem&&a.redeem.input&&a.redeem.input.length>0&&a.redeem.output&&a.redeem.output.length>0){const stack=bscript.toStack(_rchunks());return o.redeem=Object.assign({witness:stack},a.redeem),o.redeem.input=EMPTY_BUFFER,[].concat(stack,a.redeem.output)}if(a.redeem&&a.redeem.output&&a.redeem.witness)return[].concat(a.redeem.witness,a.redeem.output)})),lazy.prop(o,"name",(()=>{const nameParts=["p2wsh"];return void 0!==o.redeem&&void 0!==o.redeem.name&&nameParts.push(o.redeem.name),nameParts.join("-")})),opts.validate){let hash=Buffer.from([]);if(a.address){if(_address().prefix!==network.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==_address().version)throw new TypeError("Invalid address version");if(32!==_address().data.length)throw new TypeError("Invalid address data");hash=_address().data}if(a.hash){if(hash.length>0&&!hash.equals(a.hash))throw new TypeError("Hash mismatch");hash=a.hash}if(a.output){if(34!==a.output.length||a.output[0]!==OPS.OP_0||32!==a.output[1])throw new TypeError("Output is invalid");const hash2=a.output.slice(2);if(hash.length>0&&!hash.equals(hash2))throw new TypeError("Hash mismatch");hash=hash2}if(a.redeem){if(a.redeem.network&&a.redeem.network!==network)throw new TypeError("Network mismatch");if(a.redeem.input&&a.redeem.input.length>0&&a.redeem.witness&&a.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(a.redeem.output){const decompile=bscript.decompile(a.redeem.output);if(!decompile||decompile.length<1)throw new TypeError("Redeem.output is invalid");if(a.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(bscript.countNonPushOnlyOPs(decompile)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const hash2=bcrypto.sha256(a.redeem.output);if(hash.length>0&&!hash.equals(hash2))throw new TypeError("Hash mismatch");hash=hash2}if(a.redeem.input&&!bscript.isPushOnly(_rchunks()))throw new TypeError("Non push-only scriptSig");if(a.witness&&a.redeem.witness&&!function stacksEqual(a,b){return a.length===b.length&&a.every(((x,i)=>x.equals(b[i])))}(a.witness,a.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(a.redeem.input&&_rchunks().some(chunkHasUncompressedPubkey)||a.redeem.output&&(bscript.decompile(a.redeem.output)||[]).some(chunkHasUncompressedPubkey))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(a.witness&&a.witness.length>0){const wScript=a.witness[a.witness.length-1];if(a.redeem&&a.redeem.output&&!a.redeem.output.equals(wScript))throw new TypeError("Witness and redeem.output mismatch");if(a.witness.some(chunkHasUncompressedPubkey)||(bscript.decompile(wScript)||[]).some(chunkHasUncompressedPubkey))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,a)}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/psbt.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Psbt=void 0;const bip174_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/psbt.js"),varuint=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/varint.js"),utils_1=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/utils.js"),address_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/address.js"),bufferutils_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/bufferutils.js"),networks_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/networks.js"),payments=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/index.js"),bip341_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/bip341.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),transaction_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/transaction.js"),bip371_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/psbt/bip371.js"),psbtutils_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/psbt/psbtutils.js"),DEFAULT_OPTS={network:networks_1.bitcoin,maximumFeeRate:5e3};class Psbt{static fromBase64(data,opts={}){const buffer=Buffer.from(data,"base64");return this.fromBuffer(buffer,opts)}static fromHex(data,opts={}){const buffer=Buffer.from(data,"hex");return this.fromBuffer(buffer,opts)}static fromBuffer(buffer,opts={}){const psbtBase=bip174_1.Psbt.fromBuffer(buffer,transactionFromBuffer),psbt=new Psbt(opts,psbtBase);return function checkTxForDupeIns(tx,cache){tx.ins.forEach((input=>{checkTxInputCache(cache,input)}))}(psbt.__CACHE.__TX,psbt.__CACHE),psbt}constructor(opts={},data=new bip174_1.Psbt(new PsbtTransaction)){this.data=data,this.opts=Object.assign({},DEFAULT_OPTS,opts),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const dpew=(obj,attr,enumerable,writable)=>Object.defineProperty(obj,attr,{enumerable,writable});dpew(this,"__CACHE",!1,!0),dpew(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(version){this.setVersion(version)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(locktime){this.setLocktime(locktime)}get txInputs(){return this.__CACHE.__TX.ins.map((input=>({hash:(0,bufferutils_1.cloneBuffer)(input.hash),index:input.index,sequence:input.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((output=>{let address;try{address=(0,address_1.fromOutputScript)(output.script,this.opts.network)}catch(_){}return{script:(0,bufferutils_1.cloneBuffer)(output.script),value:output.value,address}}))}combine(...those){return this.data.combine(...those.map((o=>o.data))),this}clone(){const res=Psbt.fromBuffer(this.data.toBuffer());return res.opts=JSON.parse(JSON.stringify(this.opts)),res}setMaximumFeeRate(satoshiPerByte){check32Bit(satoshiPerByte),this.opts.maximumFeeRate=satoshiPerByte}setVersion(version){check32Bit(version),checkInputsForPartialSig(this.data.inputs,"setVersion");const c=this.__CACHE;return c.__TX.version=version,c.__EXTRACTED_TX=void 0,this}setLocktime(locktime){check32Bit(locktime),checkInputsForPartialSig(this.data.inputs,"setLocktime");const c=this.__CACHE;return c.__TX.locktime=locktime,c.__EXTRACTED_TX=void 0,this}setInputSequence(inputIndex,sequence){check32Bit(sequence),checkInputsForPartialSig(this.data.inputs,"setInputSequence");const c=this.__CACHE;if(c.__TX.ins.length<=inputIndex)throw new Error("Input index too high");return c.__TX.ins[inputIndex].sequence=sequence,c.__EXTRACTED_TX=void 0,this}addInputs(inputDatas){return inputDatas.forEach((inputData=>this.addInput(inputData))),this}addInput(inputData){if(arguments.length>1||!inputData||void 0===inputData.hash||void 0===inputData.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,bip371_1.checkTaprootInputFields)(inputData,inputData,"addInput"),checkInputsForPartialSig(this.data.inputs,"addInput"),inputData.witnessScript&&checkInvalidP2WSH(inputData.witnessScript);const c=this.__CACHE;this.data.addInput(inputData);checkTxInputCache(c,c.__TX.ins[c.__TX.ins.length-1]);const inputIndex=this.data.inputs.length-1,input=this.data.inputs[inputIndex];return input.nonWitnessUtxo&&addNonWitnessTxCache(this.__CACHE,input,inputIndex),c.__FEE=void 0,c.__FEE_RATE=void 0,c.__EXTRACTED_TX=void 0,this}addOutputs(outputDatas){return outputDatas.forEach((outputData=>this.addOutput(outputData))),this}addOutput(outputData){if(arguments.length>1||!outputData||void 0===outputData.value||void 0===outputData.address&&void 0===outputData.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");checkInputsForPartialSig(this.data.inputs,"addOutput");const{address}=outputData;if("string"==typeof address){const{network}=this.opts,script=(0,address_1.toOutputScript)(address,network);outputData=Object.assign(outputData,{script})}(0,bip371_1.checkTaprootOutputFields)(outputData,outputData,"addOutput");const c=this.__CACHE;return this.data.addOutput(outputData),c.__FEE=void 0,c.__FEE_RATE=void 0,c.__EXTRACTED_TX=void 0,this}extractTransaction(disableFeeCheck){if(!this.data.inputs.every(isFinalized))throw new Error("Not finalized");const c=this.__CACHE;if(disableFeeCheck||function checkFees(psbt,cache,opts){const feeRate=cache.__FEE_RATE||psbt.getFeeRate(),vsize=cache.__EXTRACTED_TX.virtualSize(),satoshis=feeRate*vsize;if(feeRate>=opts.maximumFeeRate)throw new Error(`Warning: You are paying around ${(satoshis/1e8).toFixed(8)} in fees, which is ${feeRate} satoshi per byte for a transaction with a VSize of ${vsize} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,c,this.opts),c.__EXTRACTED_TX)return c.__EXTRACTED_TX;const tx=c.__TX.clone();return inputFinalizeGetAmts(this.data.inputs,tx,c,!0),tx}getFeeRate(){return getTxCacheValue("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return getTxCacheValue("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,utils_1.checkForInput)(this.data.inputs,0),range(this.data.inputs.length).forEach((idx=>this.finalizeInput(idx))),this}finalizeInput(inputIndex,finalScriptsFunc){const input=(0,utils_1.checkForInput)(this.data.inputs,inputIndex);return(0,bip371_1.isTaprootInput)(input)?this._finalizeTaprootInput(inputIndex,input,void 0,finalScriptsFunc):this._finalizeInput(inputIndex,input,finalScriptsFunc)}finalizeTaprootInput(inputIndex,tapLeafHashToFinalize,finalScriptsFunc=bip371_1.tapScriptFinalizer){const input=(0,utils_1.checkForInput)(this.data.inputs,inputIndex);if((0,bip371_1.isTaprootInput)(input))return this._finalizeTaprootInput(inputIndex,input,tapLeafHashToFinalize,finalScriptsFunc);throw new Error(`Cannot finalize input #${inputIndex}. Not Taproot.`)}_finalizeInput(inputIndex,input,finalScriptsFunc=getFinalScripts){const{script,isP2SH,isP2WSH,isSegwit}=function getScriptFromInput(inputIndex,input,cache){const unsignedTx=cache.__TX,res={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(res.isP2SH=!!input.redeemScript,res.isP2WSH=!!input.witnessScript,input.witnessScript)res.script=input.witnessScript;else if(input.redeemScript)res.script=input.redeemScript;else if(input.nonWitnessUtxo){const nonWitnessUtxoTx=nonWitnessUtxoTxFromCache(cache,input,inputIndex),prevoutIndex=unsignedTx.ins[inputIndex].index;res.script=nonWitnessUtxoTx.outs[prevoutIndex].script}else input.witnessUtxo&&(res.script=input.witnessUtxo.script);(input.witnessScript||(0,psbtutils_1.isP2WPKH)(res.script))&&(res.isSegwit=!0);return res}(inputIndex,input,this.__CACHE);if(!script)throw new Error(`No script found for input #${inputIndex}`);!function checkPartialSigSighashes(input){if(!input.sighashType||!input.partialSig)return;const{partialSig,sighashType}=input;partialSig.forEach((pSig=>{const{hashType}=bscript.signature.decode(pSig.signature);if(sighashType!==hashType)throw new Error("Signature sighash does not match input sighash type")}))}(input);const{finalScriptSig,finalScriptWitness}=finalScriptsFunc(inputIndex,input,script,isSegwit,isP2SH,isP2WSH);if(finalScriptSig&&this.data.updateInput(inputIndex,{finalScriptSig}),finalScriptWitness&&this.data.updateInput(inputIndex,{finalScriptWitness}),!finalScriptSig&&!finalScriptWitness)throw new Error(`Unknown error finalizing input #${inputIndex}`);return this.data.clearFinalizedInput(inputIndex),this}_finalizeTaprootInput(inputIndex,input,tapLeafHashToFinalize,finalScriptsFunc=bip371_1.tapScriptFinalizer){if(!input.witnessUtxo)throw new Error(`Cannot finalize input #${inputIndex}. Missing withness utxo.`);if(input.tapKeySig){const payment=payments.p2tr({output:input.witnessUtxo.script,signature:input.tapKeySig}),finalScriptWitness=(0,psbtutils_1.witnessStackToScriptWitness)(payment.witness);this.data.updateInput(inputIndex,{finalScriptWitness})}else{const{finalScriptWitness}=finalScriptsFunc(inputIndex,input,tapLeafHashToFinalize);this.data.updateInput(inputIndex,{finalScriptWitness})}return this.data.clearFinalizedInput(inputIndex),this}getInputType(inputIndex){const input=(0,utils_1.checkForInput)(this.data.inputs,inputIndex),result=getMeaningfulScript(getScriptFromUtxo(inputIndex,input,this.__CACHE),inputIndex,"input",input.redeemScript||function redeemFromFinalScriptSig(finalScript){if(!finalScript)return;const decomp=bscript.decompile(finalScript);if(!decomp)return;const lastItem=decomp[decomp.length-1];if(!Buffer.isBuffer(lastItem)||isPubkeyLike(lastItem)||function isSigLike(buf){return bscript.isCanonicalScriptSignature(buf)}(lastItem))return;if(!bscript.decompile(lastItem))return;return lastItem}(input.finalScriptSig),input.witnessScript||function redeemFromFinalWitnessScript(finalScript){if(!finalScript)return;const decomp=scriptWitnessToWitnessStack(finalScript),lastItem=decomp[decomp.length-1];if(isPubkeyLike(lastItem))return;if(!bscript.decompile(lastItem))return;return lastItem}(input.finalScriptWitness));return("raw"===result.type?"":result.type+"-")+classifyScript(result.meaningfulScript)}inputHasPubkey(inputIndex,pubkey){return function pubkeyInInput(pubkey,input,inputIndex,cache){const script=getScriptFromUtxo(inputIndex,input,cache),{meaningfulScript}=getMeaningfulScript(script,inputIndex,"input",input.redeemScript,input.witnessScript);return(0,psbtutils_1.pubkeyInScript)(pubkey,meaningfulScript)}(pubkey,(0,utils_1.checkForInput)(this.data.inputs,inputIndex),inputIndex,this.__CACHE)}inputHasHDKey(inputIndex,root){const input=(0,utils_1.checkForInput)(this.data.inputs,inputIndex),derivationIsMine=bip32DerivationIsMine(root);return!!input.bip32Derivation&&input.bip32Derivation.some(derivationIsMine)}outputHasPubkey(outputIndex,pubkey){return function pubkeyInOutput(pubkey,output,outputIndex,cache){const script=cache.__TX.outs[outputIndex].script,{meaningfulScript}=getMeaningfulScript(script,outputIndex,"output",output.redeemScript,output.witnessScript);return(0,psbtutils_1.pubkeyInScript)(pubkey,meaningfulScript)}(pubkey,(0,utils_1.checkForOutput)(this.data.outputs,outputIndex),outputIndex,this.__CACHE)}outputHasHDKey(outputIndex,root){const output=(0,utils_1.checkForOutput)(this.data.outputs,outputIndex),derivationIsMine=bip32DerivationIsMine(root);return!!output.bip32Derivation&&output.bip32Derivation.some(derivationIsMine)}validateSignaturesOfAllInputs(validator){(0,utils_1.checkForInput)(this.data.inputs,0);return range(this.data.inputs.length).map((idx=>this.validateSignaturesOfInput(idx,validator))).reduce(((final,res)=>!0===res&&final),!0)}validateSignaturesOfInput(inputIndex,validator,pubkey){const input=this.data.inputs[inputIndex];return(0,bip371_1.isTaprootInput)(input)?this.validateSignaturesOfTaprootInput(inputIndex,validator,pubkey):this._validateSignaturesOfInput(inputIndex,validator,pubkey)}_validateSignaturesOfInput(inputIndex,validator,pubkey){const input=this.data.inputs[inputIndex],partialSig=(input||{}).partialSig;if(!input||!partialSig||partialSig.length<1)throw new Error("No signatures to validate");if("function"!=typeof validator)throw new Error("Need validator function to validate signatures");const mySigs=pubkey?partialSig.filter((sig=>sig.pubkey.equals(pubkey))):partialSig;if(mySigs.length<1)throw new Error("No signatures for this pubkey");const results=[];let hashCache,scriptCache,sighashCache;for(const pSig of mySigs){const sig=bscript.signature.decode(pSig.signature),{hash,script}=sighashCache!==sig.hashType?getHashForSig(inputIndex,Object.assign({},input,{sighashType:sig.hashType}),this.__CACHE,!0):{hash:hashCache,script:scriptCache};sighashCache=sig.hashType,hashCache=hash,scriptCache=script,checkScriptForPubkey(pSig.pubkey,script,"verify"),results.push(validator(pSig.pubkey,hash,sig.signature))}return results.every((res=>!0===res))}validateSignaturesOfTaprootInput(inputIndex,validator,pubkey){const input=this.data.inputs[inputIndex],tapKeySig=(input||{}).tapKeySig,tapScriptSig=(input||{}).tapScriptSig;if(!input&&!tapKeySig&&(!tapScriptSig||tapScriptSig.length))throw new Error("No signatures to validate");if("function"!=typeof validator)throw new Error("Need validator function to validate signatures");const allHashses=(pubkey=pubkey&&(0,bip371_1.toXOnly)(pubkey))?getTaprootHashesForSig(inputIndex,input,this.data.inputs,pubkey,this.__CACHE):function getAllTaprootHashesForSig(inputIndex,input,inputs,cache){const allPublicKeys=[];if(input.tapInternalKey){const key=getPrevoutTaprootKey(inputIndex,input,cache);key&&allPublicKeys.push(key)}if(input.tapScriptSig){const tapScriptPubkeys=input.tapScriptSig.map((tss=>tss.pubkey));allPublicKeys.push(...tapScriptPubkeys)}const allHashes=allPublicKeys.map((pubicKey=>getTaprootHashesForSig(inputIndex,input,inputs,pubicKey,cache)));return allHashes.flat()}(inputIndex,input,this.data.inputs,this.__CACHE);if(!allHashses.length)throw new Error("No signatures for this pubkey");const tapKeyHash=allHashses.find((h=>!h.leafHash));let validationResultCount=0;if(tapKeySig&&tapKeyHash){if(!validator(tapKeyHash.pubkey,tapKeyHash.hash,trimTaprootSig(tapKeySig)))return!1;validationResultCount++}if(tapScriptSig)for(const tapSig of tapScriptSig){const tapSigHash=allHashses.find((h=>tapSig.pubkey.equals(h.pubkey)));if(tapSigHash){if(!validator(tapSig.pubkey,tapSigHash.hash,trimTaprootSig(tapSig.signature)))return!1;validationResultCount++}}return validationResultCount>0}signAllInputsHD(hdKeyPair,sighashTypes=[transaction_1.Transaction.SIGHASH_ALL]){if(!hdKeyPair||!hdKeyPair.publicKey||!hdKeyPair.fingerprint)throw new Error("Need HDSigner to sign input");const results=[];for(const i of range(this.data.inputs.length))try{this.signInputHD(i,hdKeyPair,sighashTypes),results.push(!0)}catch(err){results.push(!1)}if(results.every((v=>!1===v)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(hdKeyPair,sighashTypes=[transaction_1.Transaction.SIGHASH_ALL]){return new Promise(((resolve,reject)=>{if(!hdKeyPair||!hdKeyPair.publicKey||!hdKeyPair.fingerprint)return reject(new Error("Need HDSigner to sign input"));const results=[],promises=[];for(const i of range(this.data.inputs.length))promises.push(this.signInputHDAsync(i,hdKeyPair,sighashTypes).then((()=>{results.push(!0)}),(()=>{results.push(!1)})));return Promise.all(promises).then((()=>{if(results.every((v=>!1===v)))return reject(new Error("No inputs were signed"));resolve()}))}))}signInputHD(inputIndex,hdKeyPair,sighashTypes=[transaction_1.Transaction.SIGHASH_ALL]){if(!hdKeyPair||!hdKeyPair.publicKey||!hdKeyPair.fingerprint)throw new Error("Need HDSigner to sign input");return getSignersFromHD(inputIndex,this.data.inputs,hdKeyPair).forEach((signer=>this.signInput(inputIndex,signer,sighashTypes))),this}signInputHDAsync(inputIndex,hdKeyPair,sighashTypes=[transaction_1.Transaction.SIGHASH_ALL]){return new Promise(((resolve,reject)=>{if(!hdKeyPair||!hdKeyPair.publicKey||!hdKeyPair.fingerprint)return reject(new Error("Need HDSigner to sign input"));const promises=getSignersFromHD(inputIndex,this.data.inputs,hdKeyPair).map((signer=>this.signInputAsync(inputIndex,signer,sighashTypes)));return Promise.all(promises).then((()=>{resolve()})).catch(reject)}))}signAllInputs(keyPair,sighashTypes){if(!keyPair||!keyPair.publicKey)throw new Error("Need Signer to sign input");const results=[];for(const i of range(this.data.inputs.length))try{this.signInput(i,keyPair,sighashTypes),results.push(!0)}catch(err){results.push(!1)}if(results.every((v=>!1===v)))throw new Error("No inputs were signed");return this}signAllInputsAsync(keyPair,sighashTypes){return new Promise(((resolve,reject)=>{if(!keyPair||!keyPair.publicKey)return reject(new Error("Need Signer to sign input"));const results=[],promises=[];for(const[i]of this.data.inputs.entries())promises.push(this.signInputAsync(i,keyPair,sighashTypes).then((()=>{results.push(!0)}),(()=>{results.push(!1)})));return Promise.all(promises).then((()=>{if(results.every((v=>!1===v)))return reject(new Error("No inputs were signed"));resolve()}))}))}signInput(inputIndex,keyPair,sighashTypes){if(!keyPair||!keyPair.publicKey)throw new Error("Need Signer to sign input");const input=(0,utils_1.checkForInput)(this.data.inputs,inputIndex);return(0,bip371_1.isTaprootInput)(input)?this._signTaprootInput(inputIndex,input,keyPair,void 0,sighashTypes):this._signInput(inputIndex,keyPair,sighashTypes)}signTaprootInput(inputIndex,keyPair,tapLeafHashToSign,sighashTypes){if(!keyPair||!keyPair.publicKey)throw new Error("Need Signer to sign input");const input=(0,utils_1.checkForInput)(this.data.inputs,inputIndex);if((0,bip371_1.isTaprootInput)(input))return this._signTaprootInput(inputIndex,input,keyPair,tapLeafHashToSign,sighashTypes);throw new Error(`Input #${inputIndex} is not of type Taproot.`)}_signInput(inputIndex,keyPair,sighashTypes=[transaction_1.Transaction.SIGHASH_ALL]){const{hash,sighashType}=getHashAndSighashType(this.data.inputs,inputIndex,keyPair.publicKey,this.__CACHE,sighashTypes),partialSig=[{pubkey:keyPair.publicKey,signature:bscript.signature.encode(keyPair.sign(hash),sighashType)}];return this.data.updateInput(inputIndex,{partialSig}),this}_signTaprootInput(inputIndex,input,keyPair,tapLeafHashToSign,allowedSighashTypes=[transaction_1.Transaction.SIGHASH_DEFAULT]){const hashesForSig=this.checkTaprootHashesForSig(inputIndex,input,keyPair,tapLeafHashToSign,allowedSighashTypes),tapKeySig=hashesForSig.filter((h=>!h.leafHash)).map((h=>(0,bip371_1.serializeTaprootSignature)(keyPair.signSchnorr(h.hash),input.sighashType)))[0],tapScriptSig=hashesForSig.filter((h=>!!h.leafHash)).map((h=>({pubkey:(0,bip371_1.toXOnly)(keyPair.publicKey),signature:(0,bip371_1.serializeTaprootSignature)(keyPair.signSchnorr(h.hash),input.sighashType),leafHash:h.leafHash})));return tapKeySig&&this.data.updateInput(inputIndex,{tapKeySig}),tapScriptSig.length&&this.data.updateInput(inputIndex,{tapScriptSig}),this}signInputAsync(inputIndex,keyPair,sighashTypes){return Promise.resolve().then((()=>{if(!keyPair||!keyPair.publicKey)throw new Error("Need Signer to sign input");const input=(0,utils_1.checkForInput)(this.data.inputs,inputIndex);return(0,bip371_1.isTaprootInput)(input)?this._signTaprootInputAsync(inputIndex,input,keyPair,void 0,sighashTypes):this._signInputAsync(inputIndex,keyPair,sighashTypes)}))}signTaprootInputAsync(inputIndex,keyPair,tapLeafHash,sighashTypes){return Promise.resolve().then((()=>{if(!keyPair||!keyPair.publicKey)throw new Error("Need Signer to sign input");const input=(0,utils_1.checkForInput)(this.data.inputs,inputIndex);if((0,bip371_1.isTaprootInput)(input))return this._signTaprootInputAsync(inputIndex,input,keyPair,tapLeafHash,sighashTypes);throw new Error(`Input #${inputIndex} is not of type Taproot.`)}))}_signInputAsync(inputIndex,keyPair,sighashTypes=[transaction_1.Transaction.SIGHASH_ALL]){const{hash,sighashType}=getHashAndSighashType(this.data.inputs,inputIndex,keyPair.publicKey,this.__CACHE,sighashTypes);return Promise.resolve(keyPair.sign(hash)).then((signature=>{const partialSig=[{pubkey:keyPair.publicKey,signature:bscript.signature.encode(signature,sighashType)}];this.data.updateInput(inputIndex,{partialSig})}))}async _signTaprootInputAsync(inputIndex,input,keyPair,tapLeafHash,sighashTypes=[transaction_1.Transaction.SIGHASH_DEFAULT]){const hashesForSig=this.checkTaprootHashesForSig(inputIndex,input,keyPair,tapLeafHash,sighashTypes),signaturePromises=[],tapKeyHash=hashesForSig.filter((h=>!h.leafHash))[0];if(tapKeyHash){const tapKeySigPromise=Promise.resolve(keyPair.signSchnorr(tapKeyHash.hash)).then((sig=>({tapKeySig:(0,bip371_1.serializeTaprootSignature)(sig,input.sighashType)})));signaturePromises.push(tapKeySigPromise)}const tapScriptHashes=hashesForSig.filter((h=>!!h.leafHash));if(tapScriptHashes.length){const tapScriptSigPromises=tapScriptHashes.map((tsh=>Promise.resolve(keyPair.signSchnorr(tsh.hash)).then((signature=>({tapScriptSig:[{pubkey:(0,bip371_1.toXOnly)(keyPair.publicKey),signature:(0,bip371_1.serializeTaprootSignature)(signature,input.sighashType),leafHash:tsh.leafHash}]})))));signaturePromises.push(...tapScriptSigPromises)}return Promise.all(signaturePromises).then((results=>{results.forEach((v=>this.data.updateInput(inputIndex,v)))}))}checkTaprootHashesForSig(inputIndex,input,keyPair,tapLeafHashToSign,allowedSighashTypes){if("function"!=typeof keyPair.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${inputIndex}.`);const hashesForSig=getTaprootHashesForSig(inputIndex,input,this.data.inputs,keyPair.publicKey,this.__CACHE,tapLeafHashToSign,allowedSighashTypes);if(!hashesForSig||!hashesForSig.length)throw new Error(`Can not sign for input #${inputIndex} with the key ${keyPair.publicKey.toString("hex")}`);return hashesForSig}toBuffer(){return checkCache(this.__CACHE),this.data.toBuffer()}toHex(){return checkCache(this.__CACHE),this.data.toHex()}toBase64(){return checkCache(this.__CACHE),this.data.toBase64()}updateGlobal(updateData){return this.data.updateGlobal(updateData),this}updateInput(inputIndex,updateData){return updateData.witnessScript&&checkInvalidP2WSH(updateData.witnessScript),(0,bip371_1.checkTaprootInputFields)(this.data.inputs[inputIndex],updateData,"updateInput"),this.data.updateInput(inputIndex,updateData),updateData.nonWitnessUtxo&&addNonWitnessTxCache(this.__CACHE,this.data.inputs[inputIndex],inputIndex),this}updateOutput(outputIndex,updateData){const outputData=this.data.outputs[outputIndex];return(0,bip371_1.checkTaprootOutputFields)(outputData,updateData,"updateOutput"),this.data.updateOutput(outputIndex,updateData),this}addUnknownKeyValToGlobal(keyVal){return this.data.addUnknownKeyValToGlobal(keyVal),this}addUnknownKeyValToInput(inputIndex,keyVal){return this.data.addUnknownKeyValToInput(inputIndex,keyVal),this}addUnknownKeyValToOutput(outputIndex,keyVal){return this.data.addUnknownKeyValToOutput(outputIndex,keyVal),this}clearFinalizedInput(inputIndex){return this.data.clearFinalizedInput(inputIndex),this}}exports.Psbt=Psbt;const transactionFromBuffer=buffer=>new PsbtTransaction(buffer);class PsbtTransaction{constructor(buffer=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=transaction_1.Transaction.fromBuffer(buffer),function checkTxEmpty(tx){if(!tx.ins.every((input=>input.script&&0===input.script.length&&input.witness&&0===input.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(input){if(void 0===input.hash||void 0===input.index||!Buffer.isBuffer(input.hash)&&"string"!=typeof input.hash||"number"!=typeof input.index)throw new Error("Error adding input.");const hash="string"==typeof input.hash?(0,bufferutils_1.reverseBuffer)(Buffer.from(input.hash,"hex")):input.hash;this.tx.addInput(hash,input.index,input.sequence)}addOutput(output){if(void 0===output.script||void 0===output.value||!Buffer.isBuffer(output.script)||"number"!=typeof output.value)throw new Error("Error adding output.");this.tx.addOutput(output.script,output.value)}toBuffer(){return this.tx.toBuffer()}}function checkCache(cache){if(!1!==cache.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function hasSigs(neededSigs,partialSig,pubkeys){if(!partialSig)return!1;let sigs;if(sigs=pubkeys?pubkeys.map((pkey=>{const pubkey=function compressPubkey(pubkey){if(65===pubkey.length){const parity=1&pubkey[64],newKey=pubkey.slice(0,33);return newKey[0]=2|parity,newKey}return pubkey.slice()}(pkey);return partialSig.find((pSig=>pSig.pubkey.equals(pubkey)))})).filter((v=>!!v)):partialSig,sigs.length>neededSigs)throw new Error("Too many signatures");return sigs.length===neededSigs}function isFinalized(input){return!!input.finalScriptSig||!!input.finalScriptWitness}function bip32DerivationIsMine(root){return d=>!!d.masterFingerprint.equals(root.fingerprint)&&!!root.derivePath(d.path).publicKey.equals(d.pubkey)}function check32Bit(num){if("number"!=typeof num||num!==Math.floor(num)||num>4294967295||num<0)throw new Error("Invalid 32 bit integer")}function checkInputsForPartialSig(inputs,action){inputs.forEach((input=>{if((0,bip371_1.isTaprootInput)(input)?(0,bip371_1.checkTaprootInputForSigs)(input,action):(0,psbtutils_1.checkInputForSig)(input,action))throw new Error("Can not modify transaction, signatures exist.")}))}function checkScriptForPubkey(pubkey,script,action){if(!(0,psbtutils_1.pubkeyInScript)(pubkey,script))throw new Error(`Can not ${action} for this input with the key ${pubkey.toString("hex")}`)}function checkTxInputCache(cache,input){const key=(0,bufferutils_1.reverseBuffer)(Buffer.from(input.hash)).toString("hex")+":"+input.index;if(cache.__TX_IN_CACHE[key])throw new Error("Duplicate input detected.");cache.__TX_IN_CACHE[key]=1}function scriptCheckerFactory(payment,paymentScriptName){return(inputIndex,scriptPubKey,redeemScript,ioType)=>{const redeemScriptOutput=payment({redeem:{output:redeemScript}}).output;if(!scriptPubKey.equals(redeemScriptOutput))throw new Error(`${paymentScriptName} for ${ioType} #${inputIndex} doesn't match the scriptPubKey in the prevout`)}}const checkRedeemScript=scriptCheckerFactory(payments.p2sh,"Redeem script"),checkWitnessScript=scriptCheckerFactory(payments.p2wsh,"Witness script");function getTxCacheValue(key,name,inputs,c){if(!inputs.every(isFinalized))throw new Error(`PSBT must be finalized to calculate ${name}`);if("__FEE_RATE"===key&&c.__FEE_RATE)return c.__FEE_RATE;if("__FEE"===key&&c.__FEE)return c.__FEE;let tx,mustFinalize=!0;return c.__EXTRACTED_TX?(tx=c.__EXTRACTED_TX,mustFinalize=!1):tx=c.__TX.clone(),inputFinalizeGetAmts(inputs,tx,c,mustFinalize),"__FEE_RATE"===key?c.__FEE_RATE:"__FEE"===key?c.__FEE:void 0}function getFinalScripts(inputIndex,input,script,isSegwit,isP2SH,isP2WSH){const scriptType=classifyScript(script);if(!function canFinalize(input,script,scriptType){switch(scriptType){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return hasSigs(1,input.partialSig);case"multisig":const p2ms=payments.p2ms({output:script});return hasSigs(p2ms.m,input.partialSig,p2ms.pubkeys);default:return!1}}(input,script,scriptType))throw new Error(`Can not finalize input #${inputIndex}`);return function prepareFinalScripts(script,scriptType,partialSig,isSegwit,isP2SH,isP2WSH){let finalScriptSig,finalScriptWitness;const payment=function getPayment(script,scriptType,partialSig){let payment;switch(scriptType){case"multisig":const sigs=function getSortedSigs(script,partialSig){const p2ms=payments.p2ms({output:script});return p2ms.pubkeys.map((pk=>(partialSig.filter((ps=>ps.pubkey.equals(pk)))[0]||{}).signature)).filter((v=>!!v))}(script,partialSig);payment=payments.p2ms({output:script,signatures:sigs});break;case"pubkey":payment=payments.p2pk({output:script,signature:partialSig[0].signature});break;case"pubkeyhash":payment=payments.p2pkh({output:script,pubkey:partialSig[0].pubkey,signature:partialSig[0].signature});break;case"witnesspubkeyhash":payment=payments.p2wpkh({output:script,pubkey:partialSig[0].pubkey,signature:partialSig[0].signature})}return payment}(script,scriptType,partialSig),p2wsh=isP2WSH?payments.p2wsh({redeem:payment}):null,p2sh=isP2SH?payments.p2sh({redeem:p2wsh||payment}):null;isSegwit?(finalScriptWitness=p2wsh?(0,psbtutils_1.witnessStackToScriptWitness)(p2wsh.witness):(0,psbtutils_1.witnessStackToScriptWitness)(payment.witness),p2sh&&(finalScriptSig=p2sh.input)):finalScriptSig=p2sh?p2sh.input:payment.input;return{finalScriptSig,finalScriptWitness}}(script,scriptType,input.partialSig,isSegwit,isP2SH,isP2WSH)}function getHashAndSighashType(inputs,inputIndex,pubkey,cache,sighashTypes){const input=(0,utils_1.checkForInput)(inputs,inputIndex),{hash,sighashType,script}=getHashForSig(inputIndex,input,cache,!1,sighashTypes);return checkScriptForPubkey(pubkey,script,"sign"),{hash,sighashType}}function getHashForSig(inputIndex,input,cache,forValidate,sighashTypes){const unsignedTx=cache.__TX,sighashType=input.sighashType||transaction_1.Transaction.SIGHASH_ALL;let hash,prevout;if(checkSighashTypeAllowed(sighashType,sighashTypes),input.nonWitnessUtxo){const nonWitnessUtxoTx=nonWitnessUtxoTxFromCache(cache,input,inputIndex),prevoutHash=unsignedTx.ins[inputIndex].hash,utxoHash=nonWitnessUtxoTx.getHash();if(!prevoutHash.equals(utxoHash))throw new Error(`Non-witness UTXO hash for input #${inputIndex} doesn't match the hash specified in the prevout`);const prevoutIndex=unsignedTx.ins[inputIndex].index;prevout=nonWitnessUtxoTx.outs[prevoutIndex]}else{if(!input.witnessUtxo)throw new Error("Need a Utxo input item for signing");prevout=input.witnessUtxo}const{meaningfulScript,type}=getMeaningfulScript(prevout.script,inputIndex,"input",input.redeemScript,input.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(type)>=0)hash=unsignedTx.hashForWitnessV0(inputIndex,meaningfulScript,prevout.value,sighashType);else if((0,psbtutils_1.isP2WPKH)(meaningfulScript)){const signingScript=payments.p2pkh({hash:meaningfulScript.slice(2)}).output;hash=unsignedTx.hashForWitnessV0(inputIndex,signingScript,prevout.value,sighashType)}else{if(void 0===input.nonWitnessUtxo&&!1===cache.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${inputIndex} has witnessUtxo but non-segwit script: ${meaningfulScript.toString("hex")}`);forValidate||!1===cache.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),hash=unsignedTx.hashForSignature(inputIndex,meaningfulScript,sighashType)}return{script:meaningfulScript,sighashType,hash}}function getPrevoutTaprootKey(inputIndex,input,cache){const{script}=getScriptAndAmountFromUtxo(inputIndex,input,cache);return(0,psbtutils_1.isP2TR)(script)?script.subarray(2,34):null}function trimTaprootSig(signature){return 64===signature.length?signature:signature.subarray(0,64)}function getTaprootHashesForSig(inputIndex,input,inputs,pubkey,cache,tapLeafHashToSign,allowedSighashTypes){const unsignedTx=cache.__TX,sighashType=input.sighashType||transaction_1.Transaction.SIGHASH_DEFAULT;checkSighashTypeAllowed(sighashType,allowedSighashTypes);const prevOuts=inputs.map(((i,index)=>getScriptAndAmountFromUtxo(index,i,cache))),signingScripts=prevOuts.map((o=>o.script)),values=prevOuts.map((o=>o.value)),hashes=[];if(input.tapInternalKey&&!tapLeafHashToSign){const outputKey=getPrevoutTaprootKey(inputIndex,input,cache)||Buffer.from([]);if((0,bip371_1.toXOnly)(pubkey).equals(outputKey)){const tapKeyHash=unsignedTx.hashForWitnessV1(inputIndex,signingScripts,values,sighashType);hashes.push({pubkey,hash:tapKeyHash})}}const tapLeafHashes=(input.tapLeafScript||[]).filter((tapLeaf=>(0,psbtutils_1.pubkeyInScript)(pubkey,tapLeaf.script))).map((tapLeaf=>{const hash=(0,bip341_1.tapleafHash)({output:tapLeaf.script,version:tapLeaf.leafVersion});return Object.assign({hash},tapLeaf)})).filter((tapLeaf=>!tapLeafHashToSign||tapLeafHashToSign.equals(tapLeaf.hash))).map((tapLeaf=>{const tapScriptHash=unsignedTx.hashForWitnessV1(inputIndex,signingScripts,values,transaction_1.Transaction.SIGHASH_DEFAULT,tapLeaf.hash);return{pubkey,hash:tapScriptHash,leafHash:tapLeaf.hash}}));return hashes.concat(tapLeafHashes)}function checkSighashTypeAllowed(sighashType,sighashTypes){if(sighashTypes&&sighashTypes.indexOf(sighashType)<0){const str=function sighashTypeToString(sighashType){let text=sighashType&transaction_1.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&sighashType){case transaction_1.Transaction.SIGHASH_ALL:text+="SIGHASH_ALL";break;case transaction_1.Transaction.SIGHASH_SINGLE:text+="SIGHASH_SINGLE";break;case transaction_1.Transaction.SIGHASH_NONE:text+="SIGHASH_NONE"}return text}(sighashType);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${str}`)}}function getSignersFromHD(inputIndex,inputs,hdKeyPair){const input=(0,utils_1.checkForInput)(inputs,inputIndex);if(!input.bip32Derivation||0===input.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const myDerivations=input.bip32Derivation.map((bipDv=>bipDv.masterFingerprint.equals(hdKeyPair.fingerprint)?bipDv:void 0)).filter((v=>!!v));if(0===myDerivations.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return myDerivations.map((bipDv=>{const node=hdKeyPair.derivePath(bipDv.path);if(!bipDv.pubkey.equals(node.publicKey))throw new Error("pubkey did not match bip32Derivation");return node}))}function scriptWitnessToWitnessStack(buffer){let offset=0;function readVarInt(){const vi=varuint.decode(buffer,offset);return offset+=varuint.decode.bytes,vi}function readVarSlice(){return function readSlice(n){return offset+=n,buffer.slice(offset-n,offset)}(readVarInt())}return function readVector(){const count=readVarInt(),vector=[];for(let i=0;i<count;i++)vector.push(readVarSlice());return vector}()}function addNonWitnessTxCache(cache,input,inputIndex){cache.__NON_WITNESS_UTXO_BUF_CACHE[inputIndex]=input.nonWitnessUtxo;const tx=transaction_1.Transaction.fromBuffer(input.nonWitnessUtxo);cache.__NON_WITNESS_UTXO_TX_CACHE[inputIndex]=tx;const self=cache,selfIndex=inputIndex;delete input.nonWitnessUtxo,Object.defineProperty(input,"nonWitnessUtxo",{enumerable:!0,get(){const buf=self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex],txCache=self.__NON_WITNESS_UTXO_TX_CACHE[selfIndex];if(void 0!==buf)return buf;{const newBuf=txCache.toBuffer();return self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex]=newBuf,newBuf}},set(data){self.__NON_WITNESS_UTXO_BUF_CACHE[selfIndex]=data}})}function inputFinalizeGetAmts(inputs,tx,cache,mustFinalize){let inputAmount=0;inputs.forEach(((input,idx)=>{if(mustFinalize&&input.finalScriptSig&&(tx.ins[idx].script=input.finalScriptSig),mustFinalize&&input.finalScriptWitness&&(tx.ins[idx].witness=scriptWitnessToWitnessStack(input.finalScriptWitness)),input.witnessUtxo)inputAmount+=input.witnessUtxo.value;else if(input.nonWitnessUtxo){const nwTx=nonWitnessUtxoTxFromCache(cache,input,idx),vout=tx.ins[idx].index,out=nwTx.outs[vout];inputAmount+=out.value}}));const outputAmount=tx.outs.reduce(((total,o)=>total+o.value),0),fee=inputAmount-outputAmount;if(fee<0)throw new Error("Outputs are spending more than Inputs");const bytes=tx.virtualSize();cache.__FEE=fee,cache.__EXTRACTED_TX=tx,cache.__FEE_RATE=Math.floor(fee/bytes)}function nonWitnessUtxoTxFromCache(cache,input,inputIndex){const c=cache.__NON_WITNESS_UTXO_TX_CACHE;return c[inputIndex]||addNonWitnessTxCache(cache,input,inputIndex),c[inputIndex]}function getScriptFromUtxo(inputIndex,input,cache){const{script}=getScriptAndAmountFromUtxo(inputIndex,input,cache);return script}function getScriptAndAmountFromUtxo(inputIndex,input,cache){if(void 0!==input.witnessUtxo)return{script:input.witnessUtxo.script,value:input.witnessUtxo.value};if(void 0!==input.nonWitnessUtxo){const o=nonWitnessUtxoTxFromCache(cache,input,inputIndex).outs[cache.__TX.ins[inputIndex].index];return{script:o.script,value:o.value}}throw new Error("Can't find pubkey in input without Utxo data")}function isPubkeyLike(buf){return 33===buf.length&&bscript.isCanonicalPubKey(buf)}function getMeaningfulScript(script,index,ioType,redeemScript,witnessScript){const isP2SH=(0,psbtutils_1.isP2SHScript)(script),isP2SHP2WSH=isP2SH&&redeemScript&&(0,psbtutils_1.isP2WSHScript)(redeemScript),isP2WSH=(0,psbtutils_1.isP2WSHScript)(script);if(isP2SH&&void 0===redeemScript)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((isP2WSH||isP2SHP2WSH)&&void 0===witnessScript)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let meaningfulScript;return isP2SHP2WSH?(meaningfulScript=witnessScript,checkRedeemScript(index,script,redeemScript,ioType),checkWitnessScript(index,redeemScript,witnessScript,ioType),checkInvalidP2WSH(meaningfulScript)):isP2WSH?(meaningfulScript=witnessScript,checkWitnessScript(index,script,witnessScript,ioType),checkInvalidP2WSH(meaningfulScript)):isP2SH?(meaningfulScript=redeemScript,checkRedeemScript(index,script,redeemScript,ioType)):meaningfulScript=script,{meaningfulScript,type:isP2SHP2WSH?"p2sh-p2wsh":isP2SH?"p2sh":isP2WSH?"p2wsh":"raw"}}function checkInvalidP2WSH(script){if((0,psbtutils_1.isP2WPKH)(script)||(0,psbtutils_1.isP2SHScript)(script))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function classifyScript(script){return(0,psbtutils_1.isP2WPKH)(script)?"witnesspubkeyhash":(0,psbtutils_1.isP2PKH)(script)?"pubkeyhash":(0,psbtutils_1.isP2MS)(script)?"multisig":(0,psbtutils_1.isP2PK)(script)?"pubkey":"nonstandard"}function range(n){return[...Array(n).keys()]}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/psbt/bip371.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkTaprootInputForSigs=exports.tapTreeFromList=exports.tapTreeToList=exports.tweakInternalPubKey=exports.checkTaprootOutputFields=exports.checkTaprootInputFields=exports.isTaprootOutput=exports.isTaprootInput=exports.serializeTaprootSignature=exports.tapScriptFinalizer=exports.toXOnly=void 0;const types_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),transaction_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/transaction.js"),psbtutils_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/psbt/psbtutils.js"),bip341_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/bip341.js"),payments_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/index.js"),psbtutils_2=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/psbt/psbtutils.js");function isTaprootInput(input){return input&&!!(input.tapInternalKey||input.tapMerkleRoot||input.tapLeafScript&&input.tapLeafScript.length||input.tapBip32Derivation&&input.tapBip32Derivation.length||input.witnessUtxo&&(0,psbtutils_1.isP2TR)(input.witnessUtxo.script))}function isTaprootOutput(output,script){return output&&!!(output.tapInternalKey||output.tapTree||output.tapBip32Derivation&&output.tapBip32Derivation.length||script&&(0,psbtutils_1.isP2TR)(script))}function tapTreeFromList(leaves=[]){return 1===leaves.length&&0===leaves[0].depth?{output:leaves[0].script,version:leaves[0].leafVersion}:function instertLeavesInTree(leaves){let tree;for(const leaf of leaves)if(tree=instertLeafInTree(leaf,tree),!tree)throw new Error("No room left to insert tapleaf in tree");return tree}(leaves)}function decodeSchnorrSignature(signature){return{signature:signature.slice(0,64),hashType:signature.slice(64)[0]||transaction_1.Transaction.SIGHASH_DEFAULT}}function _tapTreeToList(tree,leaves=[],depth=0){if(depth>bip341_1.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return tree?(0,types_1.isTapleaf)(tree)?(leaves.push({depth,leafVersion:tree.version||bip341_1.LEAF_VERSION_TAPSCRIPT,script:tree.output}),leaves):(tree[0]&&_tapTreeToList(tree[0],leaves,depth+1),tree[1]&&_tapTreeToList(tree[1],leaves,depth+1),leaves):[]}function instertLeafInTree(leaf,tree,depth=0){if(depth>bip341_1.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(leaf.depth===depth)return tree?void 0:{output:leaf.script,version:leaf.leafVersion};if((0,types_1.isTapleaf)(tree))return;const leftSide=instertLeafInTree(leaf,tree&&tree[0],depth+1);if(leftSide)return[leftSide,tree&&tree[1]];const rightSide=instertLeafInTree(leaf,tree&&tree[1],depth+1);return rightSide?[tree&&tree[0],rightSide]:void 0}function isTapLeafInTree(tapLeaf,merkleRoot){if(!merkleRoot)return!0;const leafHash=(0,bip341_1.tapleafHash)({output:tapLeaf.script,version:tapLeaf.leafVersion});return(0,bip341_1.rootHashFromPath)(tapLeaf.controlBlock,leafHash).equals(merkleRoot)}function hasNonTaprootFields(io){return io&&!!(io.redeemScript||io.witnessScript||io.bip32Derivation&&io.bip32Derivation.length)}exports.toXOnly=pubKey=>32===pubKey.length?pubKey:pubKey.slice(1,33),exports.tapScriptFinalizer=function tapScriptFinalizer(inputIndex,input,tapLeafHashToFinalize){const tapLeaf=function findTapLeafToFinalize(input,inputIndex,leafHashToFinalize){if(!input.tapScriptSig||!input.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${inputIndex}. No tapleaf script signature provided.`);const tapLeaf=(input.tapLeafScript||[]).sort(((a,b)=>a.controlBlock.length-b.controlBlock.length)).find((leaf=>function canFinalizeLeaf(leaf,tapScriptSig,hash){const leafHash=(0,bip341_1.tapleafHash)({output:leaf.script,version:leaf.leafVersion});return(!hash||hash.equals(leafHash))&&void 0!==tapScriptSig.find((tss=>tss.leafHash.equals(leafHash)))}(leaf,input.tapScriptSig,leafHashToFinalize)));if(!tapLeaf)throw new Error(`Can not finalize taproot input #${inputIndex}. Signature for tapleaf script not found.`);return tapLeaf}(input,inputIndex,tapLeafHashToFinalize);try{const sigs=function sortSignatures(input,tapLeaf){const leafHash=(0,bip341_1.tapleafHash)({output:tapLeaf.script,version:tapLeaf.leafVersion});return(input.tapScriptSig||[]).filter((tss=>tss.leafHash.equals(leafHash))).map((tss=>function addPubkeyPositionInScript(script,tss){return Object.assign({positionInScript:(0,psbtutils_1.pubkeyPositionInScript)(tss.pubkey,script)},tss)}(tapLeaf.script,tss))).sort(((t1,t2)=>t2.positionInScript-t1.positionInScript)).map((t=>t.signature))}(input,tapLeaf),witness=sigs.concat(tapLeaf.script).concat(tapLeaf.controlBlock);return{finalScriptWitness:(0,psbtutils_1.witnessStackToScriptWitness)(witness)}}catch(err){throw new Error(`Can not finalize taproot input #${inputIndex}: ${err}`)}},exports.serializeTaprootSignature=function serializeTaprootSignature(sig,sighashType){const sighashTypeByte=sighashType?Buffer.from([sighashType]):Buffer.from([]);return Buffer.concat([sig,sighashTypeByte])},exports.isTaprootInput=isTaprootInput,exports.isTaprootOutput=isTaprootOutput,exports.checkTaprootInputFields=function checkTaprootInputFields(inputData,newInputData,action){!function checkMixedTaprootAndNonTaprootInputFields(inputData,newInputData,action){const isBadTaprootUpdate=isTaprootInput(inputData)&&hasNonTaprootFields(newInputData),isBadNonTaprootUpdate=hasNonTaprootFields(inputData)&&isTaprootInput(newInputData),hasMixedFields=inputData===newInputData&&isTaprootInput(newInputData)&&hasNonTaprootFields(newInputData);if(isBadTaprootUpdate||isBadNonTaprootUpdate||hasMixedFields)throw new Error(`Invalid arguments for Psbt.${action}. Cannot use both taproot and non-taproot fields.`)}(inputData,newInputData,action),function checkIfTapLeafInTree(inputData,newInputData,action){if(newInputData.tapMerkleRoot){const newLeafsInTree=(newInputData.tapLeafScript||[]).every((l=>isTapLeafInTree(l,newInputData.tapMerkleRoot))),oldLeafsInTree=(inputData.tapLeafScript||[]).every((l=>isTapLeafInTree(l,newInputData.tapMerkleRoot)));if(!newLeafsInTree||!oldLeafsInTree)throw new Error(`Invalid arguments for Psbt.${action}. Tapleaf not part of taptree.`)}else if(inputData.tapMerkleRoot){if(!(newInputData.tapLeafScript||[]).every((l=>isTapLeafInTree(l,inputData.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${action}. Tapleaf not part of taptree.`)}}(inputData,newInputData,action)},exports.checkTaprootOutputFields=function checkTaprootOutputFields(outputData,newOutputData,action){!function checkMixedTaprootAndNonTaprootOutputFields(inputData,newInputData,action){const isBadTaprootUpdate=isTaprootOutput(inputData)&&hasNonTaprootFields(newInputData),isBadNonTaprootUpdate=hasNonTaprootFields(inputData)&&isTaprootOutput(newInputData),hasMixedFields=inputData===newInputData&&isTaprootOutput(newInputData)&&hasNonTaprootFields(newInputData);if(isBadTaprootUpdate||isBadNonTaprootUpdate||hasMixedFields)throw new Error(`Invalid arguments for Psbt.${action}. Cannot use both taproot and non-taproot fields.`)}(outputData,newOutputData,action),function checkTaprootScriptPubkey(outputData,newOutputData){if(!newOutputData.tapTree&&!newOutputData.tapInternalKey)return;const tapInternalKey=newOutputData.tapInternalKey||outputData.tapInternalKey,tapTree=newOutputData.tapTree||outputData.tapTree;if(tapInternalKey){const{script:scriptPubkey}=outputData,script=function getTaprootScripPubkey(tapInternalKey,tapTree){const scriptTree=tapTree&&tapTreeFromList(tapTree.leaves),{output}=(0,payments_1.p2tr)({internalPubkey:tapInternalKey,scriptTree});return output}(tapInternalKey,tapTree);if(scriptPubkey&&!scriptPubkey.equals(script))throw new Error("Error adding output. Script or address missmatch.")}}(outputData,newOutputData)},exports.tweakInternalPubKey=function tweakInternalPubKey(inputIndex,input){const tapInternalKey=input.tapInternalKey,outputKey=tapInternalKey&&(0,bip341_1.tweakKey)(tapInternalKey,input.tapMerkleRoot);if(!outputKey)throw new Error(`Cannot tweak tap internal key for input #${inputIndex}. Public key: ${tapInternalKey&&tapInternalKey.toString("hex")}`);return outputKey.x},exports.tapTreeToList=function tapTreeToList(tree){if(!(0,types_1.isTaptree)(tree))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return _tapTreeToList(tree)},exports.tapTreeFromList=tapTreeFromList,exports.checkTaprootInputForSigs=function checkTaprootInputForSigs(input,action){return function extractTaprootSigs(input){const sigs=[];input.tapKeySig&&sigs.push(input.tapKeySig);input.tapScriptSig&&sigs.push(...input.tapScriptSig.map((s=>s.signature)));if(!sigs.length){const finalTapKeySig=function getTapKeySigFromWithness(finalScriptWitness){if(!finalScriptWitness)return;const witness=finalScriptWitness.slice(2);if(64===witness.length||65===witness.length)return witness}(input.finalScriptWitness);finalTapKeySig&&sigs.push(finalTapKeySig)}return sigs}(input).some((sig=>(0,psbtutils_2.signatureBlocksAction)(sig,decodeSchnorrSignature,action)))}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/psbt/psbtutils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.signatureBlocksAction=exports.checkInputForSig=exports.pubkeyInScript=exports.pubkeyPositionInScript=exports.witnessStackToScriptWitness=exports.isP2TR=exports.isP2SHScript=exports.isP2WSHScript=exports.isP2WPKH=exports.isP2PKH=exports.isP2PK=exports.isP2MS=void 0;const varuint=__webpack_require__("./node_modules/.pnpm/bip174@2.1.1/node_modules/bip174/src/lib/converter/varint.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),transaction_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/transaction.js"),crypto_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js"),payments=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/payments/index.js");function isPaymentFactory(payment){return script=>{try{return payment({output:script}),!0}catch(err){return!1}}}function pubkeyPositionInScript(pubkey,script){const pubkeyHash=(0,crypto_1.hash160)(pubkey),pubkeyXOnly=pubkey.slice(1,33),decompiled=bscript.decompile(script);if(null===decompiled)throw new Error("Unknown script error");return decompiled.findIndex((element=>"number"!=typeof element&&(element.equals(pubkey)||element.equals(pubkeyHash)||element.equals(pubkeyXOnly))))}function signatureBlocksAction(signature,signatureDecodeFn,action){const{hashType}=signatureDecodeFn(signature),whitelist=[];hashType&transaction_1.Transaction.SIGHASH_ANYONECANPAY&&whitelist.push("addInput");switch(31&hashType){case transaction_1.Transaction.SIGHASH_ALL:break;case transaction_1.Transaction.SIGHASH_SINGLE:case transaction_1.Transaction.SIGHASH_NONE:whitelist.push("addOutput"),whitelist.push("setInputSequence")}return-1===whitelist.indexOf(action)}exports.isP2MS=isPaymentFactory(payments.p2ms),exports.isP2PK=isPaymentFactory(payments.p2pk),exports.isP2PKH=isPaymentFactory(payments.p2pkh),exports.isP2WPKH=isPaymentFactory(payments.p2wpkh),exports.isP2WSHScript=isPaymentFactory(payments.p2wsh),exports.isP2SHScript=isPaymentFactory(payments.p2sh),exports.isP2TR=isPaymentFactory(payments.p2tr),exports.witnessStackToScriptWitness=function witnessStackToScriptWitness(witness){let buffer=Buffer.allocUnsafe(0);function writeVarInt(i){const currentLen=buffer.length,varintLen=varuint.encodingLength(i);buffer=Buffer.concat([buffer,Buffer.allocUnsafe(varintLen)]),varuint.encode(i,buffer,currentLen)}function writeVarSlice(slice){writeVarInt(slice.length),function writeSlice(slice){buffer=Buffer.concat([buffer,Buffer.from(slice)])}(slice)}return function writeVector(vector){writeVarInt(vector.length),vector.forEach(writeVarSlice)}(witness),buffer},exports.pubkeyPositionInScript=pubkeyPositionInScript,exports.pubkeyInScript=function pubkeyInScript(pubkey,script){return-1!==pubkeyPositionInScript(pubkey,script)},exports.checkInputForSig=function checkInputForSig(input,action){return function extractPartialSigs(input){let pSigs=[];if(0===(input.partialSig||[]).length){if(!input.finalScriptSig&&!input.finalScriptWitness)return[];pSigs=function getPsigsFromInputFinalScripts(input){const scriptItems=input.finalScriptSig&&bscript.decompile(input.finalScriptSig)||[],witnessItems=input.finalScriptWitness&&bscript.decompile(input.finalScriptWitness)||[];return scriptItems.concat(witnessItems).filter((item=>Buffer.isBuffer(item)&&bscript.isCanonicalScriptSignature(item))).map((sig=>({signature:sig})))}(input)}else pSigs=input.partialSig;return pSigs.map((p=>p.signature))}(input).some((pSig=>signatureBlocksAction(pSig,bscript.signature.decode,action)))},exports.signatureBlocksAction=signatureBlocksAction},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/push_data.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decode=exports.encode=exports.encodingLength=void 0;const ops_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/ops.js");function encodingLength(i){return i<ops_1.OPS.OP_PUSHDATA1?1:i<=255?2:i<=65535?3:5}exports.encodingLength=encodingLength,exports.encode=function encode(buffer,num,offset){const size=encodingLength(num);return 1===size?buffer.writeUInt8(num,offset):2===size?(buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA1,offset),buffer.writeUInt8(num,offset+1)):3===size?(buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA2,offset),buffer.writeUInt16LE(num,offset+1)):(buffer.writeUInt8(ops_1.OPS.OP_PUSHDATA4,offset),buffer.writeUInt32LE(num,offset+1)),size},exports.decode=function decode(buffer,offset){const opcode=buffer.readUInt8(offset);let num,size;if(opcode<ops_1.OPS.OP_PUSHDATA1)num=opcode,size=1;else if(opcode===ops_1.OPS.OP_PUSHDATA1){if(offset+2>buffer.length)return null;num=buffer.readUInt8(offset+1),size=2}else if(opcode===ops_1.OPS.OP_PUSHDATA2){if(offset+3>buffer.length)return null;num=buffer.readUInt16LE(offset+1),size=3}else{if(offset+5>buffer.length)return null;if(opcode!==ops_1.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");num=buffer.readUInt32LE(offset+1),size=5}return{opcode,number:num,size}}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.signature=exports.number=exports.isCanonicalScriptSignature=exports.isDefinedHashType=exports.isCanonicalPubKey=exports.toStack=exports.fromASM=exports.toASM=exports.decompile=exports.compile=exports.countNonPushOnlyOPs=exports.isPushOnly=exports.OPS=void 0;const bip66=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/bip66.js"),ops_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/ops.js");Object.defineProperty(exports,"OPS",{enumerable:!0,get:function(){return ops_1.OPS}});const pushdata=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/push_data.js"),scriptNumber=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script_number.js"),scriptSignature=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script_signature.js"),types=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),{typeforce}=types,OP_INT_BASE=ops_1.OPS.OP_RESERVED;function isPushOnlyChunk(value){return types.Buffer(value)||function isOPInt(value){return types.Number(value)&&(value===ops_1.OPS.OP_0||value>=ops_1.OPS.OP_1&&value<=ops_1.OPS.OP_16||value===ops_1.OPS.OP_1NEGATE)}(value)}function isPushOnly(value){return types.Array(value)&&value.every(isPushOnlyChunk)}function asMinimalOP(buffer){return 0===buffer.length?ops_1.OPS.OP_0:1===buffer.length?buffer[0]>=1&&buffer[0]<=16?OP_INT_BASE+buffer[0]:129===buffer[0]?ops_1.OPS.OP_1NEGATE:void 0:void 0}function chunksIsBuffer(buf){return Buffer.isBuffer(buf)}function singleChunkIsBuffer(buf){return Buffer.isBuffer(buf)}function compile(chunks){if(chunksIsBuffer(chunks))return chunks;typeforce(types.Array,chunks);const bufferSize=chunks.reduce(((accum,chunk)=>singleChunkIsBuffer(chunk)?1===chunk.length&&void 0!==asMinimalOP(chunk)?accum+1:accum+pushdata.encodingLength(chunk.length)+chunk.length:accum+1),0),buffer=Buffer.allocUnsafe(bufferSize);let offset=0;if(chunks.forEach((chunk=>{if(singleChunkIsBuffer(chunk)){const opcode=asMinimalOP(chunk);if(void 0!==opcode)return buffer.writeUInt8(opcode,offset),void(offset+=1);offset+=pushdata.encode(buffer,chunk.length,offset),chunk.copy(buffer,offset),offset+=chunk.length}else buffer.writeUInt8(chunk,offset),offset+=1})),offset!==buffer.length)throw new Error("Could not decode chunks");return buffer}function decompile(buffer){if(function chunksIsArray(buf){return types.Array(buf)}(buffer))return buffer;typeforce(types.Buffer,buffer);const chunks=[];let i=0;for(;i<buffer.length;){const opcode=buffer[i];if(opcode>ops_1.OPS.OP_0&&opcode<=ops_1.OPS.OP_PUSHDATA4){const d=pushdata.decode(buffer,i);if(null===d)return null;if(i+=d.size,i+d.number>buffer.length)return null;const data=buffer.slice(i,i+d.number);i+=d.number;const op=asMinimalOP(data);void 0!==op?chunks.push(op):chunks.push(data)}else chunks.push(opcode),i+=1}return chunks}function isDefinedHashType(hashType){const hashTypeMod=-129&hashType;return hashTypeMod>0&&hashTypeMod<4}exports.isPushOnly=isPushOnly,exports.countNonPushOnlyOPs=function countNonPushOnlyOPs(value){return value.length-value.filter(isPushOnlyChunk).length},exports.compile=compile,exports.decompile=decompile,exports.toASM=function toASM(chunks){return chunksIsBuffer(chunks)&&(chunks=decompile(chunks)),chunks.map((chunk=>{if(singleChunkIsBuffer(chunk)){const op=asMinimalOP(chunk);if(void 0===op)return chunk.toString("hex");chunk=op}return ops_1.REVERSE_OPS[chunk]})).join(" ")},exports.fromASM=function fromASM(asm){return typeforce(types.String,asm),compile(asm.split(" ").map((chunkStr=>void 0!==ops_1.OPS[chunkStr]?ops_1.OPS[chunkStr]:(typeforce(types.Hex,chunkStr),Buffer.from(chunkStr,"hex")))))},exports.toStack=function toStack(chunks){return chunks=decompile(chunks),typeforce(isPushOnly,chunks),chunks.map((op=>singleChunkIsBuffer(op)?op:op===ops_1.OPS.OP_0?Buffer.allocUnsafe(0):scriptNumber.encode(op-OP_INT_BASE)))},exports.isCanonicalPubKey=function isCanonicalPubKey(buffer){return types.isPoint(buffer)},exports.isDefinedHashType=isDefinedHashType,exports.isCanonicalScriptSignature=function isCanonicalScriptSignature(buffer){return!!Buffer.isBuffer(buffer)&&(!!isDefinedHashType(buffer[buffer.length-1])&&bip66.check(buffer.slice(0,-1)))},exports.number=scriptNumber,exports.signature=scriptSignature},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script_number.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.encode=exports.decode=void 0,exports.decode=function decode(buffer,maxLength,minimal){maxLength=maxLength||4,minimal=void 0===minimal||minimal;const length=buffer.length;if(0===length)return 0;if(length>maxLength)throw new TypeError("Script number overflow");if(minimal&&!(127&buffer[length-1]||!(length<=1)&&128&buffer[length-2]))throw new Error("Non-minimally encoded script number");if(5===length){const a=buffer.readUInt32LE(0),b=buffer.readUInt8(4);return 128&b?-(4294967296*(-129&b)+a):4294967296*b+a}let result=0;for(let i=0;i<length;++i)result|=buffer[i]<<8*i;return 128&buffer[length-1]?-(result&~(128<<8*(length-1))):result},exports.encode=function encode(_number){let value=Math.abs(_number);const size=function scriptNumSize(i){return i>2147483647?5:i>8388607?4:i>32767?3:i>127?2:i>0?1:0}(value),buffer=Buffer.allocUnsafe(size),negative=_number<0;for(let i=0;i<size;++i)buffer.writeUInt8(255&value,i),value>>=8;return 128&buffer[size-1]?buffer.writeUInt8(negative?128:0,size-1):negative&&(buffer[size-1]|=128),buffer}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script_signature.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.encode=exports.decode=void 0;const bip66=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/bip66.js"),types=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),{typeforce}=types,ZERO=Buffer.alloc(1,0);function toDER(x){let i=0;for(;0===x[i];)++i;return i===x.length?ZERO:128&(x=x.slice(i))[0]?Buffer.concat([ZERO,x],1+x.length):x}function fromDER(x){0===x[0]&&(x=x.slice(1));const buffer=Buffer.alloc(32,0),bstart=Math.max(0,32-x.length);return x.copy(buffer,bstart),buffer}exports.decode=function decode(buffer){const hashType=buffer.readUInt8(buffer.length-1),hashTypeMod=-129&hashType;if(hashTypeMod<=0||hashTypeMod>=4)throw new Error("Invalid hashType "+hashType);const decoded=bip66.decode(buffer.slice(0,-1)),r=fromDER(decoded.r),s=fromDER(decoded.s);return{signature:Buffer.concat([r,s],64),hashType}},exports.encode=function encode(signature,hashType){typeforce({signature:types.BufferN(64),hashType:types.UInt8},{signature,hashType});const hashTypeMod=-129&hashType;if(hashTypeMod<=0||hashTypeMod>=4)throw new Error("Invalid hashType "+hashType);const hashTypeBuffer=Buffer.allocUnsafe(1);hashTypeBuffer.writeUInt8(hashType,0);const r=toDER(signature.slice(0,32)),s=toDER(signature.slice(32,64));return Buffer.concat([bip66.encode(r,s),hashTypeBuffer])}},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/transaction.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transaction=void 0;const bufferutils_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/bufferutils.js"),bcrypto=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/crypto.js"),bscript=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),script_1=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/script.js"),types=__webpack_require__("./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js"),{typeforce}=types;function varSliceSize(someScript){const length=someScript.length;return bufferutils_1.varuint.encodingLength(length)+length}const EMPTY_BUFFER=Buffer.allocUnsafe(0),EMPTY_WITNESS=[],ZERO=Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),ONE=Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),VALUE_UINT64_MAX=Buffer.from("ffffffffffffffff","hex"),BLANK_OUTPUT={script:EMPTY_BUFFER,valueBuffer:VALUE_UINT64_MAX};class Transaction{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(buffer,_NO_STRICT){const bufferReader=new bufferutils_1.BufferReader(buffer),tx=new Transaction;tx.version=bufferReader.readInt32();const marker=bufferReader.readUInt8(),flag=bufferReader.readUInt8();let hasWitnesses=!1;marker===Transaction.ADVANCED_TRANSACTION_MARKER&&flag===Transaction.ADVANCED_TRANSACTION_FLAG?hasWitnesses=!0:bufferReader.offset-=2;const vinLen=bufferReader.readVarInt();for(let i=0;i<vinLen;++i)tx.ins.push({hash:bufferReader.readSlice(32),index:bufferReader.readUInt32(),script:bufferReader.readVarSlice(),sequence:bufferReader.readUInt32(),witness:EMPTY_WITNESS});const voutLen=bufferReader.readVarInt();for(let i=0;i<voutLen;++i)tx.outs.push({value:bufferReader.readUInt64(),script:bufferReader.readVarSlice()});if(hasWitnesses){for(let i=0;i<vinLen;++i)tx.ins[i].witness=bufferReader.readVector();if(!tx.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(tx.locktime=bufferReader.readUInt32(),_NO_STRICT)return tx;if(bufferReader.offset!==buffer.length)throw new Error("Transaction has unexpected data");return tx}static fromHex(hex){return Transaction.fromBuffer(Buffer.from(hex,"hex"),!1)}static isCoinbaseHash(buffer){typeforce(types.Hash256bit,buffer);for(let i=0;i<32;++i)if(0!==buffer[i])return!1;return!0}isCoinbase(){return 1===this.ins.length&&Transaction.isCoinbaseHash(this.ins[0].hash)}addInput(hash,index,sequence,scriptSig){return typeforce(types.tuple(types.Hash256bit,types.UInt32,types.maybe(types.UInt32),types.maybe(types.Buffer)),arguments),types.Null(sequence)&&(sequence=Transaction.DEFAULT_SEQUENCE),this.ins.push({hash,index,script:scriptSig||EMPTY_BUFFER,sequence,witness:EMPTY_WITNESS})-1}addOutput(scriptPubKey,value){return typeforce(types.tuple(types.Buffer,types.Satoshi),arguments),this.outs.push({script:scriptPubKey,value})-1}hasWitnesses(){return this.ins.some((x=>0!==x.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(_ALLOW_WITNESS=!0){const hasWitnesses=_ALLOW_WITNESS&&this.hasWitnesses();return(hasWitnesses?10:8)+bufferutils_1.varuint.encodingLength(this.ins.length)+bufferutils_1.varuint.encodingLength(this.outs.length)+this.ins.reduce(((sum,input)=>sum+40+varSliceSize(input.script)),0)+this.outs.reduce(((sum,output)=>sum+8+varSliceSize(output.script)),0)+(hasWitnesses?this.ins.reduce(((sum,input)=>sum+function vectorSize(someVector){const length=someVector.length;return bufferutils_1.varuint.encodingLength(length)+someVector.reduce(((sum,witness)=>sum+varSliceSize(witness)),0)}(input.witness)),0):0)}clone(){const newTx=new Transaction;return newTx.version=this.version,newTx.locktime=this.locktime,newTx.ins=this.ins.map((txIn=>({hash:txIn.hash,index:txIn.index,script:txIn.script,sequence:txIn.sequence,witness:txIn.witness}))),newTx.outs=this.outs.map((txOut=>({script:txOut.script,value:txOut.value}))),newTx}hashForSignature(inIndex,prevOutScript,hashType){if(typeforce(types.tuple(types.UInt32,types.Buffer,types.Number),arguments),inIndex>=this.ins.length)return ONE;const ourScript=bscript.compile(bscript.decompile(prevOutScript).filter((x=>x!==script_1.OPS.OP_CODESEPARATOR))),txTmp=this.clone();if((31&hashType)===Transaction.SIGHASH_NONE)txTmp.outs=[],txTmp.ins.forEach(((input,i)=>{i!==inIndex&&(input.sequence=0)}));else if((31&hashType)===Transaction.SIGHASH_SINGLE){if(inIndex>=this.outs.length)return ONE;txTmp.outs.length=inIndex+1;for(let i=0;i<inIndex;i++)txTmp.outs[i]=BLANK_OUTPUT;txTmp.ins.forEach(((input,y)=>{y!==inIndex&&(input.sequence=0)}))}hashType&Transaction.SIGHASH_ANYONECANPAY?(txTmp.ins=[txTmp.ins[inIndex]],txTmp.ins[0].script=ourScript):(txTmp.ins.forEach((input=>{input.script=EMPTY_BUFFER})),txTmp.ins[inIndex].script=ourScript);const buffer=Buffer.allocUnsafe(txTmp.byteLength(!1)+4);return buffer.writeInt32LE(hashType,buffer.length-4),txTmp.__toBuffer(buffer,0,!1),bcrypto.hash256(buffer)}hashForWitnessV1(inIndex,prevOutScripts,values,hashType,leafHash,annex){if(typeforce(types.tuple(types.UInt32,typeforce.arrayOf(types.Buffer),typeforce.arrayOf(types.Satoshi),types.UInt32),arguments),values.length!==this.ins.length||prevOutScripts.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const outputType=hashType===Transaction.SIGHASH_DEFAULT?Transaction.SIGHASH_ALL:hashType&Transaction.SIGHASH_OUTPUT_MASK,isAnyoneCanPay=(hashType&Transaction.SIGHASH_INPUT_MASK)===Transaction.SIGHASH_ANYONECANPAY,isNone=outputType===Transaction.SIGHASH_NONE,isSingle=outputType===Transaction.SIGHASH_SINGLE;let hashPrevouts=EMPTY_BUFFER,hashAmounts=EMPTY_BUFFER,hashScriptPubKeys=EMPTY_BUFFER,hashSequences=EMPTY_BUFFER,hashOutputs=EMPTY_BUFFER;if(!isAnyoneCanPay){let bufferWriter=bufferutils_1.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((txIn=>{bufferWriter.writeSlice(txIn.hash),bufferWriter.writeUInt32(txIn.index)})),hashPrevouts=bcrypto.sha256(bufferWriter.end()),bufferWriter=bufferutils_1.BufferWriter.withCapacity(8*this.ins.length),values.forEach((value=>bufferWriter.writeUInt64(value))),hashAmounts=bcrypto.sha256(bufferWriter.end()),bufferWriter=bufferutils_1.BufferWriter.withCapacity(prevOutScripts.map(varSliceSize).reduce(((a,b)=>a+b))),prevOutScripts.forEach((prevOutScript=>bufferWriter.writeVarSlice(prevOutScript))),hashScriptPubKeys=bcrypto.sha256(bufferWriter.end()),bufferWriter=bufferutils_1.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((txIn=>bufferWriter.writeUInt32(txIn.sequence))),hashSequences=bcrypto.sha256(bufferWriter.end())}if(isNone||isSingle){if(isSingle&&inIndex<this.outs.length){const output=this.outs[inIndex],bufferWriter=bufferutils_1.BufferWriter.withCapacity(8+varSliceSize(output.script));bufferWriter.writeUInt64(output.value),bufferWriter.writeVarSlice(output.script),hashOutputs=bcrypto.sha256(bufferWriter.end())}}else{const txOutsSize=this.outs.map((output=>8+varSliceSize(output.script))).reduce(((a,b)=>a+b)),bufferWriter=bufferutils_1.BufferWriter.withCapacity(txOutsSize);this.outs.forEach((out=>{bufferWriter.writeUInt64(out.value),bufferWriter.writeVarSlice(out.script)})),hashOutputs=bcrypto.sha256(bufferWriter.end())}const spendType=(leafHash?2:0)+(annex?1:0),sigMsgSize=174-(isAnyoneCanPay?49:0)-(isNone?32:0)+(annex?32:0)+(leafHash?37:0),sigMsgWriter=bufferutils_1.BufferWriter.withCapacity(sigMsgSize);if(sigMsgWriter.writeUInt8(hashType),sigMsgWriter.writeInt32(this.version),sigMsgWriter.writeUInt32(this.locktime),sigMsgWriter.writeSlice(hashPrevouts),sigMsgWriter.writeSlice(hashAmounts),sigMsgWriter.writeSlice(hashScriptPubKeys),sigMsgWriter.writeSlice(hashSequences),isNone||isSingle||sigMsgWriter.writeSlice(hashOutputs),sigMsgWriter.writeUInt8(spendType),isAnyoneCanPay){const input=this.ins[inIndex];sigMsgWriter.writeSlice(input.hash),sigMsgWriter.writeUInt32(input.index),sigMsgWriter.writeUInt64(values[inIndex]),sigMsgWriter.writeVarSlice(prevOutScripts[inIndex]),sigMsgWriter.writeUInt32(input.sequence)}else sigMsgWriter.writeUInt32(inIndex);if(annex){const bufferWriter=bufferutils_1.BufferWriter.withCapacity(varSliceSize(annex));bufferWriter.writeVarSlice(annex),sigMsgWriter.writeSlice(bcrypto.sha256(bufferWriter.end()))}return isSingle&&sigMsgWriter.writeSlice(hashOutputs),leafHash&&(sigMsgWriter.writeSlice(leafHash),sigMsgWriter.writeUInt8(0),sigMsgWriter.writeUInt32(4294967295)),bcrypto.taggedHash("TapSighash",Buffer.concat([Buffer.from([0]),sigMsgWriter.end()]))}hashForWitnessV0(inIndex,prevOutScript,value,hashType){typeforce(types.tuple(types.UInt32,types.Buffer,types.Satoshi,types.UInt32),arguments);let bufferWriter,tbuffer=Buffer.from([]),hashOutputs=ZERO,hashPrevouts=ZERO,hashSequence=ZERO;if(hashType&Transaction.SIGHASH_ANYONECANPAY||(tbuffer=Buffer.allocUnsafe(36*this.ins.length),bufferWriter=new bufferutils_1.BufferWriter(tbuffer,0),this.ins.forEach((txIn=>{bufferWriter.writeSlice(txIn.hash),bufferWriter.writeUInt32(txIn.index)})),hashPrevouts=bcrypto.hash256(tbuffer)),hashType&Transaction.SIGHASH_ANYONECANPAY||(31&hashType)===Transaction.SIGHASH_SINGLE||(31&hashType)===Transaction.SIGHASH_NONE||(tbuffer=Buffer.allocUnsafe(4*this.ins.length),bufferWriter=new bufferutils_1.BufferWriter(tbuffer,0),this.ins.forEach((txIn=>{bufferWriter.writeUInt32(txIn.sequence)})),hashSequence=bcrypto.hash256(tbuffer)),(31&hashType)!==Transaction.SIGHASH_SINGLE&&(31&hashType)!==Transaction.SIGHASH_NONE){const txOutsSize=this.outs.reduce(((sum,output)=>sum+8+varSliceSize(output.script)),0);tbuffer=Buffer.allocUnsafe(txOutsSize),bufferWriter=new bufferutils_1.BufferWriter(tbuffer,0),this.outs.forEach((out=>{bufferWriter.writeUInt64(out.value),bufferWriter.writeVarSlice(out.script)})),hashOutputs=bcrypto.hash256(tbuffer)}else if((31&hashType)===Transaction.SIGHASH_SINGLE&&inIndex<this.outs.length){const output=this.outs[inIndex];tbuffer=Buffer.allocUnsafe(8+varSliceSize(output.script)),bufferWriter=new bufferutils_1.BufferWriter(tbuffer,0),bufferWriter.writeUInt64(output.value),bufferWriter.writeVarSlice(output.script),hashOutputs=bcrypto.hash256(tbuffer)}tbuffer=Buffer.allocUnsafe(156+varSliceSize(prevOutScript)),bufferWriter=new bufferutils_1.BufferWriter(tbuffer,0);const input=this.ins[inIndex];return bufferWriter.writeInt32(this.version),bufferWriter.writeSlice(hashPrevouts),bufferWriter.writeSlice(hashSequence),bufferWriter.writeSlice(input.hash),bufferWriter.writeUInt32(input.index),bufferWriter.writeVarSlice(prevOutScript),bufferWriter.writeUInt64(value),bufferWriter.writeUInt32(input.sequence),bufferWriter.writeSlice(hashOutputs),bufferWriter.writeUInt32(this.locktime),bufferWriter.writeUInt32(hashType),bcrypto.hash256(tbuffer)}getHash(forWitness){return forWitness&&this.isCoinbase()?Buffer.alloc(32,0):bcrypto.hash256(this.__toBuffer(void 0,void 0,forWitness))}getId(){return(0,bufferutils_1.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(buffer,initialOffset){return this.__toBuffer(buffer,initialOffset,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(index,scriptSig){typeforce(types.tuple(types.Number,types.Buffer),arguments),this.ins[index].script=scriptSig}setWitness(index,witness){typeforce(types.tuple(types.Number,[types.Buffer]),arguments),this.ins[index].witness=witness}__toBuffer(buffer,initialOffset,_ALLOW_WITNESS=!1){buffer||(buffer=Buffer.allocUnsafe(this.byteLength(_ALLOW_WITNESS)));const bufferWriter=new bufferutils_1.BufferWriter(buffer,initialOffset||0);bufferWriter.writeInt32(this.version);const hasWitnesses=_ALLOW_WITNESS&&this.hasWitnesses();return hasWitnesses&&(bufferWriter.writeUInt8(Transaction.ADVANCED_TRANSACTION_MARKER),bufferWriter.writeUInt8(Transaction.ADVANCED_TRANSACTION_FLAG)),bufferWriter.writeVarInt(this.ins.length),this.ins.forEach((txIn=>{bufferWriter.writeSlice(txIn.hash),bufferWriter.writeUInt32(txIn.index),bufferWriter.writeVarSlice(txIn.script),bufferWriter.writeUInt32(txIn.sequence)})),bufferWriter.writeVarInt(this.outs.length),this.outs.forEach((txOut=>{!function isOutput(out){return void 0!==out.value}(txOut)?bufferWriter.writeSlice(txOut.valueBuffer):bufferWriter.writeUInt64(txOut.value),bufferWriter.writeVarSlice(txOut.script)})),hasWitnesses&&this.ins.forEach((input=>{bufferWriter.writeVector(input.witness)})),bufferWriter.writeUInt32(this.locktime),void 0!==initialOffset?buffer.slice(initialOffset,bufferWriter.offset):buffer}}exports.Transaction=Transaction,Transaction.DEFAULT_SEQUENCE=4294967295,Transaction.SIGHASH_DEFAULT=0,Transaction.SIGHASH_ALL=1,Transaction.SIGHASH_NONE=2,Transaction.SIGHASH_SINGLE=3,Transaction.SIGHASH_ANYONECANPAY=128,Transaction.SIGHASH_OUTPUT_MASK=3,Transaction.SIGHASH_INPUT_MASK=128,Transaction.ADVANCED_TRANSACTION_MARKER=0,Transaction.ADVANCED_TRANSACTION_FLAG=1},"./node_modules/.pnpm/bitcoinjs-lib@6.1.5/node_modules/bitcoinjs-lib/src/types.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.oneOf=exports.Null=exports.BufferN=exports.Function=exports.UInt32=exports.UInt8=exports.tuple=exports.maybe=exports.Hex=exports.Buffer=exports.String=exports.Boolean=exports.Array=exports.Number=exports.Hash256bit=exports.Hash160bit=exports.Buffer256bit=exports.isTaptree=exports.isTapleaf=exports.TAPLEAF_VERSION_MASK=exports.Network=exports.ECPoint=exports.Satoshi=exports.Signer=exports.BIP32Path=exports.UInt31=exports.isPoint=exports.typeforce=void 0;const buffer_1=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js");exports.typeforce=__webpack_require__("./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/index.js");const ZERO32=buffer_1.Buffer.alloc(32,0),EC_P=buffer_1.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");exports.isPoint=function isPoint(p){if(!buffer_1.Buffer.isBuffer(p))return!1;if(p.length<33)return!1;const t=p[0],x=p.slice(1,33);if(0===x.compare(ZERO32))return!1;if(x.compare(EC_P)>=0)return!1;if((2===t||3===t)&&33===p.length)return!0;const y=p.slice(33);return 0!==y.compare(ZERO32)&&(!(y.compare(EC_P)>=0)&&(4===t&&65===p.length))};const UINT31_MAX=Math.pow(2,31)-1;function BIP32Path(value){return exports.typeforce.String(value)&&!!value.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}exports.UInt31=function UInt31(value){return exports.typeforce.UInt32(value)&&value<=UINT31_MAX},exports.BIP32Path=BIP32Path,BIP32Path.toJSON=()=>"BIP32 derivation path",exports.Signer=function Signer(obj){return(exports.typeforce.Buffer(obj.publicKey)||"function"==typeof obj.getPublicKey)&&"function"==typeof obj.sign};function isTapleaf(o){return!(!o||!("output"in o))&&(!!buffer_1.Buffer.isBuffer(o.output)&&(void 0===o.version||(o.version&exports.TAPLEAF_VERSION_MASK)===o.version))}exports.Satoshi=function Satoshi(value){return exports.typeforce.UInt53(value)&&value<=21e14},exports.ECPoint=exports.typeforce.quacksLike("Point"),exports.Network=exports.typeforce.compile({messagePrefix:exports.typeforce.oneOf(exports.typeforce.Buffer,exports.typeforce.String),bip32:{public:exports.typeforce.UInt32,private:exports.typeforce.UInt32},pubKeyHash:exports.typeforce.UInt8,scriptHash:exports.typeforce.UInt8,wif:exports.typeforce.UInt8}),exports.TAPLEAF_VERSION_MASK=254,exports.isTapleaf=isTapleaf,exports.isTaptree=function isTaptree(scriptTree){return(0,exports.Array)(scriptTree)?2===scriptTree.length&&scriptTree.every((t=>isTaptree(t))):isTapleaf(scriptTree)},exports.Buffer256bit=exports.typeforce.BufferN(32),exports.Hash160bit=exports.typeforce.BufferN(20),exports.Hash256bit=exports.typeforce.BufferN(32),exports.Number=exports.typeforce.Number,exports.Array=exports.typeforce.Array,exports.Boolean=exports.typeforce.Boolean,exports.String=exports.typeforce.String,exports.Buffer=exports.typeforce.Buffer,exports.Hex=exports.typeforce.Hex,exports.maybe=exports.typeforce.maybe,exports.tuple=exports.typeforce.tuple,exports.UInt8=exports.typeforce.UInt8,exports.UInt32=exports.typeforce.UInt32,exports.Function=exports.typeforce.Function,exports.BufferN=exports.typeforce.BufferN,exports.Null=exports.typeforce.Null,exports.oneOf=exports.typeforce.oneOf},"./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/callersHelper.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bnsV2ReadOnlyCall=async function bnsV2ReadOnlyCall(options){debug_1.debug.log("bnsV2ReadOnlyCall initiated:",{network:options.network,functionName:options.functionName});const network=(0,network_2.getNetwork)(options.network),contractAddress=(0,config_1.getBnsContractAddress)(options.network);return debug_1.debug.log("Network configuration:",{networkType:options.network,contractAddress,isMainnet:network instanceof network_1.StacksMainnet,apiUrl:network.coreApiUrl}),executeReadOnlyCall(options,contractAddress,config_1.BnsContractName,network,!1)},exports.zonefileReadOnlyCall=async function zonefileReadOnlyCall(options){debug_1.debug.log("zonefileReadOnlyCall initiated:",{network:options.network,functionName:options.functionName});const network=(0,network_2.getNetwork)(options.network),contractAddress=(0,config_1.getZonefileContractAddress)(options.network);return debug_1.debug.log("Network configuration:",{networkType:options.network,contractAddress,isMainnet:network instanceof network_1.StacksMainnet,apiUrl:network.coreApiUrl}),executeReadOnlyCall(options,contractAddress,config_1.ZonefileContractName,network,!0)},exports.bnsV2ContractCall=async function bnsV2ContractCall(options){const network=(0,network_2.getNetwork)(options.network);debug_1.debug.log("bnsV2ContractCall initiated:",{network:options.network,functionName:options.functionName,apiUrl:network.coreApiUrl});const txOptions={contractAddress:(0,config_1.getBnsContractAddress)(options.network),contractName:config_1.BnsContractName,functionName:options.functionName,functionArgs:options.functionArgs,address:options.address,validateWithAbi:!0,network,anchorMode:transactions_1.AnchorMode.Any,postConditions:options.postConditions,onFinish:options.onFinish,onCancel:options.onCancel};return(0,connect_1.openContractCall)(txOptions)},exports.zonefileContractCall=async function zonefileContractCall(options){const network=(0,network_2.getNetwork)(options.network);debug_1.debug.log("zonefileContractCall initiated:",{network:options.network,functionName:options.functionName,apiUrl:network.coreApiUrl});const txOptions={contractAddress:(0,config_1.getZonefileContractAddress)(options.network),contractName:config_1.ZonefileContractName,functionName:options.functionName,functionArgs:options.functionArgs,address:options.address,validateWithAbi:!0,network,anchorMode:transactions_1.AnchorMode.Any,postConditions:options.postConditions,onFinish:options.onFinish,onCancel:options.onCancel};return(0,connect_1.openContractCall)(txOptions)};const transactions_1=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/index.js"),connect_1=__webpack_require__("./node_modules/.pnpm/@stacks+connect@7.9.0_encoding@0.1.13/node_modules/@stacks/connect/dist/index.mjs"),config_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/config.js"),network_1=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/index.js"),network_2=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/network.js"),debug_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/debug.js");async function executeReadOnlyCall(options,contractAddress,contractName,network,isZonefile=!1){const networkType=network instanceof network_1.StacksMainnet?"mainnet":"testnet",fallbackUrl=(0,network_2.getFallbackUrl)(networkType);async function attemptCall(url){const currentNetwork="mainnet"===networkType?new network_1.StacksMainnet({url}):new network_1.StacksTestnet({url});debug_1.debug.log("Attempting call with:",{url,networkType,currentNetworkType:currentNetwork instanceof network_1.StacksMainnet?"mainnet":"testnet"});try{const response=await(0,transactions_1.callReadOnlyFunction)({contractAddress,contractName,functionName:options.functionName,functionArgs:options.functionArgs,senderAddress:options.senderAddress,network:currentNetwork});if(response.error)throw debug_1.debug.error("Response contains error:",response.error),new Error(response.error);return debug_1.debug.log("Call successful"),response}catch(error){throw debug_1.debug.error("Call failed:",{error:error.message,url,networkType}),error}}if(debug_1.debug.log("executeReadOnlyCall initiated:",{networkType,contractAddress,contractName,functionName:options.functionName,coreApiUrl:network.coreApiUrl,fallbackUrl,isZonefile}),isZonefile&&fallbackUrl){debug_1.debug.log("Using fallback URL for zonefile call:",fallbackUrl);try{return await attemptCall(fallbackUrl)}catch(error){throw debug_1.debug.error("Fallback attempt failed for zonefile:",error),error}}try{return await attemptCall(network.coreApiUrl)}catch(error){if(debug_1.debug.log("Primary URL failed, checking fallback availability:",{hasFallback:!!fallbackUrl,fallbackUrl,isSameAsPrimary:fallbackUrl===network.coreApiUrl}),!fallbackUrl||fallbackUrl===network.coreApiUrl)throw error;try{return await attemptCall(fallbackUrl)}catch(fallbackError){throw debug_1.debug.error("Fallback attempt failed:",fallbackError),fallbackError}}}},"./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/config.js":(__unused_webpack_module,exports)=>{"use strict";var BnsContractAddress;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZonefileContractName=exports.BnsContractAddress=exports.BnsContractName=void 0,exports.getBnsContractAddress=function getBnsContractAddress(network){return"mainnet"===network?BnsContractAddress.Mainnet:BnsContractAddress.Testnet},exports.getZonefileContractAddress=function getZonefileContractAddress(network){return"mainnet"===network?"SP2QEZ06AGJ3RKJPBV14SY1V5BBFNAW33D96YPGZF":"ST2QEZ06AGJ3RKJPBV14SY1V5BBFNAW33D9SZJQ0M"},exports.BnsContractName="BNS-V2",function(BnsContractAddress){BnsContractAddress.Mainnet="SP2QEZ06AGJ3RKJPBV14SY1V5BBFNAW33D96YPGZF",BnsContractAddress.Testnet="ST2QEZ06AGJ3RKJPBV14SY1V5BBFNAW33D9SZJQ0M"}(BnsContractAddress||(exports.BnsContractAddress=BnsContractAddress={})),exports.ZonefileContractName="zonefile-resolver"},"./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/contractCalls.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildTransferNameTx=async function buildTransferNameTx({fullyQualifiedName,newOwnerAddress,senderAddress,network,onFinish,onCancel}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot transfer a subdomain using transferName()");const id=await(0,readOnlyCalls_1.getIdFromBns)({fullyQualifiedName,network}),functionArgs=[(0,transactions_1.uintCV)(id),(0,transactions_1.standardPrincipalCV)(senderAddress),(0,transactions_1.standardPrincipalCV)(newOwnerAddress)],assetInfo=(0,transactions_1.parseAssetInfoString)(`${(0,config_1.getBnsContractAddress)(network)}.${config_1.BnsContractName}::BNS-V2`),postConditionSender=(0,transactions_1.createNonFungiblePostCondition)(senderAddress,transactions_1.NonFungibleConditionCode.Sends,assetInfo,(0,transactions_1.uintCV)(id)),postConditionReceiver=(0,transactions_1.createNonFungiblePostCondition)(newOwnerAddress,transactions_1.NonFungibleConditionCode.DoesNotSend,assetInfo,(0,transactions_1.uintCV)(id));return(0,callersHelper_1.bnsV2ContractCall)({functionName:"transfer",functionArgs,address:senderAddress,network,postConditions:[postConditionSender,postConditionReceiver],onFinish,onCancel})},exports.buildListInUstxTx=async function buildListInUstxTx({id,price,commissionTraitAddress,commissionTraitName,senderAddress,network,onFinish,onCancel}){return(0,callersHelper_1.bnsV2ContractCall)({functionName:"list-in-ustx",functionArgs:[(0,transactions_1.uintCV)(id),(0,transactions_1.uintCV)(price),(0,transactions_1.contractPrincipalCV)(commissionTraitAddress,commissionTraitName)],address:senderAddress,network,onFinish,onCancel})},exports.buildUnlistInUstxTx=async function buildUnlistInUstxTx({id,senderAddress,network,onFinish,onCancel}){return(0,callersHelper_1.bnsV2ContractCall)({functionName:"unlist-in-ustx",functionArgs:[(0,transactions_1.uintCV)(id)],address:senderAddress,network,onFinish,onCancel})},exports.buildBuyInUstxTx=async function buildBuyInUstxTx({id,expectedPrice,commissionTraitAddress,commissionTraitName,senderAddress,network,onFinish,onCancel}){const currentOwner=await(0,readOnlyCalls_1.getOwnerById)({id,network});if(!currentOwner)throw new Error("Failed to fetch current owner of the name");const postConditions=[(0,transactions_1.makeStandardSTXPostCondition)(senderAddress,transactions_1.FungibleConditionCode.LessEqual,expectedPrice),(0,transactions_1.makeStandardNonFungiblePostCondition)(currentOwner,transactions_1.NonFungibleConditionCode.Sends,(0,transactions_1.createAssetInfo)((0,config_1.getBnsContractAddress)(network),config_1.BnsContractName,"BNS-V2"),(0,transactions_1.uintCV)(id))];return(0,callersHelper_1.bnsV2ContractCall)({functionName:"buy-in-ustx",functionArgs:[(0,transactions_1.uintCV)(id),(0,transactions_1.contractPrincipalCV)(commissionTraitAddress,commissionTraitName)],address:senderAddress,network,postConditions,onFinish,onCancel})},exports.buildSetPrimaryNameTx=async function buildSetPrimaryNameTx({fullyQualifiedName,senderAddress,network,onFinish,onCancel}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot set a subdomain as primary name");const id=await(0,readOnlyCalls_1.getIdFromBns)({fullyQualifiedName,network}),currentOwner=await(0,readOnlyCalls_1.getOwner)({fullyQualifiedName,network});if(!currentOwner)throw new Error("Failed to fetch current owner of the name");const postConditions=[(0,transactions_1.makeStandardNonFungiblePostCondition)(currentOwner,transactions_1.NonFungibleConditionCode.DoesNotSend,(0,transactions_1.createAssetInfo)((0,config_1.getBnsContractAddress)(network),config_1.BnsContractName,"BNS-V2"),(0,transactions_1.tupleCV)({name:(0,transactions_1.bufferCVFromString)(name),namespace:(0,transactions_1.bufferCVFromString)(namespace)}))];return(0,callersHelper_1.bnsV2ContractCall)({functionName:"set-primary-name",functionArgs:[(0,transactions_1.uintCV)(Number(id))],address:senderAddress,network,postConditions,onFinish,onCancel})},exports.buildFreezeManagerTx=async function buildFreezeManagerTx({namespace,senderAddress,network,onFinish,onCancel}){const namespaceProperties=await(0,readOnlyCalls_1.getNamespaceProperties)({namespace,network});if(!namespaceProperties)throw new Error("Failed to fetch namespace properties");if(!namespaceProperties.properties["namespace-manager"])throw new Error("This namespace does not have a manager");if(namespaceProperties.properties["manager-frozen"])throw new Error("Manager is already frozen for this namespace");return(0,callersHelper_1.bnsV2ContractCall)({functionName:"freeze-manager",functionArgs:[(0,transactions_1.bufferCVFromString)(namespace)],address:senderAddress,network,onFinish,onCancel})},exports.buildPreorderNamespaceTx=async function buildPreorderNamespaceTx({namespace,salt,stxToBurn,senderAddress,network,onFinish,onCancel}){const saltedNamespaceBytes=(0,common_1.utf8ToBytes)(`${namespace}.${salt}`),hashedSaltedNamespace=(0,transactions_1.hash160)(saltedNamespaceBytes),burnSTXPostCondition=(0,transactions_1.createSTXPostCondition)(senderAddress,transactions_1.FungibleConditionCode.Equal,stxToBurn);return(0,callersHelper_1.bnsV2ContractCall)({functionName:"namespace-preorder",functionArgs:[(0,transactions_1.bufferCV)(hashedSaltedNamespace),(0,transactions_1.uintCV)(stxToBurn)],address:senderAddress,network,postConditions:[burnSTXPostCondition],onFinish,onCancel})},exports.buildRevealNamespaceTx=async function buildRevealNamespaceTx({namespace,salt,priceFunction=utils_1.defaultPriceFunction,lifetime=0,namespaceImportAddress,namespaceManagerAddress,canUpdatePrice,managerTransfer=!1,managerFrozen=!0,senderAddress,network,onFinish,onCancel}){let managerAddressCV;if(namespaceManagerAddress)if(namespaceManagerAddress.includes(".")){const[contractAddress,contractName]=namespaceManagerAddress.split(".");managerAddressCV=(0,transactions_1.someCV)((0,transactions_1.contractPrincipalCV)(contractAddress,contractName))}else managerAddressCV=(0,transactions_1.someCV)((0,transactions_1.standardPrincipalCV)(namespaceManagerAddress));else managerAddressCV=(0,transactions_1.noneCV)();return(0,callersHelper_1.bnsV2ContractCall)({functionName:"namespace-reveal",functionArgs:[(0,transactions_1.bufferCVFromString)(namespace),(0,transactions_1.bufferCVFromString)(salt),(0,transactions_1.uintCV)(priceFunction.base),(0,transactions_1.uintCV)(priceFunction.coefficient),(0,transactions_1.uintCV)(priceFunction.b1),(0,transactions_1.uintCV)(priceFunction.b2),(0,transactions_1.uintCV)(priceFunction.b3),(0,transactions_1.uintCV)(priceFunction.b4),(0,transactions_1.uintCV)(priceFunction.b5),(0,transactions_1.uintCV)(priceFunction.b6),(0,transactions_1.uintCV)(priceFunction.b7),(0,transactions_1.uintCV)(priceFunction.b8),(0,transactions_1.uintCV)(priceFunction.b9),(0,transactions_1.uintCV)(priceFunction.b10),(0,transactions_1.uintCV)(priceFunction.b11),(0,transactions_1.uintCV)(priceFunction.b12),(0,transactions_1.uintCV)(priceFunction.b13),(0,transactions_1.uintCV)(priceFunction.b14),(0,transactions_1.uintCV)(priceFunction.b15),(0,transactions_1.uintCV)(priceFunction.b16),(0,transactions_1.uintCV)(priceFunction.nonAlphaDiscount),(0,transactions_1.uintCV)(priceFunction.noVowelDiscount),(0,transactions_1.uintCV)(lifetime),(0,transactions_1.standardPrincipalCV)(namespaceImportAddress),managerAddressCV,(0,transactions_1.boolCV)(canUpdatePrice),(0,transactions_1.boolCV)(managerTransfer),(0,transactions_1.boolCV)(managerFrozen)],address:senderAddress,network,onFinish,onCancel})},exports.buildLaunchNamespaceTx=async function buildLaunchNamespaceTx({namespace,senderAddress,network,onFinish,onCancel}){return(0,callersHelper_1.bnsV2ContractCall)({functionName:"namespace-launch",functionArgs:[(0,transactions_1.bufferCVFromString)(namespace)],address:senderAddress,network,onFinish,onCancel})},exports.buildTurnOffManagerTransfersTx=async function buildTurnOffManagerTransfersTx({namespace,senderAddress,network,onFinish,onCancel}){return(0,callersHelper_1.bnsV2ContractCall)({functionName:"turn-off-manager-transfers",functionArgs:[(0,transactions_1.bufferCVFromString)(namespace)],address:senderAddress,network,onFinish,onCancel})},exports.buildImportNameTx=async function buildImportNameTx({namespace,name,beneficiary,senderAddress,network,onFinish,onCancel}){return(0,callersHelper_1.bnsV2ContractCall)({functionName:"name-import",functionArgs:[(0,transactions_1.bufferCVFromString)(namespace),(0,transactions_1.bufferCVFromString)(name),(0,transactions_1.standardPrincipalCV)(beneficiary)],address:senderAddress,network,onFinish,onCancel})},exports.buildNamespaceUpdatePriceTx=async function buildNamespaceUpdatePriceTx({namespace,priceFunction,senderAddress,network,onFinish,onCancel}){return(0,callersHelper_1.bnsV2ContractCall)({functionName:"namespace-update-price",functionArgs:[(0,transactions_1.bufferCVFromString)(namespace),(0,transactions_1.uintCV)(priceFunction.base),(0,transactions_1.uintCV)(priceFunction.coefficient),(0,transactions_1.uintCV)(priceFunction.b1),(0,transactions_1.uintCV)(priceFunction.b2),(0,transactions_1.uintCV)(priceFunction.b3),(0,transactions_1.uintCV)(priceFunction.b4),(0,transactions_1.uintCV)(priceFunction.b5),(0,transactions_1.uintCV)(priceFunction.b6),(0,transactions_1.uintCV)(priceFunction.b7),(0,transactions_1.uintCV)(priceFunction.b8),(0,transactions_1.uintCV)(priceFunction.b9),(0,transactions_1.uintCV)(priceFunction.b10),(0,transactions_1.uintCV)(priceFunction.b11),(0,transactions_1.uintCV)(priceFunction.b12),(0,transactions_1.uintCV)(priceFunction.b13),(0,transactions_1.uintCV)(priceFunction.b14),(0,transactions_1.uintCV)(priceFunction.b15),(0,transactions_1.uintCV)(priceFunction.b16),(0,transactions_1.uintCV)(priceFunction.nonAlphaDiscount),(0,transactions_1.uintCV)(priceFunction.noVowelDiscount)],address:senderAddress,network,onFinish,onCancel})},exports.buildNamespaceFreezePriceTx=async function buildNamespaceFreezePriceTx({namespace,senderAddress,network,onFinish,onCancel}){return(0,callersHelper_1.bnsV2ContractCall)({functionName:"namespace-freeze-price",functionArgs:[(0,transactions_1.bufferCVFromString)(namespace)],address:senderAddress,network,onFinish,onCancel})},exports.buildNameClaimFastTx=async function buildNameClaimFastTx({fullyQualifiedName,stxToBurn,sendTo,senderAddress,network,onFinish,onCancel}){const{namespace,name,subdomain}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot register a subdomain using registerName()");const principalCV=sendTo.includes(".")?(0,transactions_1.contractPrincipalCV)(sendTo.split(".")[0],sendTo.split(".")[1]):(0,transactions_1.standardPrincipalCV)(sendTo);let postConditions=[];if(stxToBurn>0){const burnSTXPostCondition=(0,transactions_1.createSTXPostCondition)(senderAddress,transactions_1.FungibleConditionCode.Equal,stxToBurn);postConditions.push(burnSTXPostCondition)}return(0,callersHelper_1.bnsV2ContractCall)({functionName:"name-claim-fast",functionArgs:[(0,transactions_1.bufferCV)(Buffer.from(name)),(0,transactions_1.bufferCV)(Buffer.from(namespace)),principalCV],network,address:senderAddress,postConditions,onFinish,onCancel})},exports.buildPreorderNameTx=async function buildPreorderNameTx({fullyQualifiedName,salt,stxToBurn,senderAddress,network,onFinish,onCancel}){const{subdomain}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot preorder a subdomain using preorderName()");const saltedNamesBytes=Buffer.from(`${fullyQualifiedName}${salt}`),hashedSaltedName=(0,transactions_1.hash160)(saltedNamesBytes);let postConditions=[];if(stxToBurn>0){const burnSTXPostCondition=(0,transactions_1.createSTXPostCondition)(senderAddress,transactions_1.FungibleConditionCode.Equal,stxToBurn);postConditions.push(burnSTXPostCondition)}return(0,callersHelper_1.bnsV2ContractCall)({functionName:"name-preorder",functionArgs:[(0,transactions_1.bufferCV)(hashedSaltedName),(0,transactions_1.uintCV)(stxToBurn)],address:senderAddress,network,postConditions,onFinish,onCancel})},exports.buildRegisterNameTx=async function buildRegisterNameTx({fullyQualifiedName,salt,stxToBurn,senderAddress,network,onFinish,onCancel}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot register a subdomain using registerName()");let postConditions=[];if(stxToBurn>0){const burnSTXPostCondition=(0,transactions_1.makeContractSTXPostCondition)((0,config_1.getBnsContractAddress)(network),config_1.BnsContractName,transactions_1.FungibleConditionCode.Equal,stxToBurn);postConditions.push(burnSTXPostCondition)}return(0,callersHelper_1.bnsV2ContractCall)({functionName:"name-register",functionArgs:[(0,transactions_1.bufferCV)(Buffer.from(namespace)),(0,transactions_1.bufferCV)(Buffer.from(name)),(0,transactions_1.bufferCV)(Buffer.from(salt))],network,postConditions,address:senderAddress,onFinish,onCancel})},exports.buildPreviousRegisterNameTx=async function buildPreviousRegisterNameTx({fullyQualifiedName,salt,stxToBurn,senderAddress,network,onFinish,onCancel}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot register a subdomain using registerName()");const nameId=await(0,readOnlyCalls_1.getIdFromBns)({fullyQualifiedName,network}),currentOwner=await(0,readOnlyCalls_1.getOwner)({fullyQualifiedName,network});if(!currentOwner)throw new Error("Failed to fetch current owner of the name");let postConditions=[];if(stxToBurn>0){const burnSTXPostCondition=(0,transactions_1.makeContractSTXPostCondition)((0,config_1.getBnsContractAddress)(network),config_1.BnsContractName,transactions_1.FungibleConditionCode.Equal,stxToBurn);postConditions.push(burnSTXPostCondition)}const transferNFTPostCondition=(0,transactions_1.makeStandardNonFungiblePostCondition)(currentOwner,transactions_1.NonFungibleConditionCode.Sends,(0,transactions_1.createAssetInfo)((0,config_1.getBnsContractAddress)(network),config_1.BnsContractName,"BNS-V2"),(0,transactions_1.uintCV)(nameId));return postConditions.push(transferNFTPostCondition),(0,callersHelper_1.bnsV2ContractCall)({functionName:"name-register",functionArgs:[(0,transactions_1.bufferCV)(Buffer.from(namespace)),(0,transactions_1.bufferCV)(Buffer.from(name)),(0,transactions_1.bufferCV)(Buffer.from(salt))],network,postConditions,address:senderAddress,onFinish,onCancel})},exports.buildClaimPreorderTx=async function buildClaimPreorderTx({fullyQualifiedName,salt,stxToClaim,senderAddress,network,onFinish,onCancel}){const{subdomain}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot claim a subdomain using claim-preorder()");const saltedNamesBytes=(0,common_1.utf8ToBytes)(`${fullyQualifiedName}${salt}`),hashedSaltedName=(0,transactions_1.hash160)(saltedNamesBytes),returnSTXPostCondition=(0,transactions_1.makeContractSTXPostCondition)((0,config_1.getBnsContractAddress)(network),config_1.BnsContractName,transactions_1.FungibleConditionCode.Equal,stxToClaim);return(0,callersHelper_1.bnsV2ContractCall)({functionName:"claim-preorder",functionArgs:[(0,transactions_1.bufferCV)(hashedSaltedName)],address:senderAddress,network,postConditions:[returnSTXPostCondition],onFinish,onCancel})},exports.buildRenewNameTx=async function buildRenewNameTx({fullyQualifiedName,stxToBurn,senderAddress,network,onFinish,onCancel}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot renew a subdomain using renewName()");const functionArgs=[(0,transactions_1.bufferCVFromString)(namespace),(0,transactions_1.bufferCVFromString)(name)],burnSTXPostCondition=(0,transactions_1.createSTXPostCondition)(senderAddress,transactions_1.FungibleConditionCode.Equal,stxToBurn);return(0,callersHelper_1.bnsV2ContractCall)({functionName:"name-renewal",functionArgs,address:senderAddress,network,postConditions:[burnSTXPostCondition],onFinish,onCancel})},exports.buildUpdateZonefileTx=async function buildUpdateZonefileTx({fullyQualifiedName,zonefileInputs,senderAddress,network,onFinish,onCancel}){const{name,namespace}=(0,utils_1.decodeFQN)(fullyQualifiedName);let zonefileCV;if(zonefileInputs){const zonefileData=(0,utils_1.createZonefileData)(zonefileInputs),zonefileString=(0,utils_1.stringifyZonefile)(zonefileData);zonefileCV=(0,transactions_1.someCV)((0,transactions_1.bufferCVFromString)(zonefileString))}else zonefileCV=(0,transactions_1.noneCV)();const functionArgs=[(0,transactions_1.bufferCVFromString)(name),(0,transactions_1.bufferCVFromString)(namespace),zonefileCV];return(0,callersHelper_1.zonefileContractCall)({functionName:"update-zonefile",functionArgs,address:senderAddress,network,onFinish,onCancel})};const common_1=__webpack_require__("./node_modules/.pnpm/@stacks+common@6.13.0/node_modules/@stacks/common/dist/esm/index.js"),transactions_1=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/index.js"),utils_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/utils.js"),config_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/config.js"),callersHelper_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/callersHelper.js"),readOnlyCalls_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/readOnlyCalls.js")},"./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/debug.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debug=void 0;let isDebugEnabled=!1;exports.debug={enable:()=>{isDebugEnabled=!0},disable:()=>{isDebugEnabled=!1},log:(...args)=>{isDebugEnabled&&console.log("[BNS-V2-SDK]:",...args)},error:(...args)=>{isDebugEnabled&&console.error("[BNS-V2-SDK]:",...args)}}},"./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.debug=exports.buildUpdateZonefileTx=exports.buildRenewNameTx=exports.buildClaimPreorderTx=exports.buildPreviousRegisterNameTx=exports.buildRegisterNameTx=exports.buildPreorderNameTx=exports.buildNameClaimFastTx=exports.buildNamespaceFreezePriceTx=exports.buildNamespaceUpdatePriceTx=exports.buildImportNameTx=exports.buildTurnOffManagerTransfersTx=exports.buildLaunchNamespaceTx=exports.buildRevealNamespaceTx=exports.buildPreorderNamespaceTx=exports.buildFreezeManagerTx=exports.buildSetPrimaryNameTx=exports.buildBuyInUstxTx=exports.buildUnlistInUstxTx=exports.buildListInUstxTx=exports.buildTransferNameTx=exports.resolveNameZonefile=exports.fetchUserOwnedNames=exports.resolveName=exports.getPrimaryName=exports.getBnsFromId=exports.getNameInfo=exports.getNamespaceProperties=exports.canNamespaceBeRegistered=exports.getNamePrice=exports.getNamespacePrice=exports.getOwnerById=exports.getOwner=exports.canResolveName=exports.getRenewalHeight=exports.getLastTokenId=exports.canRegisterName=void 0;__importDefault(__webpack_require__("./node_modules/.pnpm/dotenv@16.4.5/node_modules/dotenv/lib/main.js")).default.config();var readOnlyCalls_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/readOnlyCalls.js");Object.defineProperty(exports,"canRegisterName",{enumerable:!0,get:function(){return readOnlyCalls_1.canRegisterName}}),Object.defineProperty(exports,"getLastTokenId",{enumerable:!0,get:function(){return readOnlyCalls_1.getLastTokenId}}),Object.defineProperty(exports,"getRenewalHeight",{enumerable:!0,get:function(){return readOnlyCalls_1.getRenewalHeight}}),Object.defineProperty(exports,"canResolveName",{enumerable:!0,get:function(){return readOnlyCalls_1.canResolveName}}),Object.defineProperty(exports,"getOwner",{enumerable:!0,get:function(){return readOnlyCalls_1.getOwner}}),Object.defineProperty(exports,"getOwnerById",{enumerable:!0,get:function(){return readOnlyCalls_1.getOwnerById}}),Object.defineProperty(exports,"getNamespacePrice",{enumerable:!0,get:function(){return readOnlyCalls_1.getNamespacePrice}}),Object.defineProperty(exports,"getNamePrice",{enumerable:!0,get:function(){return readOnlyCalls_1.getNamePrice}}),Object.defineProperty(exports,"canNamespaceBeRegistered",{enumerable:!0,get:function(){return readOnlyCalls_1.canNamespaceBeRegistered}}),Object.defineProperty(exports,"getNamespaceProperties",{enumerable:!0,get:function(){return readOnlyCalls_1.getNamespaceProperties}}),Object.defineProperty(exports,"getNameInfo",{enumerable:!0,get:function(){return readOnlyCalls_1.getNameInfo}}),Object.defineProperty(exports,"getBnsFromId",{enumerable:!0,get:function(){return readOnlyCalls_1.getBnsFromId}}),Object.defineProperty(exports,"getPrimaryName",{enumerable:!0,get:function(){return readOnlyCalls_1.getPrimaryName}}),Object.defineProperty(exports,"resolveName",{enumerable:!0,get:function(){return readOnlyCalls_1.resolveName}}),Object.defineProperty(exports,"fetchUserOwnedNames",{enumerable:!0,get:function(){return readOnlyCalls_1.fetchUserOwnedNames}}),Object.defineProperty(exports,"resolveNameZonefile",{enumerable:!0,get:function(){return readOnlyCalls_1.resolveNameZonefile}});var contractCalls_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/contractCalls.js");Object.defineProperty(exports,"buildTransferNameTx",{enumerable:!0,get:function(){return contractCalls_1.buildTransferNameTx}}),Object.defineProperty(exports,"buildListInUstxTx",{enumerable:!0,get:function(){return contractCalls_1.buildListInUstxTx}}),Object.defineProperty(exports,"buildUnlistInUstxTx",{enumerable:!0,get:function(){return contractCalls_1.buildUnlistInUstxTx}}),Object.defineProperty(exports,"buildBuyInUstxTx",{enumerable:!0,get:function(){return contractCalls_1.buildBuyInUstxTx}}),Object.defineProperty(exports,"buildSetPrimaryNameTx",{enumerable:!0,get:function(){return contractCalls_1.buildSetPrimaryNameTx}}),Object.defineProperty(exports,"buildFreezeManagerTx",{enumerable:!0,get:function(){return contractCalls_1.buildFreezeManagerTx}}),Object.defineProperty(exports,"buildPreorderNamespaceTx",{enumerable:!0,get:function(){return contractCalls_1.buildPreorderNamespaceTx}}),Object.defineProperty(exports,"buildRevealNamespaceTx",{enumerable:!0,get:function(){return contractCalls_1.buildRevealNamespaceTx}}),Object.defineProperty(exports,"buildLaunchNamespaceTx",{enumerable:!0,get:function(){return contractCalls_1.buildLaunchNamespaceTx}}),Object.defineProperty(exports,"buildTurnOffManagerTransfersTx",{enumerable:!0,get:function(){return contractCalls_1.buildTurnOffManagerTransfersTx}}),Object.defineProperty(exports,"buildImportNameTx",{enumerable:!0,get:function(){return contractCalls_1.buildImportNameTx}}),Object.defineProperty(exports,"buildNamespaceUpdatePriceTx",{enumerable:!0,get:function(){return contractCalls_1.buildNamespaceUpdatePriceTx}}),Object.defineProperty(exports,"buildNamespaceFreezePriceTx",{enumerable:!0,get:function(){return contractCalls_1.buildNamespaceFreezePriceTx}}),Object.defineProperty(exports,"buildNameClaimFastTx",{enumerable:!0,get:function(){return contractCalls_1.buildNameClaimFastTx}}),Object.defineProperty(exports,"buildPreorderNameTx",{enumerable:!0,get:function(){return contractCalls_1.buildPreorderNameTx}}),Object.defineProperty(exports,"buildRegisterNameTx",{enumerable:!0,get:function(){return contractCalls_1.buildRegisterNameTx}}),Object.defineProperty(exports,"buildPreviousRegisterNameTx",{enumerable:!0,get:function(){return contractCalls_1.buildPreviousRegisterNameTx}}),Object.defineProperty(exports,"buildClaimPreorderTx",{enumerable:!0,get:function(){return contractCalls_1.buildClaimPreorderTx}}),Object.defineProperty(exports,"buildRenewNameTx",{enumerable:!0,get:function(){return contractCalls_1.buildRenewNameTx}}),Object.defineProperty(exports,"buildUpdateZonefileTx",{enumerable:!0,get:function(){return contractCalls_1.buildUpdateZonefileTx}});var debug_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/debug.js");Object.defineProperty(exports,"debug",{enumerable:!0,get:function(){return debug_1.debug}})},"./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/network.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNetwork=function getNetwork(networkType){if(debug_1.debug.log("Getting network for type:",networkType),"mainnet"===networkType){const network=new network_1.StacksMainnet;return debug_1.debug.log("Created mainnet network:",{apiUrl:network.coreApiUrl}),network}{const network=new network_1.StacksTestnet;return debug_1.debug.log("Created testnet network:",{apiUrl:network.coreApiUrl}),network}},exports.getFallbackUrl=function getFallbackUrl(networkType){if(debug_1.debug.log("Getting fallback URL for network type:",networkType),"testnet"===networkType){const testnetFallbackUrl=process.env.NEXT_PUBLIC_BNS_FALLBACK_URL_TESTNET;return debug_1.debug.log("Testnet fallback URL:",testnetFallbackUrl),testnetFallbackUrl||(debug_1.debug.log("No testnet fallback URL configured"),"")}const mainnetFallbackUrl=process.env.NEXT_PUBLIC_BNS_FALLBACK_URL;if(debug_1.debug.log("Mainnet fallback URL:",mainnetFallbackUrl),!mainnetFallbackUrl)return debug_1.debug.log("No mainnet fallback URL configured"),"";return mainnetFallbackUrl};const network_1=__webpack_require__("./node_modules/.pnpm/@stacks+network@6.13.0_encoding@0.1.13/node_modules/@stacks/network/dist/esm/index.js"),debug_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/debug.js")},"./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/readOnlyCalls.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.canRegisterName=async function canRegisterName({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot register a subdomain using registerName");const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-bns-info",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(name),(0,transactions_1.bufferCVFromString)(namespace)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.OptionalSome)return!1;if(responseCV.type===transactions_1.ClarityType.OptionalNone)return!0;throw new Error(`Unexpected response type: ${responseCV.type}`)}))},exports.getLastTokenId=async function getLastTokenId({network}){const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-last-token-id",senderAddress:randomAddress,functionArgs:[],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.UInt)return responseCV.value.value;throw new Error("Response did not contain a UInt")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.getRenewalHeight=async function getRenewalHeight({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot get renewal height for a subdomain");const randomAddress=(0,utils_1.generateRandomAddress)(),nameId=await getIdFromBns({fullyQualifiedName,network});return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-renewal-height",senderAddress:randomAddress,functionArgs:[(0,transactions_1.uintCV)(nameId)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.UInt)return responseCV.value.value;throw new Error("Response did not contain a UInt")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.canResolveName=async function canResolveName({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot check resolution for a subdomain");const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"can-resolve-name",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(namespace),(0,transactions_1.bufferCVFromString)(name)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.Tuple){const renewalCV=responseCV.value.data.renewal,ownerCV=responseCV.value.data.owner;if(renewalCV.type!==transactions_1.ClarityType.UInt||ownerCV.type!==transactions_1.ClarityType.PrincipalStandard&&ownerCV.type!==transactions_1.ClarityType.PrincipalContract)throw new Error("Unexpected data types in response tuple");return{renewal:renewalCV.value,owner:(0,transactions_1.cvToString)(ownerCV)}}throw new Error("Response did not contain a Tuple")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.getOwner=async function getOwner({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot check resolution for a subdomain");const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-owner-name",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(name),(0,transactions_1.bufferCVFromString)(namespace)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.OptionalSome){if(responseCV.value.value.type===transactions_1.ClarityType.PrincipalStandard||responseCV.value.value.type===transactions_1.ClarityType.PrincipalContract)return(0,transactions_1.cvToString)(responseCV.value.value);throw new Error("Owner is not a principal")}if(responseCV.value.type===transactions_1.ClarityType.OptionalNone)return null;throw new Error("Unexpected Optional type in response")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.getOwnerById=async function getOwnerById({id,network}){const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-owner",senderAddress:randomAddress,functionArgs:[(0,transactions_1.uintCV)(id)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.OptionalSome){if(responseCV.value.value.type===transactions_1.ClarityType.PrincipalStandard||responseCV.value.value.type===transactions_1.ClarityType.PrincipalContract)return(0,transactions_1.cvToString)(responseCV.value.value);throw new Error("Owner is not a principal")}if(responseCV.value.type===transactions_1.ClarityType.OptionalNone)return null;throw new Error("Unexpected Optional type in response")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.getNamespacePrice=async function getNamespacePrice({namespace,network}){const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-namespace-price",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(namespace)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.Int||responseCV.value.type===transactions_1.ClarityType.UInt)return responseCV.value.value;throw new Error("Response did not contain a number")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.getNamePrice=async function getNamePrice({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot get subdomain price");const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-name-price",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(namespace),(0,transactions_1.bufferCVFromString)(name)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){const responseOkValue=responseCV.value;if(responseOkValue.type===transactions_1.ClarityType.ResponseOk){const nestedResponseOkValue=responseOkValue.value;if(nestedResponseOkValue.type===transactions_1.ClarityType.Int||nestedResponseOkValue.type===transactions_1.ClarityType.UInt)return nestedResponseOkValue.value;throw new Error("Nested response did not contain a number")}if(responseOkValue.type===transactions_1.ClarityType.Int||responseOkValue.type===transactions_1.ClarityType.UInt)return responseOkValue.value;throw new Error("Response did not contain a number")}{const errorResponse=responseCV;throw new Error((0,transactions_1.cvToString)(errorResponse.value))}})).catch((error=>{throw error}))},exports.canNamespaceBeRegistered=async function canNamespaceBeRegistered({namespace,network}){const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"can-namespace-be-registered",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(namespace)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.BoolTrue)return!0;if(responseCV.value.type===transactions_1.ClarityType.BoolFalse)return!1;throw new Error("Response did not contain a boolean")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.getNamespaceProperties=async function getNamespaceProperties({namespace,network}){const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-namespace-properties",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(namespace)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.Tuple){const namespaceCV=responseCV.value.data.namespace,properties=responseCV.value.data.properties.data;return{namespace:(0,transactions_1.bufferCV)(namespaceCV.buffer).buffer.toString(),properties:{"namespace-manager":properties["namespace-manager"].type===transactions_1.ClarityType.OptionalNone?null:(0,transactions_1.cvToString)(properties["namespace-manager"].value),"manager-transferable":properties["manager-transferable"].type===transactions_1.ClarityType.BoolTrue,"manager-frozen":properties["manager-frozen"].type===transactions_1.ClarityType.BoolTrue,"namespace-import":(0,transactions_1.cvToString)(properties["namespace-import"]),"revealed-at":properties["revealed-at"].value,"launched-at":properties["launched-at"].type===transactions_1.ClarityType.OptionalNone?null:properties["launched-at"].value.value,lifetime:properties.lifetime.value,"can-update-price-function":properties["can-update-price-function"].type===transactions_1.ClarityType.BoolTrue,"price-function":(0,utils_1.parsePriceFunction)(properties["price-function"].data)}}}throw new Error("Response did not contain a Tuple")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.getNameInfo=async function getNameInfo({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot get info for a subdomain");const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-bns-info",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(name),(0,transactions_1.bufferCVFromString)(namespace)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.OptionalSome){if(responseCV.value.type===transactions_1.ClarityType.Tuple){const properties=responseCV.value.data;return{owner:(0,transactions_1.cvToString)(properties.owner),registeredAt:properties["registered-at"].type===transactions_1.ClarityType.OptionalNone?null:properties["registered-at"].value.value,renewalHeight:properties["renewal-height"].value,stxBurn:properties["stx-burn"].value,importedAt:properties["imported-at"].type===transactions_1.ClarityType.OptionalNone?null:properties["imported-at"].value.value,preorderedBy:properties["preordered-by"].type===transactions_1.ClarityType.OptionalNone?null:(0,transactions_1.cvToString)(properties["preordered-by"].value),hashedSaltedFqnPreorder:properties["hashed-salted-fqn-preorder"].type===transactions_1.ClarityType.OptionalNone?null:properties["hashed-salted-fqn-preorder"].value.buffer.toString()}}throw new Error("Response did not contain a Tuple")}throw responseCV.type===transactions_1.ClarityType.OptionalNone?new Error("Name not found"):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.getIdFromBns=getIdFromBns,exports.getBnsFromId=getBnsFromId,exports.getPrimaryName=async function getPrimaryName({address,network}){const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-primary",senderAddress:randomAddress,functionArgs:[(0,transactions_1.standardPrincipalCV)(address)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.Tuple){const nameCV=responseCV.value.data.name,namespaceCV=responseCV.value.data.namespace;return{name:Buffer.from(nameCV.buffer).toString(),namespace:Buffer.from(namespaceCV.buffer).toString()}}if(responseCV.value.type===transactions_1.ClarityType.OptionalSome){const innerValue=responseCV.value.value;if(innerValue.type===transactions_1.ClarityType.Tuple){const nameCV=innerValue.data.name,namespaceCV=innerValue.data.namespace;return{name:Buffer.from(nameCV.buffer).toString(),namespace:Buffer.from(namespaceCV.buffer).toString()}}}throw new Error("Unexpected response structure")}if(responseCV.type===transactions_1.ClarityType.ResponseErr){if("u131"===(0,transactions_1.cvToString)(responseCV.value))return null;throw new Error((0,transactions_1.cvToString)(responseCV.value))}throw new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.resolveName=async function resolveName({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot resolve a subdomain");const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.zonefileReadOnlyCall)({functionName:"resolve-name",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(name),(0,transactions_1.bufferCVFromString)(namespace)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.ResponseOk){if(responseCV.value.type===transactions_1.ClarityType.OptionalSome){if(responseCV.value.value.type===transactions_1.ClarityType.Buffer)return responseCV.value.value.buffer.toString();throw new Error("Unexpected type in response, expected Buffer")}if(responseCV.value.type===transactions_1.ClarityType.OptionalNone)return null;throw new Error("Unexpected Optional type in response")}throw responseCV.type===transactions_1.ClarityType.ResponseErr?new Error((0,transactions_1.cvToString)(responseCV.value)):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))},exports.fetchUserOwnedNames=async function fetchUserOwnedNames({senderAddress,network}){const apiUrl="mainnet"===network?"https://leather.granite.world":"https://api.testnet.hiro.so",contractAddress=(0,config_1.getBnsContractAddress)(network),contractName=config_1.BnsContractName,assetIdentifier=`${contractAddress}.${contractName}::BNS-V2`;let offset=0,allAssets=[];for(;;)try{const response=await axios_1.default.get(`${apiUrl}/extended/v1/tokens/nft/holdings?principal=${senderAddress}&asset_identifiers=${assetIdentifier}&limit=50&offset=${offset}`),assets=response.data.results.map((asset=>parseInt(asset.value.repr.slice(1))));if(allAssets=allAssets.concat(assets),!(response.data.total>offset+50))break;offset+=50}catch(error){throw error}const bnsPromises=allAssets.map((id=>getBnsFromId({id:BigInt(id),network}))),bnsResults=await Promise.all(bnsPromises);return bnsResults.filter((result=>null!==result)).map((result=>({name:(0,utils_1.asciiToUtf8)(result.name),namespace:(0,utils_1.asciiToUtf8)(result.namespace)}))).sort(((a,b)=>a.namespace!==b.namespace?a.namespace.localeCompare(b.namespace):a.name.localeCompare(b.name)))},exports.resolveNameZonefile=async function resolveNameZonefile({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot resolve a subdomain");const randomAddress=(0,utils_1.generateRandomAddress)();try{const responseCV=await(0,callersHelper_1.zonefileReadOnlyCall)({functionName:"resolve-name",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(name),(0,transactions_1.bufferCVFromString)(namespace)],network});if(responseCV.type===transactions_1.ClarityType.ResponseOk&&responseCV.value.type===transactions_1.ClarityType.OptionalSome&&responseCV.value.value.type===transactions_1.ClarityType.Buffer){const zonefileString=Buffer.from(responseCV.value.value.buffer).toString("utf8");return(0,utils_1.parseZonefile)(zonefileString)}if(responseCV.type===transactions_1.ClarityType.ResponseOk&&responseCV.value.type===transactions_1.ClarityType.OptionalNone)return null;throw new Error("No Zonefile Found")}catch(error){throw error}};const transactions_1=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/index.js"),axios_1=__importDefault(__webpack_require__("./node_modules/.pnpm/axios@1.7.4/node_modules/axios/dist/browser/axios.cjs")),utils_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/utils.js"),config_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/config.js"),callersHelper_1=__webpack_require__("./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/callersHelper.js");async function getIdFromBns({fullyQualifiedName,network}){const{subdomain,namespace,name}=(0,utils_1.decodeFQN)(fullyQualifiedName);if(subdomain)throw new Error("Cannot get info for a subdomain");const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-id-from-bns",senderAddress:randomAddress,functionArgs:[(0,transactions_1.bufferCVFromString)(name),(0,transactions_1.bufferCVFromString)(namespace)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.OptionalSome){if(responseCV.value.type===transactions_1.ClarityType.UInt)return responseCV.value.value;throw new Error("Response did not contain a UInt")}throw responseCV.type===transactions_1.ClarityType.OptionalNone?new Error("Name not found"):new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))}async function getBnsFromId({id,network}){const randomAddress=(0,utils_1.generateRandomAddress)();return(0,callersHelper_1.bnsV2ReadOnlyCall)({functionName:"get-bns-from-id",senderAddress:randomAddress,functionArgs:[(0,transactions_1.uintCV)(id)],network}).then((responseCV=>{if(responseCV.type===transactions_1.ClarityType.OptionalSome){if(responseCV.value.type===transactions_1.ClarityType.Tuple){const nameCV=responseCV.value.data.name,namespaceCV=responseCV.value.data.namespace;return{name:(0,transactions_1.bufferCV)(nameCV.buffer).buffer.toString(),namespace:(0,transactions_1.bufferCV)(namespaceCV.buffer).buffer.toString()}}throw new Error("Response did not contain a Tuple")}if(responseCV.type===transactions_1.ClarityType.OptionalNone)return null;throw new Error(`Unexpected Clarity Value type: ${(0,transactions_1.getCVTypeString)(responseCV)}`)}))}},"./node_modules/.pnpm/bns-v2-sdk@1.3.1_encoding@0.1.13/node_modules/bns-v2-sdk/dist/utils.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultPriceFunction=void 0,exports.decodeFQN=function decodeFQN(fqdn){const nameParts=fqdn.split(".");if(nameParts.length>2)return{subdomain:nameParts[0],name:nameParts[1],namespace:nameParts[2]};return{name:nameParts[0],namespace:nameParts[1]}},exports.parsePriceFunction=function parsePriceFunction(data){const buckets=data.buckets.list;return{base:data.base.value,coefficient:data.coeff.value,b1:buckets[0].value,b2:buckets[1].value,b3:buckets[2].value,b4:buckets[3].value,b5:buckets[4].value,b6:buckets[5].value,b7:buckets[6].value,b8:buckets[7].value,b9:buckets[8].value,b10:buckets[9].value,b11:buckets[10].value,b12:buckets[11].value,b13:buckets[12].value,b14:buckets[13].value,b15:buckets[14].value,b16:buckets[15].value,nonAlphaDiscount:data["nonalpha-discount"].value,noVowelDiscount:data["no-vowel-discount"].value}},exports.asciiToUtf8=function asciiToUtf8(asciiCodes){return asciiCodes.split(",").map((code=>String.fromCharCode(parseInt(code.trim())))).join("")},exports.generateRandomAddress=function generateRandomAddress(){const randomPrivateKey=(0,transactions_1.makeRandomPrivKey)(),privateKeyString=(0,transactions_1.privateKeyToString)(randomPrivateKey);return(0,transactions_1.getAddressFromPrivateKey)(privateKeyString)},exports.parseZonefile=function parseZonefile(zonefileString){try{const parsed=JSON.parse(zonefileString);return{owner:parsed.owner||"",general:parsed.general||"",twitter:parsed.twitter||"",url:parsed.url||"",nostr:parsed.nostr||"",lightning:parsed.lightning||"",btc:parsed.btc||"",subdomains:Array.isArray(parsed.subdomains)?parsed.subdomains:[]}}catch(error){return console.error("Error parsing zonefile:",error),{owner:"",general:"",twitter:"",url:"",nostr:"",lightning:"",btc:"",subdomains:[]}}},exports.stringifyZonefile=function stringifyZonefile(zonefileData){return JSON.stringify(zonefileData)},exports.createZonefileData=function createZonefileData(params){return{owner:params.owner,general:params.general||"",twitter:params.twitter||"",url:params.url||"",nostr:params.nostr||"",lightning:params.lightning||"",btc:params.btc||"",subdomains:params.subdomains||[]}},exports.addCallbacks=function addCallbacks(options,onFinish,onCancel){return{...options,onFinish,onCancel}};const transactions_1=__webpack_require__("./node_modules/.pnpm/@stacks+transactions@6.17.0_encoding@0.1.13/node_modules/@stacks/transactions/dist/esm/index.js");exports.defaultPriceFunction={base:1,coefficient:1,b1:1,b2:1,b3:1,b4:1,b5:1,b6:1,b7:1,b8:1,b9:1,b10:1,b11:1,b12:1,b13:1,b14:1,b15:1,b16:1,nonAlphaDiscount:1,noVowelDiscount:1}},"./node_modules/.pnpm/bs58@4.0.1/node_modules/bs58/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var basex=__webpack_require__("./node_modules/.pnpm/base-x@3.0.10/node_modules/base-x/src/index.js");module.exports=basex("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},"./node_modules/.pnpm/bs58@5.0.0/node_modules/bs58/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{const basex=__webpack_require__("./node_modules/.pnpm/base-x@4.0.0/node_modules/base-x/src/index.js");module.exports=basex("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},"./node_modules/.pnpm/bs58check@2.1.2/node_modules/bs58check/base.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var base58=__webpack_require__("./node_modules/.pnpm/bs58@4.0.1/node_modules/bs58/index.js"),Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;module.exports=function(checksumFn){function decodeRaw(buffer){var payload=buffer.slice(0,-4),checksum=buffer.slice(-4),newChecksum=checksumFn(payload);if(!(checksum[0]^newChecksum[0]|checksum[1]^newChecksum[1]|checksum[2]^newChecksum[2]|checksum[3]^newChecksum[3]))return payload}return{encode:function encode(payload){var checksum=checksumFn(payload);return base58.encode(Buffer.concat([payload,checksum],payload.length+4))},decode:function decode(string){var payload=decodeRaw(base58.decode(string));if(!payload)throw new Error("Invalid checksum");return payload},decodeUnsafe:function decodeUnsafe(string){var buffer=base58.decodeUnsafe(string);if(buffer)return decodeRaw(buffer)}}}},"./node_modules/.pnpm/bs58check@2.1.2/node_modules/bs58check/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var createHash=__webpack_require__("./node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js"),bs58checkBase=__webpack_require__("./node_modules/.pnpm/bs58check@2.1.2/node_modules/bs58check/base.js");module.exports=bs58checkBase((function sha256x2(buffer){var tmp=createHash("sha256").update(buffer).digest();return createHash("sha256").update(tmp).digest()}))},"./node_modules/.pnpm/bs58check@3.0.1/node_modules/bs58check/base.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var base58=__webpack_require__("./node_modules/.pnpm/bs58@5.0.0/node_modules/bs58/index.js");module.exports=function(checksumFn){function decodeRaw(buffer){var payload=buffer.slice(0,-4),checksum=buffer.slice(-4),newChecksum=checksumFn(payload);if(!(checksum[0]^newChecksum[0]|checksum[1]^newChecksum[1]|checksum[2]^newChecksum[2]|checksum[3]^newChecksum[3]))return payload}return{encode:function encode(payload){var payloadU8=Uint8Array.from(payload),checksum=checksumFn(payloadU8),length=payloadU8.length+4,both=new Uint8Array(length);return both.set(payloadU8,0),both.set(checksum.subarray(0,4),payloadU8.length),base58.encode(both,length)},decode:function decode(string){var payload=decodeRaw(base58.decode(string));if(!payload)throw new Error("Invalid checksum");return payload},decodeUnsafe:function decodeUnsafe(string){var buffer=base58.decodeUnsafe(string);if(buffer)return decodeRaw(buffer)}}}},"./node_modules/.pnpm/bs58check@3.0.1/node_modules/bs58check/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var{sha256}=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha256.js"),bs58checkBase=__webpack_require__("./node_modules/.pnpm/bs58check@3.0.1/node_modules/bs58check/base.js");module.exports=bs58checkBase((function sha256x2(buffer){return sha256(sha256(buffer))}))},"./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/address.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.c32ToB58=exports.b58ToC32=exports.c32addressDecode=exports.c32address=exports.versions=void 0;const checksum_1=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/checksum.js"),base58check=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/base58check.js"),utils_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js");exports.versions={mainnet:{p2pkh:22,p2sh:20},testnet:{p2pkh:26,p2sh:21}};const ADDR_BITCOIN_TO_STACKS={};ADDR_BITCOIN_TO_STACKS[0]=exports.versions.mainnet.p2pkh,ADDR_BITCOIN_TO_STACKS[5]=exports.versions.mainnet.p2sh,ADDR_BITCOIN_TO_STACKS[111]=exports.versions.testnet.p2pkh,ADDR_BITCOIN_TO_STACKS[196]=exports.versions.testnet.p2sh;const ADDR_STACKS_TO_BITCOIN={};function c32address(version,hash160hex){if(!hash160hex.match(/^[0-9a-fA-F]{40}$/))throw new Error("Invalid argument: not a hash160 hex string");return`S${(0,checksum_1.c32checkEncode)(version,hash160hex)}`}function c32addressDecode(c32addr){if(c32addr.length<=5)throw new Error("Invalid c32 address: invalid length");if("S"!=c32addr[0])throw new Error('Invalid c32 address: must start with "S"');return(0,checksum_1.c32checkDecode)(c32addr.slice(1))}ADDR_STACKS_TO_BITCOIN[exports.versions.mainnet.p2pkh]=0,ADDR_STACKS_TO_BITCOIN[exports.versions.mainnet.p2sh]=5,ADDR_STACKS_TO_BITCOIN[exports.versions.testnet.p2pkh]=111,ADDR_STACKS_TO_BITCOIN[exports.versions.testnet.p2sh]=196,exports.c32address=c32address,exports.c32addressDecode=c32addressDecode,exports.b58ToC32=function b58ToC32(b58check,version=-1){const addrInfo=base58check.decode(b58check),hash160String=(0,utils_1.bytesToHex)(addrInfo.data),addrVersion=parseInt((0,utils_1.bytesToHex)(addrInfo.prefix),16);let stacksVersion;return version<0?(stacksVersion=addrVersion,void 0!==ADDR_BITCOIN_TO_STACKS[addrVersion]&&(stacksVersion=ADDR_BITCOIN_TO_STACKS[addrVersion])):stacksVersion=version,c32address(stacksVersion,hash160String)},exports.c32ToB58=function c32ToB58(c32string,version=-1){const addrInfo=c32addressDecode(c32string),stacksVersion=addrInfo[0],hash160String=addrInfo[1];let bitcoinVersion;version<0?(bitcoinVersion=stacksVersion,void 0!==ADDR_STACKS_TO_BITCOIN[stacksVersion]&&(bitcoinVersion=ADDR_STACKS_TO_BITCOIN[stacksVersion])):bitcoinVersion=version;let prefix=bitcoinVersion.toString(16);return 1===prefix.length&&(prefix=`0${prefix}`),base58check.encode(hash160String,prefix)}},"./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/base58check.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decode=exports.encode=void 0;const sha256_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha256.js"),utils_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js"),basex=__webpack_require__("./node_modules/.pnpm/base-x@4.0.0/node_modules/base-x/src/index.js"),ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";exports.encode=function encode(data,prefix="00"){const dataBytes="string"==typeof data?(0,utils_1.hexToBytes)(data):data,prefixBytes="string"==typeof prefix?(0,utils_1.hexToBytes)(prefix):data;if(!(dataBytes instanceof Uint8Array&&prefixBytes instanceof Uint8Array))throw new TypeError("Argument must be of type Uint8Array or string");const checksum=(0,sha256_1.sha256)((0,sha256_1.sha256)(new Uint8Array([...prefixBytes,...dataBytes])));return basex(ALPHABET).encode([...prefixBytes,...dataBytes,...checksum.slice(0,4)])},exports.decode=function decode(string){const bytes=basex(ALPHABET).decode(string),prefixBytes=bytes.slice(0,1),dataBytes=bytes.slice(1,-4),checksum=(0,sha256_1.sha256)((0,sha256_1.sha256)(new Uint8Array([...prefixBytes,...dataBytes])));return bytes.slice(-4).forEach(((check,index)=>{if(check!==checksum[index])throw new Error("Invalid checksum")})),{prefix:prefixBytes,data:dataBytes}}},"./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/checksum.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.c32checkDecode=exports.c32checkEncode=void 0;const sha256_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha256.js"),utils_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js"),encoding_1=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/encoding.js");function c32checksum(dataHex){const dataHash=(0,sha256_1.sha256)((0,sha256_1.sha256)((0,utils_1.hexToBytes)(dataHex)));return(0,utils_1.bytesToHex)(dataHash.slice(0,4))}exports.c32checkEncode=function c32checkEncode(version,data){if(version<0||version>=32)throw new Error("Invalid version (must be between 0 and 31)");if(!data.match(/^[0-9a-fA-F]*$/))throw new Error("Invalid data (not a hex string)");(data=data.toLowerCase()).length%2!=0&&(data=`0${data}`);let versionHex=version.toString(16);1===versionHex.length&&(versionHex=`0${versionHex}`);const checksumHex=c32checksum(`${versionHex}${data}`),c32str=(0,encoding_1.c32encode)(`${data}${checksumHex}`);return`${encoding_1.c32[version]}${c32str}`},exports.c32checkDecode=function c32checkDecode(c32data){c32data=(0,encoding_1.c32normalize)(c32data);const dataHex=(0,encoding_1.c32decode)(c32data.slice(1)),versionChar=c32data[0],version=encoding_1.c32.indexOf(versionChar),checksum=dataHex.slice(-8);let versionHex=version.toString(16);if(1===versionHex.length&&(versionHex=`0${versionHex}`),c32checksum(`${versionHex}${dataHex.substring(0,dataHex.length-8)}`)!==checksum)throw new Error("Invalid c32check string: checksum mismatch");return[version,dataHex.substring(0,dataHex.length-8)]}},"./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/encoding.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.c32decode=exports.c32normalize=exports.c32encode=exports.c32=void 0;const utils_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js");exports.c32="0123456789ABCDEFGHJKMNPQRSTVWXYZ";const hex="0123456789abcdef";function c32normalize(c32input){return c32input.toUpperCase().replace(/O/g,"0").replace(/L|I/g,"1")}exports.c32encode=function c32encode(inputHex,minLength){if(!inputHex.match(/^[0-9a-fA-F]*$/))throw new Error("Not a hex-encoded string");inputHex.length%2!=0&&(inputHex=`0${inputHex}`);let res=[],carry=0;for(let i=(inputHex=inputHex.toLowerCase()).length-1;i>=0;i--)if(carry<4){const currentCode=hex.indexOf(inputHex[i])>>carry;let nextCode=0;0!==i&&(nextCode=hex.indexOf(inputHex[i-1]));const nextBits=1+carry,nextLowBits=nextCode%(1<<nextBits)<<5-nextBits,curC32Digit=exports.c32[currentCode+nextLowBits];carry=nextBits,res.unshift(curC32Digit)}else carry=0;let C32leadingZeros=0;for(let i=0;i<res.length&&"0"===res[i];i++)C32leadingZeros++;res=res.slice(C32leadingZeros);const zeroPrefix=(new TextDecoder).decode((0,utils_1.hexToBytes)(inputHex)).match(/^\u0000*/),numLeadingZeroBytesInHex=zeroPrefix?zeroPrefix[0].length:0;for(let i=0;i<numLeadingZeroBytesInHex;i++)res.unshift(exports.c32[0]);if(minLength){const count=minLength-res.length;for(let i=0;i<count;i++)res.unshift(exports.c32[0])}return res.join("")},exports.c32normalize=c32normalize,exports.c32decode=function c32decode(c32input,minLength){if(!(c32input=c32normalize(c32input)).match(`^[${exports.c32}]*$`))throw new Error("Not a c32-encoded string");const zeroPrefix=c32input.match(`^${exports.c32[0]}*`),numLeadingZeroBytes=zeroPrefix?zeroPrefix[0].length:0;let res=[],carry=0,carryBits=0;for(let i=c32input.length-1;i>=0;i--){4===carryBits&&(res.unshift(hex[carry]),carryBits=0,carry=0);const currentValue=(exports.c32.indexOf(c32input[i])<<carryBits)+carry,currentHexDigit=hex[currentValue%16];if(carryBits+=1,carry=currentValue>>4,carry>1<<carryBits)throw new Error("Panic error in decoding.");res.unshift(currentHexDigit)}res.unshift(hex[carry]),res.length%2==1&&res.unshift("0");let hexLeadingZeros=0;for(let i=0;i<res.length&&"0"===res[i];i++)hexLeadingZeros++;res=res.slice(hexLeadingZeros-hexLeadingZeros%2);let hexStr=res.join("");for(let i=0;i<numLeadingZeroBytes;i++)hexStr=`00${hexStr}`;if(minLength){const count=2*minLength-hexStr.length;for(let i=0;i<count;i+=2)hexStr=`00${hexStr}`}return hexStr}},"./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.ns=exports.bJ=void 0;const encoding_1=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/encoding.js");const checksum_1=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/checksum.js");const address_1=__webpack_require__("./node_modules/.pnpm/c32check@2.0.0/node_modules/c32check/lib/address.js");Object.defineProperty(exports,"bJ",{enumerable:!0,get:function(){return address_1.c32address}}),Object.defineProperty(exports,"ns",{enumerable:!0,get:function(){return address_1.c32addressDecode}})},"./node_modules/.pnpm/cipher-base@1.0.4/node_modules/cipher-base/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,Transform=__webpack_require__("?8d76").Transform,StringDecoder=__webpack_require__("./node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js").I;function CipherBase(hashMode){Transform.call(this),this.hashMode="string"==typeof hashMode,this.hashMode?this[hashMode]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")(CipherBase,Transform),CipherBase.prototype.update=function(data,inputEnc,outputEnc){"string"==typeof data&&(data=Buffer.from(data,inputEnc));var outData=this._update(data);return this.hashMode?this:(outputEnc&&(outData=this._toString(outData,outputEnc)),outData)},CipherBase.prototype.setAutoPadding=function(){},CipherBase.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},CipherBase.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},CipherBase.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},CipherBase.prototype._transform=function(data,_,next){var err;try{this.hashMode?this._update(data):this.push(this._update(data))}catch(e){err=e}finally{next(err)}},CipherBase.prototype._flush=function(done){var err;try{this.push(this.__final())}catch(e){err=e}done(err)},CipherBase.prototype._finalOrDigest=function(outputEnc){var outData=this.__final()||Buffer.alloc(0);return outputEnc&&(outData=this._toString(outData,outputEnc,!0)),outData},CipherBase.prototype._toString=function(value,enc,fin){if(this._decoder||(this._decoder=new StringDecoder(enc),this._encoding=enc),this._encoding!==enc)throw new Error("can't switch encodings");var out=this._decoder.write(value);return fin&&(out+=this._decoder.end()),out},module.exports=CipherBase},"./node_modules/.pnpm/create-hash@1.2.0/node_modules/create-hash/browser.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),MD5=__webpack_require__("./node_modules/.pnpm/md5.js@1.3.5/node_modules/md5.js/index.js"),RIPEMD160=__webpack_require__("./node_modules/.pnpm/ripemd160@2.0.2/node_modules/ripemd160/index.js"),sha=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/index.js"),Base=__webpack_require__("./node_modules/.pnpm/cipher-base@1.0.4/node_modules/cipher-base/index.js");function Hash(hash){Base.call(this,"digest"),this._hash=hash}inherits(Hash,Base),Hash.prototype._update=function(data){this._hash.update(data)},Hash.prototype._final=function(){return this._hash.digest()},module.exports=function createHash(alg){return"md5"===(alg=alg.toLowerCase())?new MD5:"rmd160"===alg||"ripemd160"===alg?new RIPEMD160:new Hash(sha(alg))}},"./node_modules/.pnpm/cross-fetch@3.1.8_encoding@0.1.13/node_modules/cross-fetch/dist/browser-polyfill.js":function(){!function(self){!function(exports){var support_searchParams="URLSearchParams"in self,support_iterable="Symbol"in self&&"iterator"in Symbol,support_blob="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),support_formData="FormData"in self,support_arrayBuffer="ArrayBuffer"in self;if(support_arrayBuffer)var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1};function normalizeName(name){if("string"!=typeof name&&(name=String(name)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name))throw new TypeError("Invalid character in header field name");return name.toLowerCase()}function normalizeValue(value){return"string"!=typeof value&&(value=String(value)),value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:void 0===value,value}}};return support_iterable&&(iterator[Symbol.iterator]=function(){return iterator}),iterator}function Headers(headers){this.map={},headers instanceof Headers?headers.forEach((function(value,name){this.append(name,value)}),this):Array.isArray(headers)?headers.forEach((function(header){this.append(header[0],header[1])}),this):headers&&Object.getOwnPropertyNames(headers).forEach((function(name){this.append(name,headers[name])}),this)}function consumed(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function fileReaderReady(reader){return new Promise((function(resolve,reject){reader.onload=function(){resolve(reader.result)},reader.onerror=function(){reject(reader.error)}}))}function readBlobAsArrayBuffer(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsArrayBuffer(blob),promise}function bufferClone(buf){if(buf.slice)return buf.slice(0);var view=new Uint8Array(buf.byteLength);return view.set(new Uint8Array(buf)),view.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(body){this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:support_blob&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:support_formData&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():support_arrayBuffer&&support_blob&&function isDataView(obj){return obj&&DataView.prototype.isPrototypeOf(obj)}(body)?(this._bodyArrayBuffer=bufferClone(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):support_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))?this._bodyArrayBuffer=bufferClone(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):support_searchParams&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},support_blob&&(this.blob=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var rejected=consumed(this);if(rejected)return rejected;if(this._bodyBlob)return function readBlobAsText(blob){var reader=new FileReader,promise=fileReaderReady(reader);return reader.readAsText(blob),promise}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(buf){for(var view=new Uint8Array(buf),chars=new Array(view.length),i=0;i<view.length;i++)chars[i]=String.fromCharCode(view[i]);return chars.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},support_formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(name,value){name=normalizeName(name),value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+", "+value:value},Headers.prototype.delete=function(name){delete this.map[normalizeName(name)]},Headers.prototype.get=function(name){return name=normalizeName(name),this.has(name)?this.map[name]:null},Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))},Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)},Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map)this.map.hasOwnProperty(name)&&callback.call(thisArg,this.map[name],name,this)},Headers.prototype.keys=function(){var items=[];return this.forEach((function(value,name){items.push(name)})),iteratorFor(items)},Headers.prototype.values=function(){var items=[];return this.forEach((function(value){items.push(value)})),iteratorFor(items)},Headers.prototype.entries=function(){var items=[];return this.forEach((function(value,name){items.push([name,value])})),iteratorFor(items)},support_iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(input,options){var body=(options=options||{}).body;if(input instanceof Request){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,options.headers||(this.headers=new Headers(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=options.credentials||this.credentials||"same-origin",!options.headers&&this.headers||(this.headers=new Headers(options.headers)),this.method=function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}(options.method||this.method||"GET"),this.mode=options.mode||this.mode||null,this.signal=options.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function decode(body){var form=new FormData;return body.trim().split("&").forEach((function(bytes){if(bytes){var split=bytes.split("="),name=split.shift().replace(/\+/g," "),value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}})),form}function Response(bodyInit,options){options||(options={}),this.type="default",this.status=void 0===options.status?200:options.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in options?options.statusText:"OK",this.headers=new Headers(options.headers),this.url=options.url||"",this._initBody(bodyInit)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var response=new Response(null,{status:0,statusText:""});return response.type="error",response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(-1===redirectStatuses.indexOf(status))throw new RangeError("Invalid status code");return new Response(null,{status,headers:{location:url}})},exports.DOMException=self.DOMException;try{new exports.DOMException}catch(err){exports.DOMException=function(message,name){this.message=message,this.name=name;var error=Error(message);this.stack=error.stack},exports.DOMException.prototype=Object.create(Error.prototype),exports.DOMException.prototype.constructor=exports.DOMException}function fetch(input,init){return new Promise((function(resolve,reject){var request=new Request(input,init);if(request.signal&&request.signal.aborted)return reject(new exports.DOMException("Aborted","AbortError"));var xhr=new XMLHttpRequest;function abortXhr(){xhr.abort()}xhr.onload=function(){var rawHeaders,headers,options={status:xhr.status,statusText:xhr.statusText,headers:(rawHeaders=xhr.getAllResponseHeaders()||"",headers=new Headers,rawHeaders.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(line){var parts=line.split(":"),key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}})),headers)};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))},xhr.onerror=function(){reject(new TypeError("Network request failed"))},xhr.ontimeout=function(){reject(new TypeError("Network request failed"))},xhr.onabort=function(){reject(new exports.DOMException("Aborted","AbortError"))},xhr.open(request.method,request.url,!0),"include"===request.credentials?xhr.withCredentials=!0:"omit"===request.credentials&&(xhr.withCredentials=!1),"responseType"in xhr&&support_blob&&(xhr.responseType="blob"),request.headers.forEach((function(value,name){xhr.setRequestHeader(name,value)})),request.signal&&(request.signal.addEventListener("abort",abortXhr),xhr.onreadystatechange=function(){4===xhr.readyState&&request.signal.removeEventListener("abort",abortXhr)}),xhr.send(void 0===request._bodyInit?null:request._bodyInit)}))}fetch.polyfill=!0,self.fetch||(self.fetch=fetch,self.Headers=Headers,self.Request=Request,self.Response=Response),exports.Headers=Headers,exports.Request=Request,exports.Response=Response,exports.fetch=fetch,Object.defineProperty(exports,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:this)},"./node_modules/.pnpm/dotenv@16.4.5/node_modules/dotenv/lib/main.js":(module,__unused_webpack_exports,__webpack_require__)=>{var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js"),Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;const fs=__webpack_require__("?c686"),path=__webpack_require__("./node_modules/.pnpm/path-browserify@1.0.1/node_modules/path-browserify/index.js"),os=__webpack_require__("./node_modules/.pnpm/os-browserify@0.3.0/node_modules/os-browserify/browser.js"),crypto=__webpack_require__("?77b8"),version=__webpack_require__("./node_modules/.pnpm/dotenv@16.4.5/node_modules/dotenv/package.json").version,LINE=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function _debug(message){console.log(`[dotenv@${version}][DEBUG] ${message}`)}function _dotenvKey(options){return options&&options.DOTENV_KEY&&options.DOTENV_KEY.length>0?options.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function _instructions(result,dotenvKey){let uri;try{uri=new URL(dotenvKey)}catch(error){if("ERR_INVALID_URL"===error.code){const err=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw err.code="INVALID_DOTENV_KEY",err}throw error}const key=uri.password;if(!key){const err=new Error("INVALID_DOTENV_KEY: Missing key part");throw err.code="INVALID_DOTENV_KEY",err}const environment=uri.searchParams.get("environment");if(!environment){const err=new Error("INVALID_DOTENV_KEY: Missing environment part");throw err.code="INVALID_DOTENV_KEY",err}const environmentKey=`DOTENV_VAULT_${environment.toUpperCase()}`,ciphertext=result.parsed[environmentKey];if(!ciphertext){const err=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${environmentKey} in your .env.vault file.`);throw err.code="NOT_FOUND_DOTENV_ENVIRONMENT",err}return{ciphertext,key}}function _vaultPath(options){let possibleVaultPath=null;if(options&&options.path&&options.path.length>0)if(Array.isArray(options.path))for(const filepath of options.path)fs.existsSync(filepath)&&(possibleVaultPath=filepath.endsWith(".vault")?filepath:`${filepath}.vault`);else possibleVaultPath=options.path.endsWith(".vault")?options.path:`${options.path}.vault`;else possibleVaultPath=path.resolve(process.cwd(),".env.vault");return fs.existsSync(possibleVaultPath)?possibleVaultPath:null}function _resolveHome(envPath){return"~"===envPath[0]?path.join(os.homedir(),envPath.slice(1)):envPath}const DotenvModule={configDotenv:function configDotenv(options){const dotenvPath=path.resolve(process.cwd(),".env");let encoding="utf8";const debug=Boolean(options&&options.debug);options&&options.encoding?encoding=options.encoding:debug&&_debug("No encoding is specified. UTF-8 is used by default");let lastError,optionPaths=[dotenvPath];if(options&&options.path)if(Array.isArray(options.path)){optionPaths=[];for(const filepath of options.path)optionPaths.push(_resolveHome(filepath))}else optionPaths=[_resolveHome(options.path)];const parsedAll={};for(const path of optionPaths)try{const parsed=DotenvModule.parse(fs.readFileSync(path,{encoding}));DotenvModule.populate(parsedAll,parsed,options)}catch(e){debug&&_debug(`Failed to load ${path} ${e.message}`),lastError=e}let processEnv=process.env;return options&&null!=options.processEnv&&(processEnv=options.processEnv),DotenvModule.populate(processEnv,parsedAll,options),lastError?{parsed:parsedAll,error:lastError}:{parsed:parsedAll}},_configVault:function _configVault(options){!function _log(message){console.log(`[dotenv@${version}][INFO] ${message}`)}("Loading env from encrypted .env.vault");const parsed=DotenvModule._parseVault(options);let processEnv=process.env;return options&&null!=options.processEnv&&(processEnv=options.processEnv),DotenvModule.populate(processEnv,parsed,options),{parsed}},_parseVault:function _parseVault(options){const vaultPath=_vaultPath(options),result=DotenvModule.configDotenv({path:vaultPath});if(!result.parsed){const err=new Error(`MISSING_DATA: Cannot parse ${vaultPath} for an unknown reason`);throw err.code="MISSING_DATA",err}const keys=_dotenvKey(options).split(","),length=keys.length;let decrypted;for(let i=0;i<length;i++)try{const attrs=_instructions(result,keys[i].trim());decrypted=DotenvModule.decrypt(attrs.ciphertext,attrs.key);break}catch(error){if(i+1>=length)throw error}return DotenvModule.parse(decrypted)},config:function config(options){if(0===_dotenvKey(options).length)return DotenvModule.configDotenv(options);const vaultPath=_vaultPath(options);return vaultPath?DotenvModule._configVault(options):(function _warn(message){console.log(`[dotenv@${version}][WARN] ${message}`)}(`You set DOTENV_KEY but you are missing a .env.vault file at ${vaultPath}. Did you forget to build it?`),DotenvModule.configDotenv(options))},decrypt:function decrypt(encrypted,keyStr){const key=Buffer.from(keyStr.slice(-64),"hex");let ciphertext=Buffer.from(encrypted,"base64");const nonce=ciphertext.subarray(0,12),authTag=ciphertext.subarray(-16);ciphertext=ciphertext.subarray(12,-16);try{const aesgcm=crypto.createDecipheriv("aes-256-gcm",key,nonce);return aesgcm.setAuthTag(authTag),`${aesgcm.update(ciphertext)}${aesgcm.final()}`}catch(error){const isRange=error instanceof RangeError,invalidKeyLength="Invalid key length"===error.message,decryptionFailed="Unsupported state or unable to authenticate data"===error.message;if(isRange||invalidKeyLength){const err=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw err.code="INVALID_DOTENV_KEY",err}if(decryptionFailed){const err=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw err.code="DECRYPTION_FAILED",err}throw error}},parse:function parse(src){const obj={};let match,lines=src.toString();for(lines=lines.replace(/\r\n?/gm,"\n");null!=(match=LINE.exec(lines));){const key=match[1];let value=match[2]||"";value=value.trim();const maybeQuote=value[0];value=value.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===maybeQuote&&(value=value.replace(/\\n/g,"\n"),value=value.replace(/\\r/g,"\r")),obj[key]=value}return obj},populate:function populate(processEnv,parsed,options={}){const debug=Boolean(options&&options.debug),override=Boolean(options&&options.override);if("object"!=typeof parsed){const err=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw err.code="OBJECT_REQUIRED",err}for(const key of Object.keys(parsed))Object.prototype.hasOwnProperty.call(processEnv,key)?(!0===override&&(processEnv[key]=parsed[key]),debug&&_debug(!0===override?`"${key}" is already defined and WAS overwritten`:`"${key}" is already defined and was NOT overwritten`)):processEnv[key]=parsed[key]}};module.exports.configDotenv=DotenvModule.configDotenv,module.exports._configVault=DotenvModule._configVault,module.exports._parseVault=DotenvModule._parseVault,module.exports.config=DotenvModule.config,module.exports.decrypt=DotenvModule.decrypt,module.exports.parse=DotenvModule.parse,module.exports.populate=DotenvModule.populate,module.exports=DotenvModule},"./node_modules/.pnpm/dset@3.1.4/node_modules/dset/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function dset(obj,keys,val){keys.split&&(keys=keys.split("."));for(var x,k,i=0,l=keys.length,t=obj;i<l&&"__proto__"!=(k=""+keys[i++])&&"constructor"!==k&&"prototype"!==k;)t=t[k]=i===l?val:typeof(x=t[k])==typeof keys?x:0*keys[i]!=0||~(""+keys[i]).indexOf(".")?{}:[]}__webpack_require__.d(__webpack_exports__,{J:()=>dset})},"./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/ecpair.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ECPairFactory=exports.networks=void 0;const networks=__webpack_require__("./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/networks.js");exports.networks=networks;const types=__webpack_require__("./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/types.js"),randomBytes=__webpack_require__("./node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js"),wif=__webpack_require__("./node_modules/.pnpm/wif@2.0.6/node_modules/wif/index.js"),testecc_1=__webpack_require__("./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/testecc.js"),isOptions=types.typeforce.maybe(types.typeforce.compile({compressed:types.maybe(types.Boolean),network:types.maybe(types.Network)}));exports.ECPairFactory=function ECPairFactory(ecc){function fromPrivateKey(buffer,options){if(types.typeforce(types.Buffer256bit,buffer),!ecc.isPrivate(buffer))throw new TypeError("Private key not in range [1, n)");return types.typeforce(isOptions,options),new ECPair(buffer,void 0,options)}function fromPublicKey(buffer,options){return types.typeforce(ecc.isPoint,buffer),types.typeforce(isOptions,options),new ECPair(void 0,buffer,options)}(0,testecc_1.testEcc)(ecc);class ECPair{__D;__Q;compressed;network;lowR;constructor(__D,__Q,options){this.__D=__D,this.__Q=__Q,this.lowR=!1,void 0===options&&(options={}),this.compressed=void 0===options.compressed||options.compressed,this.network=options.network||networks.bitcoin,void 0!==__Q&&(this.__Q=Buffer.from(ecc.pointCompress(__Q,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){const p=ecc.pointFromScalar(this.__D,this.compressed);this.__Q=Buffer.from(p)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return wif.encode(this.network.wif,this.__D,this.compressed)}tweak(t){return this.privateKey?this.tweakFromPrivateKey(t):this.tweakFromPublicKey(t)}sign(hash,lowR){if(!this.__D)throw new Error("Missing private key");if(void 0===lowR&&(lowR=this.lowR),!1===lowR)return Buffer.from(ecc.sign(hash,this.__D));{let sig=ecc.sign(hash,this.__D);const extraData=Buffer.alloc(32,0);let counter=0;for(;sig[0]>127;)counter++,extraData.writeUIntLE(counter,0,6),sig=ecc.sign(hash,this.__D,extraData);return Buffer.from(sig)}}signSchnorr(hash){if(!this.privateKey)throw new Error("Missing private key");if(!ecc.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return Buffer.from(ecc.signSchnorr(hash,this.privateKey))}verify(hash,signature){return ecc.verify(hash,this.publicKey,signature)}verifySchnorr(hash,signature){if(!ecc.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return ecc.verifySchnorr(hash,this.publicKey.subarray(1,33),signature)}tweakFromPublicKey(t){const xOnlyPubKey=32===(pubKey=this.publicKey).length?pubKey:pubKey.slice(1,33);var pubKey;const tweakedPublicKey=ecc.xOnlyPointAddTweak(xOnlyPubKey,t);if(!tweakedPublicKey||null===tweakedPublicKey.xOnlyPubkey)throw new Error("Cannot tweak public key!");const parityByte=Buffer.from([0===tweakedPublicKey.parity?2:3]);return fromPublicKey(Buffer.concat([parityByte,tweakedPublicKey.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(t){const privateKey=3===this.publicKey[0]||4===this.publicKey[0]&&!(1&~this.publicKey[64])?ecc.privateNegate(this.privateKey):this.privateKey,tweakedPrivateKey=ecc.privateAdd(privateKey,t);if(!tweakedPrivateKey)throw new Error("Invalid tweaked private key!");return fromPrivateKey(Buffer.from(tweakedPrivateKey),{network:this.network,compressed:this.compressed})}}return{isPoint:function isPoint(maybePoint){return ecc.isPoint(maybePoint)},fromPrivateKey,fromPublicKey,fromWIF:function fromWIF(wifString,network){const decoded=wif.decode(wifString),version=decoded.version;if(types.Array(network)){if(!(network=network.filter((x=>version===x.wif)).pop()))throw new Error("Unknown network version")}else if(network=network||networks.bitcoin,version!==network.wif)throw new Error("Invalid network version");return fromPrivateKey(decoded.privateKey,{compressed:decoded.compressed,network})},makeRandom:function makeRandom(options){types.typeforce(isOptions,options),void 0===options&&(options={});const rng=options.rng||randomBytes;let d;do{d=rng(32),types.typeforce(types.Buffer256bit,d)}while(!ecc.isPrivate(d));return fromPrivateKey(d,options)}}}},"./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.dg=void 0;var ecpair_1=__webpack_require__("./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/ecpair.js");Object.defineProperty(exports,"dg",{enumerable:!0,get:function(){return ecpair_1.ECPairFactory}})},"./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/networks.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.testnet=exports.bitcoin=void 0,exports.bitcoin={messagePrefix:"Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},exports.testnet={messagePrefix:"Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},"./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/testecc.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;Object.defineProperty(exports,"__esModule",{value:!0}),exports.testEcc=void 0;const h=hex=>Buffer.from(hex,"hex");function assert(bool){if(!bool)throw new Error("ecc library invalid")}exports.testEcc=function testEcc(ecc){assert(ecc.isPoint(h("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert(!ecc.isPoint(h("030000000000000000000000000000000000000000000000000000000000000005"))),assert(ecc.isPrivate(h("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert(ecc.isPrivate(h("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),assert(!ecc.isPrivate(h("0000000000000000000000000000000000000000000000000000000000000000"))),assert(!ecc.isPrivate(h("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),assert(!ecc.isPrivate(h("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),assert(Buffer.from(ecc.privateAdd(h("0000000000000000000000000000000000000000000000000000000000000001"),h("0000000000000000000000000000000000000000000000000000000000000000"))).equals(h("0000000000000000000000000000000000000000000000000000000000000001"))),assert(null===ecc.privateAdd(h("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),h("0000000000000000000000000000000000000000000000000000000000000003"))),assert(Buffer.from(ecc.privateAdd(h("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),h("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(h("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),assert(Buffer.from(ecc.privateNegate(h("0000000000000000000000000000000000000000000000000000000000000001"))).equals(h("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),assert(Buffer.from(ecc.privateNegate(h("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(h("0000000000000000000000000000000000000000000000000000000000000003"))),assert(Buffer.from(ecc.privateNegate(h("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(h("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),assert(Buffer.from(ecc.pointCompress(h("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(h("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert(Buffer.from(ecc.pointCompress(h("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(h("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),assert(Buffer.from(ecc.pointCompress(h("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(h("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),assert(Buffer.from(ecc.pointCompress(h("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(h("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),assert(Buffer.from(ecc.pointFromScalar(h("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(h("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),assert(null===ecc.xOnlyPointAddTweak(h("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),h("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let xOnlyRes=ecc.xOnlyPointAddTweak(h("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),h("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));assert(Buffer.from(xOnlyRes.xOnlyPubkey).equals(h("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===xOnlyRes.parity),xOnlyRes=ecc.xOnlyPointAddTweak(h("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),h("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),assert(Buffer.from(xOnlyRes.xOnlyPubkey).equals(h("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&0===xOnlyRes.parity),assert(Buffer.from(ecc.sign(h("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),h("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(h("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),assert(ecc.verify(h("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),h("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),h("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),ecc.signSchnorr&&assert(Buffer.from(ecc.signSchnorr(h("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),h("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),h("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(h("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),ecc.verifySchnorr&&assert(ecc.verifySchnorr(h("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),h("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),h("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}},"./node_modules/.pnpm/ecpair@2.1.0/node_modules/ecpair/src/types.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maybe=exports.Boolean=exports.Array=exports.Buffer256bit=exports.Network=exports.typeforce=void 0,exports.typeforce=__webpack_require__("./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/index.js"),exports.Network=exports.typeforce.compile({messagePrefix:exports.typeforce.oneOf(exports.typeforce.Buffer,exports.typeforce.String),bip32:{public:exports.typeforce.UInt32,private:exports.typeforce.UInt32},pubKeyHash:exports.typeforce.UInt8,scriptHash:exports.typeforce.UInt8,wif:exports.typeforce.UInt8}),exports.Buffer256bit=exports.typeforce.BufferN(32),exports.Array=exports.typeforce.Array,exports.Boolean=exports.typeforce.Boolean,exports.maybe=exports.typeforce.maybe},"./node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.js":module=>{"use strict";var has=Object.prototype.hasOwnProperty,prefix="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix?prefix+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0==--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix=!1)),EventEmitter.prototype.eventNames=function eventNames(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter.prototype.listeners=function listeners(event){var evt=prefix?prefix+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i=0,l=handlers.length,ee=new Array(l);i<l;i++)ee[i]=handlers[i].fn;return ee},EventEmitter.prototype.listenerCount=function listenerCount(event){var evt=prefix?prefix+event:event,listeners=this._events[evt];return listeners?listeners.fn?1:listeners.length:0},EventEmitter.prototype.emit=function emit(event,a1,a2,a3,a4,a5){var evt=prefix?prefix+event:event;if(!this._events[evt])return!1;var args,i,listeners=this._events[evt],len=arguments.length;if(listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,void 0,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);i<len;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;i<length;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,void 0,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;case 4:listeners[i].fn.call(listeners[i].context,a1,a2,a3);break;default:if(!args)for(j=1,args=new Array(len-1);j<len;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function on(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter.prototype.once=function once(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter.prototype.removeListener=function removeListener(event,fn,context,once){var evt=prefix?prefix+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners=this._events[evt];if(listeners.fn)listeners.fn!==fn||once&&!listeners.once||context&&listeners.context!==context||clearEvent(this,evt);else{for(var i=0,events=[],length=listeners.length;i<length;i++)(listeners[i].fn!==fn||once&&!listeners[i].once||context&&listeners[i].context!==context)&&events.push(listeners[i]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(event){var evt;return event?(evt=prefix?prefix+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=prefix,EventEmitter.EventEmitter=EventEmitter,module.exports=EventEmitter},"./node_modules/.pnpm/events@3.3.0/node_modules/events/events.js":module=>{"use strict";var ReflectOwnKeys,R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function ReflectApply(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function ReflectOwnKeys(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function NumberIsNaN(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function once(emitter,name){return new Promise((function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){"function"==typeof emitter.removeListener&&emitter.removeListener("error",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),"error"!==name&&function addErrorHandlerIfEventEmitter(emitter,handler,flags){"function"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,"error",handler,flags)}(emitter,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if("function"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=target,w.type=type,w.count=existing.length,function ProcessEmitWarning(warning){console&&console.warn&&console.warn(warning)}(w)}return target}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target,type,listener},wrapped=onceWrapper.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function unwrapListeners(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if("function"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else{if("function"!=typeof emitter.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof emitter);emitter.addEventListener(name,(function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(n){if("number"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError="error"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function addListener(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function once(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function removeListener(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function spliceOne(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function listeners(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function rawListeners(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},"./node_modules/.pnpm/hash-base@3.1.0/node_modules/hash-base/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,Transform=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/readable-browser.js").Transform;function HashBase(blockSize){Transform.call(this),this._block=Buffer.allocUnsafe(blockSize),this._blockSize=blockSize,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")(HashBase,Transform),HashBase.prototype._transform=function(chunk,encoding,callback){var error=null;try{this.update(chunk,encoding)}catch(err){error=err}callback(error)},HashBase.prototype._flush=function(callback){var error=null;try{this.push(this.digest())}catch(err){error=err}callback(error)},HashBase.prototype.update=function(data,encoding){if(function throwIfNotStringOrBuffer(val,prefix){if(!Buffer.isBuffer(val)&&"string"!=typeof val)throw new TypeError(prefix+" must be a string or a buffer")}(data,"Data"),this._finalized)throw new Error("Digest already called");Buffer.isBuffer(data)||(data=Buffer.from(data,encoding));for(var block=this._block,offset=0;this._blockOffset+data.length-offset>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)block[i++]=data[offset++];this._update(),this._blockOffset=0}for(;offset<data.length;)block[this._blockOffset++]=data[offset++];for(var j=0,carry=8*data.length;carry>0;++j)this._length[j]+=carry,(carry=this._length[j]/4294967296|0)>0&&(this._length[j]-=4294967296*carry);return this},HashBase.prototype._update=function(){throw new Error("_update is not implemented")},HashBase.prototype.digest=function(encoding){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var digest=this._digest();void 0!==encoding&&(digest=digest.toString(encoding)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return digest},HashBase.prototype._digest=function(){throw new Error("_digest is not implemented")},module.exports=HashBase},"./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js":module=>{"function"==typeof Object.create?module.exports=function inherits(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function inherits(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/base64Url.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decode=exports.encode=exports.unescape=exports.escape=exports.pad=void 0;const base64_js_1=__webpack_require__("./node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js");function pad(base64){return`${base64}${"=".repeat(4-(base64.length%4||4))}`}function escape(base64){return base64.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function unescape(base64Url){return pad(base64Url).replace(/-/g,"+").replace(/_/g,"/")}exports.pad=pad,exports.escape=escape,exports.unescape=unescape,exports.encode=function encode(base64){return escape((0,base64_js_1.fromByteArray)((new TextEncoder).encode(base64)))},exports.decode=function decode(base64Url){return(new TextDecoder).decode((0,base64_js_1.toByteArray)(pad(unescape(base64Url))))}},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cryptoClients=exports.SECP256K1Client=void 0;const secp256k1_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/secp256k1.js");Object.defineProperty(exports,"SECP256K1Client",{enumerable:!0,get:function(){return secp256k1_1.SECP256K1Client}});const cryptoClients={ES256K:secp256k1_1.SECP256K1Client};exports.cryptoClients=cryptoClients},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/secp256k1.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SECP256K1Client=void 0;const hmac_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/hmac.js"),sha256_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha256.js"),secp=__webpack_require__("./node_modules/.pnpm/@noble+secp256k1@1.7.1/node_modules/@noble/secp256k1/lib/index.js"),ecdsaSigFormatter_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/ecdsaSigFormatter.js"),errors_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/errors.js"),utils_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/utils.js");secp.utils.hmacSha256Sync=(key,...msgs)=>{const h=hmac_1.hmac.create(sha256_1.sha256,key);return msgs.forEach((msg=>h.update(msg))),h.digest()};class SECP256K1Client{static derivePublicKey(privateKey,compressed=!0){return 66===privateKey.length&&(privateKey=privateKey.slice(0,64)),privateKey.length<64&&(privateKey=privateKey.padStart(64,"0")),(0,utils_1.bytesToHex)(secp.getPublicKey(privateKey,compressed))}static signHash(signingInputHash,privateKey,format="jose"){if(!signingInputHash||!privateKey)throw new errors_1.MissingParametersError("a signing input hash and private key are all required");const derSignature=secp.signSync(signingInputHash,privateKey.slice(0,64),{der:!0,canonical:!1});if("der"===format)return(0,utils_1.bytesToHex)(derSignature);if("jose"===format)return(0,ecdsaSigFormatter_1.derToJose)(derSignature,"ES256");throw Error("Invalid signature format")}static loadSignature(joseSignature){return(0,ecdsaSigFormatter_1.joseToDer)(joseSignature,"ES256")}static verifyHash(signingInputHash,derSignatureBytes,publicKey){if(!signingInputHash||!derSignatureBytes||!publicKey)throw new errors_1.MissingParametersError("a signing input hash, der signature, and public key are all required");return secp.verify(derSignatureBytes,signingInputHash,publicKey,{strict:!1})}}exports.SECP256K1Client=SECP256K1Client,SECP256K1Client.algorithmName="ES256K"},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/sha256.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.hashSha256Async=exports.hashSha256=void 0;const sha256_1=__webpack_require__("./node_modules/.pnpm/@noble+hashes@1.5.0/node_modules/@noble/hashes/sha256.js");function hashSha256(input){return(0,sha256_1.sha256)(input)}exports.hashSha256=hashSha256,exports.hashSha256Async=function hashSha256Async(input){return __awaiter(this,void 0,void 0,(function*(){try{if("undefined"!=typeof crypto&&void 0!==crypto.subtle){const bytes="string"==typeof input?(new TextEncoder).encode(input):input,hash=yield crypto.subtle.digest("SHA-256",bytes);return new Uint8Array(hash)}{const nodeCrypto=__webpack_require__("?b367");if(!nodeCrypto.createHash)throw new Error("`crypto` module does not contain `createHash`");return Promise.resolve(nodeCrypto.createHash("sha256").update(input).digest())}}catch(error){return console.log(error),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(hashSha256(input))}}))}},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/decode.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeToken=void 0;const base64url=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/base64Url.js");exports.decodeToken=function decodeToken(token){if("string"==typeof token){const tokenParts=token.split(".");return{header:JSON.parse(base64url.decode(tokenParts[0])),payload:JSON.parse(base64url.decode(tokenParts[1])),signature:tokenParts[2]}}if("object"==typeof token){if("string"!=typeof token.payload)throw new Error("Expected token payload to be a base64 or json string");let payload=token.payload;"{"!==token.payload[0]&&(payload=base64url.decode(payload));const allHeaders=[];return token.header.map((headerValue=>{const header=JSON.parse(base64url.decode(headerValue));allHeaders.push(header)})),{header:allHeaders,payload:JSON.parse(payload),signature:token.signature}}}},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/ecdsaSigFormatter.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.joseToDer=exports.derToJose=void 0;const base64_js_1=__webpack_require__("./node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js"),base64Url_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/base64Url.js");function getParamSize(keySize){return(keySize/8|0)+(keySize%8==0?0:1)}const paramBytesForAlg={ES256:getParamSize(256),ES384:getParamSize(384),ES512:getParamSize(521)};function getParamBytesForAlg(alg){const paramBytes=paramBytesForAlg[alg];if(paramBytes)return paramBytes;throw new Error(`Unknown algorithm "${alg}"`)}const MAX_OCTET=128;function signatureAsBytes(signature){if(signature instanceof Uint8Array)return signature;if("string"==typeof signature)return(0,base64_js_1.toByteArray)((0,base64Url_1.pad)(signature));throw new TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function countPadding(buf,start,stop){let padding=0;for(;start+padding<stop&&0===buf[start+padding];)++padding;return buf[start+padding]>=MAX_OCTET&&--padding,padding}exports.derToJose=function derToJose(signature,alg){const signatureBytes=signatureAsBytes(signature),paramBytes=getParamBytesForAlg(alg),maxEncodedParamLength=paramBytes+1,inputLength=signatureBytes.length;let offset=0;if(48!==signatureBytes[offset++])throw new Error('Could not find expected "seq"');let seqLength=signatureBytes[offset++];if(seqLength===(1|MAX_OCTET)&&(seqLength=signatureBytes[offset++]),inputLength-offset<seqLength)throw new Error(`"seq" specified length of "${seqLength}", only "${inputLength-offset}" remaining`);if(2!==signatureBytes[offset++])throw new Error('Could not find expected "int" for "r"');const rLength=signatureBytes[offset++];if(inputLength-offset-2<rLength)throw new Error(`"r" specified length of "${rLength}", only "${inputLength-offset-2}" available`);if(maxEncodedParamLength<rLength)throw new Error(`"r" specified length of "${rLength}", max of "${maxEncodedParamLength}" is acceptable`);const rOffset=offset;if(offset+=rLength,2!==signatureBytes[offset++])throw new Error('Could not find expected "int" for "s"');const sLength=signatureBytes[offset++];if(inputLength-offset!==sLength)throw new Error(`"s" specified length of "${sLength}", expected "${inputLength-offset}"`);if(maxEncodedParamLength<sLength)throw new Error(`"s" specified length of "${sLength}", max of "${maxEncodedParamLength}" is acceptable`);const sOffset=offset;if(offset+=sLength,offset!==inputLength)throw new Error(`Expected to consume entire array, but "${inputLength-offset}" bytes remain`);const rPadding=paramBytes-rLength,sPadding=paramBytes-sLength,dst=new Uint8Array(rPadding+rLength+sPadding+sLength);for(offset=0;offset<rPadding;++offset)dst[offset]=0;dst.set(signatureBytes.subarray(rOffset+Math.max(-rPadding,0),rOffset+rLength),offset),offset=paramBytes;for(const o=offset;offset<o+sPadding;++offset)dst[offset]=0;return dst.set(signatureBytes.subarray(sOffset+Math.max(-sPadding,0),sOffset+sLength),offset),(0,base64Url_1.escape)((0,base64_js_1.fromByteArray)(dst))},exports.joseToDer=function joseToDer(signature,alg){signature=signatureAsBytes(signature);const paramBytes=getParamBytesForAlg(alg),signatureBytes=signature.length;if(signatureBytes!==2*paramBytes)throw new TypeError(`"${alg}" signatures must be "${2*paramBytes}" bytes, saw "${signatureBytes}"`);const rPadding=countPadding(signature,0,paramBytes),sPadding=countPadding(signature,paramBytes,signature.length),rLength=paramBytes-rPadding,sLength=paramBytes-sPadding,rsBytes=2+rLength+1+1+sLength,shortLength=rsBytes<MAX_OCTET,dst=new Uint8Array((shortLength?2:3)+rsBytes);let offset=0;return dst[offset++]=48,shortLength?dst[offset++]=rsBytes:(dst[offset++]=1|MAX_OCTET,dst[offset++]=255&rsBytes),dst[offset++]=2,dst[offset++]=rLength,rPadding<0?(dst[offset++]=0,dst.set(signature.subarray(0,paramBytes),offset),offset+=paramBytes):(dst.set(signature.subarray(rPadding,paramBytes),offset),offset+=paramBytes-rPadding),dst[offset++]=2,dst[offset++]=sLength,sPadding<0?(dst[offset++]=0,dst.set(signature.subarray(paramBytes),offset)):dst.set(signature.subarray(paramBytes+sPadding),offset),dst}},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/errors.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidTokenError=exports.MissingParametersError=void 0;class MissingParametersError extends Error{constructor(message){super(),this.name="MissingParametersError",this.message=message||""}}exports.MissingParametersError=MissingParametersError;class InvalidTokenError extends Error{constructor(message){super(),this.name="InvalidTokenError",this.message=message||""}}exports.InvalidTokenError=InvalidTokenError},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/index.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){void 0===k2&&(k2=k);var desc=Object.getOwnPropertyDescriptor(m,k);desc&&!("get"in desc?!m.__esModule:desc.writable||desc.configurable)||(desc={enumerable:!0,get:function(){return m[k]}}),Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){void 0===k2&&(k2=k),o[k2]=m[k]}),__exportStar=this&&this.__exportStar||function(m,exports){for(var p in m)"default"===p||Object.prototype.hasOwnProperty.call(exports,p)||__createBinding(exports,m,p)};Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/signer.js"),exports),__exportStar(__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/verifier.js"),exports),__exportStar(__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/decode.js"),exports),__exportStar(__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/errors.js"),exports),__exportStar(__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/index.js"),exports)},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/signer.js":function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TokenSigner=exports.createUnsecuredToken=void 0;const base64url=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/base64Url.js"),cryptoClients_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/index.js"),errors_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/errors.js"),sha256_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/sha256.js");function createSigningInput(payload,header){const tokenParts=[],encodedHeader=base64url.encode(JSON.stringify(header));tokenParts.push(encodedHeader);const encodedPayload=base64url.encode(JSON.stringify(payload));tokenParts.push(encodedPayload);return tokenParts.join(".")}exports.createUnsecuredToken=function createUnsecuredToken(payload){return createSigningInput(payload,{typ:"JWT",alg:"none"})+"."};exports.TokenSigner=class TokenSigner{constructor(signingAlgorithm,rawPrivateKey){if(!signingAlgorithm||!rawPrivateKey)throw new errors_1.MissingParametersError("a signing algorithm and private key are required");if("string"!=typeof signingAlgorithm)throw new Error("signing algorithm parameter must be a string");if(signingAlgorithm=signingAlgorithm.toUpperCase(),!cryptoClients_1.cryptoClients.hasOwnProperty(signingAlgorithm))throw new Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=cryptoClients_1.cryptoClients[signingAlgorithm],this.rawPrivateKey=rawPrivateKey}header(header={}){const defaultHeader={typ:this.tokenType,alg:this.cryptoClient.algorithmName};return Object.assign({},defaultHeader,header)}sign(payload,expanded=!1,customHeader={}){const header=this.header(customHeader),signingInput=createSigningInput(payload,header),signingInputHash=(0,sha256_1.hashSha256)(signingInput);return this.createWithSignedHash(payload,expanded,header,signingInput,signingInputHash)}signAsync(payload,expanded=!1,customHeader={}){return __awaiter(this,void 0,void 0,(function*(){const header=this.header(customHeader),signingInput=createSigningInput(payload,header),signingInputHash=yield(0,sha256_1.hashSha256Async)(signingInput);return this.createWithSignedHash(payload,expanded,header,signingInput,signingInputHash)}))}createWithSignedHash(payload,expanded,header,signingInput,signingInputHash){const signature=this.cryptoClient.signHash(signingInputHash,this.rawPrivateKey);if(expanded){return{header:[base64url.encode(JSON.stringify(header))],payload:JSON.stringify(payload),signature:[signature]}}return[signingInput,signature].join(".")}}},"./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/verifier.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TokenVerifier=void 0;const base64url=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/base64Url.js"),cryptoClients_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/index.js"),errors_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/errors.js"),sha256_1=__webpack_require__("./node_modules/.pnpm/jsontokens@4.0.1/node_modules/jsontokens/lib/cryptoClients/sha256.js");exports.TokenVerifier=class TokenVerifier{constructor(signingAlgorithm,rawPublicKey){if(!signingAlgorithm||!rawPublicKey)throw new errors_1.MissingParametersError("a signing algorithm and public key are required");if("string"!=typeof signingAlgorithm)throw"signing algorithm parameter must be a string";if(signingAlgorithm=signingAlgorithm.toUpperCase(),!cryptoClients_1.cryptoClients.hasOwnProperty(signingAlgorithm))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=cryptoClients_1.cryptoClients[signingAlgorithm],this.rawPublicKey=rawPublicKey}verify(token){return"string"==typeof token?this.verifyCompact(token,!1):"object"==typeof token&&this.verifyExpanded(token,!1)}verifyAsync(token){return"string"==typeof token?this.verifyCompact(token,!0):"object"==typeof token?this.verifyExpanded(token,!0):Promise.resolve(!1)}verifyCompact(token,async){const tokenParts=token.split("."),signingInput=tokenParts[0]+"."+tokenParts[1],performVerify=signingInputHash=>{const derSignatureBytes=this.cryptoClient.loadSignature(tokenParts[2]);return this.cryptoClient.verifyHash(signingInputHash,derSignatureBytes,this.rawPublicKey)};if(async)return(0,sha256_1.hashSha256Async)(signingInput).then((signingInputHash=>performVerify(signingInputHash)));{const signingInputHash=(0,sha256_1.hashSha256)(signingInput);return performVerify(signingInputHash)}}verifyExpanded(token,async){const signingInput=[token.header.join("."),base64url.encode(token.payload)].join(".");let verified=!0;const performVerify=signingInputHash=>(token.signature.map((signature=>{const derSignatureBytes=this.cryptoClient.loadSignature(signature);this.cryptoClient.verifyHash(signingInputHash,derSignatureBytes,this.rawPublicKey)||(verified=!1)})),verified);if(async)return(0,sha256_1.hashSha256Async)(signingInput).then((signingInputHash=>performVerify(signingInputHash)));{const signingInputHash=(0,sha256_1.hashSha256)(signingInput);return performVerify(signingInputHash)}}}},"./node_modules/.pnpm/lodash.clonedeep@4.5.0/node_modules/lodash.clonedeep/index.js":(module,exports,__webpack_require__)=>{module=__webpack_require__.nmd(module);var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",boolTag="[object Boolean]",dateTag="[object Date]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,cloneableTags={};cloneableTags[argsTag]=cloneableTags["[object Array]"]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags["[object Error]"]=cloneableTags[funcTag]=cloneableTags["[object WeakMap]"]=!1;var freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports;function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array?array.length:0;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function Stack(entries){this.__data__=new ListCache(entries)}function arrayLikeKeys(value,inherited){var result=isArray(value)||function isArguments(value){return function isArrayLikeObject(value){return function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&isArrayLike(value)}(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}(value)?function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function initCloneArray(array){var length=array.length,result=array.constructor(length);length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input);return result}(value),!isDeep)return function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));for(;++index<length;)array[index]=source[index];return array}(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}(getPrototype(object))}(isFunc?{}:value),!isDeep)return function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}(value,function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}(object,isDeep);case mapTag:return function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),!0):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),!0):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}(object,isDeep,cloneFunc);case symbolTag:return function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}(object)}}(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?function getAllKeys(object){return function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}(result,symbolsFunc(object))}(object,keys,getSymbols)}(value):keys(value);return function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&!1!==iteratee(array[index],index,array););return array}(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))})),result}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor).test(toSource(value))}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function copyObject(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue(object,key,void 0===newValue?source[key]:newValue)}return object}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function hashDelete(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){return this.__data__[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache},Stack.prototype.delete=function stackDelete(key){return this.__data__.delete(key)},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this};var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):function stubArray(){return[]},getTag=function baseGetTag(value){return objectToString.call(value)};function isIndex(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var isArray=Array.isArray;function isArrayLike(value){return null!=value&&function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}(value.length)&&!isFunction(value)}var isBuffer=nativeIsBuffer||function stubFalse(){return!1};function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}(object)}module.exports=function cloneDeep(value){return baseClone(value,!0,!0)}},"./node_modules/.pnpm/lodash.get@4.4.2/node_modules/lodash.get/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function assocIndexOf(array,key){for(var value,other,length=array.length;length--;)if((value=array[length][0])===(other=key)||value!=value&&other!=other)return length;return-1}function baseGet(object,path){path=function isKey(value,object){if(isArray(value))return!1;var type=typeof value;if("number"==type||"symbol"==type||"boolean"==type||null==value||isSymbol(value))return!0;return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}(path,object)?[path]:function castPath(value){return isArray(value)?value:stringToPath(value)}(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseIsNative(value){if(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))return!1;var pattern=function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}(value)||function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}(value)?reIsNative:reIsHostCtor;return pattern.test(function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}(value))}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function hashDelete(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){return this.__data__[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this};var stringToPath=memoize((function(string){string=function toString(value){return null==value?"":function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}(value)}(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,(function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)})),result}));function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache;var isArray=Array.isArray;function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&objectToString.call(value)==symbolTag}module.exports=function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},"./node_modules/.pnpm/md5.js@1.3.5/node_modules/md5.js/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),HashBase=__webpack_require__("./node_modules/.pnpm/hash-base@3.1.0/node_modules/hash-base/index.js"),Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,ARRAY16=new Array(16);function MD5(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function rotl(x,n){return x<<n|x>>>32-n}function fnF(a,b,c,d,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+b|0}function fnG(a,b,c,d,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+b|0}function fnH(a,b,c,d,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+b|0}function fnI(a,b,c,d,m,k,s){return rotl(a+(c^(b|~d))+m+k|0,s)+b|0}inherits(MD5,HashBase),MD5.prototype._update=function(){for(var M=ARRAY16,i=0;i<16;++i)M[i]=this._block.readInt32LE(4*i);var a=this._a,b=this._b,c=this._c,d=this._d;a=fnF(a,b,c,d,M[0],3614090360,7),d=fnF(d,a,b,c,M[1],3905402710,12),c=fnF(c,d,a,b,M[2],606105819,17),b=fnF(b,c,d,a,M[3],3250441966,22),a=fnF(a,b,c,d,M[4],4118548399,7),d=fnF(d,a,b,c,M[5],1200080426,12),c=fnF(c,d,a,b,M[6],2821735955,17),b=fnF(b,c,d,a,M[7],4249261313,22),a=fnF(a,b,c,d,M[8],1770035416,7),d=fnF(d,a,b,c,M[9],2336552879,12),c=fnF(c,d,a,b,M[10],4294925233,17),b=fnF(b,c,d,a,M[11],2304563134,22),a=fnF(a,b,c,d,M[12],1804603682,7),d=fnF(d,a,b,c,M[13],4254626195,12),c=fnF(c,d,a,b,M[14],2792965006,17),a=fnG(a,b=fnF(b,c,d,a,M[15],1236535329,22),c,d,M[1],4129170786,5),d=fnG(d,a,b,c,M[6],3225465664,9),c=fnG(c,d,a,b,M[11],643717713,14),b=fnG(b,c,d,a,M[0],3921069994,20),a=fnG(a,b,c,d,M[5],3593408605,5),d=fnG(d,a,b,c,M[10],38016083,9),c=fnG(c,d,a,b,M[15],3634488961,14),b=fnG(b,c,d,a,M[4],3889429448,20),a=fnG(a,b,c,d,M[9],568446438,5),d=fnG(d,a,b,c,M[14],3275163606,9),c=fnG(c,d,a,b,M[3],4107603335,14),b=fnG(b,c,d,a,M[8],1163531501,20),a=fnG(a,b,c,d,M[13],2850285829,5),d=fnG(d,a,b,c,M[2],4243563512,9),c=fnG(c,d,a,b,M[7],1735328473,14),a=fnH(a,b=fnG(b,c,d,a,M[12],2368359562,20),c,d,M[5],4294588738,4),d=fnH(d,a,b,c,M[8],2272392833,11),c=fnH(c,d,a,b,M[11],1839030562,16),b=fnH(b,c,d,a,M[14],4259657740,23),a=fnH(a,b,c,d,M[1],2763975236,4),d=fnH(d,a,b,c,M[4],1272893353,11),c=fnH(c,d,a,b,M[7],4139469664,16),b=fnH(b,c,d,a,M[10],3200236656,23),a=fnH(a,b,c,d,M[13],681279174,4),d=fnH(d,a,b,c,M[0],3936430074,11),c=fnH(c,d,a,b,M[3],3572445317,16),b=fnH(b,c,d,a,M[6],76029189,23),a=fnH(a,b,c,d,M[9],3654602809,4),d=fnH(d,a,b,c,M[12],3873151461,11),c=fnH(c,d,a,b,M[15],530742520,16),a=fnI(a,b=fnH(b,c,d,a,M[2],3299628645,23),c,d,M[0],4096336452,6),d=fnI(d,a,b,c,M[7],1126891415,10),c=fnI(c,d,a,b,M[14],2878612391,15),b=fnI(b,c,d,a,M[5],4237533241,21),a=fnI(a,b,c,d,M[12],1700485571,6),d=fnI(d,a,b,c,M[3],2399980690,10),c=fnI(c,d,a,b,M[10],4293915773,15),b=fnI(b,c,d,a,M[1],2240044497,21),a=fnI(a,b,c,d,M[8],1873313359,6),d=fnI(d,a,b,c,M[15],4264355552,10),c=fnI(c,d,a,b,M[6],2734768916,15),b=fnI(b,c,d,a,M[13],1309151649,21),a=fnI(a,b,c,d,M[4],4149444226,6),d=fnI(d,a,b,c,M[11],3174756917,10),c=fnI(c,d,a,b,M[2],718787259,15),b=fnI(b,c,d,a,M[9],3951481745,21),this._a=this._a+a|0,this._b=this._b+b|0,this._c=this._c+c|0,this._d=this._d+d|0},MD5.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var buffer=Buffer.allocUnsafe(16);return buffer.writeInt32LE(this._a,0),buffer.writeInt32LE(this._b,4),buffer.writeInt32LE(this._c,8),buffer.writeInt32LE(this._d,12),buffer},module.exports=MD5},"./node_modules/.pnpm/new-date@1.0.3/node_modules/new-date/lib/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var isodate=__webpack_require__("./node_modules/.pnpm/@segment+isodate@1.0.3/node_modules/@segment/isodate/lib/index.js"),milliseconds=__webpack_require__("./node_modules/.pnpm/new-date@1.0.3/node_modules/new-date/lib/milliseconds.js"),seconds=__webpack_require__("./node_modules/.pnpm/new-date@1.0.3/node_modules/new-date/lib/seconds.js"),toStr=Object.prototype.toString;module.exports=function newDate(val){return function isDate(value){return"[object Date]"===toStr.call(value)}(val)?val:function isNumber(value){return"[object Number]"===toStr.call(value)}(val)?new Date(function toMs(num){return num<315576e5?1e3*num:num}(val)):isodate.is(val)?isodate.parse(val):milliseconds.is(val)?milliseconds.parse(val):seconds.is(val)?seconds.parse(val):new Date(val)}},"./node_modules/.pnpm/new-date@1.0.3/node_modules/new-date/lib/milliseconds.js":(__unused_webpack_module,exports)=>{"use strict";var matcher=/\d{13}/;exports.is=function(string){return matcher.test(string)},exports.parse=function(millis){return millis=parseInt(millis,10),new Date(millis)}},"./node_modules/.pnpm/new-date@1.0.3/node_modules/new-date/lib/seconds.js":(__unused_webpack_module,exports)=>{"use strict";var matcher=/\d{10}/;exports.is=function(string){return matcher.test(string)},exports.parse=function(seconds){var millis=1e3*parseInt(seconds,10);return new Date(millis)}},"./node_modules/.pnpm/obj-case@0.2.1/node_modules/obj-case/index.js":module=>{function multiple(fn){return function(obj,path,val,options){var key,normalize=options&&function isFunction(val){return"function"==typeof val}(options.normalizer)?options.normalizer:defaultNormalize;path=normalize(path);for(var finished=!1;!finished;)loop();function loop(){for(key in obj){var normalizedKey=normalize(key);if(0===path.indexOf(normalizedKey)){var temp=path.substr(normalizedKey.length);if("."===temp.charAt(0)||0===temp.length){path=temp.substr(1);var child=obj[key];return null==child?void(finished=!0):path.length?void(obj=child):void(finished=!0)}}}key=void 0,finished=!0}if(key)return null==obj?obj:fn(obj,key,val)}}function del(obj,key){return obj.hasOwnProperty(key)&&delete obj[key],obj}function replace(obj,key,val){return obj.hasOwnProperty(key)&&(obj[key]=val),obj}function defaultNormalize(path){return path.replace(/[^a-zA-Z0-9\.]+/g,"").toLowerCase()}module.exports=multiple((function find(obj,key){if(obj.hasOwnProperty(key))return obj[key]})),module.exports.find=module.exports,module.exports.replace=function(obj,key,val,options){return multiple(replace).call(this,obj,key,val,options),obj},module.exports.del=function(obj,key,options){return multiple(del).call(this,obj,key,null,options),obj}},"./node_modules/.pnpm/os-browserify@0.3.0/node_modules/os-browserify/browser.js":(__unused_webpack_module,exports)=>{exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n",exports.homedir=function(){return"/"}},"./node_modules/.pnpm/path-browserify@1.0.1/node_modules/path-browserify/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");function assertPath(path){if("string"!=typeof path)throw new TypeError("Path must be a string. Received "+JSON.stringify(path))}function normalizeStringPosix(path,allowAboveRoot){for(var code,res="",lastSegmentLength=0,lastSlash=-1,dots=0,i=0;i<=path.length;++i){if(i<path.length)code=path.charCodeAt(i);else{if(47===code)break;code=47}if(47===code){if(lastSlash===i-1||1===dots);else if(lastSlash!==i-1&&2===dots){if(res.length<2||2!==lastSegmentLength||46!==res.charCodeAt(res.length-1)||46!==res.charCodeAt(res.length-2))if(res.length>2){var lastSlashIndex=res.lastIndexOf("/");if(lastSlashIndex!==res.length-1){-1===lastSlashIndex?(res="",lastSegmentLength=0):lastSegmentLength=(res=res.slice(0,lastSlashIndex)).length-1-res.lastIndexOf("/"),lastSlash=i,dots=0;continue}}else if(2===res.length||1===res.length){res="",lastSegmentLength=0,lastSlash=i,dots=0;continue}allowAboveRoot&&(res.length>0?res+="/..":res="..",lastSegmentLength=2)}else res.length>0?res+="/"+path.slice(lastSlash+1,i):res=path.slice(lastSlash+1,i),lastSegmentLength=i-lastSlash-1;lastSlash=i,dots=0}else 46===code&&-1!==dots?++dots:dots=-1}return res}var posix={resolve:function resolve(){for(var cwd,resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path;i>=0?path=arguments[i]:(void 0===cwd&&(cwd=process.cwd()),path=cwd),assertPath(path),0!==path.length&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute=47===path.charCodeAt(0))}return resolvedPath=normalizeStringPosix(resolvedPath,!resolvedAbsolute),resolvedAbsolute?resolvedPath.length>0?"/"+resolvedPath:"/":resolvedPath.length>0?resolvedPath:"."},normalize:function normalize(path){if(assertPath(path),0===path.length)return".";var isAbsolute=47===path.charCodeAt(0),trailingSeparator=47===path.charCodeAt(path.length-1);return 0!==(path=normalizeStringPosix(path,!isAbsolute)).length||isAbsolute||(path="."),path.length>0&&trailingSeparator&&(path+="/"),isAbsolute?"/"+path:path},isAbsolute:function isAbsolute(path){return assertPath(path),path.length>0&&47===path.charCodeAt(0)},join:function join(){if(0===arguments.length)return".";for(var joined,i=0;i<arguments.length;++i){var arg=arguments[i];assertPath(arg),arg.length>0&&(void 0===joined?joined=arg:joined+="/"+arg)}return void 0===joined?".":posix.normalize(joined)},relative:function relative(from,to){if(assertPath(from),assertPath(to),from===to)return"";if((from=posix.resolve(from))===(to=posix.resolve(to)))return"";for(var fromStart=1;fromStart<from.length&&47===from.charCodeAt(fromStart);++fromStart);for(var fromEnd=from.length,fromLen=fromEnd-fromStart,toStart=1;toStart<to.length&&47===to.charCodeAt(toStart);++toStart);for(var toLen=to.length-toStart,length=fromLen<toLen?fromLen:toLen,lastCommonSep=-1,i=0;i<=length;++i){if(i===length){if(toLen>length){if(47===to.charCodeAt(toStart+i))return to.slice(toStart+i+1);if(0===i)return to.slice(toStart+i)}else fromLen>length&&(47===from.charCodeAt(fromStart+i)?lastCommonSep=i:0===i&&(lastCommonSep=0));break}var fromCode=from.charCodeAt(fromStart+i);if(fromCode!==to.charCodeAt(toStart+i))break;47===fromCode&&(lastCommonSep=i)}var out="";for(i=fromStart+lastCommonSep+1;i<=fromEnd;++i)i!==fromEnd&&47!==from.charCodeAt(i)||(0===out.length?out+="..":out+="/..");return out.length>0?out+to.slice(toStart+lastCommonSep):(toStart+=lastCommonSep,47===to.charCodeAt(toStart)&&++toStart,to.slice(toStart))},_makeLong:function _makeLong(path){return path},dirname:function dirname(path){if(assertPath(path),0===path.length)return".";for(var code=path.charCodeAt(0),hasRoot=47===code,end=-1,matchedSlash=!0,i=path.length-1;i>=1;--i)if(47===(code=path.charCodeAt(i))){if(!matchedSlash){end=i;break}}else matchedSlash=!1;return-1===end?hasRoot?"/":".":hasRoot&&1===end?"//":path.slice(0,end)},basename:function basename(path,ext){if(void 0!==ext&&"string"!=typeof ext)throw new TypeError('"ext" argument must be a string');assertPath(path);var i,start=0,end=-1,matchedSlash=!0;if(void 0!==ext&&ext.length>0&&ext.length<=path.length){if(ext.length===path.length&&ext===path)return"";var extIdx=ext.length-1,firstNonSlashEnd=-1;for(i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47===code){if(!matchedSlash){start=i+1;break}}else-1===firstNonSlashEnd&&(matchedSlash=!1,firstNonSlashEnd=i+1),extIdx>=0&&(code===ext.charCodeAt(extIdx)?-1==--extIdx&&(end=i):(extIdx=-1,end=firstNonSlashEnd))}return start===end?end=firstNonSlashEnd:-1===end&&(end=path.length),path.slice(start,end)}for(i=path.length-1;i>=0;--i)if(47===path.charCodeAt(i)){if(!matchedSlash){start=i+1;break}}else-1===end&&(matchedSlash=!1,end=i+1);return-1===end?"":path.slice(start,end)},extname:function extname(path){assertPath(path);for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,preDotState=0,i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(47!==code)-1===end&&(matchedSlash=!1,end=i+1),46===code?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?"":path.slice(startDot,end)},format:function format(pathObject){if(null===pathObject||"object"!=typeof pathObject)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof pathObject);return function _format(sep,pathObject){var dir=pathObject.dir||pathObject.root,base=pathObject.base||(pathObject.name||"")+(pathObject.ext||"");return dir?dir===pathObject.root?dir+base:dir+sep+base:base}("/",pathObject)},parse:function parse(path){assertPath(path);var ret={root:"",dir:"",base:"",ext:"",name:""};if(0===path.length)return ret;var start,code=path.charCodeAt(0),isAbsolute=47===code;isAbsolute?(ret.root="/",start=1):start=0;for(var startDot=-1,startPart=0,end=-1,matchedSlash=!0,i=path.length-1,preDotState=0;i>=start;--i)if(47!==(code=path.charCodeAt(i)))-1===end&&(matchedSlash=!1,end=i+1),46===code?-1===startDot?startDot=i:1!==preDotState&&(preDotState=1):-1!==startDot&&(preDotState=-1);else if(!matchedSlash){startPart=i+1;break}return-1===startDot||-1===end||0===preDotState||1===preDotState&&startDot===end-1&&startDot===startPart+1?-1!==end&&(ret.base=ret.name=0===startPart&&isAbsolute?path.slice(1,end):path.slice(startPart,end)):(0===startPart&&isAbsolute?(ret.name=path.slice(1,startDot),ret.base=path.slice(1,end)):(ret.name=path.slice(startPart,startDot),ret.base=path.slice(startPart,end)),ret.ext=path.slice(startDot,end)),startPart>0?ret.dir=path.slice(0,startPart-1):isAbsolute&&(ret.dir="/"),ret},sep:"/",delimiter:":",win32:null,posix:null};posix.posix=posix,module.exports=posix},"./node_modules/.pnpm/pino@8.19.0/node_modules/pino/browser.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const format=__webpack_require__("./node_modules/.pnpm/quick-format-unescaped@4.0.4/node_modules/quick-format-unescaped/index.js");module.exports=pino;const _console=function pfGlobalThisOrFallback(){function defd(o){return void 0!==o&&o}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return defd(self)||defd(window)||defd(this)||{}}}().console||{},stdSerializers={mapHttpRequest:mock,mapHttpResponse:mock,wrapRequestSerializer:passthrough,wrapResponseSerializer:passthrough,wrapErrorSerializer:passthrough,req:mock,res:mock,err:asErrValue,errWithCause:asErrValue};function levelToValue(level,logger){return"silent"===level?1/0:logger.levels.values[level]}const baseLogFunctionSymbol=Symbol("pino.logFuncs"),hierarchySymbol=Symbol("pino.hierarchy"),logFallbackMap={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function appendChildLogger(parentLogger,childLogger){const newEntry={logger:childLogger,parent:parentLogger[hierarchySymbol]};childLogger[hierarchySymbol]=newEntry}function pino(opts){(opts=opts||{}).browser=opts.browser||{};const transmit=opts.browser.transmit;if(transmit&&"function"!=typeof transmit.send)throw Error("pino: transmit option must have a send function");const proto=opts.browser.write||_console;opts.browser.write&&(opts.browser.asObject=!0);const serializers=opts.serializers||{},serialize=function shouldSerialize(serialize,serializers){if(Array.isArray(serialize))return serialize.filter((function(k){return"!stdSerializers.err"!==k}));return!0===serialize&&Object.keys(serializers)}(opts.browser.serialize,serializers);let stdErrSerialize=opts.browser.serialize;Array.isArray(opts.browser.serialize)&&opts.browser.serialize.indexOf("!stdSerializers.err")>-1&&(stdErrSerialize=!1);const customLevels=Object.keys(opts.customLevels||{}),levels=["error","fatal","warn","info","debug","trace"].concat(customLevels);"function"==typeof proto&&levels.forEach((function(level){proto[level]=proto})),(!1===opts.enabled||opts.browser.disabled)&&(opts.level="silent");const level=opts.level||"info",logger=Object.create(proto);logger.log||(logger.log=noop),function setupBaseLogFunctions(logger,levels,proto){const logFunctions={};levels.forEach((level=>{logFunctions[level]=proto[level]?proto[level]:_console[level]||_console[logFallbackMap[level]||"log"]||noop})),logger[baseLogFunctionSymbol]=logFunctions}(logger,levels,proto),appendChildLogger({},logger),Object.defineProperty(logger,"levelVal",{get:function getLevelVal(){return levelToValue(this.level,this)}}),Object.defineProperty(logger,"level",{get:function getLevel(){return this._level},set:function setLevel(level){if("silent"!==level&&!this.levels.values[level])throw Error("unknown level "+level);this._level=level,set(this,setOpts,logger,"error"),set(this,setOpts,logger,"fatal"),set(this,setOpts,logger,"warn"),set(this,setOpts,logger,"info"),set(this,setOpts,logger,"debug"),set(this,setOpts,logger,"trace"),customLevels.forEach((level=>{set(this,setOpts,logger,level)}))}});const setOpts={transmit,serialize,asObject:opts.browser.asObject,formatters:opts.browser.formatters,levels,timestamp:getTimeFunction(opts)};return logger.levels=function getLevels(opts){const customLevels=opts.customLevels||{},values=Object.assign({},pino.levels.values,customLevels),labels=Object.assign({},pino.levels.labels,function invertObject(obj){const inverted={};return Object.keys(obj).forEach((function(key){inverted[obj[key]]=key})),inverted}(customLevels));return{values,labels}}(opts),logger.level=level,logger.setMaxListeners=logger.getMaxListeners=logger.emit=logger.addListener=logger.on=logger.prependListener=logger.once=logger.prependOnceListener=logger.removeListener=logger.removeAllListeners=logger.listeners=logger.listenerCount=logger.eventNames=logger.write=logger.flush=noop,logger.serializers=serializers,logger._serialize=serialize,logger._stdErrSerialize=stdErrSerialize,logger.child=function child(bindings,childOptions){if(!bindings)throw new Error("missing bindings for child Pino");childOptions=childOptions||{},serialize&&bindings.serializers&&(childOptions.serializers=bindings.serializers);const childOptionsSerializers=childOptions.serializers;if(serialize&&childOptionsSerializers){var childSerializers=Object.assign({},serializers,childOptionsSerializers),childSerialize=!0===opts.browser.serialize?Object.keys(childSerializers):serialize;delete bindings.serializers,applySerializers([bindings],childSerialize,childSerializers,this._stdErrSerialize)}function Child(parent){this._childLevel=1+(0|parent._childLevel),this.bindings=bindings,childSerializers&&(this.serializers=childSerializers,this._serialize=childSerialize),transmit&&(this._logEvent=createLogEventShape([].concat(parent._logEvent.bindings,bindings)))}Child.prototype=this;const newLogger=new Child(this);return appendChildLogger(this,newLogger),newLogger.level=this.level,newLogger},transmit&&(logger._logEvent=createLogEventShape()),logger}function set(self,opts,rootLogger,level){if(self[level]=levelToValue(self.level,rootLogger)>levelToValue(level,rootLogger)?noop:rootLogger[baseLogFunctionSymbol][level],!opts.transmit&&self[level]===noop)return;self[level]=function createWrap(self,opts,rootLogger,level){return write=self[baseLogFunctionSymbol][level],function LOG(){const ts=opts.timestamp(),args=new Array(arguments.length),proto=Object.getPrototypeOf&&Object.getPrototypeOf(this)===_console?_console:this;for(var i=0;i<args.length;i++)args[i]=arguments[i];if(opts.serialize&&!opts.asObject&&applySerializers(args,this._serialize,this.serializers,this._stdErrSerialize),opts.asObject||opts.formatters?write.call(proto,function asObject(logger,level,args,ts,formatters={}){const{level:levelFormatter=()=>logger.levels.values[level],log:logObjectFormatter=obj=>obj}=formatters;logger._serialize&&applySerializers(args,logger._serialize,logger.serializers,logger._stdErrSerialize);const argsCloned=args.slice();let msg=argsCloned[0];const logObject={};ts&&(logObject.time=ts),logObject.level=levelFormatter(level,logger.levels.values[level]);let lvl=1+(0|logger._childLevel);if(lvl<1&&(lvl=1),null!==msg&&"object"==typeof msg){for(;lvl--&&"object"==typeof argsCloned[0];)Object.assign(logObject,argsCloned.shift());msg=argsCloned.length?format(argsCloned.shift(),argsCloned):void 0}else"string"==typeof msg&&(msg=format(argsCloned.shift(),argsCloned));return void 0!==msg&&(logObject.msg=msg),logObjectFormatter(logObject)}(this,level,args,ts,opts.formatters)):write.apply(proto,args),opts.transmit){const transmitLevel=opts.transmit.level||self._level,transmitValue=rootLogger.levels.values[transmitLevel],methodValue=rootLogger.levels.values[level];if(methodValue<transmitValue)return;!function transmit(logger,opts,args){const send=opts.send,ts=opts.ts,methodLevel=opts.methodLevel,methodValue=opts.methodValue,val=opts.val,bindings=logger._logEvent.bindings;applySerializers(args,logger._serialize||Object.keys(logger.serializers),logger.serializers,void 0===logger._stdErrSerialize||logger._stdErrSerialize),logger._logEvent.ts=ts,logger._logEvent.messages=args.filter((function(arg){return-1===bindings.indexOf(arg)})),logger._logEvent.level.label=methodLevel,logger._logEvent.level.value=methodValue,send(methodLevel,logger._logEvent,val),logger._logEvent=createLogEventShape(bindings)}(this,{ts,methodLevel:level,methodValue,transmitLevel,transmitValue:rootLogger.levels.values[opts.transmit.level||self._level],send:opts.transmit.send,val:levelToValue(self._level,rootLogger)},args)}};var write}(self,opts,rootLogger,level);const bindings=function getBindingChain(logger){const bindings=[];logger.bindings&&bindings.push(logger.bindings);let hierarchy=logger[hierarchySymbol];for(;hierarchy.parent;)hierarchy=hierarchy.parent,hierarchy.logger.bindings&&bindings.push(hierarchy.logger.bindings);return bindings.reverse()}(self);0!==bindings.length&&(self[level]=function prependBindingsInArguments(bindings,logFunc){return function(){return logFunc.apply(this,[...bindings,...arguments])}}(bindings,self[level]))}function applySerializers(args,serialize,serializers,stdErrSerialize){for(const i in args)if(stdErrSerialize&&args[i]instanceof Error)args[i]=pino.stdSerializers.err(args[i]);else if("object"==typeof args[i]&&!Array.isArray(args[i]))for(const k in args[i])serialize&&serialize.indexOf(k)>-1&&k in serializers&&(args[i][k]=serializers[k](args[i][k]))}function createLogEventShape(bindings){return{ts:0,messages:[],bindings:bindings||[],level:{label:"",value:0}}}function asErrValue(err){const obj={type:err.constructor.name,msg:err.message,stack:err.stack};for(const key in err)void 0===obj[key]&&(obj[key]=err[key]);return obj}function getTimeFunction(opts){return"function"==typeof opts.timestamp?opts.timestamp:!1===opts.timestamp?nullTime:epochTime}function mock(){return{}}function passthrough(a){return a}function noop(){}function nullTime(){return!1}function epochTime(){return Date.now()}pino.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},pino.stdSerializers=stdSerializers,pino.stdTimeFunctions=Object.assign({},{nullTime,epochTime,unixTime:function unixTime(){return Math.round(Date.now()/1e3)},isoTime:function isoTime(){return new Date(Date.now()).toISOString()}}),module.exports.default=pino,module.exports.pino=pino},"./node_modules/.pnpm/property-expr@2.0.6/node_modules/property-expr/index.js":module=>{"use strict";function Cache(maxSize){this._maxSize=maxSize,this.clear()}Cache.prototype.clear=function(){this._size=0,this._values=Object.create(null)},Cache.prototype.get=function(key){return this._values[key]},Cache.prototype.set=function(key,value){return this._size>=this._maxSize&&this.clear(),key in this._values||this._size++,this._values[key]=value};var SPLIT_REGEX=/[^.^\]^[]+|(?=\[\]|\.\.)/g,DIGIT_REGEX=/^\d+$/,LEAD_DIGIT_REGEX=/^\d/,SPEC_CHAR_REGEX=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,CLEAN_QUOTES_REGEX=/^\s*(['"]?)(.*?)(\1)\s*$/,pathCache=new Cache(512),setCache=new Cache(512),getCache=new Cache(512);function normalizePath(path){return pathCache.get(path)||pathCache.set(path,split(path).map((function(part){return part.replace(CLEAN_QUOTES_REGEX,"$2")})))}function split(path){return path.match(SPLIT_REGEX)||[""]}function isQuoted(str){return"string"==typeof str&&str&&-1!==["'",'"'].indexOf(str.charAt(0))}function shouldBeQuoted(part){return!isQuoted(part)&&(function hasLeadingNumber(part){return part.match(LEAD_DIGIT_REGEX)&&!part.match(DIGIT_REGEX)}(part)||function hasSpecialChars(part){return SPEC_CHAR_REGEX.test(part)}(part))}module.exports={Cache,split,normalizePath,setter:function(path){var parts=normalizePath(path);return setCache.get(path)||setCache.set(path,(function setter(obj,value){for(var index=0,len=parts.length,data=obj;index<len-1;){var part=parts[index];if("__proto__"===part||"constructor"===part||"prototype"===part)return obj;data=data[parts[index++]]}data[parts[index]]=value}))},getter:function(path,safe){var parts=normalizePath(path);return getCache.get(path)||getCache.set(path,(function getter(data){for(var index=0,len=parts.length;index<len;){if(null==data&&safe)return;data=data[parts[index++]]}return data}))},join:function(segments){return segments.reduce((function(path,part){return path+(isQuoted(part)||DIGIT_REGEX.test(part)?"["+part+"]":(path?".":"")+part)}),"")},forEach:function(path,cb,thisArg){!function forEach(parts,iter,thisArg){var part,idx,isArray,isBracket,len=parts.length;for(idx=0;idx<len;idx++)(part=parts[idx])&&(shouldBeQuoted(part)&&(part='"'+part+'"'),isArray=!(isBracket=isQuoted(part))&&/^\d+$/.test(part),iter.call(thisArg,part,isBracket,isArray,idx,parts))}(Array.isArray(path)?path:split(path),cb,thisArg)}}},"./node_modules/.pnpm/punycode@2.3.1/node_modules/punycode/punycode.es6.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";Math.floor,String.fromCharCode},"./node_modules/.pnpm/quick-format-unescaped@4.0.4/node_modules/quick-format-unescaped/index.js":module=>{"use strict";function tryStringify(o){try{return JSON.stringify(o)}catch(e){return'"[Circular]"'}}module.exports=function format(f,args,opts){var ss=opts&&opts.stringify||tryStringify;if("object"==typeof f&&null!==f){var len=args.length+1;if(1===len)return f;var objects=new Array(len);objects[0]=ss(f);for(var index=1;index<len;index++)objects[index]=ss(args[index]);return objects.join(" ")}if("string"!=typeof f)return f;var argLen=args.length;if(0===argLen)return f;for(var str="",a=0,lastPos=-1,flen=f&&f.length||0,i=0;i<flen;){if(37===f.charCodeAt(i)&&i+1<flen){switch(lastPos=lastPos>-1?lastPos:0,f.charCodeAt(i+1)){case 100:case 102:if(a>=argLen)break;if(null==args[a])break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=Number(args[a]),lastPos=i+2,i++;break;case 105:if(a>=argLen)break;if(null==args[a])break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=Math.floor(Number(args[a])),lastPos=i+2,i++;break;case 79:case 111:case 106:if(a>=argLen)break;if(void 0===args[a])break;lastPos<i&&(str+=f.slice(lastPos,i));var type=typeof args[a];if("string"===type){str+="'"+args[a]+"'",lastPos=i+2,i++;break}if("function"===type){str+=args[a].name||"<anonymous>",lastPos=i+2,i++;break}str+=ss(args[a]),lastPos=i+2,i++;break;case 115:if(a>=argLen)break;lastPos<i&&(str+=f.slice(lastPos,i)),str+=String(args[a]),lastPos=i+2,i++;break;case 37:lastPos<i&&(str+=f.slice(lastPos,i)),str+="%",lastPos=i+2,i++,a--}++a}++i}if(-1===lastPos)return f;lastPos<flen&&(str+=f.slice(lastPos));return str}},"./node_modules/.pnpm/randombytes@2.1.0/node_modules/randombytes/browser.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");var Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,crypto=__webpack_require__.g.crypto||__webpack_require__.g.msCrypto;crypto&&crypto.getRandomValues?module.exports=function randomBytes(size,cb){if(size>4294967295)throw new RangeError("requested too many random bytes");var bytes=Buffer.allocUnsafe(size);if(size>0)if(size>65536)for(var generated=0;generated<size;generated+=65536)crypto.getRandomValues(bytes.slice(generated,generated+65536));else crypto.getRandomValues(bytes);if("function"==typeof cb)return process.nextTick((function(){cb(null,bytes)}));return bytes}:module.exports=function oldBrowser(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/errors-browser.js":module=>{"use strict";var codes={};function createErrorType(code,message,Base){Base||(Base=Error);var NodeError=function(_Base){function NodeError(arg1,arg2,arg3){return _Base.call(this,function getMessage(arg1,arg2,arg3){return"string"==typeof message?message:message(arg1,arg2,arg3)}(arg1,arg2,arg3))||this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}(NodeError,_Base),NodeError}(Base);NodeError.prototype.name=Base.name,NodeError.prototype.code=code,codes[code]=NodeError}function oneOf(expected,thing){if(Array.isArray(expected)){var len=expected.length;return expected=expected.map((function(i){return String(i)})),len>2?"one of ".concat(thing," ").concat(expected.slice(0,len-1).join(", "),", or ")+expected[len-1]:2===len?"one of ".concat(thing," ").concat(expected[0]," or ").concat(expected[1]):"of ".concat(thing," ").concat(expected[0])}return"of ".concat(thing," ").concat(String(expected))}createErrorType("ERR_INVALID_OPT_VALUE",(function(name,value){return'The value "'+value+'" is invalid for option "'+name+'"'}),TypeError),createErrorType("ERR_INVALID_ARG_TYPE",(function(name,expected,actual){var determiner,msg;if("string"==typeof expected&&function startsWith(str,search,pos){return str.substr(!pos||pos<0?0:+pos,search.length)===search}(expected,"not ")?(determiner="must not be",expected=expected.replace(/^not /,"")):determiner="must be",function endsWith(str,search,this_len){return(void 0===this_len||this_len>str.length)&&(this_len=str.length),str.substring(this_len-search.length,this_len)===search}(name," argument"))msg="The ".concat(name," ").concat(determiner," ").concat(oneOf(expected,"type"));else{var type=function includes(str,search,start){return"number"!=typeof start&&(start=0),!(start+search.length>str.length)&&-1!==str.indexOf(search,start)}(name,".")?"property":"argument";msg='The "'.concat(name,'" ').concat(type," ").concat(determiner," ").concat(oneOf(expected,"type"))}return msg+=". Received type ".concat(typeof actual)}),TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",(function(name){return"The "+name+" method is not implemented"})),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",(function(name){return"Cannot call "+name+" after a stream was destroyed"})),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",(function(arg){return"Unknown encoding: "+arg}),TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.F=codes},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_duplex.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js"),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var Readable=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js"),Writable=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js");__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),this.allowHalfOpen=!0,options&&(!1===options.readable&&(this.readable=!1),!1===options.writable&&(this.writable=!1),!1===options.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function get(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function get(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function get(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function set(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}})},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_passthrough.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=PassThrough;var Transform=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js");function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Duplex,process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");module.exports=Readable,Readable.ReadableState=ReadableState;__webpack_require__("./node_modules/.pnpm/events@3.3.0/node_modules/events/events.js").EventEmitter;var EElistenerCount=function EElistenerCount(emitter,type){return emitter.listeners(type).length},Stream=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/stream-browser.js"),Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,OurUint8Array=(void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var debug,debugUtil=__webpack_require__("?9bba");debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function debug(){};var StringDecoder,createReadableStreamAsyncIterator,from,BufferList=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/buffer_list.js"),destroyImpl=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/destroy.js"),getHighWaterMark=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/state.js").getHighWaterMark,_require$codes=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/errors-browser.js").F,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,stream,isDuplex){Duplex=Duplex||__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_duplex.js"),options=options||{},"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"readableHighWaterMark",isDuplex),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__("./node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js").I),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof Readable))return new Readable(options);var isDuplex=this instanceof Duplex;this._readableState=new ReadableState(options,this,isDuplex),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){debug("readableAddChunk",chunk);var er,state=stream._readableState;if(null===chunk)state.reading=!1,function onEofChunk(stream,state){if(debug("onEofChunk"),state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,state.sync?emitReadable(stream):(state.needReadable=!1,state.emittedReadable||(state.emittedReadable=!0,emitReadable_(stream)))}(stream,state);else if(skipChunkCheck||(er=function chunkInvalid(state,chunk){var er;(function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array})(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk));return er}(state,chunk)),er)errorOrDestroy(stream,er);else if(state.objectMode||chunk&&chunk.length>0)if("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}(chunk)),addToFront)state.endEmitted?errorOrDestroy(stream,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(stream,state,chunk,!0);else if(state.ended)errorOrDestroy(stream,new ERR_STREAM_PUSH_AFTER_EOF);else{if(state.destroyed)return!1;state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1)}else addToFront||(state.reading=!1,maybeReadMore(stream,state));return!state.ended&&(state.length<state.highWaterMark||0===state.length)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(state.awaitDrain=0,stream.emit("data",chunk)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._readableState&&this._readableState.destroyed},set:function set(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){StringDecoder||(StringDecoder=__webpack_require__("./node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js").I);var decoder=new StringDecoder(enc);this._readableState.decoder=decoder,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=decoder.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};var MAX_HWM=1073741824;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function computeNewHighWaterMark(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;debug("emitReadable",state.needReadable,state.emittedReadable),state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,process.nextTick(emitReadable_,stream))}function emitReadable_(stream){var state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended),state.destroyed||!state.length&&!state.ended||(stream.emit("readable"),state.emittedReadable=!1),state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark,flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,process.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(;!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&0===state.length);){var len=state.length;if(debug("maybeReadMore read 0"),stream.read(0),len===state.length)break}state.readingMore=!1}function updateReadableListening(self){var state=self._readableState;state.readableListening=self.listenerCount("readable")>0,state.resumeScheduled&&!state.paused?state.flowing=!0:self.listenerCount("data")>0&&self.resume()}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){debug("resume",state.reading),state.reading||stream.read(0),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.first():state.buffer.concat(state.length),state.buffer.clear()):ret=state.buffer.consume(n,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;debug("endReadable",state.endEmitted),state.endEmitted||(state.ended=!0,process.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){if(debug("endReadableNT",state.endEmitted,state.length),!state.endEmitted&&0===state.length&&(state.endEmitted=!0,stream.readable=!1,stream.emit("end"),state.autoDestroy)){var wState=stream._writableState;(!wState||wState.autoDestroy&&wState.finished)&&stream.destroy()}}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&((0!==state.highWaterMark?state.length>=state.highWaterMark:state.length>0)||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",doRead=!0),state.ended||state.reading?debug("reading or ended",doRead=!1):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=state.length<=state.highWaterMark,n=0):(state.length-=n,state.awaitDrain=0),0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED("_read()"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,function cleanup(){debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain()}())}function onend(){debug("onend"),dest.end()}state.endEmitted?process.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function pipeOnDrain(src){return function pipeOnDrainFunctionResult(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;function ondata(chunk){debug("ondata");var ret=dest.write(chunk);debug("dest.write",ret),!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",state.awaitDrain),state.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&errorOrDestroy(dest,er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function prependListener(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?Array.isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes||(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo)),this;if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,{hasUnpiped:!1});return this}var index=indexOf(state.pipes,dest);return-1===index||(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo)),this},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn),state=this._readableState;return"data"===ev?(state.readableListening=this.listenerCount("readable")>0,!1!==state.flowing&&this.resume()):"readable"===ev&&(state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.flowing=!1,state.emittedReadable=!1,debug("on readable",state.length,state.reading),state.length?emitReadable(this):state.reading||process.nextTick(nReadingNextTick,this))),res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(ev,fn){var res=Stream.prototype.removeListener.call(this,ev,fn);return"readable"===ev&&process.nextTick(updateReadableListening,this),res},Readable.prototype.removeAllListeners=function(ev){var res=Stream.prototype.removeAllListeners.apply(this,arguments);return"readable"!==ev&&void 0!==ev||process.nextTick(updateReadableListening,this),res},Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!state.readableListening,function resume(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process.nextTick(resume_,stream,state))}(this,state)),state.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on("end",(function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)})),stream.on("data",(function(chunk){(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),state.objectMode&&null==chunk)||(state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause()))})),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function methodWrap(method){return function methodWrapReturnFunction(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return void 0===createReadableStreamAsyncIterator&&(createReadableStreamAsyncIterator=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/async_iterator.js")),createReadableStreamAsyncIterator(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function get(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function get(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function get(){return this._readableState.flowing},set:function set(state){this._readableState&&(this._readableState.flowing=state)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function get(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(iterable,opts){return void 0===from&&(from=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/from-browser.js")),from(Readable,iterable,opts)})},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=Transform;var _require$codes=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/errors-browser.js").F,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_duplex.js");function afterTransform(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(null===cb)return this.emit("error",new ERR_MULTIPLE_CALLBACK);ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush((function(er,data){done(_this,er,data)}))}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null===ts.writechunk||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))},Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,(function(err2){cb(err2)}))}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Duplex,process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function onCorkedFinish(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree.next=corkReq}(_this,state)}}module.exports=Writable,Writable.WritableState=WritableState;var internalUtil={deprecate:__webpack_require__("./node_modules/.pnpm/util-deprecate@1.0.2/node_modules/util-deprecate/browser.js")},Stream=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/stream-browser.js"),Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,OurUint8Array=(void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var realHasInstance,destroyImpl=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/destroy.js"),getHighWaterMark=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/state.js").getHighWaterMark,_require$codes=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/errors-browser.js").F,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING,errorOrDestroy=destroyImpl.errorOrDestroy;function nop(){}function WritableState(options,stream,isDuplex){Duplex=Duplex||__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_duplex.js"),options=options||{},"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"writableHighWaterMark",isDuplex),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function onwrite(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if("function"!=typeof cb)throw new ERR_MULTIPLE_CALLBACK;if(function onwriteStateUpdate(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function onwriteError(stream,state,sync,er,cb){--state.pendingcb,sync?(process.nextTick(cb,er),process.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er)):(cb(er),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state)||stream.destroyed;finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?process.nextTick(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){var isDuplex=this instanceof(Duplex=Duplex||__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_duplex.js"));if(!isDuplex&&!realHasInstance.call(Writable,this))return new Writable(options);this._writableState=new WritableState(options,this,isDuplex),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,state.destroyed?state.onwrite(new ERR_STREAM_DESTROYED("write")):writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function onwriteDrain(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final((function(err){state.pendingcb--,err&&errorOrDestroy(stream,err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)}))}function finishMaybe(stream,state){var need=needFinish(state);if(need&&(function prefinish(stream,state){state.prefinished||state.finalCalled||("function"!=typeof stream._final||state.destroyed?(state.prefinished=!0,stream.emit("prefinish")):(state.pendingcb++,state.finalCalled=!0,process.nextTick(callFinal,stream,state)))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"),state.autoDestroy))){var rState=stream._readableState;(!rState||rState.autoDestroy&&rState.endEmitted)&&stream.destroy()}return need}__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js")(Writable,Stream),WritableState.prototype.getBuffer=function getBuffer(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate((function writableStateBufferGetter(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function value(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function realHasInstance(object){return object instanceof this},Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=!state.objectMode&&function _isUint8Array(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}(chunk);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function _uint8ArrayToBuffer(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ending?function writeAfterEnd(stream,cb){var er=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy(stream,er),process.nextTick(cb,er)}(this,cb):(isBuf||function validChunk(stream,state,chunk,cb){var er;return null===chunk?er=new ERR_STREAM_NULL_VALUES:"string"==typeof chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],chunk)),!er||(errorOrDestroy(stream,er),process.nextTick(cb,er),!1)}(this,state,chunk,cb))&&(state.pendingcb++,ret=function writeOrBuffer(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function decodeChunk(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk,encoding,isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function setDefaultEncoding(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function get(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function get(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;return"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!=chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||function endWritable(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process.nextTick(cb):stream.once("finish",cb));state.ended=!0,stream.writable=!1}(this,state,cb),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function get(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function get(){return void 0!==this._writableState&&this._writableState.destroyed},set:function set(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){cb(err)}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/async_iterator.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var _Object$setPrototypeO,process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");function _defineProperty(obj,key,value){return(key=function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var finished=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"),kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(value,done){return{value,done}}function readAndResolve(iter){var resolve=iter[kLastResolve];if(null!==resolve){var data=iter[kStream].read();null!==data&&(iter[kLastPromise]=null,iter[kLastResolve]=null,iter[kLastReject]=null,resolve(createIterResult(data,!1)))}}function onReadable(iter){process.nextTick(readAndResolve,iter)}var AsyncIteratorPrototype=Object.getPrototypeOf((function(){})),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_defineProperty(_Object$setPrototypeO={get stream(){return this[kStream]},next:function next(){var _this=this,error=this[kError];if(null!==error)return Promise.reject(error);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise((function(resolve,reject){process.nextTick((function(){_this[kError]?reject(_this[kError]):resolve(createIterResult(void 0,!0))}))}));var promise,lastPromise=this[kLastPromise];if(lastPromise)promise=new Promise(function wrapForNext(lastPromise,iter){return function(resolve,reject){lastPromise.then((function(){iter[kEnded]?resolve(createIterResult(void 0,!0)):iter[kHandlePromise](resolve,reject)}),reject)}}(lastPromise,this));else{var data=this[kStream].read();if(null!==data)return Promise.resolve(createIterResult(data,!1));promise=new Promise(this[kHandlePromise])}return this[kLastPromise]=promise,promise}},Symbol.asyncIterator,(function(){return this})),_defineProperty(_Object$setPrototypeO,"return",(function _return(){var _this2=this;return new Promise((function(resolve,reject){_this2[kStream].destroy(null,(function(err){err?reject(err):resolve(createIterResult(void 0,!0))}))}))})),_Object$setPrototypeO),AsyncIteratorPrototype);module.exports=function createReadableStreamAsyncIterator(stream){var _Object$create,iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_defineProperty(_Object$create={},kStream,{value:stream,writable:!0}),_defineProperty(_Object$create,kLastResolve,{value:null,writable:!0}),_defineProperty(_Object$create,kLastReject,{value:null,writable:!0}),_defineProperty(_Object$create,kError,{value:null,writable:!0}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:!0}),_defineProperty(_Object$create,kHandlePromise,{value:function value(resolve,reject){var data=iterator[kStream].read();data?(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(data,!1))):(iterator[kLastResolve]=resolve,iterator[kLastReject]=reject)},writable:!0}),_Object$create));return iterator[kLastPromise]=null,finished(stream,(function(err){if(err&&"ERR_STREAM_PREMATURE_CLOSE"!==err.code){var reject=iterator[kLastReject];return null!==reject&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,reject(err)),void(iterator[kError]=err)}var resolve=iterator[kLastResolve];null!==resolve&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(void 0,!0))),iterator[kEnded]=!0})),stream.on("readable",onReadable.bind(null,iterator)),iterator}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/buffer_list.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}function _toPropertyKey(arg){var key=function _toPrimitive(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,inspect=__webpack_require__("?b231").inspect,custom=inspect&&inspect.custom||"inspect";module.exports=function(){function BufferList(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}(BufferList,[{key:"push",value:function push(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length}},{key:"unshift",value:function unshift(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length}},{key:"shift",value:function shift(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}}},{key:"clear",value:function clear(){this.head=this.tail=null,this.length=0}},{key:"join",value:function join(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret}},{key:"concat",value:function concat(n){if(0===this.length)return Buffer.alloc(0);for(var src,target,offset,ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)src=p.data,target=ret,offset=i,Buffer.prototype.copy.call(src,target,offset),i+=p.data.length,p=p.next;return ret}},{key:"consume",value:function consume(n,hasStrings){var ret;return n<this.head.data.length?(ret=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):ret=n===this.head.data.length?this.shift():hasStrings?this._getString(n):this._getBuffer(n),ret}},{key:"first",value:function first(){return this.head.data}},{key:"_getString",value:function _getString(n){var p=this.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=str.slice(nb));break}++c}return this.length-=c,ret}},{key:"_getBuffer",value:function _getBuffer(n){var ret=Buffer.allocUnsafe(n),p=this.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=buf.slice(nb));break}++c}return this.length-=c,ret}},{key:custom,value:function value(_,options){return inspect(this,_objectSpread(_objectSpread({},options),{},{depth:0,customInspect:!1}))}}]),BufferList}()},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/destroy.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");function emitErrorAndCloseNT(self,err){emitErrorNT(self,err),emitCloseNT(self)}function emitCloseNT(self){self._writableState&&!self._writableState.emitClose||self._readableState&&!self._readableState.emitClose||self.emit("close")}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:function destroy(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):err&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,err)):process.nextTick(emitErrorNT,this,err)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,(function(err){!cb&&err?_this._writableState?_this._writableState.errorEmitted?process.nextTick(emitCloseNT,_this):(_this._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,_this,err)):process.nextTick(emitErrorAndCloseNT,_this,err):cb?(process.nextTick(emitCloseNT,_this),cb(err)):process.nextTick(emitCloseNT,_this)})),this)},undestroy:function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function errorOrDestroy(stream,err){var rState=stream._readableState,wState=stream._writableState;rState&&rState.autoDestroy||wState&&wState.autoDestroy?stream.destroy(err):stream.emit("error",err)}}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/end-of-stream.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ERR_STREAM_PREMATURE_CLOSE=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/errors-browser.js").F.ERR_STREAM_PREMATURE_CLOSE;function noop(){}module.exports=function eos(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=function once(callback){var called=!1;return function(){if(!called){called=!0;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];callback.apply(this,args)}}}(callback||noop);var readable=opts.readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable,onlegacyfinish=function onlegacyfinish(){stream.writable||onfinish()},writableEnded=stream._writableState&&stream._writableState.finished,onfinish=function onfinish(){writable=!1,writableEnded=!0,readable||callback.call(stream)},readableEnded=stream._readableState&&stream._readableState.endEmitted,onend=function onend(){readable=!1,readableEnded=!0,writable||callback.call(stream)},onerror=function onerror(err){callback.call(stream,err)},onclose=function onclose(){var err;return readable&&!readableEnded?(stream._readableState&&stream._readableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):writable&&!writableEnded?(stream._writableState&&stream._writableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):void 0},onrequest=function onrequest(){stream.req.on("finish",onfinish)};return!function isRequest(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?writable&&!stream._writableState&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)):(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",onerror),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/from-browser.js":module=>{module.exports=function(){throw new Error("Readable.from is not available in the browser")}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/pipeline.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var eos;var _require$codes=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/errors-browser.js").F,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(err){if(err)throw err}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}module.exports=function pipeline(){for(var _len=arguments.length,streams=new Array(_len),_key=0;_key<_len;_key++)streams[_key]=arguments[_key];var error,callback=function popCallback(streams){return streams.length?"function"!=typeof streams[streams.length-1]?noop:streams.pop():noop}(streams);if(Array.isArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new ERR_MISSING_ARGS("streams");var destroys=streams.map((function(stream,i){var reading=i<streams.length-1;return function destroyer(stream,reading,writing,callback){callback=function once(callback){var called=!1;return function(){called||(called=!0,callback.apply(void 0,arguments))}}(callback);var closed=!1;stream.on("close",(function(){closed=!0})),void 0===eos&&(eos=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/end-of-stream.js")),eos(stream,{readable:reading,writable:writing},(function(err){if(err)return callback(err);closed=!0,callback()}));var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,function isRequest(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?stream.abort():"function"==typeof stream.destroy?stream.destroy():void callback(err||new ERR_STREAM_DESTROYED("pipe"))}}(stream,reading,i>0,(function(err){error||(error=err),err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))}))}));return streams.reduce(pipe)}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/state.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var ERR_INVALID_OPT_VALUE=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/errors-browser.js").F.ERR_INVALID_OPT_VALUE;module.exports={getHighWaterMark:function getHighWaterMark(state,options,duplexKey,isDuplex){var hwm=function highWaterMarkFrom(options,isDuplex,duplexKey){return null!=options.highWaterMark?options.highWaterMark:isDuplex?options[duplexKey]:null}(options,isDuplex,duplexKey);if(null!=hwm){if(!isFinite(hwm)||Math.floor(hwm)!==hwm||hwm<0)throw new ERR_INVALID_OPT_VALUE(isDuplex?duplexKey:"highWaterMark",hwm);return Math.floor(hwm)}return state.objectMode?16:16384}}},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/stream-browser.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/.pnpm/events@3.3.0/node_modules/events/events.js").EventEmitter},"./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/readable-browser.js":(module,exports,__webpack_require__)=>{(exports=module.exports=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_readable.js")).Stream=exports,exports.Readable=exports,exports.Writable=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_writable.js"),exports.Duplex=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_duplex.js"),exports.Transform=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_transform.js"),exports.PassThrough=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/_stream_passthrough.js"),exports.finished=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"),exports.pipeline=__webpack_require__("./node_modules/.pnpm/readable-stream@3.6.2/node_modules/readable-stream/lib/internal/streams/pipeline.js")},"./node_modules/.pnpm/ripemd160@2.0.2/node_modules/ripemd160/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),HashBase=__webpack_require__("./node_modules/.pnpm/hash-base@3.1.0/node_modules/hash-base/index.js"),ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function rotl(x,n){return x<<n|x>>>32-n}function fn1(a,b,c,d,e,m,k,s){return rotl(a+(b^c^d)+m+k|0,s)+e|0}function fn2(a,b,c,d,e,m,k,s){return rotl(a+(b&c|~b&d)+m+k|0,s)+e|0}function fn3(a,b,c,d,e,m,k,s){return rotl(a+((b|~c)^d)+m+k|0,s)+e|0}function fn4(a,b,c,d,e,m,k,s){return rotl(a+(b&d|c&~d)+m+k|0,s)+e|0}function fn5(a,b,c,d,e,m,k,s){return rotl(a+(b^(c|~d))+m+k|0,s)+e|0}inherits(RIPEMD160,HashBase),RIPEMD160.prototype._update=function(){for(var words=ARRAY16,j=0;j<16;++j)words[j]=this._block.readInt32LE(4*j);for(var al=0|this._a,bl=0|this._b,cl=0|this._c,dl=0|this._d,el=0|this._e,ar=0|this._a,br=0|this._b,cr=0|this._c,dr=0|this._d,er=0|this._e,i=0;i<80;i+=1){var tl,tr;i<16?(tl=fn1(al,bl,cl,dl,el,words[zl[i]],hl[0],sl[i]),tr=fn5(ar,br,cr,dr,er,words[zr[i]],hr[0],sr[i])):i<32?(tl=fn2(al,bl,cl,dl,el,words[zl[i]],hl[1],sl[i]),tr=fn4(ar,br,cr,dr,er,words[zr[i]],hr[1],sr[i])):i<48?(tl=fn3(al,bl,cl,dl,el,words[zl[i]],hl[2],sl[i]),tr=fn3(ar,br,cr,dr,er,words[zr[i]],hr[2],sr[i])):i<64?(tl=fn4(al,bl,cl,dl,el,words[zl[i]],hl[3],sl[i]),tr=fn2(ar,br,cr,dr,er,words[zr[i]],hr[3],sr[i])):(tl=fn5(al,bl,cl,dl,el,words[zl[i]],hl[4],sl[i]),tr=fn1(ar,br,cr,dr,er,words[zr[i]],hr[4],sr[i])),al=el,el=dl,dl=rotl(cl,10),cl=bl,bl=tl,ar=er,er=dr,dr=rotl(cr,10),cr=br,br=tr}var t=this._b+cl+dr|0;this._b=this._c+dl+er|0,this._c=this._d+el+ar|0,this._d=this._e+al+br|0,this._e=this._a+bl+cr|0,this._a=t},RIPEMD160.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var buffer=Buffer.alloc?Buffer.alloc(20):new Buffer(20);return buffer.writeInt32LE(this._a,0),buffer.writeInt32LE(this._b,4),buffer.writeInt32LE(this._c,8),buffer.writeInt32LE(this._d,12),buffer.writeInt32LE(this._e,16),buffer},module.exports=RIPEMD160},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Observable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>Observable});var Subscriber=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subscriber.js"),Subscription=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subscription.js"),observable=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/symbol/observable.js");function identity(x){return x}function pipeFromArray(fns){return 0===fns.length?identity:1===fns.length?fns[0]:function piped(input){return fns.reduce((function(prev,fn){return fn(prev)}),input)}}var config=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/config.js"),isFunction=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),errorContext=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/errorContext.js"),Observable=function(){function Observable(subscribe){subscribe&&(this._subscribe=subscribe)}return Observable.prototype.lift=function(operator){var observable=new Observable;return observable.source=this,observable.operator=operator,observable},Observable.prototype.subscribe=function(observerOrNext,error,complete){var _this=this,subscriber=function isSubscriber(value){return value&&value instanceof Subscriber.vU||function isObserver(value){return value&&(0,isFunction.T)(value.next)&&(0,isFunction.T)(value.error)&&(0,isFunction.T)(value.complete)}(value)&&(0,Subscription.Uv)(value)}(observerOrNext)?observerOrNext:new Subscriber.Ms(observerOrNext,error,complete);return(0,errorContext.Y)((function(){var _a=_this,operator=_a.operator,source=_a.source;subscriber.add(operator?operator.call(subscriber,source):source?_this._subscribe(subscriber):_this._trySubscribe(subscriber))})),subscriber},Observable.prototype._trySubscribe=function(sink){try{return this._subscribe(sink)}catch(err){sink.error(err)}},Observable.prototype.forEach=function(next,promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))((function(resolve,reject){var subscriber=new Subscriber.Ms({next:function(value){try{next(value)}catch(err){reject(err),subscriber.unsubscribe()}},error:reject,complete:resolve});_this.subscribe(subscriber)}))},Observable.prototype._subscribe=function(subscriber){var _a;return null===(_a=this.source)||void 0===_a?void 0:_a.subscribe(subscriber)},Observable.prototype[observable.s]=function(){return this},Observable.prototype.pipe=function(){for(var operations=[],_i=0;_i<arguments.length;_i++)operations[_i]=arguments[_i];return pipeFromArray(operations)(this)},Observable.prototype.toPromise=function(promiseCtor){var _this=this;return new(promiseCtor=getPromiseCtor(promiseCtor))((function(resolve,reject){var value;_this.subscribe((function(x){return value=x}),(function(err){return reject(err)}),(function(){return resolve(value)}))}))},Observable.create=function(subscribe){return new Observable(subscribe)},Observable}();function getPromiseCtor(promiseCtor){var _a;return null!==(_a=null!=promiseCtor?promiseCtor:config.$.Promise)&&void 0!==_a?_a:Promise}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>Subject});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),Observable=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Observable.js"),Subscription=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subscription.js"),ObjectUnsubscribedError=(0,__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js").L)((function(_super){return function ObjectUnsubscribedErrorImpl(){_super(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),arrRemove=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/arrRemove.js"),errorContext=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/errorContext.js"),Subject=function(_super){function Subject(){var _this=_super.call(this)||this;return _this.closed=!1,_this.currentObservers=null,_this.observers=[],_this.isStopped=!1,_this.hasError=!1,_this.thrownError=null,_this}return(0,tslib_es6.C6)(Subject,_super),Subject.prototype.lift=function(operator){var subject=new AnonymousSubject(this,this);return subject.operator=operator,subject},Subject.prototype._throwIfClosed=function(){if(this.closed)throw new ObjectUnsubscribedError},Subject.prototype.next=function(value){var _this=this;(0,errorContext.Y)((function(){var e_1,_a;if(_this._throwIfClosed(),!_this.isStopped){_this.currentObservers||(_this.currentObservers=Array.from(_this.observers));try{for(var _b=(0,tslib_es6.Ju)(_this.currentObservers),_c=_b.next();!_c.done;_c=_b.next()){_c.value.next(value)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_1)throw e_1.error}}}}))},Subject.prototype.error=function(err){var _this=this;(0,errorContext.Y)((function(){if(_this._throwIfClosed(),!_this.isStopped){_this.hasError=_this.isStopped=!0,_this.thrownError=err;for(var observers=_this.observers;observers.length;)observers.shift().error(err)}}))},Subject.prototype.complete=function(){var _this=this;(0,errorContext.Y)((function(){if(_this._throwIfClosed(),!_this.isStopped){_this.isStopped=!0;for(var observers=_this.observers;observers.length;)observers.shift().complete()}}))},Subject.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(Subject.prototype,"observed",{get:function(){var _a;return(null===(_a=this.observers)||void 0===_a?void 0:_a.length)>0},enumerable:!1,configurable:!0}),Subject.prototype._trySubscribe=function(subscriber){return this._throwIfClosed(),_super.prototype._trySubscribe.call(this,subscriber)},Subject.prototype._subscribe=function(subscriber){return this._throwIfClosed(),this._checkFinalizedStatuses(subscriber),this._innerSubscribe(subscriber)},Subject.prototype._innerSubscribe=function(subscriber){var _this=this,hasError=this.hasError,isStopped=this.isStopped,observers=this.observers;return hasError||isStopped?Subscription.Kn:(this.currentObservers=null,observers.push(subscriber),new Subscription.yU((function(){_this.currentObservers=null,(0,arrRemove.o)(observers,subscriber)})))},Subject.prototype._checkFinalizedStatuses=function(subscriber){var hasError=this.hasError,thrownError=this.thrownError,isStopped=this.isStopped;hasError?subscriber.error(thrownError):isStopped&&subscriber.complete()},Subject.prototype.asObservable=function(){var observable=new Observable.c;return observable.source=this,observable},Subject.create=function(destination,source){return new AnonymousSubject(destination,source)},Subject}(Observable.c),AnonymousSubject=function(_super){function AnonymousSubject(destination,source){var _this=_super.call(this)||this;return _this.destination=destination,_this.source=source,_this}return(0,tslib_es6.C6)(AnonymousSubject,_super),AnonymousSubject.prototype.next=function(value){var _a,_b;null===(_b=null===(_a=this.destination)||void 0===_a?void 0:_a.next)||void 0===_b||_b.call(_a,value)},AnonymousSubject.prototype.error=function(err){var _a,_b;null===(_b=null===(_a=this.destination)||void 0===_a?void 0:_a.error)||void 0===_b||_b.call(_a,err)},AnonymousSubject.prototype.complete=function(){var _a,_b;null===(_b=null===(_a=this.destination)||void 0===_a?void 0:_a.complete)||void 0===_b||_b.call(_a)},AnonymousSubject.prototype._subscribe=function(subscriber){var _a,_b;return null!==(_b=null===(_a=this.source)||void 0===_a?void 0:_a.subscribe(subscriber))&&void 0!==_b?_b:Subscription.Kn},AnonymousSubject}(Subject)},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subscriber.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ms:()=>SafeSubscriber,vU:()=>Subscriber});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),isFunction=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),Subscription=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subscription.js"),config=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/config.js"),reportUnhandledError=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js");function noop(){}var COMPLETE_NOTIFICATION=createNotification("C",void 0,void 0);function createNotification(kind,value,error){return{kind,value,error}}var timeoutProvider=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js"),errorContext=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/errorContext.js"),Subscriber=function(_super){function Subscriber(destination){var _this=_super.call(this)||this;return _this.isStopped=!1,destination?(_this.destination=destination,(0,Subscription.Uv)(destination)&&destination.add(_this)):_this.destination=EMPTY_OBSERVER,_this}return(0,tslib_es6.C6)(Subscriber,_super),Subscriber.create=function(next,error,complete){return new SafeSubscriber(next,error,complete)},Subscriber.prototype.next=function(value){this.isStopped?handleStoppedNotification(function nextNotification(value){return createNotification("N",value,void 0)}(value),this):this._next(value)},Subscriber.prototype.error=function(err){this.isStopped?handleStoppedNotification(function errorNotification(error){return createNotification("E",void 0,error)}(err),this):(this.isStopped=!0,this._error(err))},Subscriber.prototype.complete=function(){this.isStopped?handleStoppedNotification(COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_super.prototype.unsubscribe.call(this),this.destination=null)},Subscriber.prototype._next=function(value){this.destination.next(value)},Subscriber.prototype._error=function(err){try{this.destination.error(err)}finally{this.unsubscribe()}},Subscriber.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Subscriber}(Subscription.yU),_bind=Function.prototype.bind;function bind(fn,thisArg){return _bind.call(fn,thisArg)}var ConsumerObserver=function(){function ConsumerObserver(partialObserver){this.partialObserver=partialObserver}return ConsumerObserver.prototype.next=function(value){var partialObserver=this.partialObserver;if(partialObserver.next)try{partialObserver.next(value)}catch(error){handleUnhandledError(error)}},ConsumerObserver.prototype.error=function(err){var partialObserver=this.partialObserver;if(partialObserver.error)try{partialObserver.error(err)}catch(error){handleUnhandledError(error)}else handleUnhandledError(err)},ConsumerObserver.prototype.complete=function(){var partialObserver=this.partialObserver;if(partialObserver.complete)try{partialObserver.complete()}catch(error){handleUnhandledError(error)}},ConsumerObserver}(),SafeSubscriber=function(_super){function SafeSubscriber(observerOrNext,error,complete){var partialObserver,context_1,_this=_super.call(this)||this;(0,isFunction.T)(observerOrNext)||!observerOrNext?partialObserver={next:null!=observerOrNext?observerOrNext:void 0,error:null!=error?error:void 0,complete:null!=complete?complete:void 0}:_this&&config.$.useDeprecatedNextContext?((context_1=Object.create(observerOrNext)).unsubscribe=function(){return _this.unsubscribe()},partialObserver={next:observerOrNext.next&&bind(observerOrNext.next,context_1),error:observerOrNext.error&&bind(observerOrNext.error,context_1),complete:observerOrNext.complete&&bind(observerOrNext.complete,context_1)}):partialObserver=observerOrNext;return _this.destination=new ConsumerObserver(partialObserver),_this}return(0,tslib_es6.C6)(SafeSubscriber,_super),SafeSubscriber}(Subscriber);function handleUnhandledError(error){config.$.useDeprecatedSynchronousErrorHandling?(0,errorContext.l)(error):(0,reportUnhandledError.m)(error)}function handleStoppedNotification(notification,subscriber){var onStoppedNotification=config.$.onStoppedNotification;onStoppedNotification&&timeoutProvider.f.setTimeout((function(){return onStoppedNotification(notification,subscriber)}))}var EMPTY_OBSERVER={closed:!0,next:noop,error:function defaultErrorHandler(err){throw err},complete:noop}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subscription.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Kn:()=>EMPTY_SUBSCRIPTION,yU:()=>Subscription,Uv:()=>isSubscription});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),isFunction=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/isFunction.js"),UnsubscriptionError=(0,__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js").L)((function(_super){return function UnsubscriptionErrorImpl(errors){_super(this),this.message=errors?errors.length+" errors occurred during unsubscription:\n"+errors.map((function(err,i){return i+1+") "+err.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=errors}})),arrRemove=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/arrRemove.js"),Subscription=function(){function Subscription(initialTeardown){this.initialTeardown=initialTeardown,this.closed=!1,this._parentage=null,this._finalizers=null}var empty;return Subscription.prototype.unsubscribe=function(){var e_1,_a,e_2,_b,errors;if(!this.closed){this.closed=!0;var _parentage=this._parentage;if(_parentage)if(this._parentage=null,Array.isArray(_parentage))try{for(var _parentage_1=(0,tslib_es6.Ju)(_parentage),_parentage_1_1=_parentage_1.next();!_parentage_1_1.done;_parentage_1_1=_parentage_1.next()){_parentage_1_1.value.remove(this)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{_parentage_1_1&&!_parentage_1_1.done&&(_a=_parentage_1.return)&&_a.call(_parentage_1)}finally{if(e_1)throw e_1.error}}else _parentage.remove(this);var initialFinalizer=this.initialTeardown;if((0,isFunction.T)(initialFinalizer))try{initialFinalizer()}catch(e){errors=e instanceof UnsubscriptionError?e.errors:[e]}var _finalizers=this._finalizers;if(_finalizers){this._finalizers=null;try{for(var _finalizers_1=(0,tslib_es6.Ju)(_finalizers),_finalizers_1_1=_finalizers_1.next();!_finalizers_1_1.done;_finalizers_1_1=_finalizers_1.next()){var finalizer=_finalizers_1_1.value;try{execFinalizer(finalizer)}catch(err){errors=null!=errors?errors:[],err instanceof UnsubscriptionError?errors=(0,tslib_es6.fX)((0,tslib_es6.fX)([],(0,tslib_es6.zs)(errors)),(0,tslib_es6.zs)(err.errors)):errors.push(err)}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_finalizers_1_1&&!_finalizers_1_1.done&&(_b=_finalizers_1.return)&&_b.call(_finalizers_1)}finally{if(e_2)throw e_2.error}}}if(errors)throw new UnsubscriptionError(errors)}},Subscription.prototype.add=function(teardown){var _a;if(teardown&&teardown!==this)if(this.closed)execFinalizer(teardown);else{if(teardown instanceof Subscription){if(teardown.closed||teardown._hasParent(this))return;teardown._addParent(this)}(this._finalizers=null!==(_a=this._finalizers)&&void 0!==_a?_a:[]).push(teardown)}},Subscription.prototype._hasParent=function(parent){var _parentage=this._parentage;return _parentage===parent||Array.isArray(_parentage)&&_parentage.includes(parent)},Subscription.prototype._addParent=function(parent){var _parentage=this._parentage;this._parentage=Array.isArray(_parentage)?(_parentage.push(parent),_parentage):_parentage?[_parentage,parent]:parent},Subscription.prototype._removeParent=function(parent){var _parentage=this._parentage;_parentage===parent?this._parentage=null:Array.isArray(_parentage)&&(0,arrRemove.o)(_parentage,parent)},Subscription.prototype.remove=function(teardown){var _finalizers=this._finalizers;_finalizers&&(0,arrRemove.o)(_finalizers,teardown),teardown instanceof Subscription&&teardown._removeParent(this)},Subscription.EMPTY=((empty=new Subscription).closed=!0,empty),Subscription}(),EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(value){return value instanceof Subscription||value&&"closed"in value&&(0,isFunction.T)(value.remove)&&(0,isFunction.T)(value.add)&&(0,isFunction.T)(value.unsubscribe)}function execFinalizer(finalizer){(0,isFunction.T)(finalizer)?finalizer():finalizer.unsubscribe()}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/config.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$:()=>config});var config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/observable/defer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>defer});var _Observable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Observable.js"),_innerFrom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function defer(observableFactory){return new _Observable__WEBPACK_IMPORTED_MODULE_0__.c((function(subscriber){(0,_innerFrom__WEBPACK_IMPORTED_MODULE_1__.Tg)(observableFactory()).subscribe(subscriber)}))}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Tg:()=>innerFrom});var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),isArrayLike=function(x){return x&&"number"==typeof x.length&&"function"!=typeof x},isFunction=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/isFunction.js");var Observable=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Observable.js"),observable=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/symbol/observable.js");var iterator=function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();var reportUnhandledError=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js");function innerFrom(input){if(input instanceof Observable.c)return input;if(null!=input){if(function isInteropObservable(input){return(0,isFunction.T)(input[observable.s])}(input))return function fromInteropObservable(obj){return new Observable.c((function(subscriber){var obs=obj[observable.s]();if((0,isFunction.T)(obs.subscribe))return obs.subscribe(subscriber);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}(input);if(isArrayLike(input))return function fromArrayLike(array){return new Observable.c((function(subscriber){for(var i=0;i<array.length&&!subscriber.closed;i++)subscriber.next(array[i]);subscriber.complete()}))}(input);if(function isPromise(value){return(0,isFunction.T)(null==value?void 0:value.then)}(input))return function fromPromise(promise){return new Observable.c((function(subscriber){promise.then((function(value){subscriber.closed||(subscriber.next(value),subscriber.complete())}),(function(err){return subscriber.error(err)})).then(null,reportUnhandledError.m)}))}(input);if(function isAsyncIterable(obj){return Symbol.asyncIterator&&(0,isFunction.T)(null==obj?void 0:obj[Symbol.asyncIterator])}(input))return fromAsyncIterable(input);if(function isIterable(input){return(0,isFunction.T)(null==input?void 0:input[iterator])}(input))return function fromIterable(iterable){return new Observable.c((function(subscriber){var e_1,_a;try{for(var iterable_1=(0,tslib_es6.Ju)(iterable),iterable_1_1=iterable_1.next();!iterable_1_1.done;iterable_1_1=iterable_1.next()){var value=iterable_1_1.value;if(subscriber.next(value),subscriber.closed)return}}catch(e_1_1){e_1={error:e_1_1}}finally{try{iterable_1_1&&!iterable_1_1.done&&(_a=iterable_1.return)&&_a.call(iterable_1)}finally{if(e_1)throw e_1.error}}subscriber.complete()}))}(input);if(function isReadableStreamLike(obj){return(0,isFunction.T)(null==obj?void 0:obj.getReader)}(input))return function fromReadableStreamLike(readableStream){return fromAsyncIterable(function readableStreamLikeToAsyncGenerator(readableStream){return(0,tslib_es6.AQ)(this,arguments,(function readableStreamLikeToAsyncGenerator_1(){var reader,_a,value;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:reader=readableStream.getReader(),_b.label=1;case 1:_b.trys.push([1,,9,10]),_b.label=2;case 2:return[4,(0,tslib_es6.N3)(reader.read())];case 3:return _a=_b.sent(),value=_a.value,_a.done?[4,(0,tslib_es6.N3)(void 0)]:[3,5];case 4:return[2,_b.sent()];case 5:return[4,(0,tslib_es6.N3)(value)];case 6:return[4,_b.sent()];case 7:return _b.sent(),[3,2];case 8:return[3,10];case 9:return reader.releaseLock(),[7];case 10:return[2]}}))}))}(readableStream))}(input)}throw function createInvalidObservableTypeError(input){return new TypeError("You provided "+(null!==input&&"object"==typeof input?"an invalid object":"'"+input+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(input)}function fromAsyncIterable(asyncIterable){return new Observable.c((function(subscriber){(function process(asyncIterable,subscriber){var asyncIterable_1,asyncIterable_1_1,e_2,_a;return(0,tslib_es6.sH)(this,void 0,void 0,(function(){var value,e_2_1;return(0,tslib_es6.YH)(this,(function(_b){switch(_b.label){case 0:_b.trys.push([0,5,6,11]),asyncIterable_1=(0,tslib_es6.xN)(asyncIterable),_b.label=1;case 1:return[4,asyncIterable_1.next()];case 2:if((asyncIterable_1_1=_b.sent()).done)return[3,4];if(value=asyncIterable_1_1.value,subscriber.next(value),subscriber.closed)return[2];_b.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return e_2_1=_b.sent(),e_2={error:e_2_1},[3,11];case 6:return _b.trys.push([6,,9,10]),asyncIterable_1_1&&!asyncIterable_1_1.done&&(_a=asyncIterable_1.return)?[4,_a.call(asyncIterable_1)]:[3,8];case 7:_b.sent(),_b.label=8;case 8:return[3,10];case 9:if(e_2)throw e_2.error;return[7];case 10:return[7];case 11:return subscriber.complete(),[2]}}))}))})(asyncIterable,subscriber).catch((function(err){return subscriber.error(err)}))}))}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>mergeMap});var isFunction=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/isFunction.js");function operate(init){return function(source){if(function hasLift(source){return(0,isFunction.T)(null==source?void 0:source.lift)}(source))return source.lift((function(liftedSource){try{return init(liftedSource,this)}catch(err){this.error(err)}}));throw new TypeError("Unable to lift unknown Observable type")}}var tslib_es6=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs");function createOperatorSubscriber(destination,onNext,onComplete,onError,onFinalize){return new OperatorSubscriber(destination,onNext,onComplete,onError,onFinalize)}var OperatorSubscriber=function(_super){function OperatorSubscriber(destination,onNext,onComplete,onError,onFinalize,shouldUnsubscribe){var _this=_super.call(this,destination)||this;return _this.onFinalize=onFinalize,_this.shouldUnsubscribe=shouldUnsubscribe,_this._next=onNext?function(value){try{onNext(value)}catch(err){destination.error(err)}}:_super.prototype._next,_this._error=onError?function(err){try{onError(err)}catch(err){destination.error(err)}finally{this.unsubscribe()}}:_super.prototype._error,_this._complete=onComplete?function(){try{onComplete()}catch(err){destination.error(err)}finally{this.unsubscribe()}}:_super.prototype._complete,_this}return(0,tslib_es6.C6)(OperatorSubscriber,_super),OperatorSubscriber.prototype.unsubscribe=function(){var _a;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var closed_1=this.closed;_super.prototype.unsubscribe.call(this),!closed_1&&(null===(_a=this.onFinalize)||void 0===_a||_a.call(this))}},OperatorSubscriber}(__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/Subscriber.js").vU);var innerFrom=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/observable/innerFrom.js");function mergeMap(project,resultSelector,concurrent){return void 0===concurrent&&(concurrent=1/0),(0,isFunction.T)(resultSelector)?mergeMap((function(a,i){return function map(project,thisArg){return operate((function(source,subscriber){var index=0;source.subscribe(createOperatorSubscriber(subscriber,(function(value){subscriber.next(project.call(thisArg,value,index++))})))}))}((function(b,ii){return resultSelector(a,b,i,ii)}))((0,innerFrom.Tg)(project(a,i)))}),concurrent):("number"==typeof resultSelector&&(concurrent=resultSelector),operate((function(source,subscriber){return function mergeInternals(source,subscriber,project,concurrent,onBeforeNext,expand,innerSubScheduler,additionalFinalizer){var buffer=[],active=0,index=0,isComplete=!1,checkComplete=function(){!isComplete||buffer.length||active||subscriber.complete()},outerNext=function(value){return active<concurrent?doInnerSub(value):buffer.push(value)},doInnerSub=function(value){expand&&subscriber.next(value),active++;var innerComplete=!1;(0,innerFrom.Tg)(project(value,index++)).subscribe(createOperatorSubscriber(subscriber,(function(innerValue){null==onBeforeNext||onBeforeNext(innerValue),expand?outerNext(innerValue):subscriber.next(innerValue)}),(function(){innerComplete=!0}),void 0,(function(){if(innerComplete)try{active--;for(var _loop_1=function(){var bufferedValue=buffer.shift();innerSubScheduler?function executeSchedule(parentSubscription,scheduler,work,delay,repeat){void 0===delay&&(delay=0),void 0===repeat&&(repeat=!1);var scheduleSubscription=scheduler.schedule((function(){work(),repeat?parentSubscription.add(this.schedule(null,delay)):this.unsubscribe()}),delay);if(parentSubscription.add(scheduleSubscription),!repeat);}(subscriber,innerSubScheduler,(function(){return doInnerSub(bufferedValue)})):doInnerSub(bufferedValue)};buffer.length&&active<concurrent;)_loop_1();checkComplete()}catch(err){subscriber.error(err)}})))};return source.subscribe(createOperatorSubscriber(subscriber,outerNext,(function(){isComplete=!0,checkComplete()}))),function(){null==additionalFinalizer||additionalFinalizer()}}(source,subscriber,project,concurrent)})))}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>timeoutProvider});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs"),timeoutProvider={setTimeout:function(handler,timeout){for(var args=[],_i=2;_i<arguments.length;_i++)args[_i-2]=arguments[_i];var delegate=timeoutProvider.delegate;return(null==delegate?void 0:delegate.setTimeout)?delegate.setTimeout.apply(delegate,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.fX)([handler,timeout],(0,tslib__WEBPACK_IMPORTED_MODULE_0__.zs)(args))):setTimeout.apply(void 0,(0,tslib__WEBPACK_IMPORTED_MODULE_0__.fX)([handler,timeout],(0,tslib__WEBPACK_IMPORTED_MODULE_0__.zs)(args)))},clearTimeout:function(handle){var delegate=timeoutProvider.delegate;return((null==delegate?void 0:delegate.clearTimeout)||clearTimeout)(handle)},delegate:void 0}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/symbol/observable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>observable});var observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/arrRemove.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function arrRemove(arr,item){if(arr){var index=arr.indexOf(item);0<=index&&arr.splice(index,1)}}__webpack_require__.d(__webpack_exports__,{o:()=>arrRemove})},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function createErrorClass(createImpl){var ctorFunc=createImpl((function(instance){Error.call(instance),instance.stack=(new Error).stack}));return ctorFunc.prototype=Object.create(Error.prototype),ctorFunc.prototype.constructor=ctorFunc,ctorFunc}__webpack_require__.d(__webpack_exports__,{L:()=>createErrorClass})},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/errorContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>errorContext,l:()=>captureError});var _config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/config.js"),context=null;function errorContext(cb){if(_config__WEBPACK_IMPORTED_MODULE_0__.$.useDeprecatedSynchronousErrorHandling){var isRoot=!context;if(isRoot&&(context={errorThrown:!1,error:null}),cb(),isRoot){var _a=context,errorThrown=_a.errorThrown,error=_a.error;if(context=null,errorThrown)throw error}}else cb()}function captureError(err){_config__WEBPACK_IMPORTED_MODULE_0__.$.useDeprecatedSynchronousErrorHandling&&context&&(context.errorThrown=!0,context.error=err)}},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/isFunction.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function isFunction(value){return"function"==typeof value}__webpack_require__.d(__webpack_exports__,{T:()=>isFunction})},"./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>reportUnhandledError});var _config__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/config.js"),_scheduler_timeoutProvider__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/rxjs@7.8.1/node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js");function reportUnhandledError(err){_scheduler_timeoutProvider__WEBPACK_IMPORTED_MODULE_0__.f.setTimeout((function(){var onUnhandledError=_config__WEBPACK_IMPORTED_MODULE_1__.$.onUnhandledError;if(!onUnhandledError)throw err;onUnhandledError(err)}))}},"./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js":(module,exports,__webpack_require__)=>{var buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js"),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},"./node_modules/.pnpm/schema-inspector@2.0.2/node_modules/schema-inspector/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/.pnpm/schema-inspector@2.0.2/node_modules/schema-inspector/lib/schema-inspector.js")},"./node_modules/.pnpm/schema-inspector@2.0.2/node_modules/schema-inspector/lib/schema-inspector.js":(module,__unused_webpack_exports,__webpack_require__)=>{!function(){var root={};if(root.async=__webpack_require__("./node_modules/.pnpm/async@2.6.4/node_modules/async/dist/async.js"),"object"!=typeof root.async)throw new Error("Module async is required (https://github.com/caolan/async)");var async=root.async;function _extend(origin,add){if(!add||"object"!=typeof add)return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}function _merge(){var ret={},args=Array.prototype.slice.call(arguments),keys=null,i=null;return args.forEach((function(arg){if(arg&&arg.constructor===Object)for(keys=Object.keys(arg),i=keys.length;i--;)ret[keys[i]]=arg[keys[i]]})),ret}function Customisable(){this.custom={},this.extend=function(custom){return _extend(this.custom,custom)},this.reset=function(){this.custom={}},this.remove=function(fields){_typeIs.array(fields)||(fields=[fields]),fields.forEach((function(field){delete this.custom[field]}),this)}}function Inspection(schema,custom){var _stack=["@"];if(this._schema=schema,this._custom={},null!=custom)for(var key in custom)Object.prototype.hasOwnProperty.call(custom,key)&&(this._custom["$"+key]=custom[key]);this._getDepth=function(){return _stack.length},this._dumpStack=function(){return _stack.map((function(i){return i.replace(/^\[/g,"")})).join(".").replace(/\.\u001b\u001c\u001d\u001e/g,"[")},this._deeperObject=function(name){return _stack.push(/^[a-z$_][a-z0-9$_]*$/i.test(name)?name:'["'+name+'"]'),this},this._deeperArray=function(i){return _stack.push("["+i+"]"),this},this._back=function(){return _stack.pop(),this}}var _typeIs={function:function(element){return"function"==typeof element},string:function(element){return"string"==typeof element},number:function(element){return"number"==typeof element&&!isNaN(element)},integer:function(element){return"number"==typeof element&&element%1==0},NaN:function(element){return"number"==typeof element&&isNaN(element)},boolean:function(element){return"boolean"==typeof element},null:function(element){return null===element},date:function(element){return null!=element&&element instanceof Date},object:function(element){return"object"==typeof element&&null!=element&&element.constructor!==Array},array:function(element){return null!=element&&element.constructor===Array},any:function(){return!0}};function _simpleType(type,candidate){return"function"==typeof type?candidate instanceof type:_typeIs[type=type in _typeIs?type:"any"](candidate)}function getIndexes(a,value){for(var indexes=[],i=a.indexOf(value);-1!==i;)indexes.push(i),i=a.indexOf(value,i+1);return indexes}var _formats={void:/^$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)?(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,"date-time":/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d{3})?(Z?|(-|\+)\d{2}:\d{2})$/,date:/^\d{4}-\d{2}-\d{2}$/,coolDateTime:/^\d{4}(-|\/)\d{2}(-|\/)\d{2}(T| )\d{2}:\d{2}:\d{2}(\.\d{3})?Z?$/,time:/^\d{2}\:\d{2}\:\d{2}$/,color:/^#([0-9a-f])+$/i,email:new RegExp("(?:[^\\W_](?:[\\w\\.\\+]+)@(?:localhost|(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:northwesternmutual|travelersinsurance|vermögensberatung|vermögensberater|americanexpress|kerryproperties|sandvikcoromant|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|international|lifeinsurance|spreadbetting|travelchannel|wolterskluwer|construction|lplfinancial|scholarships|versicherung|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|williamhill|சிங்கப்பூர்|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|university|vlaanderen|volkswagen|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|hisamitsu|homedepot|homegoods|homesense|institute|insurance|kuokgroup|lancaster|landrover|lifestyle|marketing|marshalls|melbourne|microsoft|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|موريتانيا|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|etisalat|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|merckmsd|mortgage|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|training|vanguard|ventures|verisign|woodside|السعودية|yokohama|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|channel|charity|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|grocery|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lanxess|lasalle|latrobe|leclerc|limited|lincoln|markets|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|singles|staples|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|католик|الجزائر|العليان|اتصالات|پاکستان|البحرين|كاثوليك|இந்தியா|yamaxun|youtube|zuerich|abarth|abbott|abbvie|africa|agency|airbus|airtel|alipay|alsace|alstom|amazon|anquan|aramco|author|bayern|beauty|berlin|bharti|bostik|boston|broker|camera|career|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hotels|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|search|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|webcam|xihuan|москва|онлайн|ファッション|भारतम्|ارامكو|امارات|الاردن|المغرب|ابوظبي|مليسيا|இலங்கை|فلسطين|yachts|yandex|zappos|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|bosch|build|canon|cards|chase|cheap|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|drive|dubai|earth|edeka|email|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|macys|mango|media|miami|money|movie|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|rugby|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|sport|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|ישראל|বাংলা|భారత్|भारोत|संगठन|ایران|بازار|بھارت|سودان|همراه|سورية|ഭാരതം|嘉里大酒店|yahoo|aarp|able|adac|aero|akdn|ally|amex|arab|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|duck|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sarl|save|saxo|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|ಭಾರತ|ଭାରତ|大众汽车|ভাৰত|ভারত|موقع|香格里拉|сайт|アマゾン|дети|ポイント|ලංකා|電訊盈科|クラウド|ભારત|भारत|عمان|بارت|ڀارت|عراق|شبكة|بيتك|组织机构|تونس|グーグル|ਭਾਰਤ|yoga|zara|zero|zone|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceo|cfa|cfd|com|cpa|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gay|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|ibm|ice|icu|ifm|inc|ing|ink|int|ist|itv|jcb|jio|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|llc|llp|lol|lpl|ltd|man|map|mba|med|men|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|phd|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|spa|srl|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|कॉम|セール|คอม|我爱你|қаз|срб|бел|קום|淡马锡|орг|नेट|ストア|мкд|كوم|中文网|ком|укр|亚马逊|诺基亚|飞利浦|мон|عرب|ไทย|рус|ລາວ|みんな|天主教|مصر|قطر|հայ|新加坡|xxx|xyz|you|yun|zip|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|佛山|慈善|集团|在线|한국|点看|八卦|公益|公司|网站|移动|联通|бг|时尚|微博|삼성|商标|商店|商城|ею|新闻|家電|中信|中国|中國|娱乐|谷歌|购物|通販|网店|餐厅|网络|香港|食品|台湾|台灣|手机|澳門|닷컴|政府|გე|机构|健康|招聘|рф|大拿|ευ|ελ|世界|書籍|网址|닷넷|コム|游戏|企业|信息|嘉里|广东|政务|ye|yt|za|zm|zw))))"),numeric:/^[0-9]+$/,integer:/^\-?[0-9]+$/,decimal:/^\-?[0-9]*\.?[0-9]+$/,alpha:/^[a-z]+$/i,alphaNumeric:/^[a-z0-9]+$/i,alphaDash:/^[a-z0-9_-]+$/i,javascript:/^[a-z_\$][a-z0-9_\$]*$/i,upperString:/^[A-Z ]*$/,lowerString:/^[a-z ]*$/,v4uuid:/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i},_validationAttribut={optional:function(schema,candidate){!0!==("boolean"==typeof schema.optional?schema.optional:"true"===schema.optional)&&void 0===candidate&&this.report("is missing and not optional",null,"optional")},type:function(schema,candidate){if(void 0!==candidate&&("string"==typeof schema.type||schema.type instanceof Array||"function"==typeof schema.type)){var types=_typeIs.array(schema.type)?schema.type:[schema.type];types.some((function(type){return _simpleType(type,candidate)}))||(types=types.map((function(t){return"function"==typeof t?"an instance of "+t.name:t})),this.report("must be "+types.join(" or ")+", but is "+function _realType(candidate){for(var i in _typeIs)if(_simpleType(i,candidate))return"any"===i||"object"===i&&candidate.constructor!==Object?"an instance of "+candidate.constructor.name:i}(candidate),null,"type"))}},uniqueness:function(schema,candidate){if("string"==typeof schema.uniqueness&&(schema.uniqueness="true"===schema.uniqueness),"boolean"==typeof schema.uniqueness&&!1!==schema.uniqueness&&(_typeIs.array(candidate)||"string"==typeof candidate))for(var reported=[],i=0;i<candidate.length;i++)if(!(reported.indexOf(candidate[i])>=0)){var indexes=getIndexes(candidate,candidate[i]);indexes.length>1&&(reported.push(candidate[i]),this.report("has value ["+candidate[i]+"] more than once at indexes ["+indexes.join(", ")+"]",null,"uniqueness"))}},pattern:function(schema,candidate){var regexs=schema.pattern;if("string"==typeof candidate){var matches=!1;_typeIs.array(regexs)||(regexs=[regexs]),regexs.forEach((function(regex){"string"==typeof regex&&regex in _formats&&(regex=_formats[regex]),regex instanceof RegExp&&regex.test(candidate)&&(matches=!0)})),matches||this.report("must match ["+regexs.join(" or ")+'], but is equal to "'+candidate+'"',null,"pattern")}},validDate:function(schema,candidate){"true"===String(schema.validDate)&&candidate instanceof Date&&isNaN(candidate.getTime())&&this.report("must be a valid date",null,"validDate")},minLength:function(schema,candidate){if("string"==typeof candidate||_typeIs.array(candidate)){var minLength=Number(schema.minLength);isNaN(minLength)||candidate.length<minLength&&this.report("must be longer than "+minLength+" elements, but it has "+candidate.length,null,"minLength")}},maxLength:function(schema,candidate){if("string"==typeof candidate||_typeIs.array(candidate)){var maxLength=Number(schema.maxLength);isNaN(maxLength)||candidate.length>maxLength&&this.report("must be shorter than "+maxLength+" elements, but it has "+candidate.length,null,"maxLength")}},exactLength:function(schema,candidate){if("string"==typeof candidate||_typeIs.array(candidate)){var exactLength=Number(schema.exactLength);isNaN(exactLength)||candidate.length!==exactLength&&this.report("must have exactly "+exactLength+" elements, but it have "+candidate.length,null,"exactLength")}},lt:function(schema,candidate){var limit=Number(schema.lt);"number"!=typeof candidate||isNaN(limit)||candidate>=limit&&this.report("must be less than "+limit+', but is equal to "'+candidate+'"',null,"lt")},lte:function(schema,candidate){var limit=Number(schema.lte);"number"!=typeof candidate||isNaN(limit)||candidate>limit&&this.report("must be less than or equal to "+limit+', but is equal to "'+candidate+'"',null,"lte")},gt:function(schema,candidate){var limit=Number(schema.gt);"number"!=typeof candidate||isNaN(limit)||candidate<=limit&&this.report("must be greater than "+limit+', but is equal to "'+candidate+'"',null,"gt")},gte:function(schema,candidate){var limit=Number(schema.gte);"number"!=typeof candidate||isNaN(limit)||candidate<limit&&this.report("must be greater than or equal to "+limit+', but is equal to "'+candidate+'"',null,"gte")},eq:function(schema,candidate){if("number"==typeof candidate||"string"==typeof candidate||"boolean"==typeof candidate){var limit=schema.eq;if("number"==typeof limit||"string"==typeof limit||"boolean"==typeof limit||_typeIs.array(limit))if(_typeIs.array(limit)){for(var i=0;i<limit.length;i++)if(candidate===limit[i])return;this.report("must be equal to ["+limit.map((function(l){return'"'+l+'"'})).join(" or ")+'], but is equal to "'+candidate+'"',null,"eq")}else candidate!==limit&&this.report('must be equal to "'+limit+'", but is equal to "'+candidate+'"',null,"eq")}},ne:function(schema,candidate){if("number"==typeof candidate||"string"==typeof candidate){var limit=schema.ne;if("number"==typeof limit||"string"==typeof limit||_typeIs.array(limit))if(_typeIs.array(limit)){for(var i=0;i<limit.length;i++)if(candidate===limit[i])return void this.report('must not be equal to "'+limit[i]+'"',null,"ne")}else candidate===limit&&this.report('must not be equal to "'+limit+'"',null,"ne")}},someKeys:function(schema,candidat){var _keys=schema.someKeys;_typeIs.object(candidat)&&(_keys.some((function(action){return action in candidat}))||this.report("must have at least key "+_keys.map((function(i){return'"'+i+'"'})).join(" or "),null,"someKeys"))},strict:function(schema,candidate){if("string"==typeof schema.strict&&(schema.strict="true"===schema.strict),!0===schema.strict&&_typeIs.object(candidate)&&_typeIs.object(schema.properties)){if(void 0===schema.properties["*"]){var intruder=Object.keys(candidate).filter((function(key){return void 0===schema.properties[key]}));if(intruder.length>0){var msg="should not contains "+(intruder.length>1?"properties":"property")+" ["+intruder.map((function(i){return'"'+i+'"'})).join(", ")+"]";this.report(msg,null,"strict")}}}},exec:function(schema,candidate,callback){var self=this;if("function"==typeof callback)return this.asyncExec(schema,candidate,callback);(_typeIs.array(schema.exec)?schema.exec:[schema.exec]).forEach((function(exec){"function"==typeof exec&&exec.call(self,schema,candidate)}))},properties:function(schema,candidate,callback){if("function"==typeof callback)return this.asyncProperties(schema,candidate,callback);if(schema.properties instanceof Object&&candidate instanceof Object){var i,properties=schema.properties;if(null!=properties["*"])for(i in candidate)i in properties||(this._deeperObject(i),this._validate(properties["*"],candidate[i]),this._back());for(i in properties)"*"!==i&&(this._deeperObject(i),this._validate(properties[i],candidate[i]),this._back())}},items:function(schema,candidate,callback){if("function"==typeof callback)return this.asyncItems(schema,candidate,callback);if(schema.items instanceof Object&&candidate instanceof Object){var i,l,items=schema.items;if(_typeIs.array(items)&&_typeIs.array(candidate))for(i=0,l=items.length;i<l;i++)this._deeperArray(i),this._validate(items[i],candidate[i]),this._back();else for(var key in candidate)Object.prototype.hasOwnProperty.call(candidate,key)&&(this._deeperArray(key),this._validate(items,candidate[key]),this._back())}}},_asyncValidationAttribut={asyncExec:function(schema,candidate,callback){var self=this;async.eachSeries(_typeIs.array(schema.exec)?schema.exec:[schema.exec],(function(exec,done){if("function"==typeof exec){if(exec.length>2)return exec.call(self,schema,candidate,done);exec.call(self,schema,candidate)}async.nextTick(done)}),callback)},asyncProperties:function(schema,candidate,callback){if(!(schema.properties instanceof Object&&_typeIs.object(candidate)))return callback();var self=this,properties=schema.properties;async.series([function(next){if(null==properties["*"])return next();async.eachSeries(Object.keys(candidate),(function(i,done){if(i in properties)return async.nextTick(done);self._deeperObject(i),self._asyncValidate(properties["*"],candidate[i],(function(err){self._back(),done(err)}))}),next)},function(next){async.eachSeries(Object.keys(properties),(function(i,done){if("*"===i)return async.nextTick(done);self._deeperObject(i),self._asyncValidate(properties[i],candidate[i],(function(err){self._back(),done(err)}))}),next)}],callback)},asyncItems:function(schema,candidate,callback){if(!(schema.items instanceof Object&&candidate instanceof Object))return callback();var self=this,items=schema.items;_typeIs.array(items)&&_typeIs.array(candidate)?async.timesSeries(items.length,(function(i,done){self._deeperArray(i),self._asyncValidate(items[i],candidate[i],(function(err,res){self._back(),done(err,res)})),self._back()}),callback):async.eachSeries(Object.keys(candidate),(function(key,done){self._deeperArray(key),self._asyncValidate(items,candidate[key],(function(err,res){self._back(),done(err,res)}))}),callback)}};function Validation(schema,custom){Inspection.prototype.constructor.call(this,schema,_merge(Validation.custom,custom));var _error=[];this._basicFields=Object.keys(_validationAttribut),this._customFields=Object.keys(this._custom),this.origin=null,this.report=function(message,code,reason){var newErr={code:code||this.userCode||null,reason:reason||"unknown",message:this.userError||message||"is invalid",property:this.userAlias?this.userAlias+" ("+this._dumpStack()+")":this._dumpStack()};return _error.push(newErr),this},this.result=function(){return{error:_error,valid:0===_error.length,format:function(){return!0===this.valid?"Candidate is valid":this.error.map((function(i){return"Property "+i.property+": "+i.message})).join("\n")}}}}_extend(Validation.prototype,_validationAttribut),_extend(Validation.prototype,_asyncValidationAttribut),_extend(Validation,new Customisable),Validation.prototype.validate=function(candidate,callback){if(this.origin=candidate,"function"==typeof callback){var self=this;return async.nextTick((function(){self._asyncValidate(self._schema,candidate,(function(err){self.origin=null,callback(err,self.result())}))}))}return this._validate(this._schema,candidate).result()},Validation.prototype._validate=function(schema,candidate,callback){return this.userCode=schema.code||null,this.userError=schema.error||null,this.userAlias=schema.alias||null,this._basicFields.forEach((function(i){!(i in schema)&&"optional"!==i||"function"!=typeof this[i]||this[i](schema,candidate)}),this),this._customFields.forEach((function(i){i in schema&&"function"==typeof this._custom[i]&&this._custom[i].call(this,schema,candidate)}),this),this},Validation.prototype._asyncValidate=function(schema,candidate,callback){var self=this;this.userCode=schema.code||null,this.userError=schema.error||null,this.userAlias=schema.alias||null,async.series([function(next){async.eachSeries(Object.keys(_validationAttribut),(function(i,done){async.nextTick((function(){if((i in schema||"optional"===i)&&"function"==typeof self[i]){if(self[i].length>2)return self[i](schema,candidate,done);self[i](schema,candidate)}done()}))}),next)},function(next){async.eachSeries(Object.keys(self._custom),(function(i,done){async.nextTick((function(){if(i in schema&&"function"==typeof self._custom[i]){if(self._custom[i].length>2)return self._custom[i].call(self,schema,candidate,done);self._custom[i].call(self,schema,candidate)}done()}))}),next)}],callback)};var _forceType={number:function(post,schema){var n;if("number"==typeof post)return post;if(""===post)return void 0!==schema.def?schema.def:null;if("string"==typeof post){if("number"==typeof(n=parseFloat(post.replace(/,/g,".").replace(/ /g,""))))return n}else if(post instanceof Date)return+post;return null},integer:function(post,schema){var n;if("number"==typeof post&&post%1==0)return post;if(""===post)return void 0!==schema.def?schema.def:null;if("string"==typeof post){if("number"==typeof(n=parseInt(post.replace(/ /g,""),10)))return n}else{if("number"==typeof post)return parseInt(post,10);if("boolean"==typeof post)return post?1:0;if(post instanceof Date)return+post}return null},string:function(post,schema){return"boolean"==typeof post||"number"==typeof post||post instanceof Date?post.toString():_typeIs.array(post)?schema.items||schema.properties?post:post.join(String(schema.joinWith||",")):post instanceof Object?schema.items||schema.properties?post:JSON.stringify(post):"string"==typeof post&&post.length?post:null},date:function(post,schema){if(post instanceof Date)return post;var d=new Date(post);return isNaN(d.getTime())?null:d},boolean:function(post,schema){return void 0===post?null:("string"!=typeof post||"false"!==post.toLowerCase())&&!!post},object:function(post,schema){if("string"!=typeof post||_typeIs.object(post))return post;try{return JSON.parse(post)}catch(e){return null}},array:function(post,schema){if(_typeIs.array(post))return post;if(void 0===post)return null;if("string"==typeof post){if("["===post.substring(0,1)&&"]"===post.slice(-1))try{return JSON.parse(post)}catch(e){return null}return post.split(String(schema.splitWith||","))}return _typeIs.array(post)?null:[post]}},_applyRules={upper:function(post){return post.toUpperCase()},lower:function(post){return post.toLowerCase()},title:function(post){return post.replace(/\S*/g,(function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()}))},capitalize:function(post){return post.charAt(0).toUpperCase()+post.substr(1).toLowerCase()},ucfirst:function(post){return post.charAt(0).toUpperCase()+post.substr(1)},trim:function(post){return post.trim()}},_sanitizationAttribut={strict:function(schema,post){return"string"==typeof schema.strict&&(schema.strict="true"===schema.strict),!0!==schema.strict?post:_typeIs.object(schema.properties)&&_typeIs.object(post)?(Object.keys(post).forEach((function(key){key in schema.properties||delete post[key]})),post):post},optional:function(schema,post){return!0===("boolean"==typeof schema.optional?schema.optional:"false"!==schema.optional)||void 0!==post?post:(this.report(),schema.def===Date?new Date:schema.def)},type:function(schema,post){if("string"!=typeof schema.type||"function"!=typeof _forceType[schema.type])return post;var n,opt="boolean"!=typeof schema.optional||schema.optional;return"function"==typeof _forceType[schema.type]?(null===(n=_forceType[schema.type](post,schema))&&!opt||!n&&isNaN(n)||null===n&&"string"===schema.type)&&(n=schema.def):opt||(n=schema.def),(null!=n||void 0!==schema.def&&schema.def===n)&&n!==post?(this.report(),n):post},rules:function(schema,post){var rules=schema.rules;if("string"!=typeof post||"string"!=typeof rules&&!_typeIs.array(rules))return post;var modified=!1;return(_typeIs.array(rules)?rules:[rules]).forEach((function(rule){"function"==typeof _applyRules[rule]&&(post=_applyRules[rule](post),modified=!0)})),modified&&this.report(),post},min:function(schema,post){var postTest=Number(post);if(isNaN(postTest))return post;var min=Number(schema.min);return isNaN(min)?post:postTest<min?(this.report(),min):post},max:function(schema,post){var postTest=Number(post);if(isNaN(postTest))return post;var max=Number(schema.max);return isNaN(max)?post:postTest>max?(this.report(),max):post},minLength:function(schema,post){var limit=Number(schema.minLength);if("string"!=typeof post||isNaN(limit)||limit<0)return post;var str="",gap=limit-post.length;if(gap>0){for(var i=0;i<gap;i++)str+="-";return this.report(),post+str}return post},maxLength:function(schema,post){var limit=Number(schema.maxLength);return"string"!=typeof post||isNaN(limit)||limit<0?post:post.length>limit?(this.report(),post.slice(0,limit)):post},properties:function(schema,post,callback){if("function"==typeof callback)return this.asyncProperties(schema,post,callback);if(!post||"object"!=typeof post)return post;var tmp,i,properties=schema.properties;if(void 0!==properties["*"])for(i in post)i in properties||(this._deeperObject(i),(void 0!==(tmp=this._sanitize(properties["*"],post[i]))||"exec"in properties["*"])&&(post[i]=tmp),this._back());for(i in properties)"*"!==i&&(this._deeperObject(i),(void 0!==(tmp=this._sanitize(properties[i],post[i]))||"exec"in properties[i])&&(post[i]=tmp),this._back());return post},items:function(schema,post,callback){if("function"==typeof callback)return this.asyncItems(schema,post,callback);if(!(schema.items instanceof Object&&post instanceof Object))return post;var i;if(_typeIs.array(schema.items)&&_typeIs.array(post)){var minLength=schema.items.length<post.length?schema.items.length:post.length;for(i=0;i<minLength;i++)this._deeperArray(i),post[i]=this._sanitize(schema.items[i],post[i]),this._back()}else for(i in post)Object.prototype.hasOwnProperty.call(post,i)&&(this._deeperArray(i),post[i]=this._sanitize(schema.items,post[i]),this._back());return post},exec:function(schema,post,callback){return"function"==typeof callback?this.asyncExec(schema,post,callback):((_typeIs.array(schema.exec)?schema.exec:[schema.exec]).forEach((function(exec){"function"==typeof exec&&(post=exec.call(this,schema,post))}),this),post)}},_asyncSanitizationAttribut={asyncExec:function(schema,post,callback){var self=this,execs=_typeIs.array(schema.exec)?schema.exec:[schema.exec];async.eachSeries(execs,(function(exec,done){if("function"==typeof exec){if(exec.length>2)return exec.call(self,schema,post,(function(err,res){if(err)return done(err);post=res,done()}));post=exec.call(self,schema,post)}done()}),(function(err){callback(err,post)}))},asyncProperties:function(schema,post,callback){if(!post||"object"!=typeof post)return callback(null,post);var self=this,properties=schema.properties;async.series([function(next){if(null==properties["*"])return next();var globing=properties["*"];async.eachSeries(Object.keys(post),(function(i,next){if(i in properties)return next();self._deeperObject(i),self._asyncSanitize(globing,post[i],(function(err,res){void 0!==res&&(post[i]=res),self._back(),next()}))}),next)},function(next){async.eachSeries(Object.keys(properties),(function(i,next){if("*"===i)return next();self._deeperObject(i),self._asyncSanitize(properties[i],post[i],(function(err,res){if(err)return next(err);void 0!==res&&(post[i]=res),self._back(),next()}))}),next)}],(function(err){return callback(err,post)}))},asyncItems:function(schema,post,callback){if(!(schema.items instanceof Object&&post instanceof Object))return callback(null,post);var self=this,items=schema.items;if(_typeIs.array(items)&&_typeIs.array(post)){var minLength=items.length<post.length?items.length:post.length;async.timesSeries(minLength,(function(i,next){self._deeperArray(i),self._asyncSanitize(items[i],post[i],(function(err,res){if(err)return next(err);post[i]=res,self._back(),next()}))}),(function(err){callback(err,post)}))}else async.eachSeries(Object.keys(post),(function(key,next){self._deeperArray(key),self._asyncSanitize(items,post[key],(function(err,res){if(err)return next();post[key]=res,self._back(),next()}))}),(function(err){callback(err,post)}));return post}};function Sanitization(schema,custom){Inspection.prototype.constructor.call(this,schema,_merge(Sanitization.custom,custom));var _reporting=[];this._basicFields=Object.keys(_sanitizationAttribut),this._customFields=Object.keys(this._custom),this.origin=null,this.report=function(message){var newNot={message:message||"was sanitized",property:this.userAlias?this.userAlias+" ("+this._dumpStack()+")":this._dumpStack()};_reporting.some((function(e){return e.property===newNot.property}))||_reporting.push(newNot)},this.result=function(data){return{data,reporting:_reporting,format:function(){return this.reporting.map((function(i){return"Property "+i.property+" "+i.message})).join("\n")}}}}_extend(Sanitization.prototype,_sanitizationAttribut),_extend(Sanitization.prototype,_asyncSanitizationAttribut),_extend(Sanitization,new Customisable),Sanitization.prototype.sanitize=function(post,callback){if(this.origin=post,"function"==typeof callback){var self=this;return this._asyncSanitize(this._schema,post,(function(err,data){self.origin=null,callback(err,self.result(data))}))}var data=this._sanitize(this._schema,post);return this.origin=null,this.result(data)},Sanitization.prototype._sanitize=function(schema,post){return this.userAlias=schema.alias||null,this._basicFields.forEach((function(i){!(i in schema)&&"optional"!==i||"function"!=typeof this[i]||(post=this[i](schema,post))}),this),this._customFields.forEach((function(i){i in schema&&"function"==typeof this._custom[i]&&(post=this._custom[i].call(this,schema,post))}),this),post},Sanitization.prototype._asyncSanitize=function(schema,post,callback){var self=this;this.userAlias=schema.alias||null,async.waterfall([function(next){async.reduce(self._basicFields,post,(function(value,i,next){async.nextTick((function(){if((i in schema||"optional"===i)&&"function"==typeof self[i]){if(self[i].length>2)return self[i](schema,value,next);value=self[i](schema,value)}next(null,value)}))}),next)},function(inter,next){async.reduce(self._customFields,inter,(function(value,i,next){async.nextTick((function(){if(i in schema&&"function"==typeof self._custom[i]){if(self._custom[i].length>2)return self._custom[i].call(self,schema,value,next);value=self._custom[i].call(self,schema,value)}next(null,value)}))}),next)}],callback)};var _rand={int:function(min,max){return min+(0|Math.random()*(max-min+1))},float:function(min,max){return Math.random()*(max-min)+min},bool:function(){return Math.random()>.5},char:function(min,max){return String.fromCharCode(this.int(min,max))},fromList:function(list){return list[this.int(0,list.length-1)]}},_formatSample={"date-time":function(){return(new Date).toISOString()},date:function(){return(new Date).toISOString().replace(/T.*$/,"")},time:function(){return(new Date).toLocaleTimeString({},{hour12:!1})},color:function(min,max){var s="#";min<1&&(min=1);for(var i=0,l=_rand.int(min,max);i<l;i++)s+=_rand.fromList("0123456789abcdefABCDEF");return s},numeric:function(){return""+_rand.int(0,2147483647)},integer:function(){return!0===_rand.bool()?"-"+this.numeric():this.numeric()},decimal:function(){return this.integer()+"."+this.numeric()},alpha:function(min,max){var s="";min<1&&(min=1);for(var i=0,l=_rand.int(min,max);i<l;i++)s+=_rand.fromList("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return s},alphaNumeric:function(min,max){var s="";min<1&&(min=1);for(var i=0,l=_rand.int(min,max);i<l;i++)s+=_rand.fromList("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789");return s},alphaDash:function(min,max){var s="";min<1&&(min=1);for(var i=0,l=_rand.int(min,max);i<l;i++)s+=_rand.fromList("_-abcdefghijklmnopqrstuvwxyz_-ABCDEFGHIJKLMNOPQRSTUVWXYZ_-0123456789_-");return s},javascript:function(min,max){for(var s=_rand.fromList("_$abcdefghijklmnopqrstuvwxyz_$ABCDEFGHIJKLMNOPQRSTUVWXYZ_$"),i=0,l=_rand.int(min,max-1);i<l;i++)s+=_rand.fromList("_$abcdefghijklmnopqrstuvwxyz_$ABCDEFGHIJKLMNOPQRSTUVWXYZ_$0123456789_$");return s}};function _getLimits(schema){var min=-2147483648,max=2147483647;return null!=schema.gte?min=schema.gte:null!=schema.gt&&(min=schema.gt+1),null!=schema.lte?max=schema.lte:null!=schema.lt&&(max=schema.lt-1),{min,max}}var _typeGenerator={string:function(schema){if(null!=schema.eq)return schema.eq;var s="",minLength=null!=schema.minLength?schema.minLength:0,maxLength=null!=schema.maxLength?schema.maxLength:32;if("string"==typeof schema.pattern&&"function"==typeof _formatSample[schema.pattern])return _formatSample[schema.pattern](minLength,maxLength);for(var l=null!=schema.exactLength?schema.exactLength:_rand.int(minLength,maxLength),i=0;i<l;i++)s+=_rand.char(32,126);return s},number:function(schema){if(null!=schema.eq)return schema.eq;var limit=_getLimits(schema),n=_rand.float(limit.min,limit.max);if(null!=schema.ne)for(var ne=_typeIs.array(schema.ne)?schema.ne:[schema.ne];-1!==ne.indexOf(n);)n=_rand.float(limit.min,limit.max);return n},integer:function(schema){if(null!=schema.eq)return schema.eq;var limit=_getLimits(schema),n=_rand.int(limit.min,limit.max);if(null!=schema.ne)for(var ne=_typeIs.array(schema.ne)?schema.ne:[schema.ne];-1!==ne.indexOf(n);)n=_rand.int(limit.min,limit.max);return n},boolean:function(schema){return null!=schema.eq?schema.eq:_rand.bool()},null:function(schema){return null},date:function(schema){return null!=schema.eq?schema.eq:new Date},object:function(schema){var o={},prop=schema.properties||{};for(var key in prop)if(Object.prototype.hasOwnProperty.call(prop,key)){if(!0===prop[key].optional&&!0===_rand.bool())continue;if("*"!==key)o[key]=this.generate(prop[key]);else for(var rk="__random_key_",randomKey=rk+0,n=_rand.int(1,9),i=1;i<=n;i++)randomKey in prop||(o[randomKey]=this.generate(prop[key])),randomKey=rk+i}return o},array:function(schema){var type,candidate,size,i,items=schema.items||{},minLength=null!=schema.minLength?schema.minLength:0,maxLength=null!=schema.maxLength?schema.maxLength:16;if(_typeIs.array(items))for(size=items.length,null!=schema.exactLength?size=schema.exactLength:size<minLength?size=minLength:size>maxLength&&(size=maxLength),candidate=new Array(size),type=null,i=0;i<size;i++)type=items[i].type||"any",_typeIs.array(type)&&(type=type[_rand.int(0,type.length-1)]),candidate[i]=this[type](items[i]);else for(size=null!=schema.exactLength?schema.exactLength:_rand.int(minLength,maxLength),candidate=new Array(size),type=items.type||"any",_typeIs.array(type)&&(type=type[_rand.int(0,type.length-1)]),i=0;i<size;i++)candidate[i]=this[type](items);return candidate},any:function(schema){var fields=Object.keys(_typeGenerator);return this[fields[_rand.int(0,fields.length-2)]](schema)}};function CandidateGenerator(){}_extend(CandidateGenerator.prototype,_typeGenerator);var _instance=null;CandidateGenerator.instance=function(){return _instance instanceof CandidateGenerator||(_instance=new CandidateGenerator),_instance},CandidateGenerator.prototype.generate=function(schema){var type=schema.type||"any";return _typeIs.array(type)&&(type=type[_rand.int(0,type.length-1)]),this[type](schema)};var SchemaInspector={};module.exports?module.exports=SchemaInspector:window.SchemaInspector=SchemaInspector,SchemaInspector.newSanitization=function(schema,custom){return new Sanitization(schema,custom)},SchemaInspector.newValidation=function(schema,custom){return new Validation(schema,custom)},SchemaInspector.Validation=Validation,SchemaInspector.Sanitization=Sanitization,SchemaInspector.sanitize=function(schema,post,custom,callback){return 3===arguments.length&&"function"==typeof custom&&(callback=custom,custom=null),new Sanitization(schema,custom).sanitize(post,callback)},SchemaInspector.validate=function(schema,candidate,custom,callback){return 3===arguments.length&&"function"==typeof custom&&(callback=custom,custom=null),new Validation(schema,custom).validate(candidate,callback)},SchemaInspector.generate=function(schema,n){if("number"==typeof n){for(var r=new Array(n),i=0;i<n;i++)r[i]=CandidateGenerator.instance().generate(schema);return r}return CandidateGenerator.instance().generate(schema)}}()},"./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer;function Hash(blockSize,finalSize){this._block=Buffer.alloc(blockSize),this._finalSize=finalSize,this._blockSize=blockSize,this._len=0}Hash.prototype.update=function(data,enc){"string"==typeof data&&(enc=enc||"utf8",data=Buffer.from(data,enc));for(var block=this._block,blockSize=this._blockSize,length=data.length,accum=this._len,offset=0;offset<length;){for(var assigned=accum%blockSize,remainder=Math.min(length-offset,blockSize-assigned),i=0;i<remainder;i++)block[assigned+i]=data[offset+i];offset+=remainder,(accum+=remainder)%blockSize==0&&this._update(block)}return this._len+=length,this},Hash.prototype.digest=function(enc){var rem=this._len%this._blockSize;this._block[rem]=128,this._block.fill(0,rem+1),rem>=this._finalSize&&(this._update(this._block),this._block.fill(0));var bits=8*this._len;if(bits<=4294967295)this._block.writeUInt32BE(bits,this._blockSize-4);else{var lowBits=(4294967295&bits)>>>0,highBits=(bits-lowBits)/4294967296;this._block.writeUInt32BE(highBits,this._blockSize-8),this._block.writeUInt32BE(lowBits,this._blockSize-4)}this._update(this._block);var hash=this._hash();return enc?hash.toString(enc):hash},Hash.prototype._update=function(){throw new Error("_update must be implemented by subclass")},module.exports=Hash},"./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var exports=module.exports=function SHA(algorithm){algorithm=algorithm.toLowerCase();var Algorithm=exports[algorithm];if(!Algorithm)throw new Error(algorithm+" is not supported (we accept pull requests)");return new Algorithm};exports.sha=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha.js"),exports.sha1=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha1.js"),exports.sha224=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha224.js"),exports.sha256=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha256.js"),exports.sha384=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha384.js"),exports.sha512=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha512.js")},"./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha.js":(module,__unused_webpack_exports,__webpack_require__)=>{var inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),Hash=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js"),Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);function Sha(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}inherits(Sha,Hash),Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha.prototype._update=function(M){for(var num,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=W[i-3]^W[i-8]^W[i-14]^W[i-16];for(var j=0;j<80;++j){var s=~~(j/20),t=0|((num=a)<<5|num>>>27)+ft(s,b,c,d)+e+W[j]+K[s];e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha.prototype._hash=function(){var H=Buffer.allocUnsafe(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha},"./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha1.js":(module,__unused_webpack_exports,__webpack_require__)=>{var inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),Hash=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js"),Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,K=[1518500249,1859775393,-1894007588,-899497514],W=new Array(80);function Sha1(){this.init(),this._w=W,Hash.call(this,64,56)}function rotl5(num){return num<<5|num>>>27}function rotl30(num){return num<<30|num>>>2}function ft(s,b,c,d){return 0===s?b&c|~b&d:2===s?b&c|b&d|c&d:b^c^d}inherits(Sha1,Hash),Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},Sha1.prototype._update=function(M){for(var num,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<80;++i)W[i]=(num=W[i-3]^W[i-8]^W[i-14]^W[i-16])<<1|num>>>31;for(var j=0;j<80;++j){var s=~~(j/20),t=rotl5(a)+ft(s,b,c,d)+e+W[j]+K[s]|0;e=d,d=c,c=rotl30(b),b=a,a=t}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0},Sha1.prototype._hash=function(){var H=Buffer.allocUnsafe(20);return H.writeInt32BE(0|this._a,0),H.writeInt32BE(0|this._b,4),H.writeInt32BE(0|this._c,8),H.writeInt32BE(0|this._d,12),H.writeInt32BE(0|this._e,16),H},module.exports=Sha1},"./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha224.js":(module,__unused_webpack_exports,__webpack_require__)=>{var inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),Sha256=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha256.js"),Hash=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js"),Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,W=new Array(64);function Sha224(){this.init(),this._w=W,Hash.call(this,64,56)}inherits(Sha224,Sha256),Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},Sha224.prototype._hash=function(){var H=Buffer.allocUnsafe(28);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H},module.exports=Sha224},"./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha256.js":(module,__unused_webpack_exports,__webpack_require__)=>{var inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),Hash=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js"),Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W=new Array(64);function Sha256(){this.init(),this._w=W,Hash.call(this,64,56)}function ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x){return(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10)}function sigma1(x){return(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7)}function gamma0(x){return(x>>>7|x<<25)^(x>>>18|x<<14)^x>>>3}inherits(Sha256,Hash),Sha256.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},Sha256.prototype._update=function(M){for(var x,W=this._w,a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,g=0|this._g,h=0|this._h,i=0;i<16;++i)W[i]=M.readInt32BE(4*i);for(;i<64;++i)W[i]=0|(((x=W[i-2])>>>17|x<<15)^(x>>>19|x<<13)^x>>>10)+W[i-7]+gamma0(W[i-15])+W[i-16];for(var j=0;j<64;++j){var T1=h+sigma1(e)+ch(e,f,g)+K[j]+W[j]|0,T2=sigma0(a)+maj(a,b,c)|0;h=g,g=f,f=e,e=d+T1|0,d=c,c=b,b=a,a=T1+T2|0}this._a=a+this._a|0,this._b=b+this._b|0,this._c=c+this._c|0,this._d=d+this._d|0,this._e=e+this._e|0,this._f=f+this._f|0,this._g=g+this._g|0,this._h=h+this._h|0},Sha256.prototype._hash=function(){var H=Buffer.allocUnsafe(32);return H.writeInt32BE(this._a,0),H.writeInt32BE(this._b,4),H.writeInt32BE(this._c,8),H.writeInt32BE(this._d,12),H.writeInt32BE(this._e,16),H.writeInt32BE(this._f,20),H.writeInt32BE(this._g,24),H.writeInt32BE(this._h,28),H},module.exports=Sha256},"./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha384.js":(module,__unused_webpack_exports,__webpack_require__)=>{var inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),SHA512=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha512.js"),Hash=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js"),Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash.call(this,128,112)}inherits(Sha384,SHA512),Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},Sha384.prototype._hash=function(){var H=Buffer.allocUnsafe(48);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),H},module.exports=Sha384},"./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/sha512.js":(module,__unused_webpack_exports,__webpack_require__)=>{var inherits=__webpack_require__("./node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js"),Hash=__webpack_require__("./node_modules/.pnpm/sha.js@2.4.11/node_modules/sha.js/hash.js"),Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=new Array(160);function Sha512(){this.init(),this._w=W,Hash.call(this,128,112)}function Ch(x,y,z){return z^x&(y^z)}function maj(x,y,z){return x&y|z&(x|y)}function sigma0(x,xl){return(x>>>28|xl<<4)^(xl>>>2|x<<30)^(xl>>>7|x<<25)}function sigma1(x,xl){return(x>>>14|xl<<18)^(x>>>18|xl<<14)^(xl>>>9|x<<23)}function Gamma0(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^x>>>7}function Gamma0l(x,xl){return(x>>>1|xl<<31)^(x>>>8|xl<<24)^(x>>>7|xl<<25)}function Gamma1(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^x>>>6}function Gamma1l(x,xl){return(x>>>19|xl<<13)^(xl>>>29|x<<3)^(x>>>6|xl<<26)}function getCarry(a,b){return a>>>0<b>>>0?1:0}inherits(Sha512,Hash),Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},Sha512.prototype._update=function(M){for(var W=this._w,ah=0|this._ah,bh=0|this._bh,ch=0|this._ch,dh=0|this._dh,eh=0|this._eh,fh=0|this._fh,gh=0|this._gh,hh=0|this._hh,al=0|this._al,bl=0|this._bl,cl=0|this._cl,dl=0|this._dl,el=0|this._el,fl=0|this._fl,gl=0|this._gl,hl=0|this._hl,i=0;i<32;i+=2)W[i]=M.readInt32BE(4*i),W[i+1]=M.readInt32BE(4*i+4);for(;i<160;i+=2){var xh=W[i-30],xl=W[i-30+1],gamma0=Gamma0(xh,xl),gamma0l=Gamma0l(xl,xh),gamma1=Gamma1(xh=W[i-4],xl=W[i-4+1]),gamma1l=Gamma1l(xl,xh),Wi7h=W[i-14],Wi7l=W[i-14+1],Wi16h=W[i-32],Wi16l=W[i-32+1],Wil=gamma0l+Wi7l|0,Wih=gamma0+Wi7h+getCarry(Wil,gamma0l)|0;Wih=(Wih=Wih+gamma1+getCarry(Wil=Wil+gamma1l|0,gamma1l)|0)+Wi16h+getCarry(Wil=Wil+Wi16l|0,Wi16l)|0,W[i]=Wih,W[i+1]=Wil}for(var j=0;j<160;j+=2){Wih=W[j],Wil=W[j+1];var majh=maj(ah,bh,ch),majl=maj(al,bl,cl),sigma0h=sigma0(ah,al),sigma0l=sigma0(al,ah),sigma1h=sigma1(eh,el),sigma1l=sigma1(el,eh),Kih=K[j],Kil=K[j+1],chh=Ch(eh,fh,gh),chl=Ch(el,fl,gl),t1l=hl+sigma1l|0,t1h=hh+sigma1h+getCarry(t1l,hl)|0;t1h=(t1h=(t1h=t1h+chh+getCarry(t1l=t1l+chl|0,chl)|0)+Kih+getCarry(t1l=t1l+Kil|0,Kil)|0)+Wih+getCarry(t1l=t1l+Wil|0,Wil)|0;var t2l=sigma0l+majl|0,t2h=sigma0h+majh+getCarry(t2l,sigma0l)|0;hh=gh,hl=gl,gh=fh,gl=fl,fh=eh,fl=el,eh=dh+t1h+getCarry(el=dl+t1l|0,dl)|0,dh=ch,dl=cl,ch=bh,cl=bl,bh=ah,bl=al,ah=t1h+t2h+getCarry(al=t1l+t2l|0,t1l)|0}this._al=this._al+al|0,this._bl=this._bl+bl|0,this._cl=this._cl+cl|0,this._dl=this._dl+dl|0,this._el=this._el+el|0,this._fl=this._fl+fl|0,this._gl=this._gl+gl|0,this._hl=this._hl+hl|0,this._ah=this._ah+ah+getCarry(this._al,al)|0,this._bh=this._bh+bh+getCarry(this._bl,bl)|0,this._ch=this._ch+ch+getCarry(this._cl,cl)|0,this._dh=this._dh+dh+getCarry(this._dl,dl)|0,this._eh=this._eh+eh+getCarry(this._el,el)|0,this._fh=this._fh+fh+getCarry(this._fl,fl)|0,this._gh=this._gh+gh+getCarry(this._gl,gl)|0,this._hh=this._hh+hh+getCarry(this._hl,hl)|0},Sha512.prototype._hash=function(){var H=Buffer.allocUnsafe(64);function writeInt64BE(h,l,offset){H.writeInt32BE(h,offset),H.writeInt32BE(l,offset+4)}return writeInt64BE(this._ah,this._al,0),writeInt64BE(this._bh,this._bl,8),writeInt64BE(this._ch,this._cl,16),writeInt64BE(this._dh,this._dl,24),writeInt64BE(this._eh,this._el,32),writeInt64BE(this._fh,this._fl,40),writeInt64BE(this._gh,this._gl,48),writeInt64BE(this._hh,this._hl,56),H},module.exports=Sha512},"./node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function normalizeEncoding(enc){var nenc=function _normalizeEncoding(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}(encoding),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function utf8CheckExtraBytes(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,"�";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,"�";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,"�"}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString("utf16le",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):"";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}exports.I=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=function utf8End(buf){var r=buf&&buf.length?this.write(buf):"";return this.lastNeed?r+"�":r},StringDecoder.prototype.text=function utf8Text(buf,i){var total=function utf8CheckIncomplete(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0)return nb>0&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if(nb=utf8CheckByte(buf[j]),nb>=0)return nb>0&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if(nb=utf8CheckByte(buf[j]),nb>=0)return nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},"./node_modules/.pnpm/tiny-case@1.0.3/node_modules/tiny-case/index.js":module=>{const reWords=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,words=str=>str.match(reWords)||[],upperFirst=str=>str[0].toUpperCase()+str.slice(1),join=(str,d)=>words(str).join(d).toLowerCase(),camelCase=str=>words(str).reduce(((acc,next)=>`${acc}${acc?next[0].toUpperCase()+next.slice(1).toLowerCase():next.toLowerCase()}`),"");module.exports={words,upperFirst,camelCase,pascalCase:str=>upperFirst(camelCase(str)),snakeCase:str=>join(str,"_"),kebabCase:str=>join(str,"-"),sentenceCase:str=>upperFirst(join(str," ")),titleCase:str=>words(str).map(upperFirst).join(" ")}},"./node_modules/.pnpm/toposort@2.0.2/node_modules/toposort/index.js":module=>{function toposort(nodes,edges){var cursor=nodes.length,sorted=new Array(cursor),visited={},i=cursor,outgoingEdges=function makeOutgoingEdges(arr){for(var edges=new Map,i=0,len=arr.length;i<len;i++){var edge=arr[i];edges.has(edge[0])||edges.set(edge[0],new Set),edges.has(edge[1])||edges.set(edge[1],new Set),edges.get(edge[0]).add(edge[1])}return edges}(edges),nodesHash=function makeNodesHash(arr){for(var res=new Map,i=0,len=arr.length;i<len;i++)res.set(arr[i],i);return res}(nodes);for(edges.forEach((function(edge){if(!nodesHash.has(edge[0])||!nodesHash.has(edge[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)visited[i]||visit(nodes[i],i,new Set);return sorted;function visit(node,i,predecessors){if(predecessors.has(node)){var nodeRep;try{nodeRep=", node was:"+JSON.stringify(node)}catch(e){nodeRep=""}throw new Error("Cyclic dependency"+nodeRep)}if(!nodesHash.has(node))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(node));if(!visited[i]){visited[i]=!0;var outgoing=outgoingEdges.get(node)||new Set;if(i=(outgoing=Array.from(outgoing)).length){predecessors.add(node);do{var child=outgoing[--i];visit(child,nodesHash.get(child),predecessors)}while(i);predecessors.delete(node)}sorted[--cursor]=node}}}module.exports=function(edges){return toposort(function uniqueNodes(arr){for(var res=new Set,i=0,len=arr.length;i<len;i++){var edge=arr[i];res.add(edge[0]),res.add(edge[1])}return Array.from(res)}(edges),edges)},module.exports.array=toposort},"./node_modules/.pnpm/tslib@2.7.0/node_modules/tslib/tslib.es6.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AQ:()=>__asyncGenerator,C6:()=>__extends,Cl:()=>__assign,Ju:()=>__values,N3:()=>__await,Tt:()=>__rest,YH:()=>__generator,fX:()=>__spreadArray,sH:()=>__awaiter,xN:()=>__asyncValues,zs:()=>__read});var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))}function __generator(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}Object.create;function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spreadArray(to,from,pack){if(pack||2===arguments.length)for(var ar,i=0,l=from.length;i<l;i++)!ar&&i in from||(ar||(ar=Array.prototype.slice.call(from,0,i)),ar[i]=from[i]);return to.concat(ar||Array.prototype.slice.call(from))}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,g=generator.apply(thisArg,_arguments||[]),q=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),verb("next"),verb("throw"),verb("return",(function awaitReturn(f){return function(v){return Promise.resolve(v).then(f,reject)}})),i[Symbol.asyncIterator]=function(){return this},i;function verb(n,f){g[n]&&(i[n]=function(v){return new Promise((function(a,b){q.push([n,v,a,b])>1||resume(n,v)}))},f&&(i[n]=f(i[n])))}function resume(n,v){try{!function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}(g[n](v))}catch(e){settle(q[0][3],e)}}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){f(v),q.shift(),q.length&&resume(q[0][0],q[0][1])}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,m=o[Symbol.asyncIterator];return m?m.call(o):(o=__values(o),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise((function(resolve,reject){(function settle(resolve,reject,d,v){Promise.resolve(v).then((function(v){resolve({value:v,done:d})}),reject)})(resolve,reject,(v=o[n](v)).done,v.value)}))}}}Object.create;"function"==typeof SuppressedError&&SuppressedError},"./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/errors.js":(module,__unused_webpack_exports,__webpack_require__)=>{var native=__webpack_require__("./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/native.js");function getTypeName(fn){return fn.name||fn.toString().match(/function (.*?)\s*\(/)[1]}function getValueTypeName(value){return native.Nil(value)?"":getTypeName(value.constructor)}function captureStackTrace(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function tfJSON(type){return native.Function(type)?type.toJSON?type.toJSON():getTypeName(type):native.Array(type)?"Array":type&&native.Object(type)?"Object":void 0!==type?type:""}function tfErrorString(type,value,valueTypeName){var valueJson=function getValue(value){return native.Function(value)?"":native.String(value)?JSON.stringify(value):value&&native.Object(value)?"":value}(value);return"Expected "+tfJSON(type)+", got"+(""!==valueTypeName?" "+valueTypeName:"")+(""!==valueJson?" "+valueJson:"")}function TfTypeError(type,value,valueTypeName){valueTypeName=valueTypeName||getValueTypeName(value),this.message=tfErrorString(type,value,valueTypeName),captureStackTrace(this,TfTypeError),this.__type=type,this.__value=value,this.__valueTypeName=valueTypeName}function TfPropertyTypeError(type,property,label,value,valueTypeName){type?(valueTypeName=valueTypeName||getValueTypeName(value),this.message=function tfPropertyErrorString(type,label,name,value,valueTypeName){var description='" of type ';return"key"===label&&(description='" with key type '),tfErrorString('property "'+tfJSON(name)+description+tfJSON(type),value,valueTypeName)}(type,label,property,value,valueTypeName)):this.message='Unexpected property "'+property+'"',captureStackTrace(this,TfTypeError),this.__label=label,this.__property=property,this.__type=type,this.__value=value,this.__valueTypeName=valueTypeName}TfTypeError.prototype=Object.create(Error.prototype),TfTypeError.prototype.constructor=TfTypeError,TfPropertyTypeError.prototype=Object.create(Error.prototype),TfPropertyTypeError.prototype.constructor=TfTypeError,module.exports={TfTypeError,TfPropertyTypeError,tfCustomError:function tfCustomError(expected,actual){return new TfTypeError(expected,{},actual)},tfSubError:function tfSubError(e,property,label){return e instanceof TfPropertyTypeError?(property=property+"."+e.__property,e=new TfPropertyTypeError(e.__type,property,e.__label,e.__value,e.__valueTypeName)):e instanceof TfTypeError&&(e=new TfPropertyTypeError(e.__type,property,label,e.__value,e.__valueTypeName)),captureStackTrace(e),e},tfJSON,getValueTypeName}},"./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/extra.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,NATIVE=__webpack_require__("./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/native.js"),ERRORS=__webpack_require__("./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/errors.js");function _Buffer(value){return Buffer.isBuffer(value)}function Hex(value){return"string"==typeof value&&/^([0-9a-f]{2})+$/i.test(value)}function _LengthN(type,length){var name=type.toJSON();function Length(value){if(!type(value))return!1;if(value.length===length)return!0;throw ERRORS.tfCustomError(name+"(Length: "+length+")",name+"(Length: "+value.length+")")}return Length.toJSON=function(){return name},Length}var _ArrayN=_LengthN.bind(null,NATIVE.Array),_BufferN=_LengthN.bind(null,_Buffer),_HexN=_LengthN.bind(null,Hex),_StringN=_LengthN.bind(null,NATIVE.String);var INT53_MAX=Math.pow(2,53)-1;var types={ArrayN:_ArrayN,Buffer:_Buffer,BufferN:_BufferN,Finite:function Finite(value){return"number"==typeof value&&isFinite(value)},Hex,HexN:_HexN,Int8:function Int8(value){return value<<24>>24===value},Int16:function Int16(value){return value<<16>>16===value},Int32:function Int32(value){return(0|value)===value},Int53:function Int53(value){return"number"==typeof value&&value>=-INT53_MAX&&value<=INT53_MAX&&Math.floor(value)===value},Range:function Range(a,b,f){function _range(value,strict){return f(value,strict)&&value>a&&value<b}return f=f||NATIVE.Number,_range.toJSON=function(){return`${f.toJSON()} between [${a}, ${b}]`},_range},StringN:_StringN,UInt8:function UInt8(value){return(255&value)===value},UInt16:function UInt16(value){return(65535&value)===value},UInt32:function UInt32(value){return value>>>0===value},UInt53:function UInt53(value){return"number"==typeof value&&value>=0&&value<=INT53_MAX&&Math.floor(value)===value}};for(var typeName in types)types[typeName].toJSON=function(t){return t}.bind(null,typeName);module.exports=types},"./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var ERRORS=__webpack_require__("./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/errors.js"),NATIVE=__webpack_require__("./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/native.js"),tfJSON=ERRORS.tfJSON,TfTypeError=ERRORS.TfTypeError,TfPropertyTypeError=ERRORS.TfPropertyTypeError,tfSubError=ERRORS.tfSubError,getValueTypeName=ERRORS.getValueTypeName,TYPES={arrayOf:function arrayOf(type,options){function _arrayOf(array,strict){return!!NATIVE.Array(array)&&(!NATIVE.Nil(array)&&(!(void 0!==options.minLength&&array.length<options.minLength)&&(!(void 0!==options.maxLength&&array.length>options.maxLength)&&((void 0===options.length||array.length===options.length)&&array.every((function(value,i){try{return typeforce(type,value,strict)}catch(e){throw tfSubError(e,i)}}))))))}return type=compile(type),options=options||{},_arrayOf.toJSON=function(){var str="["+tfJSON(type)+"]";return void 0!==options.length?str+="{"+options.length+"}":void 0===options.minLength&&void 0===options.maxLength||(str+="{"+(void 0===options.minLength?0:options.minLength)+","+(void 0===options.maxLength?1/0:options.maxLength)+"}"),str},_arrayOf},maybe:function maybe(type){function _maybe(value,strict){return NATIVE.Nil(value)||type(value,strict,maybe)}return type=compile(type),_maybe.toJSON=function(){return"?"+tfJSON(type)},_maybe},map:function map(propertyType,propertyKeyType){function _map(value,strict){if(!NATIVE.Object(value))return!1;if(NATIVE.Nil(value))return!1;for(var propertyName in value){try{propertyKeyType&&typeforce(propertyKeyType,propertyName,strict)}catch(e){throw tfSubError(e,propertyName,"key")}try{var propertyValue=value[propertyName];typeforce(propertyType,propertyValue,strict)}catch(e){throw tfSubError(e,propertyName)}}return!0}return propertyType=compile(propertyType),propertyKeyType&&(propertyKeyType=compile(propertyKeyType)),_map.toJSON=propertyKeyType?function(){return"{"+tfJSON(propertyKeyType)+": "+tfJSON(propertyType)+"}"}:function(){return"{"+tfJSON(propertyType)+"}"},_map},object:function object(uncompiled){var type={};for(var typePropertyName in uncompiled)type[typePropertyName]=compile(uncompiled[typePropertyName]);function _object(value,strict){if(!NATIVE.Object(value))return!1;if(NATIVE.Nil(value))return!1;var propertyName;try{for(propertyName in type){typeforce(type[propertyName],value[propertyName],strict)}}catch(e){throw tfSubError(e,propertyName)}if(strict)for(propertyName in value)if(!type[propertyName])throw new TfPropertyTypeError(void 0,propertyName);return!0}return _object.toJSON=function(){return tfJSON(type)},_object},anyOf:function anyOf(){var types=[].slice.call(arguments).map(compile);function _anyOf(value,strict){return types.some((function(type){try{return typeforce(type,value,strict)}catch(e){return!1}}))}return _anyOf.toJSON=function(){return types.map(tfJSON).join("|")},_anyOf},allOf:function allOf(){var types=[].slice.call(arguments).map(compile);function _allOf(value,strict){return types.every((function(type){try{return typeforce(type,value,strict)}catch(e){return!1}}))}return _allOf.toJSON=function(){return types.map(tfJSON).join(" & ")},_allOf},quacksLike:function quacksLike(type){function _quacksLike(value){return type===getValueTypeName(value)}return _quacksLike.toJSON=function(){return type},_quacksLike},tuple:function tuple(){var types=[].slice.call(arguments).map(compile);function _tuple(values,strict){return!NATIVE.Nil(values)&&(!NATIVE.Nil(values.length)&&((!strict||values.length===types.length)&&types.every((function(type,i){try{return typeforce(type,values[i],strict)}catch(e){throw tfSubError(e,i)}}))))}return _tuple.toJSON=function(){return"("+types.map(tfJSON).join(", ")+")"},_tuple},value:function value(expected){function _value(actual){return actual===expected}return _value.toJSON=function(){return expected},_value}};function compile(type){if(NATIVE.String(type))return"?"===type[0]?TYPES.maybe(type.slice(1)):NATIVE[type]||TYPES.quacksLike(type);if(type&&NATIVE.Object(type)){if(NATIVE.Array(type)){if(1!==type.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return TYPES.arrayOf(type[0])}return TYPES.object(type)}return NATIVE.Function(type)?type:TYPES.value(type)}function typeforce(type,value,strict,surrogate){if(NATIVE.Function(type)){if(type(value,strict))return!0;throw new TfTypeError(surrogate||type,value)}return typeforce(compile(type),value,strict)}for(var typeName in TYPES.oneOf=TYPES.anyOf,NATIVE)typeforce[typeName]=NATIVE[typeName];for(typeName in TYPES)typeforce[typeName]=TYPES[typeName];var EXTRA=__webpack_require__("./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/extra.js");for(typeName in EXTRA)typeforce[typeName]=EXTRA[typeName];typeforce.compile=compile,typeforce.TfTypeError=TfTypeError,typeforce.TfPropertyTypeError=TfPropertyTypeError,module.exports=typeforce},"./node_modules/.pnpm/typeforce@1.18.0/node_modules/typeforce/native.js":module=>{var types={Array:function(value){return null!=value&&value.constructor===Array},Boolean:function(value){return"boolean"==typeof value},Function:function(value){return"function"==typeof value},Nil:function(value){return null==value},Number:function(value){return"number"==typeof value},Object:function(value){return"object"==typeof value},String:function(value){return"string"==typeof value},"":function(){return!0}};for(var typeName in types.Null=types.Nil,types)types[typeName].toJSON=function(t){return t}.bind(null,typeName);module.exports=types},"./node_modules/.pnpm/util-deprecate@1.0.2/node_modules/util-deprecate/browser.js":(module,__unused_webpack_exports,__webpack_require__)=>{function config(name){try{if(!__webpack_require__.g.localStorage)return!1}catch(_){return!1}var val=__webpack_require__.g.localStorage[name];return null!=val&&"true"===String(val).toLowerCase()}module.exports=function deprecate(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function deprecated(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}},"./node_modules/.pnpm/varuint-bitcoin@1.1.2/node_modules/varuint-bitcoin/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__("./node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js").Buffer,MAX_SAFE_INTEGER=9007199254740991;function checkUInt53(n){if(n<0||n>MAX_SAFE_INTEGER||n%1!=0)throw new RangeError("value out of range")}function encodingLength(number){return checkUInt53(number),number<253?1:number<=65535?3:number<=4294967295?5:9}module.exports={encode:function encode(number,buffer,offset){if(checkUInt53(number),buffer||(buffer=Buffer.allocUnsafe(encodingLength(number))),!Buffer.isBuffer(buffer))throw new TypeError("buffer must be a Buffer instance");return offset||(offset=0),number<253?(buffer.writeUInt8(number,offset),encode.bytes=1):number<=65535?(buffer.writeUInt8(253,offset),buffer.writeUInt16LE(number,offset+1),encode.bytes=3):number<=4294967295?(buffer.writeUInt8(254,offset),buffer.writeUInt32LE(number,offset+1),encode.bytes=5):(buffer.writeUInt8(255,offset),buffer.writeUInt32LE(number>>>0,offset+1),buffer.writeUInt32LE(number/4294967296|0,offset+5),encode.bytes=9),buffer},decode:function decode(buffer,offset){if(!Buffer.isBuffer(buffer))throw new TypeError("buffer must be a Buffer instance");offset||(offset=0);var first=buffer.readUInt8(offset);if(first<253)return decode.bytes=1,first;if(253===first)return decode.bytes=3,buffer.readUInt16LE(offset+1);if(254===first)return decode.bytes=5,buffer.readUInt32LE(offset+1);decode.bytes=9;var lo=buffer.readUInt32LE(offset+1),number=4294967296*buffer.readUInt32LE(offset+5)+lo;return checkUInt53(number),number},encodingLength}},"./node_modules/.pnpm/wif@2.0.6/node_modules/wif/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer,bs58check=__webpack_require__("./node_modules/.pnpm/bs58check@2.1.2/node_modules/bs58check/index.js");function decodeRaw(buffer,version){if(void 0!==version&&buffer[0]!==version)throw new Error("Invalid network version");if(33===buffer.length)return{version:buffer[0],privateKey:buffer.slice(1,33),compressed:!1};if(34!==buffer.length)throw new Error("Invalid WIF length");if(1!==buffer[33])throw new Error("Invalid compression flag");return{version:buffer[0],privateKey:buffer.slice(1,33),compressed:!0}}function encodeRaw(version,privateKey,compressed){var result=new Buffer(compressed?34:33);return result.writeUInt8(version,0),privateKey.copy(result,1),compressed&&(result[33]=1),result}module.exports={decode:function decode(string,version){return decodeRaw(bs58check.decode(string),version)},decodeRaw,encode:function encode(version,privateKey,compressed){return"number"==typeof version?bs58check.encode(encodeRaw(version,privateKey,compressed)):bs58check.encode(encodeRaw(version.version,version.privateKey,version.compressed))},encodeRaw}},"./node_modules/.pnpm/zone-file@2.0.0-beta.3/node_modules/zone-file/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("./node_modules/.pnpm/zone-file@2.0.0-beta.3/node_modules/zone-file/dist/zone-file.cjs.production.min.js")},"./node_modules/.pnpm/zone-file@2.0.0-beta.3/node_modules/zone-file/dist/zone-file.cjs.production.min.js":(__unused_webpack_module,exports)=>{"use strict";function t(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function r(r,n){var e;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(e=function(r){if(r){if("string"==typeof r)return t(r,void 0);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(r,void 0):void 0}}(r))||n&&r&&"number"==typeof r.length){e&&(r=e);var a=0;return function(){return a>=r.length?{done:!0}:{done:!1,value:r[a++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(e=r[Symbol.iterator]()).next.bind(e)}function n(t,n){return void 0===n&&(n="{$origin}\n{$ttl}\n\n; SOA Record\n{name} {ttl}    IN  SOA {mname}{rname}(\n{serial} ;serial\n{refresh} ;refresh\n{retry} ;retry\n{expire} ;expire\n{minimum} ;minimum ttl\n)\n\n; NS Records\n{ns}\n\n; MX Records\n{mx}\n\n; A Records\n{a}\n\n; AAAA Records\n{aaaa}\n\n; CNAME Records\n{cname}\n\n; PTR Records\n{ptr}\n\n; TXT Records\n{txt}\n\n; SRV Records\n{srv}\n\n; SPF Records\n{spf}\n\n; URI Records\n{uri}\n"),n=function(t,r){var n="";return void 0!==t&&(n+="$ORIGIN "+t),r.replace("{$origin}",n)}(t.$origin,n),n=function(t,r){var n="";return void 0!==t&&(n+="$TTL "+t),r.replace("{$ttl}",n)}(t.$ttl,n),n=function(t,r){var n=r;if(void 0!==t)for(var e in t.name=t.name||"@",t.ttl=t.ttl||"",t)n=n.replace("{"+e+"}",t[e]+"\t");return n}(t.soa,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tNS\t"+s.host+"\n"}return n.replace("{ns}",e)}(t.ns,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tA\t"+s.ip+"\n"}return n.replace("{a}",e)}(t.a,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tAAAA\t"+s.ip+"\n"}return n.replace("{aaaa}",e)}(t.aaaa,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tCNAME\t"+s.alias+"\n"}return n.replace("{cname}",e)}(t.cname,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tMX\t"+s.preference+"\t"+s.host+"\n"}return n.replace("{mx}",e)}(t.mx,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tPTR\t"+s.host+"\n"}return n.replace("{ptr}",e)}(t.ptr,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tTXT\t";var o=s.txt;"string"==typeof o?e+='"'+o+'"':o instanceof Array&&(e+=o.map((function(t){return'"'+t+'"'})).join(" ")),e+="\n"}return n.replace("{txt}",e)}(t.txt,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tSRV\t"+s.priority+"\t",e+=s.weight+"\t",e+=s.port+"\t",e+=s.target+"\n"}return n.replace("{srv}",e)}(t.srv,n),n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tSPF\t"+s.data+"\n"}return n.replace("{spf}",e)}(t.spf,n),(n=function(t,r){r=(r=r.replace("{zone}",t.$origin||!!t.soa&&t.soa.name||"")).replace("{datetime}",(new Date).toISOString());var n=Math.round(Date.now()/1e3);return r.replace("{time}",""+n)}(t,n=function(t,n){var e="";if(t)for(var a,i=r(t);!(a=i()).done;){var s=a.value;e+=(s.name||"@")+"\t",s.ttl&&(e+=s.ttl+"\t"),e+="IN\tURI\t"+s.priority+"\t",e+=s.weight+"\t",e+='"'+s.target+'"\n'}return n.replace("{uri}",e)}(t.uri,n))).replace(/\n{2,}/gim,"\n\n")}function e(t){return function(t){for(var n,e={},g=r(t.split("\n"));!(n=g()).done;){var h=n.value;if(h&&h.trim()){var d=h.toUpperCase();/\s+TXT\s+/.test(d)?(e.txt=e.txt||[],e.txt.push(u(h))):0===d.indexOf("$ORIGIN")?e.$origin=h.split(/\s+/g)[1]:0===d.indexOf("$TTL")?e.$ttl=parseInt(h.split(/\s+/g)[1],10):/\s+SOA\s+/.test(d)?e.soa=a(h):/\s+NS\s+/.test(d)?(e.ns=e.ns||[],e.ns.push(i(h))):/\s+A\s+/.test(d)?(e.a=e.a||[],e.a.push(s(h,e.a))):/\s+AAAA\s+/.test(d)?(e.aaaa=e.aaaa||[],e.aaaa.push(o(h))):/\s+CNAME\s+/.test(d)?(e.cname=e.cname||[],e.cname.push(l(h))):/\s+MX\s+/.test(d)?(e.mx=e.mx||[],e.mx.push(p(h))):/\s+PTR\s+/.test(d)?(e.ptr=e.ptr||[],e.ptr.push(c(h,e.ptr,e.$origin))):/\s+SRV\s+/.test(d)?(e.srv=e.srv||[],e.srv.push(f(h))):/\s+SPF\s+/.test(d)?(e.spf=e.spf||[],e.spf.push(m(h))):/\s+URI\s+/.test(d)&&(e.uri=e.uri||[],e.uri.push(v(h)))}}return e}(t=function(t){for(var r=[],n=/\([\s\S]*?\)/gim,e=n.exec(t);null!==e;){var a=e[0].replace(/\s+/gm," ");r.push({match:e,replacement:a}),e=n.exec(t)}for(var i=t.split(""),s=0,o=r;s<o.length;s++){var l=o[s],p=l.match;i.splice(p.index,p[0].length,l.replacement)}return i.join("").replace(/\(|\)/gim," ")}(t=function(t){return t.replace(/(^|[^\\]);.*/g,(function(t,r){return r||""}))}(t)))}function a(t){var r={},n=t.trim().split(/\s+/g),e=n.length;return r.name=n[0],r.minimum=parseInt(n[e-1],10),r.expire=parseInt(n[e-2],10),r.retry=parseInt(n[e-3],10),r.refresh=parseInt(n[e-4],10),r.serial=parseInt(n[e-5],10),r.rname=n[e-6],r.mname=n[e-7],isNaN(n[1])||(r.ttl=parseInt(n[1],10)),r}function i(t){var r=t.trim().split(/\s+/g),n={name:r[0],host:r[r.length-1]};return isNaN(r[1])||(n.ttl=parseInt(r[1],10)),n}function s(t,r){var n=t.trim().split(/\s+/g),e=t.trim().toUpperCase().split(/\s+/g),a={name:n[0],ip:n[n.length-1]};return 0===e.lastIndexOf("A")&&(a.name=r.length?r[r.length-1].name:"@"),isNaN(n[1])||(a.ttl=parseInt(n[1],10)),a}function o(t){var r=t.trim().split(/\s+/g),n={name:r[0],ip:r[r.length-1]};return isNaN(r[1])||(n.ttl=parseInt(r[1],10)),n}function l(t){var r=t.trim().split(/\s+/g),n={name:r[0],alias:r[r.length-1]};return isNaN(r[1])||(n.ttl=parseInt(r[1],10)),n}function p(t){var r=t.trim().split(/\s+/g),n=r.length,e={name:r[0],preference:parseInt(r[n-2],10),host:r[n-1]};return isNaN(r[1])||(e.ttl=parseInt(r[1],10)),e}function u(t){var r=t.trim().match(/[^\s"']+|"[^"]*"|'[^']*'/g);if(!r)throw new Error("Failure to tokenize TXT record");var n,e=r.length,a=r.indexOf("TXT");function i(t){return t.indexOf('"')>-1&&(t=t.split('"')[1]),t}n=e-a-1>1?[].concat(r.slice(a+1).map(i)):i(r[e-1]);var s={name:r[0],txt:n};return isNaN(r[1])||(s.ttl=parseInt(r[1],10)),s}function c(t,r,n){var e=t.trim().split(/\s+/g);0===t.trim().toUpperCase().split(/\s+/g).lastIndexOf("PTR")&&r[r.length-1]&&e.unshift(r[r.length-1].name);var a={name:e[0],fullname:e[0]+"."+n,host:e[e.length-1]};return isNaN(e[1])||(a.ttl=parseInt(e[1],10)),a}function f(t){var r=t.trim().split(/\s+/g),n=r.length,e={name:r[0],target:r[n-1],priority:parseInt(r[n-4],10),weight:parseInt(r[n-3],10),port:parseInt(r[n-2],10)};return isNaN(r[1])||(e.ttl=parseInt(r[1],10)),e}function m(t){for(var r=t.trim().split(/\s+/g),n={name:r[0],data:""},e=r.length;e-- >4;)n.data=r[e]+" "+n.data.trim();return isNaN(r[1])||(n.ttl=parseInt(r[1],10)),n}function v(t){var r=t.trim().split(/\s+/g),n=r.length,e={name:r[0],target:r[n-1].replace(/"/g,""),priority:parseInt(r[n-3],10),weight:parseInt(r[n-2],10)};return isNaN(r[1])||(e.ttl=parseInt(r[1],10)),e}(function(){function t(t){this.jsonZoneFile="object"==typeof t?JSON.parse(JSON.stringify(t)):"string"==typeof t?e(t):void 0}var r=t.prototype;r.toJSON=function(){return this.jsonZoneFile},r.toString=function(){return n(this.toJSON())}})(),exports.makeZoneFile=n,exports.parseZoneFile=e},"./node_modules/.pnpm/axios@1.7.4/node_modules/axios/dist/browser/axios.cjs":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var process=__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js"),Buffer=__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;function bind(fn,thisArg){return function wrap(){return fn.apply(thisArg,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(cache=Object.create(null),thing=>{const str=toString.call(thing);return cache[str]||(cache[str]=str.slice(8,-1).toLowerCase())});var cache;const kindOfTest=type=>(type=type.toLowerCase(),thing=>kindOf(thing)===type),typeOfTest=type=>thing=>typeof thing===type,{isArray}=Array,isUndefined=typeOfTest("undefined");const isArrayBuffer=kindOfTest("ArrayBuffer");const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=thing=>null!==thing&&"object"==typeof thing,isPlainObject=val=>{if("object"!==kindOf(val))return!1;const prototype=getPrototypeOf(val);return!(null!==prototype&&prototype!==Object.prototype&&null!==Object.getPrototypeOf(prototype)||Symbol.toStringTag in val||Symbol.iterator in val)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest);function forEach(obj,fn,{allOwnKeys=!1}={}){if(null==obj)return;let i,l;if("object"!=typeof obj&&(obj=[obj]),isArray(obj))for(i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else{const keys=allOwnKeys?Object.getOwnPropertyNames(obj):Object.keys(obj),len=keys.length;let key;for(i=0;i<len;i++)key=keys[i],fn.call(null,obj[key],key,obj)}}function findKey(obj,key){key=key.toLowerCase();const keys=Object.keys(obj);let _key,i=keys.length;for(;i-- >0;)if(_key=keys[i],key===_key.toLowerCase())return _key;return null}const _global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:__webpack_require__.g,isContextDefined=context=>!isUndefined(context)&&context!==_global;const isTypedArray=(TypedArray="undefined"!=typeof Uint8Array&&getPrototypeOf(Uint8Array),thing=>TypedArray&&thing instanceof TypedArray);var TypedArray;const isHTMLForm=kindOfTest("HTMLFormElement"),hasOwnProperty=(({hasOwnProperty})=>(obj,prop)=>hasOwnProperty.call(obj,prop))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(obj,reducer)=>{const descriptors=Object.getOwnPropertyDescriptors(obj),reducedDescriptors={};forEach(descriptors,((descriptor,name)=>{let ret;!1!==(ret=reducer(descriptor,name,obj))&&(reducedDescriptors[name]=ret||descriptor)})),Object.defineProperties(obj,reducedDescriptors)},ALPHA="abcdefghijklmnopqrstuvwxyz",ALPHABET={DIGIT:"0123456789",ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+"0123456789"};const isAsyncFn=kindOfTest("AsyncFunction"),_setImmediate=(setImmediateSupported="function"==typeof setImmediate,postMessageSupported=isFunction(_global.postMessage),setImmediateSupported?setImmediate:postMessageSupported?(token=`axios@${Math.random()}`,callbacks=[],_global.addEventListener("message",(({source,data})=>{source===_global&&data===token&&callbacks.length&&callbacks.shift()()}),!1),cb=>{callbacks.push(cb),_global.postMessage(token,"*")}):cb=>setTimeout(cb));var setImmediateSupported,postMessageSupported,token,callbacks;const asap="undefined"!=typeof queueMicrotask?queueMicrotask.bind(_global):void 0!==process&&process.nextTick||_setImmediate;var utils$1={isArray,isArrayBuffer,isBuffer:function isBuffer(val){return null!==val&&!isUndefined(val)&&null!==val.constructor&&!isUndefined(val.constructor)&&isFunction(val.constructor.isBuffer)&&val.constructor.isBuffer(val)},isFormData:thing=>{let kind;return thing&&("function"==typeof FormData&&thing instanceof FormData||isFunction(thing.append)&&("formdata"===(kind=kindOf(thing))||"object"===kind&&isFunction(thing.toString)&&"[object FormData]"===thing.toString()))},isArrayBufferView:function isArrayBufferView(val){let result;return result="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(val):val&&val.buffer&&isArrayBuffer(val.buffer),result},isString,isNumber,isBoolean:thing=>!0===thing||!1===thing,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream:val=>isObject(val)&&isFunction(val.pipe),isURLSearchParams,isTypedArray,isFileList,forEach,merge:function merge(){const{caseless}=isContextDefined(this)&&this||{},result={},assignValue=(val,key)=>{const targetKey=caseless&&findKey(result,key)||key;isPlainObject(result[targetKey])&&isPlainObject(val)?result[targetKey]=merge(result[targetKey],val):isPlainObject(val)?result[targetKey]=merge({},val):isArray(val)?result[targetKey]=val.slice():result[targetKey]=val};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&forEach(arguments[i],assignValue);return result},extend:(a,b,thisArg,{allOwnKeys}={})=>(forEach(b,((val,key)=>{thisArg&&isFunction(val)?a[key]=bind(val,thisArg):a[key]=val}),{allOwnKeys}),a),trim:str=>str.trim?str.trim():str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:content=>(65279===content.charCodeAt(0)&&(content=content.slice(1)),content),inherits:(constructor,superConstructor,props,descriptors)=>{constructor.prototype=Object.create(superConstructor.prototype,descriptors),constructor.prototype.constructor=constructor,Object.defineProperty(constructor,"super",{value:superConstructor.prototype}),props&&Object.assign(constructor.prototype,props)},toFlatObject:(sourceObj,destObj,filter,propFilter)=>{let props,i,prop;const merged={};if(destObj=destObj||{},null==sourceObj)return destObj;do{for(props=Object.getOwnPropertyNames(sourceObj),i=props.length;i-- >0;)prop=props[i],propFilter&&!propFilter(prop,sourceObj,destObj)||merged[prop]||(destObj[prop]=sourceObj[prop],merged[prop]=!0);sourceObj=!1!==filter&&getPrototypeOf(sourceObj)}while(sourceObj&&(!filter||filter(sourceObj,destObj))&&sourceObj!==Object.prototype);return destObj},kindOf,kindOfTest,endsWith:(str,searchString,position)=>{str=String(str),(void 0===position||position>str.length)&&(position=str.length),position-=searchString.length;const lastIndex=str.indexOf(searchString,position);return-1!==lastIndex&&lastIndex===position},toArray:thing=>{if(!thing)return null;if(isArray(thing))return thing;let i=thing.length;if(!isNumber(i))return null;const arr=new Array(i);for(;i-- >0;)arr[i]=thing[i];return arr},forEachEntry:(obj,fn)=>{const iterator=(obj&&obj[Symbol.iterator]).call(obj);let result;for(;(result=iterator.next())&&!result.done;){const pair=result.value;fn.call(obj,pair[0],pair[1])}},matchAll:(regExp,str)=>{let matches;const arr=[];for(;null!==(matches=regExp.exec(str));)arr.push(matches);return arr},isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods:obj=>{reduceDescriptors(obj,((descriptor,name)=>{if(isFunction(obj)&&-1!==["arguments","caller","callee"].indexOf(name))return!1;const value=obj[name];isFunction(value)&&(descriptor.enumerable=!1,"writable"in descriptor?descriptor.writable=!1:descriptor.set||(descriptor.set=()=>{throw Error("Can not rewrite read-only method '"+name+"'")}))}))},toObjectSet:(arrayOrString,delimiter)=>{const obj={},define=arr=>{arr.forEach((value=>{obj[value]=!0}))};return isArray(arrayOrString)?define(arrayOrString):define(String(arrayOrString).split(delimiter)),obj},toCamelCase:str=>str.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function replacer(m,p1,p2){return p1.toUpperCase()+p2})),noop:()=>{},toFiniteNumber:(value,defaultValue)=>null!=value&&Number.isFinite(value=+value)?value:defaultValue,findKey,global:_global,isContextDefined,ALPHABET,generateString:(size=16,alphabet=ALPHABET.ALPHA_DIGIT)=>{let str="";const{length}=alphabet;for(;size--;)str+=alphabet[Math.random()*length|0];return str},isSpecCompliantForm:function isSpecCompliantForm(thing){return!!(thing&&isFunction(thing.append)&&"FormData"===thing[Symbol.toStringTag]&&thing[Symbol.iterator])},toJSONObject:obj=>{const stack=new Array(10),visit=(source,i)=>{if(isObject(source)){if(stack.indexOf(source)>=0)return;if(!("toJSON"in source)){stack[i]=source;const target=isArray(source)?[]:{};return forEach(source,((value,key)=>{const reducedValue=visit(value,i+1);!isUndefined(reducedValue)&&(target[key]=reducedValue)})),stack[i]=void 0,target}}return source};return visit(obj,0)},isAsyncFn,isThenable:thing=>thing&&(isObject(thing)||isFunction(thing))&&isFunction(thing.then)&&isFunction(thing.catch),setImmediate:_setImmediate,asap};function AxiosError(message,code,config,request,response){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=message,this.name="AxiosError",code&&(this.code=code),config&&(this.config=config),request&&(this.request=request),response&&(this.response=response)}utils$1.inherits(AxiosError,Error,{toJSON:function toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((code=>{descriptors[code]={value:code}})),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError.from=(error,code,config,request,response,customProps)=>{const axiosError=Object.create(prototype$1);return utils$1.toFlatObject(error,axiosError,(function filter(obj){return obj!==Error.prototype}),(prop=>"isAxiosError"!==prop)),AxiosError.call(axiosError,error.message,code,config,request,response),axiosError.cause=error,axiosError.name=error.name,customProps&&Object.assign(axiosError,customProps),axiosError};function isVisitable(thing){return utils$1.isPlainObject(thing)||utils$1.isArray(thing)}function removeBrackets(key){return utils$1.endsWith(key,"[]")?key.slice(0,-2):key}function renderKey(path,key,dots){return path?path.concat(key).map((function each(token,i){return token=removeBrackets(token),!dots&&i?"["+token+"]":token})).join(dots?".":""):key}const predicates=utils$1.toFlatObject(utils$1,{},null,(function filter(prop){return/^is[A-Z]/.test(prop)}));function toFormData(obj,formData,options){if(!utils$1.isObject(obj))throw new TypeError("target must be an object");formData=formData||new FormData;const metaTokens=(options=utils$1.toFlatObject(options,{metaTokens:!0,dots:!1,indexes:!1},!1,(function defined(option,source){return!utils$1.isUndefined(source[option])}))).metaTokens,visitor=options.visitor||defaultVisitor,dots=options.dots,indexes=options.indexes,useBlob=(options.Blob||"undefined"!=typeof Blob&&Blob)&&utils$1.isSpecCompliantForm(formData);if(!utils$1.isFunction(visitor))throw new TypeError("visitor must be a function");function convertValue(value){if(null===value)return"";if(utils$1.isDate(value))return value.toISOString();if(!useBlob&&utils$1.isBlob(value))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(value)||utils$1.isTypedArray(value)?useBlob&&"function"==typeof Blob?new Blob([value]):Buffer.from(value):value}function defaultVisitor(value,key,path){let arr=value;if(value&&!path&&"object"==typeof value)if(utils$1.endsWith(key,"{}"))key=metaTokens?key:key.slice(0,-2),value=JSON.stringify(value);else if(utils$1.isArray(value)&&function isFlatArray(arr){return utils$1.isArray(arr)&&!arr.some(isVisitable)}(value)||(utils$1.isFileList(value)||utils$1.endsWith(key,"[]"))&&(arr=utils$1.toArray(value)))return key=removeBrackets(key),arr.forEach((function each(el,index){!utils$1.isUndefined(el)&&null!==el&&formData.append(!0===indexes?renderKey([key],index,dots):null===indexes?key:key+"[]",convertValue(el))})),!1;return!!isVisitable(value)||(formData.append(renderKey(path,key,dots),convertValue(value)),!1)}const stack=[],exposedHelpers=Object.assign(predicates,{defaultVisitor,convertValue,isVisitable});if(!utils$1.isObject(obj))throw new TypeError("data must be an object");return function build(value,path){if(!utils$1.isUndefined(value)){if(-1!==stack.indexOf(value))throw Error("Circular reference detected in "+path.join("."));stack.push(value),utils$1.forEach(value,(function each(el,key){!0===(!(utils$1.isUndefined(el)||null===el)&&visitor.call(formData,el,utils$1.isString(key)?key.trim():key,path,exposedHelpers))&&build(el,path?path.concat(key):[key])})),stack.pop()}}(obj),formData}function encode$1(str){const charMap={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g,(function replacer(match){return charMap[match]}))}function AxiosURLSearchParams(params,options){this._pairs=[],params&&toFormData(params,this,options)}const prototype=AxiosURLSearchParams.prototype;function encode(val){return encodeURIComponent(val).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(url,params,options){if(!params)return url;const _encode=options&&options.encode||encode,serializeFn=options&&options.serialize;let serializedParams;if(serializedParams=serializeFn?serializeFn(params,options):utils$1.isURLSearchParams(params)?params.toString():new AxiosURLSearchParams(params,options).toString(_encode),serializedParams){const hashmarkIndex=url.indexOf("#");-1!==hashmarkIndex&&(url=url.slice(0,hashmarkIndex)),url+=(-1===url.indexOf("?")?"?":"&")+serializedParams}return url}prototype.append=function append(name,value){this._pairs.push([name,value])},prototype.toString=function toString(encoder){const _encode=encoder?function(value){return encoder.call(this,value,encode$1)}:encode$1;return this._pairs.map((function each(pair){return _encode(pair[0])+"="+_encode(pair[1])}),"").join("&")};var InterceptorManager$1=class InterceptorManager{constructor(){this.handlers=[]}use(fulfilled,rejected,options){return this.handlers.push({fulfilled,rejected,synchronous:!!options&&options.synchronous,runWhen:options?options.runWhen:null}),this.handlers.length-1}eject(id){this.handlers[id]&&(this.handlers[id]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(fn){utils$1.forEach(this.handlers,(function forEachHandler(h){null!==h&&fn(h)}))}},transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},platform$1={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:AxiosURLSearchParams,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv="undefined"!=typeof window&&"undefined"!=typeof document,hasStandardBrowserEnv=(product="undefined"!=typeof navigator&&navigator.product,hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(product)<0);var product;const hasStandardBrowserWebWorkerEnv="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,origin=hasBrowserEnv&&window.location.href||"http://localhost";var platform={...Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserWebWorkerEnv,hasStandardBrowserEnv,origin}),...platform$1};function formDataToJSON(formData){function buildPath(path,value,target,index){let name=path[index++];if("__proto__"===name)return!0;const isNumericKey=Number.isFinite(+name),isLast=index>=path.length;if(name=!name&&utils$1.isArray(target)?target.length:name,isLast)return utils$1.hasOwnProp(target,name)?target[name]=[target[name],value]:target[name]=value,!isNumericKey;target[name]&&utils$1.isObject(target[name])||(target[name]=[]);return buildPath(path,value,target[name],index)&&utils$1.isArray(target[name])&&(target[name]=function arrayToObject(arr){const obj={},keys=Object.keys(arr);let i;const len=keys.length;let key;for(i=0;i<len;i++)key=keys[i],obj[key]=arr[key];return obj}(target[name])),!isNumericKey}if(utils$1.isFormData(formData)&&utils$1.isFunction(formData.entries)){const obj={};return utils$1.forEachEntry(formData,((name,value)=>{buildPath(function parsePropPath(name){return utils$1.matchAll(/\w+|\[(\w*)]/g,name).map((match=>"[]"===match[0]?"":match[1]||match[0]))}(name),value,obj,0)})),obj}return null}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function transformRequest(data,headers){const contentType=headers.getContentType()||"",hasJSONContentType=contentType.indexOf("application/json")>-1,isObjectPayload=utils$1.isObject(data);isObjectPayload&&utils$1.isHTMLForm(data)&&(data=new FormData(data));if(utils$1.isFormData(data))return hasJSONContentType?JSON.stringify(formDataToJSON(data)):data;if(utils$1.isArrayBuffer(data)||utils$1.isBuffer(data)||utils$1.isStream(data)||utils$1.isFile(data)||utils$1.isBlob(data)||utils$1.isReadableStream(data))return data;if(utils$1.isArrayBufferView(data))return data.buffer;if(utils$1.isURLSearchParams(data))return headers.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),data.toString();let isFileList;if(isObjectPayload){if(contentType.indexOf("application/x-www-form-urlencoded")>-1)return function toURLEncodedForm(data,options){return toFormData(data,new platform.classes.URLSearchParams,Object.assign({visitor:function(value,key,path,helpers){return platform.isNode&&utils$1.isBuffer(value)?(this.append(key,value.toString("base64")),!1):helpers.defaultVisitor.apply(this,arguments)}},options))}(data,this.formSerializer).toString();if((isFileList=utils$1.isFileList(data))||contentType.indexOf("multipart/form-data")>-1){const _FormData=this.env&&this.env.FormData;return toFormData(isFileList?{"files[]":data}:data,_FormData&&new _FormData,this.formSerializer)}}return isObjectPayload||hasJSONContentType?(headers.setContentType("application/json",!1),function stringifySafely(rawValue,parser,encoder){if(utils$1.isString(rawValue))try{return(parser||JSON.parse)(rawValue),utils$1.trim(rawValue)}catch(e){if("SyntaxError"!==e.name)throw e}return(encoder||JSON.stringify)(rawValue)}(data)):data}],transformResponse:[function transformResponse(data){const transitional=this.transitional||defaults.transitional,forcedJSONParsing=transitional&&transitional.forcedJSONParsing,JSONRequested="json"===this.responseType;if(utils$1.isResponse(data)||utils$1.isReadableStream(data))return data;if(data&&utils$1.isString(data)&&(forcedJSONParsing&&!this.responseType||JSONRequested)){const strictJSONParsing=!(transitional&&transitional.silentJSONParsing)&&JSONRequested;try{return JSON.parse(data)}catch(e){if(strictJSONParsing){if("SyntaxError"===e.name)throw AxiosError.from(e,AxiosError.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function validateStatus(status){return status>=200&&status<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],(method=>{defaults.headers[method]={}}));var defaults$1=defaults;const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const $internals=Symbol("internals");function normalizeHeader(header){return header&&String(header).trim().toLowerCase()}function normalizeValue(value){return!1===value||null==value?value:utils$1.isArray(value)?value.map(normalizeValue):String(value)}function matchHeaderValue(context,value,header,filter,isHeaderNameFilter){return utils$1.isFunction(filter)?filter.call(this,value,header):(isHeaderNameFilter&&(value=header),utils$1.isString(value)?utils$1.isString(filter)?-1!==value.indexOf(filter):utils$1.isRegExp(filter)?filter.test(value):void 0:void 0)}class AxiosHeaders{constructor(headers){headers&&this.set(headers)}set(header,valueOrRewrite,rewrite){const self=this;function setHeader(_value,_header,_rewrite){const lHeader=normalizeHeader(_header);if(!lHeader)throw new Error("header name must be a non-empty string");const key=utils$1.findKey(self,lHeader);(!key||void 0===self[key]||!0===_rewrite||void 0===_rewrite&&!1!==self[key])&&(self[key||_header]=normalizeValue(_value))}const setHeaders=(headers,_rewrite)=>utils$1.forEach(headers,((_value,_header)=>setHeader(_value,_header,_rewrite)));if(utils$1.isPlainObject(header)||header instanceof this.constructor)setHeaders(header,valueOrRewrite);else if(utils$1.isString(header)&&(header=header.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(header.trim()))setHeaders((rawHeaders=>{const parsed={};let key,val,i;return rawHeaders&&rawHeaders.split("\n").forEach((function parser(line){i=line.indexOf(":"),key=line.substring(0,i).trim().toLowerCase(),val=line.substring(i+1).trim(),!key||parsed[key]&&ignoreDuplicateOf[key]||("set-cookie"===key?parsed[key]?parsed[key].push(val):parsed[key]=[val]:parsed[key]=parsed[key]?parsed[key]+", "+val:val)})),parsed})(header),valueOrRewrite);else if(utils$1.isHeaders(header))for(const[key,value]of header.entries())setHeader(value,key,rewrite);else null!=header&&setHeader(valueOrRewrite,header,rewrite);return this}get(header,parser){if(header=normalizeHeader(header)){const key=utils$1.findKey(this,header);if(key){const value=this[key];if(!parser)return value;if(!0===parser)return function parseTokens(str){const tokens=Object.create(null),tokensRE=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let match;for(;match=tokensRE.exec(str);)tokens[match[1]]=match[2];return tokens}(value);if(utils$1.isFunction(parser))return parser.call(this,value,key);if(utils$1.isRegExp(parser))return parser.exec(value);throw new TypeError("parser must be boolean|regexp|function")}}}has(header,matcher){if(header=normalizeHeader(header)){const key=utils$1.findKey(this,header);return!(!key||void 0===this[key]||matcher&&!matchHeaderValue(0,this[key],key,matcher))}return!1}delete(header,matcher){const self=this;let deleted=!1;function deleteHeader(_header){if(_header=normalizeHeader(_header)){const key=utils$1.findKey(self,_header);!key||matcher&&!matchHeaderValue(0,self[key],key,matcher)||(delete self[key],deleted=!0)}}return utils$1.isArray(header)?header.forEach(deleteHeader):deleteHeader(header),deleted}clear(matcher){const keys=Object.keys(this);let i=keys.length,deleted=!1;for(;i--;){const key=keys[i];matcher&&!matchHeaderValue(0,this[key],key,matcher,!0)||(delete this[key],deleted=!0)}return deleted}normalize(format){const self=this,headers={};return utils$1.forEach(this,((value,header)=>{const key=utils$1.findKey(headers,header);if(key)return self[key]=normalizeValue(value),void delete self[header];const normalized=format?function formatHeader(header){return header.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((w,char,str)=>char.toUpperCase()+str))}(header):String(header).trim();normalized!==header&&delete self[header],self[normalized]=normalizeValue(value),headers[normalized]=!0})),this}concat(...targets){return this.constructor.concat(this,...targets)}toJSON(asStrings){const obj=Object.create(null);return utils$1.forEach(this,((value,header)=>{null!=value&&!1!==value&&(obj[header]=asStrings&&utils$1.isArray(value)?value.join(", "):value)})),obj}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([header,value])=>header+": "+value)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(thing){return thing instanceof this?thing:new this(thing)}static concat(first,...targets){const computed=new this(first);return targets.forEach((target=>computed.set(target))),computed}static accessor(header){const accessors=(this[$internals]=this[$internals]={accessors:{}}).accessors,prototype=this.prototype;function defineAccessor(_header){const lHeader=normalizeHeader(_header);accessors[lHeader]||(!function buildAccessors(obj,header){const accessorName=utils$1.toCamelCase(" "+header);["get","set","has"].forEach((methodName=>{Object.defineProperty(obj,methodName+accessorName,{value:function(arg1,arg2,arg3){return this[methodName].call(this,header,arg1,arg2,arg3)},configurable:!0})}))}(prototype,_header),accessors[lHeader]=!0)}return utils$1.isArray(header)?header.forEach(defineAccessor):defineAccessor(header),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.reduceDescriptors(AxiosHeaders.prototype,(({value},key)=>{let mapped=key[0].toUpperCase()+key.slice(1);return{get:()=>value,set(headerValue){this[mapped]=headerValue}}})),utils$1.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(fns,response){const config=this||defaults$1,context=response||config,headers=AxiosHeaders$1.from(context.headers);let data=context.data;return utils$1.forEach(fns,(function transform(fn){data=fn.call(config,data,headers.normalize(),response?response.status:void 0)})),headers.normalize(),data}function isCancel(value){return!(!value||!value.__CANCEL__)}function CanceledError(message,config,request){AxiosError.call(this,null==message?"canceled":message,AxiosError.ERR_CANCELED,config,request),this.name="CanceledError"}function settle(resolve,reject,response){const validateStatus=response.config.validateStatus;response.status&&validateStatus&&!validateStatus(response.status)?reject(new AxiosError("Request failed with status code "+response.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status/100)-4],response.config,response.request,response)):resolve(response)}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});const progressEventReducer=(listener,isDownloadStream,freq=3)=>{let bytesNotified=0;const _speedometer=function speedometer(samplesCount,min){samplesCount=samplesCount||10;const bytes=new Array(samplesCount),timestamps=new Array(samplesCount);let firstSampleTS,head=0,tail=0;return min=void 0!==min?min:1e3,function push(chunkLength){const now=Date.now(),startedAt=timestamps[tail];firstSampleTS||(firstSampleTS=now),bytes[head]=chunkLength,timestamps[head]=now;let i=tail,bytesCount=0;for(;i!==head;)bytesCount+=bytes[i++],i%=samplesCount;if(head=(head+1)%samplesCount,head===tail&&(tail=(tail+1)%samplesCount),now-firstSampleTS<min)return;const passed=startedAt&&now-startedAt;return passed?Math.round(1e3*bytesCount/passed):void 0}}(50,250);return function throttle(fn,freq){let lastArgs,timer,timestamp=0,threshold=1e3/freq;const invoke=(args,now=Date.now())=>{timestamp=now,lastArgs=null,timer&&(clearTimeout(timer),timer=null),fn.apply(null,args)};return[(...args)=>{const now=Date.now(),passed=now-timestamp;passed>=threshold?invoke(args,now):(lastArgs=args,timer||(timer=setTimeout((()=>{timer=null,invoke(lastArgs)}),threshold-passed)))},()=>lastArgs&&invoke(lastArgs)]}((e=>{const loaded=e.loaded,total=e.lengthComputable?e.total:void 0,progressBytes=loaded-bytesNotified,rate=_speedometer(progressBytes);bytesNotified=loaded;listener({loaded,total,progress:total?loaded/total:void 0,bytes:progressBytes,rate:rate||void 0,estimated:rate&&total&&loaded<=total?(total-loaded)/rate:void 0,event:e,lengthComputable:null!=total,[isDownloadStream?"download":"upload"]:!0})}),freq)},progressEventDecorator=(total,throttled)=>{const lengthComputable=null!=total;return[loaded=>throttled[0]({lengthComputable,total,loaded}),throttled[1]]},asyncDecorator=fn=>(...args)=>utils$1.asap((()=>fn(...args)));var isURLSameOrigin=platform.hasStandardBrowserEnv?function standardBrowserEnv(){const msie=/(msie|trident)/i.test(navigator.userAgent),urlParsingNode=document.createElement("a");let originURL;function resolveURL(url){let href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}return originURL=resolveURL(window.location.href),function isURLSameOrigin(requestURL){const parsed=utils$1.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function isURLSameOrigin(){return!0},cookies=platform.hasStandardBrowserEnv?{write(name,value,expires,path,domain,secure){const cookie=[name+"="+encodeURIComponent(value)];utils$1.isNumber(expires)&&cookie.push("expires="+new Date(expires).toGMTString()),utils$1.isString(path)&&cookie.push("path="+path),utils$1.isString(domain)&&cookie.push("domain="+domain),!0===secure&&cookie.push("secure"),document.cookie=cookie.join("; ")},read(name){const match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove(name){this.write(name,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function buildFullPath(baseURL,requestedURL){return baseURL&&!function isAbsoluteURL(url){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(url)}(requestedURL)?function combineURLs(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/?\/$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}(baseURL,requestedURL):requestedURL}const headersToObject=thing=>thing instanceof AxiosHeaders$1?{...thing}:thing;function mergeConfig(config1,config2){config2=config2||{};const config={};function getMergedValue(target,source,caseless){return utils$1.isPlainObject(target)&&utils$1.isPlainObject(source)?utils$1.merge.call({caseless},target,source):utils$1.isPlainObject(source)?utils$1.merge({},source):utils$1.isArray(source)?source.slice():source}function mergeDeepProperties(a,b,caseless){return utils$1.isUndefined(b)?utils$1.isUndefined(a)?void 0:getMergedValue(void 0,a,caseless):getMergedValue(a,b,caseless)}function valueFromConfig2(a,b){if(!utils$1.isUndefined(b))return getMergedValue(void 0,b)}function defaultToConfig2(a,b){return utils$1.isUndefined(b)?utils$1.isUndefined(a)?void 0:getMergedValue(void 0,a):getMergedValue(void 0,b)}function mergeDirectKeys(a,b,prop){return prop in config2?getMergedValue(a,b):prop in config1?getMergedValue(void 0,a):void 0}const mergeMap={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:(a,b)=>mergeDeepProperties(headersToObject(a),headersToObject(b),!0)};return utils$1.forEach(Object.keys(Object.assign({},config1,config2)),(function computeConfigValue(prop){const merge=mergeMap[prop]||mergeDeepProperties,configValue=merge(config1[prop],config2[prop],prop);utils$1.isUndefined(configValue)&&merge!==mergeDirectKeys||(config[prop]=configValue)})),config}var resolveConfig=config=>{const newConfig=mergeConfig({},config);let contentType,{data,withXSRFToken,xsrfHeaderName,xsrfCookieName,headers,auth}=newConfig;if(newConfig.headers=headers=AxiosHeaders$1.from(headers),newConfig.url=buildURL(buildFullPath(newConfig.baseURL,newConfig.url),config.params,config.paramsSerializer),auth&&headers.set("Authorization","Basic "+btoa((auth.username||"")+":"+(auth.password?unescape(encodeURIComponent(auth.password)):""))),utils$1.isFormData(data))if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)headers.setContentType(void 0);else if(!1!==(contentType=headers.getContentType())){const[type,...tokens]=contentType?contentType.split(";").map((token=>token.trim())).filter(Boolean):[];headers.setContentType([type||"multipart/form-data",...tokens].join("; "))}if(platform.hasStandardBrowserEnv&&(withXSRFToken&&utils$1.isFunction(withXSRFToken)&&(withXSRFToken=withXSRFToken(newConfig)),withXSRFToken||!1!==withXSRFToken&&isURLSameOrigin(newConfig.url))){const xsrfValue=xsrfHeaderName&&xsrfCookieName&&cookies.read(xsrfCookieName);xsrfValue&&headers.set(xsrfHeaderName,xsrfValue)}return newConfig};var xhrAdapter="undefined"!=typeof XMLHttpRequest&&function(config){return new Promise((function dispatchXhrRequest(resolve,reject){const _config=resolveConfig(config);let requestData=_config.data;const requestHeaders=AxiosHeaders$1.from(_config.headers).normalize();let onCanceled,uploadThrottled,downloadThrottled,flushUpload,flushDownload,{responseType,onUploadProgress,onDownloadProgress}=_config;function done(){flushUpload&&flushUpload(),flushDownload&&flushDownload(),_config.cancelToken&&_config.cancelToken.unsubscribe(onCanceled),_config.signal&&_config.signal.removeEventListener("abort",onCanceled)}let request=new XMLHttpRequest;function onloadend(){if(!request)return;const responseHeaders=AxiosHeaders$1.from("getAllResponseHeaders"in request&&request.getAllResponseHeaders());settle((function _resolve(value){resolve(value),done()}),(function _reject(err){reject(err),done()}),{data:responseType&&"text"!==responseType&&"json"!==responseType?request.response:request.responseText,status:request.status,statusText:request.statusText,headers:responseHeaders,config,request}),request=null}request.open(_config.method.toUpperCase(),_config.url,!0),request.timeout=_config.timeout,"onloadend"in request?request.onloadend=onloadend:request.onreadystatechange=function handleLoad(){request&&4===request.readyState&&(0!==request.status||request.responseURL&&0===request.responseURL.indexOf("file:"))&&setTimeout(onloadend)},request.onabort=function handleAbort(){request&&(reject(new AxiosError("Request aborted",AxiosError.ECONNABORTED,config,request)),request=null)},request.onerror=function handleError(){reject(new AxiosError("Network Error",AxiosError.ERR_NETWORK,config,request)),request=null},request.ontimeout=function handleTimeout(){let timeoutErrorMessage=_config.timeout?"timeout of "+_config.timeout+"ms exceeded":"timeout exceeded";const transitional=_config.transitional||transitionalDefaults;_config.timeoutErrorMessage&&(timeoutErrorMessage=_config.timeoutErrorMessage),reject(new AxiosError(timeoutErrorMessage,transitional.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,config,request)),request=null},void 0===requestData&&requestHeaders.setContentType(null),"setRequestHeader"in request&&utils$1.forEach(requestHeaders.toJSON(),(function setRequestHeader(val,key){request.setRequestHeader(key,val)})),utils$1.isUndefined(_config.withCredentials)||(request.withCredentials=!!_config.withCredentials),responseType&&"json"!==responseType&&(request.responseType=_config.responseType),onDownloadProgress&&([downloadThrottled,flushDownload]=progressEventReducer(onDownloadProgress,!0),request.addEventListener("progress",downloadThrottled)),onUploadProgress&&request.upload&&([uploadThrottled,flushUpload]=progressEventReducer(onUploadProgress),request.upload.addEventListener("progress",uploadThrottled),request.upload.addEventListener("loadend",flushUpload)),(_config.cancelToken||_config.signal)&&(onCanceled=cancel=>{request&&(reject(!cancel||cancel.type?new CanceledError(null,config,request):cancel),request.abort(),request=null)},_config.cancelToken&&_config.cancelToken.subscribe(onCanceled),_config.signal&&(_config.signal.aborted?onCanceled():_config.signal.addEventListener("abort",onCanceled)));const protocol=function parseProtocol(url){const match=/^([-+\w]{1,25})(:?\/\/|:)/.exec(url);return match&&match[1]||""}(_config.url);protocol&&-1===platform.protocols.indexOf(protocol)?reject(new AxiosError("Unsupported protocol "+protocol+":",AxiosError.ERR_BAD_REQUEST,config)):request.send(requestData||null)}))};var composeSignals$1=(signals,timeout)=>{let aborted,controller=new AbortController;const onabort=function(cancel){if(!aborted){aborted=!0,unsubscribe();const err=cancel instanceof Error?cancel:this.reason;controller.abort(err instanceof AxiosError?err:new CanceledError(err instanceof Error?err.message:err))}};let timer=timeout&&setTimeout((()=>{onabort(new AxiosError(`timeout ${timeout} of ms exceeded`,AxiosError.ETIMEDOUT))}),timeout);const unsubscribe=()=>{signals&&(timer&&clearTimeout(timer),timer=null,signals.forEach((signal=>{signal&&(signal.removeEventListener?signal.removeEventListener("abort",onabort):signal.unsubscribe(onabort))})),signals=null)};signals.forEach((signal=>signal&&signal.addEventListener&&signal.addEventListener("abort",onabort)));const{signal}=controller;return signal.unsubscribe=unsubscribe,[signal,()=>{timer&&clearTimeout(timer),timer=null}]};const streamChunk=function*(chunk,chunkSize){let len=chunk.byteLength;if(!chunkSize||len<chunkSize)return void(yield chunk);let end,pos=0;for(;pos<len;)end=pos+chunkSize,yield chunk.slice(pos,end),pos=end},trackStream=(stream,chunkSize,onProgress,onFinish,encode)=>{const iterator=async function*(iterable,chunkSize,encode){for await(const chunk of iterable)yield*streamChunk(ArrayBuffer.isView(chunk)?chunk:await encode(String(chunk)),chunkSize)}(stream,chunkSize,encode);let done,bytes=0,_onFinish=e=>{done||(done=!0,onFinish&&onFinish(e))};return new ReadableStream({async pull(controller){try{const{done,value}=await iterator.next();if(done)return _onFinish(),void controller.close();let len=value.byteLength;if(onProgress){let loadedBytes=bytes+=len;onProgress(loadedBytes)}controller.enqueue(new Uint8Array(value))}catch(err){throw _onFinish(err),err}},cancel:reason=>(_onFinish(reason),iterator.return())},{highWaterMark:2})},isFetchSupported="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,isReadableStreamSupported=isFetchSupported&&"function"==typeof ReadableStream,encodeText=isFetchSupported&&("function"==typeof TextEncoder?(encoder=new TextEncoder,str=>encoder.encode(str)):async str=>new Uint8Array(await new Response(str).arrayBuffer()));var encoder;const test=(fn,...args)=>{try{return!!fn(...args)}catch(e){return!1}},supportsRequestStream=isReadableStreamSupported&&test((()=>{let duplexAccessed=!1;const hasContentType=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return duplexAccessed=!0,"half"}}).headers.has("Content-Type");return duplexAccessed&&!hasContentType})),supportsResponseStream=isReadableStreamSupported&&test((()=>utils$1.isReadableStream(new Response("").body))),resolvers={stream:supportsResponseStream&&(res=>res.body)};var res;isFetchSupported&&(res=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((type=>{!resolvers[type]&&(resolvers[type]=utils$1.isFunction(res[type])?res=>res[type]():(_,config)=>{throw new AxiosError(`Response type '${type}' is not supported`,AxiosError.ERR_NOT_SUPPORT,config)})})));const resolveBodyLength=async(headers,body)=>{const length=utils$1.toFiniteNumber(headers.getContentLength());return null==length?(async body=>null==body?0:utils$1.isBlob(body)?body.size:utils$1.isSpecCompliantForm(body)?(await new Request(body).arrayBuffer()).byteLength:utils$1.isArrayBufferView(body)||utils$1.isArrayBuffer(body)?body.byteLength:(utils$1.isURLSearchParams(body)&&(body+=""),utils$1.isString(body)?(await encodeText(body)).byteLength:void 0))(body):length};const knownAdapters={http:null,xhr:xhrAdapter,fetch:isFetchSupported&&(async config=>{let{url,method,data,signal,cancelToken,timeout,onDownloadProgress,onUploadProgress,responseType,headers,withCredentials="same-origin",fetchOptions}=resolveConfig(config);responseType=responseType?(responseType+"").toLowerCase():"text";let finished,request,[composedSignal,stopTimeout]=signal||cancelToken||timeout?composeSignals$1([signal,cancelToken],timeout):[];const onFinish=()=>{!finished&&setTimeout((()=>{composedSignal&&composedSignal.unsubscribe()})),finished=!0};let requestContentLength;try{if(onUploadProgress&&supportsRequestStream&&"get"!==method&&"head"!==method&&0!==(requestContentLength=await resolveBodyLength(headers,data))){let contentTypeHeader,_request=new Request(url,{method:"POST",body:data,duplex:"half"});if(utils$1.isFormData(data)&&(contentTypeHeader=_request.headers.get("content-type"))&&headers.setContentType(contentTypeHeader),_request.body){const[onProgress,flush]=progressEventDecorator(requestContentLength,progressEventReducer(asyncDecorator(onUploadProgress)));data=trackStream(_request.body,65536,onProgress,flush,encodeText)}}utils$1.isString(withCredentials)||(withCredentials=withCredentials?"include":"omit"),request=new Request(url,{...fetchOptions,signal:composedSignal,method:method.toUpperCase(),headers:headers.normalize().toJSON(),body:data,duplex:"half",credentials:withCredentials});let response=await fetch(request);const isStreamResponse=supportsResponseStream&&("stream"===responseType||"response"===responseType);if(supportsResponseStream&&(onDownloadProgress||isStreamResponse)){const options={};["status","statusText","headers"].forEach((prop=>{options[prop]=response[prop]}));const responseContentLength=utils$1.toFiniteNumber(response.headers.get("content-length")),[onProgress,flush]=onDownloadProgress&&progressEventDecorator(responseContentLength,progressEventReducer(asyncDecorator(onDownloadProgress),!0))||[];response=new Response(trackStream(response.body,65536,onProgress,(()=>{flush&&flush(),isStreamResponse&&onFinish()}),encodeText),options)}responseType=responseType||"text";let responseData=await resolvers[utils$1.findKey(resolvers,responseType)||"text"](response,config);return!isStreamResponse&&onFinish(),stopTimeout&&stopTimeout(),await new Promise(((resolve,reject)=>{settle(resolve,reject,{data:responseData,headers:AxiosHeaders$1.from(response.headers),status:response.status,statusText:response.statusText,config,request})}))}catch(err){if(onFinish(),err&&"TypeError"===err.name&&/fetch/i.test(err.message))throw Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,config,request),{cause:err.cause||err});throw AxiosError.from(err,err&&err.code,config,request)}})};utils$1.forEach(knownAdapters,((fn,value)=>{if(fn){try{Object.defineProperty(fn,"name",{value})}catch(e){}Object.defineProperty(fn,"adapterName",{value})}}));const renderReason=reason=>`- ${reason}`,isResolvedHandle=adapter=>utils$1.isFunction(adapter)||null===adapter||!1===adapter;var adapters_getAdapter=adapters=>{adapters=utils$1.isArray(adapters)?adapters:[adapters];const{length}=adapters;let nameOrAdapter,adapter;const rejectedReasons={};for(let i=0;i<length;i++){let id;if(nameOrAdapter=adapters[i],adapter=nameOrAdapter,!isResolvedHandle(nameOrAdapter)&&(adapter=knownAdapters[(id=String(nameOrAdapter)).toLowerCase()],void 0===adapter))throw new AxiosError(`Unknown adapter '${id}'`);if(adapter)break;rejectedReasons[id||"#"+i]=adapter}if(!adapter){const reasons=Object.entries(rejectedReasons).map((([id,state])=>`adapter ${id} `+(!1===state?"is not supported by the environment":"is not available in the build")));throw new AxiosError("There is no suitable adapter to dispatch the request "+(length?reasons.length>1?"since :\n"+reasons.map(renderReason).join("\n"):" "+renderReason(reasons[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return adapter};function throwIfCancellationRequested(config){if(config.cancelToken&&config.cancelToken.throwIfRequested(),config.signal&&config.signal.aborted)throw new CanceledError(null,config)}function dispatchRequest(config){throwIfCancellationRequested(config),config.headers=AxiosHeaders$1.from(config.headers),config.data=transformData.call(config,config.transformRequest),-1!==["post","put","patch"].indexOf(config.method)&&config.headers.setContentType("application/x-www-form-urlencoded",!1);return adapters_getAdapter(config.adapter||defaults$1.adapter)(config).then((function onAdapterResolution(response){return throwIfCancellationRequested(config),response.data=transformData.call(config,config.transformResponse,response),response.headers=AxiosHeaders$1.from(response.headers),response}),(function onAdapterRejection(reason){return isCancel(reason)||(throwIfCancellationRequested(config),reason&&reason.response&&(reason.response.data=transformData.call(config,config.transformResponse,reason.response),reason.response.headers=AxiosHeaders$1.from(reason.response.headers))),Promise.reject(reason)}))}const validators$1={};["object","boolean","number","function","string","symbol"].forEach(((type,i)=>{validators$1[type]=function validator(thing){return typeof thing===type||"a"+(i<1?"n ":" ")+type}}));const deprecatedWarnings={};validators$1.transitional=function transitional(validator,version,message){function formatMessage(opt,desc){return"[Axios v1.7.4] Transitional option '"+opt+"'"+desc+(message?". "+message:"")}return(value,opt,opts)=>{if(!1===validator)throw new AxiosError(formatMessage(opt," has been removed"+(version?" in "+version:"")),AxiosError.ERR_DEPRECATED);return version&&!deprecatedWarnings[opt]&&(deprecatedWarnings[opt]=!0,console.warn(formatMessage(opt," has been deprecated since v"+version+" and will be removed in the near future"))),!validator||validator(value,opt,opts)}};var validator={assertOptions:function assertOptions(options,schema,allowUnknown){if("object"!=typeof options)throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const keys=Object.keys(options);let i=keys.length;for(;i-- >0;){const opt=keys[i],validator=schema[opt];if(validator){const value=options[opt],result=void 0===value||validator(value,opt,options);if(!0!==result)throw new AxiosError("option "+opt+" must be "+result,AxiosError.ERR_BAD_OPTION_VALUE)}else if(!0!==allowUnknown)throw new AxiosError("Unknown option "+opt,AxiosError.ERR_BAD_OPTION)}},validators:validators$1};const validators=validator.validators;class Axios{constructor(instanceConfig){this.defaults=instanceConfig,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(configOrUrl,config){try{return await this._request(configOrUrl,config)}catch(err){if(err instanceof Error){let dummy;Error.captureStackTrace?Error.captureStackTrace(dummy={}):dummy=new Error;const stack=dummy.stack?dummy.stack.replace(/^.+\n/,""):"";try{err.stack?stack&&!String(err.stack).endsWith(stack.replace(/^.+\n.+\n/,""))&&(err.stack+="\n"+stack):err.stack=stack}catch(e){}}throw err}}_request(configOrUrl,config){"string"==typeof configOrUrl?(config=config||{}).url=configOrUrl:config=configOrUrl||{},config=mergeConfig(this.defaults,config);const{transitional,paramsSerializer,headers}=config;void 0!==transitional&&validator.assertOptions(transitional,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),null!=paramsSerializer&&(utils$1.isFunction(paramsSerializer)?config.paramsSerializer={serialize:paramsSerializer}:validator.assertOptions(paramsSerializer,{encode:validators.function,serialize:validators.function},!0)),config.method=(config.method||this.defaults.method||"get").toLowerCase();let contextHeaders=headers&&utils$1.merge(headers.common,headers[config.method]);headers&&utils$1.forEach(["delete","get","head","post","put","patch","common"],(method=>{delete headers[method]})),config.headers=AxiosHeaders$1.concat(contextHeaders,headers);const requestInterceptorChain=[];let synchronousRequestInterceptors=!0;this.interceptors.request.forEach((function unshiftRequestInterceptors(interceptor){"function"==typeof interceptor.runWhen&&!1===interceptor.runWhen(config)||(synchronousRequestInterceptors=synchronousRequestInterceptors&&interceptor.synchronous,requestInterceptorChain.unshift(interceptor.fulfilled,interceptor.rejected))}));const responseInterceptorChain=[];let promise;this.interceptors.response.forEach((function pushResponseInterceptors(interceptor){responseInterceptorChain.push(interceptor.fulfilled,interceptor.rejected)}));let len,i=0;if(!synchronousRequestInterceptors){const chain=[dispatchRequest.bind(this),void 0];for(chain.unshift.apply(chain,requestInterceptorChain),chain.push.apply(chain,responseInterceptorChain),len=chain.length,promise=Promise.resolve(config);i<len;)promise=promise.then(chain[i++],chain[i++]);return promise}len=requestInterceptorChain.length;let newConfig=config;for(i=0;i<len;){const onFulfilled=requestInterceptorChain[i++],onRejected=requestInterceptorChain[i++];try{newConfig=onFulfilled(newConfig)}catch(error){onRejected.call(this,error);break}}try{promise=dispatchRequest.call(this,newConfig)}catch(error){return Promise.reject(error)}for(i=0,len=responseInterceptorChain.length;i<len;)promise=promise.then(responseInterceptorChain[i++],responseInterceptorChain[i++]);return promise}getUri(config){return buildURL(buildFullPath((config=mergeConfig(this.defaults,config)).baseURL,config.url),config.params,config.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],(function forEachMethodNoData(method){Axios.prototype[method]=function(url,config){return this.request(mergeConfig(config||{},{method,url,data:(config||{}).data}))}})),utils$1.forEach(["post","put","patch"],(function forEachMethodWithData(method){function generateHTTPMethod(isForm){return function httpMethod(url,data,config){return this.request(mergeConfig(config||{},{method,headers:isForm?{"Content-Type":"multipart/form-data"}:{},url,data}))}}Axios.prototype[method]=generateHTTPMethod(),Axios.prototype[method+"Form"]=generateHTTPMethod(!0)}));var Axios$1=Axios;class CancelToken{constructor(executor){if("function"!=typeof executor)throw new TypeError("executor must be a function.");let resolvePromise;this.promise=new Promise((function promiseExecutor(resolve){resolvePromise=resolve}));const token=this;this.promise.then((cancel=>{if(!token._listeners)return;let i=token._listeners.length;for(;i-- >0;)token._listeners[i](cancel);token._listeners=null})),this.promise.then=onfulfilled=>{let _resolve;const promise=new Promise((resolve=>{token.subscribe(resolve),_resolve=resolve})).then(onfulfilled);return promise.cancel=function reject(){token.unsubscribe(_resolve)},promise},executor((function cancel(message,config,request){token.reason||(token.reason=new CanceledError(message,config,request),resolvePromise(token.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(listener){this.reason?listener(this.reason):this._listeners?this._listeners.push(listener):this._listeners=[listener]}unsubscribe(listener){if(!this._listeners)return;const index=this._listeners.indexOf(listener);-1!==index&&this._listeners.splice(index,1)}static source(){let cancel;return{token:new CancelToken((function executor(c){cancel=c})),cancel}}}var CancelToken$1=CancelToken;const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach((([key,value])=>{HttpStatusCode[value]=key}));var HttpStatusCode$1=HttpStatusCode;const axios=function createInstance(defaultConfig){const context=new Axios$1(defaultConfig),instance=bind(Axios$1.prototype.request,context);return utils$1.extend(instance,Axios$1.prototype,context,{allOwnKeys:!0}),utils$1.extend(instance,context,null,{allOwnKeys:!0}),instance.create=function create(instanceConfig){return createInstance(mergeConfig(defaultConfig,instanceConfig))},instance}(defaults$1);axios.Axios=Axios$1,axios.CanceledError=CanceledError,axios.CancelToken=CancelToken$1,axios.isCancel=isCancel,axios.VERSION="1.7.4",axios.toFormData=toFormData,axios.AxiosError=AxiosError,axios.Cancel=axios.CanceledError,axios.all=function all(promises){return Promise.all(promises)},axios.spread=function spread(callback){return function wrap(arr){return callback.apply(null,arr)}},axios.isAxiosError=function isAxiosError(payload){return utils$1.isObject(payload)&&!0===payload.isAxiosError},axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders$1,axios.formToJSON=thing=>formDataToJSON(utils$1.isHTMLForm(thing)?new FormData(thing):thing),axios.getAdapter=adapters_getAdapter,axios.HttpStatusCode=HttpStatusCode$1,axios.default=axios,module.exports=axios},"./node_modules/.pnpm/dotenv@16.4.5/node_modules/dotenv/package.json":module=>{"use strict";module.exports=JSON.parse('{"name":"dotenv","version":"16.4.5","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","lint-readme":"standard-markdown","pretest":"npm run lint && npm run dts-check","test":"tap tests/*.js --100 -Rspec","test:coverage":"tap --coverage-report=lcov","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"funding":"https://dotenvx.com","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3","decache":"^4.6.1","sinon":"^14.0.1","standard":"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0","tap":"^16.3.0","tar":"^6.1.11","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')}}]);
"use strict";(self.webpackChunk_leather_io_extension=self.webpackChunk_leather_io_extension||[]).push([[507],{"./node_modules/.pnpm/@leather.io+utils@0.15.0/node_modules/@leather.io/utils/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{uE:()=>baseCurrencyAmountInQuote,gu:()=>formatMoneyWithoutSymbol,Lx:()=>i18nFormatCurrency,Tn:()=>isFunction,sc:()=>spamFilter});var bignumber=__webpack_require__("./node_modules/.pnpm/bignumber.js@9.1.2/node_modules/bignumber.js/bignumber.mjs"),currencyDecimalsMap={BTC:8,STX:6,USD:2,EUR:2,GBP:2,AUD:2,CAD:2,CNY:2,JPY:0,KRW:0},lib=__webpack_require__("./node_modules/.pnpm/zod@3.23.6/node_modules/zod/lib/index.mjs");var bitcoinNetworkModesSchema=lib.z.enum(["mainnet","testnet","testnet","regtest","signet"]);lib.z.object({name:lib.z.string(),id:lib.z.string(),chain:lib.z.object({bitcoin:lib.z.object({blockchain:lib.z.literal("bitcoin"),bitcoinUrl:lib.z.string(),bitcoinNetwork:bitcoinNetworkModesSchema}),stacks:lib.z.object({blockchain:lib.z.literal("stacks"),url:lib.z.string(),chainId:lib.z.number(),subnetChainId:lib.z.number().optional()})})}),__webpack_require__("./node_modules/.pnpm/buffer@6.0.3/node_modules/buffer/index.js").Buffer;function initBigNumber(num){return bignumber.A.isBigNumber(num)?num:isBigInt(num)?new bignumber.A(num.toString()):new bignumber.A(num)}function getDecimalsOfSymbolIfKnown(symbol){return function isResolutionOfCurrencyKnown(symbol){return symbol in currencyDecimalsMap}(symbol)?currencyDecimalsMap[symbol]:null}function throwWhenDecimalUnknown(symbol,decimals){if(isUndefined(decimals)&&isUndefined(getDecimalsOfSymbolIfKnown(symbol)))throw new Error(`Resolution of currency ${symbol} is unknown, must be described`)}function createMoney(value,symbol,resolution){throwWhenDecimalUnknown(symbol,resolution);const decimals=getDecimalsOfSymbolIfKnown(symbol)??resolution,amount=new bignumber.A(isBigInt(value)?value.toString():value);return Object.freeze({amount,symbol,decimals})}var thinSpace="â€‰";function formatMoneyWithoutSymbol({amount,decimals}){return`${amount.shiftedBy(-decimals).toString()}`}function i18nFormatCurrency(quantity,decimals=2){if("USD"!==quantity.symbol)throw new Error("Cannot format non-USD amounts");const formatted=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:decimals}).format(quantity.amount.shiftedBy(-quantity.decimals).toNumber());return quantity.amount.isGreaterThan(0)&&"$0.00"===formatted?"<"+thinSpace+formatted.replace("0.00","0.01"):formatted}function isMoney(val){return!!function isObject(value){return"object"==typeof value}(val)&&("amount"in val&&"symbol"in val&&"decimals"in val)}function baseCurrencyAmountInQuote(quantity,{pair,price}){if(quantity.symbol!==pair.base)throw new Error(`Cannot calculate value of ${function formatMoney({amount,symbol,decimals}){return`${amount.shiftedBy(-decimals).toString()} ${symbol}`}(quantity)} with market pair of ${function formatMarketPair({base,quote}){return`${base}/${quote}`}(pair)}`);return createMoney(function convertAmountToFractionalUnit(num,decimals){if(isMoney(num))return num.amount.shiftedBy(num.decimals);if(!isNumber(decimals))throw new Error("Must define decimal of given currency");return num.shiftedBy(decimals)}(convertAmountToBaseUnit(quantity).times(convertAmountToBaseUnit(price)),price.decimals),pair.quote)}function convertAmountToBaseUnit(num,decimals){if(isMoney(num))return num.amount.shiftedBy(-num.decimals);if(!isNumber(decimals))throw new Error("Must define decimal of given currency");return num.shiftedBy(-decimals)}function fractionalUnitToUnit(decimals){return unit=>initBigNumber(unit).shiftedBy(-decimals)}function unitToFractionalUnit(decimals){return unit=>initBigNumber(unit).shiftedBy(decimals)}fractionalUnitToUnit(8),unitToFractionalUnit(8),fractionalUnitToUnit(6),unitToFractionalUnit(6);var urlRegex=/(http|https|ftp)|(((http|ftp|https):\/\/)?(((http|ftp|https):\/\/)?(([\w.-]*)\.([\w]*))))/g,spamWords=["won","win","click"],spamReplacement="Suspicious token";function spamFilter(input){const urlFound=function spamUrlFilter(input){return input.match(urlRegex)}(input),spamWordsFound=function spamWordFilter(input){return spamWords.some((element=>input.toLowerCase().includes(element)))}(input);return urlFound||spamWordsFound?spamReplacement:input}function isNumber(value){return"number"==typeof value}function isBigInt(value){return"bigint"==typeof value}function isUndefined(value){return void 0===value}function isFunction(value){return"function"==typeof value}}}]);
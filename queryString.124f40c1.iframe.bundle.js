"use strict";(self.webpackChunk_leather_io_extension=self.webpackChunk_leather_io_extension||[]).push([[538],{"./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/query-string/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function pickPrefix(prefix,object){return Object.keys(object).reduce((function(acc,key){key.startsWith(prefix)&&(acc[key.substr(prefix.length)]=object[key]);return acc}),{})}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{queryString:()=>queryString});var gracefulDecodeURIComponent=__webpack_require__("./node_modules/.pnpm/@segment+analytics-next@1.70.0_encoding@0.1.13/node_modules/@segment/analytics-next/dist/pkg/core/query-string/gracefulDecodeURIComponent.js"),helpers=__webpack_require__("./node_modules/.pnpm/@segment+analytics-core@1.6.0/node_modules/@segment/analytics-core/dist/esm/validation/helpers.js");function queryString(analytics,query){var a=document.createElement("a");a.href=query;var params=a.search.slice(1).split("&").reduce((function(acc,str){var _a=str.split("="),k=_a[0],v=_a[1];return acc[k]=(0,gracefulDecodeURIComponent.p)(v),acc}),{}),calls=[],ajs_uid=params.ajs_uid,ajs_event=params.ajs_event,ajs_aid=params.ajs_aid,_a=(0,helpers.Qd)(analytics.options.useQueryString)?analytics.options.useQueryString:{},_b=_a.aid,aidPattern=void 0===_b?/.+/:_b,_c=_a.uid,uidPattern=void 0===_c?/.+/:_c;if(ajs_aid){var anonId=Array.isArray(params.ajs_aid)?params.ajs_aid[0]:params.ajs_aid;aidPattern.test(anonId)&&analytics.setAnonymousId(anonId)}if(ajs_uid){var uid=Array.isArray(params.ajs_uid)?params.ajs_uid[0]:params.ajs_uid;if(uidPattern.test(uid)){var traits=pickPrefix("ajs_trait_",params);calls.push(analytics.identify(uid,traits))}}if(ajs_event){var event_1=Array.isArray(params.ajs_event)?params.ajs_event[0]:params.ajs_event,props=pickPrefix("ajs_prop_",params);calls.push(analytics.track(event_1,props))}return Promise.all(calls)}}}]);